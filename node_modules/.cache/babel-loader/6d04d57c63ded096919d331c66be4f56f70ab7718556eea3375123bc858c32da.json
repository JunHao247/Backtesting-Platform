{"ast":null,"code":"import React from'react';import moment from'moment';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const ResultsDisplay=_ref=>{let{results}=_ref;const formatDate=timestamp=>moment(timestamp).format('MMM DD, YYYY');const hasShortMavg=results&&results.some(result=>'short_mavg'in result);const hasLongMavg=results&&results.some(result=>'long_mavg'in result);const priceChartData=results?{labels:results.map(result=>formatDate(result.timestamp)),datasets:[{label:'Close Price',data:results.map(result=>result.close),borderColor:'#02FFC7',backgroundColor:'rgba(0, 0, 0, 0)',borderWidth:2,fill:false,pointRadius:1},...(hasShortMavg?[{label:'Short Moving Average',data:results.map(result=>result.short_mavg),borderColor:'#FF1493',// Deep pink\nbackgroundColor:'rgba(255, 20, 147, 0.2)',borderWidth:2,fill:false,pointRadius:0// Remove points for moving average\n}]:[]),...(hasLongMavg?[{label:'Long Moving Average',data:results.map(result=>result.long_mavg),borderColor:'#1E90FF',// Dodger blue\nbackgroundColor:'rgba(30, 144, 255, 0.2)',borderWidth:2,fill:false,pointRadius:0// Remove points for moving average\n}]:[]),{label:'Buy Signal',data:results.map(result=>result.positions===1?result.close:null),borderColor:'#00FF00',// Bright green\nbackgroundColor:'rgba(0, 255, 0, 0.5)',borderWidth:0,fill:false,pointRadius:results.map(result=>result.positions===1?6:0),pointBorderWidth:results.map(result=>result.positions===1?3:0),pointStyle:'triangle'},{label:'Sell Signal',data:results.map(result=>result.positions===-1?result.close:null),borderColor:'#FF0000',// Bright red\nbackgroundColor:'rgba(255, 0, 0, 0.5)',borderWidth:0,fill:false,pointRadius:results.map(result=>result.positions===-1?6:0),pointBorderWidth:results.map(result=>result.positions===-1?3:0),pointStyle:'triangle',rotation:180}]}:null;const portfolioChartData=results?{labels:results.map(result=>formatDate(result.timestamp)),datasets:[{label:'Portfolio Value',data:results.map(result=>result.portfolio_value),borderColor:'#9370DB',// Medium purple\nbackgroundColor:'rgba(147, 112, 219, 0.2)',borderWidth:2,fill:false,pointRadius:2}]}:null;if(!results||results.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"results-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Buy/Sell Signal Graph\"}),/*#__PURE__*/_jsx(Line,{data:priceChartData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Portfolio Graph\"}),/*#__PURE__*/_jsx(Line,{data:portfolioChartData})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{children:\"High\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Low\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Close\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Volume\"}),hasShortMavg&&/*#__PURE__*/_jsx(\"th\",{children:\"Short MAvg\"}),hasLongMavg&&/*#__PURE__*/_jsx(\"th\",{children:\"Long MAvg\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Signal\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Positions\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Portfolio Value\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:results.map((result,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(result.timestamp)}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.open)}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.high)}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.low)}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.close)}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.volume)}),hasShortMavg&&/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.short_mavg)}),hasLongMavg&&/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.long_mavg)}),/*#__PURE__*/_jsx(\"td\",{children:result.signal}),/*#__PURE__*/_jsx(\"td\",{children:result.positions}),/*#__PURE__*/_jsx(\"td\",{children:Math.round(result.portfolio_value)})]},index))})]})})]});};export default ResultsDisplay;","map":{"version":3,"names":["React","moment","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","ResultsDisplay","_ref","results","formatDate","timestamp","format","hasShortMavg","some","result","hasLongMavg","priceChartData","labels","map","datasets","label","data","close","borderColor","backgroundColor","borderWidth","fill","pointRadius","short_mavg","long_mavg","positions","pointBorderWidth","pointStyle","rotation","portfolioChartData","portfolio_value","length","className","children","index","Math","round","open","high","low","volume","signal"],"sources":["/Users/junhaolim/Desktop/crypto-backtesting/src/components/ResultsDisplay.js"],"sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { Line } from 'react-chartjs-2';\nimport {\n Chart as ChartJS,\n CategoryScale,\n LinearScale,\n PointElement,\n LineElement,\n Title,\n Tooltip,\n Legend,\n} from 'chart.js';\n\n\nChartJS.register(\n CategoryScale,\n LinearScale,\n PointElement,\n LineElement,\n Title,\n Tooltip,\n Legend\n);\n\n\nconst ResultsDisplay = ({ results }) => {\n const formatDate = (timestamp) => moment(timestamp).format('MMM DD, YYYY');\n\n\n const hasShortMavg = results && results.some(result => 'short_mavg' in result);\n const hasLongMavg = results && results.some(result => 'long_mavg' in result);\n\n\n const priceChartData = results ? {\n   labels: results.map(result => formatDate(result.timestamp)),\n   datasets: [\n     {\n       label: 'Close Price',\n       data: results.map(result => result.close),\n       borderColor: '#02FFC7',\n       backgroundColor: 'rgba(0, 0, 0, 0)',\n       borderWidth: 2,\n       fill: false,\n       pointRadius: 1,\n     },\n     ...(hasShortMavg ? [{\n       label: 'Short Moving Average',\n       data: results.map(result => result.short_mavg),\n       borderColor: '#FF1493', // Deep pink\n       backgroundColor: 'rgba(255, 20, 147, 0.2)',\n       borderWidth: 2,\n       fill: false,\n       pointRadius: 0, // Remove points for moving average\n     }] : []),\n     ...(hasLongMavg ? [{\n       label: 'Long Moving Average',\n       data: results.map(result => result.long_mavg),\n       borderColor: '#1E90FF', // Dodger blue\n       backgroundColor: 'rgba(30, 144, 255, 0.2)',\n       borderWidth: 2,\n       fill: false,\n       pointRadius: 0, // Remove points for moving average\n     }] : []),\n     {\n       label: 'Buy Signal',\n       data: results.map(result => (result.positions === 1 ? result.close : null)),\n       borderColor: '#00FF00', // Bright green\n       backgroundColor: 'rgba(0, 255, 0, 0.5)',\n       borderWidth: 0,\n       fill: false,\n       pointRadius: results.map(result => (result.positions === 1 ? 6 : 0)),\n       pointBorderWidth: results.map(result => (result.positions === 1 ? 3 : 0)),\n       pointStyle: 'triangle',\n     },\n     {\n       label: 'Sell Signal',\n       data: results.map(result => (result.positions === -1 ? result.close : null)),\n       borderColor: '#FF0000', // Bright red\n       backgroundColor: 'rgba(255, 0, 0, 0.5)',\n       borderWidth: 0,\n       fill: false,\n       pointRadius: results.map(result => (result.positions === -1 ? 6 : 0)),\n       pointBorderWidth: results.map(result => (result.positions === -1 ? 3 : 0)),\n       pointStyle: 'triangle',\n       rotation: 180,\n     },\n   ],\n } : null;\n\n\n const portfolioChartData = results ? {\n   labels: results.map(result => formatDate(result.timestamp)),\n   datasets: [\n     {\n       label: 'Portfolio Value',\n       data: results.map(result => result.portfolio_value),\n       borderColor: '#9370DB', // Medium purple\n       backgroundColor: 'rgba(147, 112, 219, 0.2)',\n       borderWidth: 2,\n       fill: false,\n       pointRadius: 2,\n     },\n   ],\n } : null;\n\n\n if (!results || results.length === 0) {\n   return null;\n }\n\n\n return (\n   <div className=\"results-section\">\n     <div className=\"chart-container\">\n       <h2>Buy/Sell Signal Graph</h2>\n       <Line data={priceChartData} />\n     </div>\n     <div className=\"chart-container\">\n       <h2>Portfolio Graph</h2>\n       <Line data={portfolioChartData} />\n     </div>\n     <div className=\"table-container\">\n       <table>\n         <thead>\n           <tr>\n             <th>Timestamp</th>\n             <th>Open</th>\n             <th>High</th>\n             <th>Low</th>\n             <th>Close</th>\n             <th>Volume</th>\n             {hasShortMavg && <th>Short MAvg</th>}\n             {hasLongMavg && <th>Long MAvg</th>}\n             <th>Signal</th>\n             <th>Positions</th>\n             <th>Portfolio Value</th>\n           </tr>\n         </thead>\n         <tbody>\n           {results.map((result, index) => (\n             <tr key={index}>\n               <td>{formatDate(result.timestamp)}</td>\n               <td>{Math.round(result.open)}</td>\n               <td>{Math.round(result.high)}</td>\n               <td>{Math.round(result.low)}</td>\n               <td>{Math.round(result.close)}</td>\n               <td>{Math.round(result.volume)}</td>\n               {hasShortMavg && <td>{Math.round(result.short_mavg)}</td>}\n               {hasLongMavg && <td>{Math.round(result.long_mavg)}</td>}\n               <td>{result.signal}</td>\n               <td>{result.positions}</td>\n               <td>{Math.round(result.portfolio_value)}</td>\n             </tr>\n           ))}\n         </tbody>\n       </table>\n     </div>\n   </div>\n );\n};\n\n\nexport default ResultsDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}