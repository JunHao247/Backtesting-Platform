/*!
*  filename: ej2-charts.umd.min.js
*  version : 26.1.42
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-svg-base"),require("@syncfusion/ej2-data"),require("@syncfusion/ej2-pdf-export"),require("@syncfusion/ej2-excel-export"),require("@syncfusion/ej2-navigations"),require("@syncfusion/ej2-calendars"),require("@syncfusion/ej2-splitbuttons")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-svg-base","@syncfusion/ej2-data","@syncfusion/ej2-pdf-export","@syncfusion/ej2-excel-export","@syncfusion/ej2-navigations","@syncfusion/ej2-calendars","@syncfusion/ej2-splitbuttons"],t):t((e=e||self).ej={},e.ej2Base,e.ej2SvgBase,e.ej2Data,e.ej2PdfExport,e.ej2ExcelExport,e.ej2Navigations,e.ej2Calendars,e.ej2Splitbuttons)}(this,function(e,K,$,R,T,_,E,I,O){"use strict";z=function(e,t){return(z=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var z,B,N=function(e,t){function i(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},t=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},V=(B=K.ChildProperty,N(H,B),t([K.Property("Line")],H.prototype,"type",void 0),t([K.Property(null)],H.prototype,"color",void 0),t([K.Property(1)],H.prototype,"width",void 0),t([K.Property(null)],H.prototype,"length",void 0),t([K.Property("")],H.prototype,"dashArray",void 0),H);function H(){return null!==B&&B.apply(this,arguments)||this}j=K.ChildProperty,N(U,j),t([K.Property("transparent")],U.prototype,"color",void 0),t([K.Property(0)],U.prototype,"width",void 0),t([K.Property(.8)],U.prototype,"cornerRadius",void 0);var j,W=U;function U(){return null!==j&&j.apply(this,arguments)||this}X=K.ChildProperty,N(Y,X),t([K.Property("Normal")],Y.prototype,"fontStyle",void 0),t([K.Property("15px")],Y.prototype,"size",void 0),t([K.Property("500")],Y.prototype,"fontWeight",void 0),t([K.Property("")],Y.prototype,"color",void 0),t([K.Property("Center")],Y.prototype,"textAlignment",void 0),t([K.Property("Segoe UI")],Y.prototype,"fontFamily",void 0),t([K.Property(1)],Y.prototype,"opacity",void 0),t([K.Property("Wrap")],Y.prototype,"textOverflow",void 0),t([K.Property("Top")],Y.prototype,"position",void 0),t([K.Property(0)],Y.prototype,"x",void 0),t([K.Property(0)],Y.prototype,"y",void 0),t([K.Property("transparent")],Y.prototype,"background",void 0),t([K.Complex({},W)],Y.prototype,"border",void 0);var X,G=Y;function Y(){return null!==X&&X.apply(this,arguments)||this}Z=K.ChildProperty,N(te,Z),t([K.Property(0)],te.prototype,"x",void 0),t([K.Property(0)],te.prototype,"y",void 0);var Z,Q=te;function te(){return null!==Z&&Z.apply(this,arguments)||this}ie=K.ChildProperty,N(re,ie),t([K.Property("Normal")],re.prototype,"fontStyle",void 0),t([K.Property("16px")],re.prototype,"size",void 0),t([K.Property("Normal")],re.prototype,"fontWeight",void 0),t([K.Property("")],re.prototype,"color",void 0),t([K.Property("Center")],re.prototype,"textAlignment",void 0),t([K.Property("Segoe UI")],re.prototype,"fontFamily",void 0),t([K.Property(1)],re.prototype,"opacity",void 0),t([K.Property("Wrap")],re.prototype,"textOverflow",void 0);var ie,oe=re;function re(){return null!==ie&&ie.apply(this,arguments)||this}ne=K.ChildProperty,N(le,ne),t([K.Property("")],le.prototype,"color",void 0),t([K.Property(1)],le.prototype,"width",void 0),t([K.Property("")],le.prototype,"dashArray",void 0);var ne,ae=le;function le(){return null!==ne&&ne.apply(this,arguments)||this}se=K.ChildProperty,N(ce,se),t([K.Property(0)],ce.prototype,"x",void 0),t([K.Property(0)],ce.prototype,"y",void 0);var se,he=ce;function ce(){return null!==se&&se.apply(this,arguments)||this}de=K.ChildProperty,N(ue,de),t([K.Complex({},ae)],ue.prototype,"border",void 0),t([K.Property("transparent")],ue.prototype,"background",void 0),t([K.Property(1)],ue.prototype,"opacity",void 0),t([K.Property(null)],ue.prototype,"backgroundImage",void 0),t([K.Property(null)],ue.prototype,"width",void 0);var de,pe=ue;function ue(){return null!==de&&de.apply(this,arguments)||this}ge=K.ChildProperty,N(ye,ge),t([K.Property(K.Browser.isDevice?5:10)],ye.prototype,"left",void 0),t([K.Property(K.Browser.isDevice?5:10)],ye.prototype,"right",void 0),t([K.Property(K.Browser.isDevice?5:10)],ye.prototype,"top",void 0),t([K.Property(K.Browser.isDevice?5:10)],ye.prototype,"bottom",void 0);var ge,me=ye;function ye(){return null!==ge&&ge.apply(this,arguments)||this}fe=K.ChildProperty,N(be,fe),t([K.Property(0)],be.prototype,"left",void 0),t([K.Property(0)],be.prototype,"right",void 0),t([K.Property(0)],be.prototype,"top",void 0),t([K.Property(0)],be.prototype,"bottom",void 0);var fe,ve=be;function be(){return null!==fe&&fe.apply(this,arguments)||this}xe=K.ChildProperty,N(Ce,xe),t([K.Property(!0)],Ce.prototype,"enable",void 0),t([K.Property(1e3)],Ce.prototype,"duration",void 0),t([K.Property(0)],Ce.prototype,"delay",void 0);var xe,Se=Ce;function Ce(){return null!==xe&&xe.apply(this,arguments)||this}we=K.ChildProperty,N(Le,we),t([K.Property(0)],Le.prototype,"series",void 0),t([K.Property(0)],Le.prototype,"point",void 0);var we,Fe=Le;function Le(){return null!==we&&we.apply(this,arguments)||this}Pe=K.ChildProperty,N(Me,Pe),t([K.Property(0)],Me.prototype,"topLeft",void 0),t([K.Property(0)],Me.prototype,"topRight",void 0),t([K.Property(0)],Me.prototype,"bottomLeft",void 0),t([K.Property(0)],Me.prototype,"bottomRight",void 0);var Pe,Ae=Me;function Me(){return null!==Pe&&Pe.apply(this,arguments)||this}var De,ke=function(e,t){this.series=e,this.point=t},Re=(De=K.ChildProperty,N(Te,De),t([K.Property(null)],Te.prototype,"fill",void 0),t([K.Complex({color:"transparent",width:0},ae)],Te.prototype,"border",void 0),t([K.Property("Gap")],Te.prototype,"mode",void 0),Te);function Te(){return null!==De&&De.apply(this,arguments)||this}_e=K.ChildProperty,N(Ie,_e),t([K.Property(!1)],Ie.prototype,"enable",void 0),t([K.Property(null)],Ie.prototype,"minY",void 0),t([K.Property(null)],Ie.prototype,"maxY",void 0),t([K.Property(null)],Ie.prototype,"fill",void 0);var _e,Ee=Ie;function Ie(){return null!==_e&&_e.apply(this,arguments)||this}Oe=K.ChildProperty,N(Be,Oe),t([K.Property(null)],Be.prototype,"text",void 0),t([K.Complex({fontFamily:null,size:"16px",fontStyle:"Normal",fontWeight:"600",color:null},oe)],Be.prototype,"textStyle",void 0),t([K.Property(null)],Be.prototype,"hoverTextFormat",void 0);var Oe,ze=Be;function Be(){return null!==Oe&&Oe.apply(this,arguments)||this}Ne=K.ChildProperty,N(He,Ne),t([K.Property(!1)],He.prototype,"enable",void 0),t([K.Property(!0)],He.prototype,"enableMarker",void 0),t([K.Property(!1)],He.prototype,"shared",void 0),t([K.Property(null)],He.prototype,"fill",void 0),t([K.Property(null)],He.prototype,"header",void 0),t([K.Property(null)],He.prototype,"opacity",void 0),t([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:null,color:null},oe)],He.prototype,"textStyle",void 0),t([K.Property(null)],He.prototype,"format",void 0),t([K.Property(null)],He.prototype,"template",void 0),t([K.Property(!0)],He.prototype,"enableAnimation",void 0),t([K.Property(300)],He.prototype,"duration",void 0),t([K.Property(1e3)],He.prototype,"fadeOutDuration",void 0),t([K.Property("Move")],He.prototype,"fadeOutMode",void 0),t([K.Property(!1)],He.prototype,"enableTextWrap",void 0),t([K.Property(!0)],He.prototype,"showNearestPoint",void 0),t([K.Complex({color:null,width:null},ae)],He.prototype,"border",void 0),t([K.Complex({x:null,y:null},Q)],He.prototype,"location",void 0);var Ne,Ve=He;function He(){return null!==Ne&&Ne.apply(this,arguments)||this}je=K.ChildProperty,N(Ue,je),t([K.Property(!1)],Ue.prototype,"enable",void 0),t([K.Property(!0)],Ue.prototype,"enableMarker",void 0),t([K.Property(!1)],Ue.prototype,"shared",void 0),t([K.Property(null)],Ue.prototype,"fill",void 0),t([K.Property(null)],Ue.prototype,"header",void 0),t([K.Property(.75)],Ue.prototype,"opacity",void 0),t([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:null,color:null},oe)],Ue.prototype,"textStyle",void 0),t([K.Property(null)],Ue.prototype,"format",void 0),t([K.Property(null)],Ue.prototype,"template",void 0),t([K.Property(!0)],Ue.prototype,"enableAnimation",void 0),t([K.Property(300)],Ue.prototype,"duration",void 0),t([K.Property(1e3)],Ue.prototype,"fadeOutDuration",void 0),t([K.Property("Move")],Ue.prototype,"fadeOutMode",void 0),t([K.Property(!1)],Ue.prototype,"enableTextWrap",void 0),t([K.Property(!0)],Ue.prototype,"showNearestPoint",void 0),t([K.Complex({color:null,width:null},ae)],Ue.prototype,"border",void 0),t([K.Property("Fixed")],Ue.prototype,"position",void 0);var je,We=Ue;function Ue(){return null!==je&&je.apply(this,arguments)||this}Xe=K.ChildProperty,N(Ye,Xe),t([K.Property("Years")],Ye.prototype,"intervalType",void 0),t([K.Property(1)],Ye.prototype,"interval",void 0),t([K.Property(null)],Ye.prototype,"text",void 0),t([K.Property(!1)],Ye.prototype,"selected",void 0);var Xe,Ge=Ye;function Ye(){return null!==Xe&&Xe.apply(this,arguments)||this}Ze=K.ChildProperty,N(qe,Ze),t([K.Property(43)],qe.prototype,"height",void 0),t([K.Property("Bottom")],qe.prototype,"position",void 0),t([K.Collection([],Ge)],qe.prototype,"periods",void 0);var Ze,N=qe;function qe(){return null!==Ze&&Ze.apply(this,arguments)||this}Object.defineProperty(Ke.prototype,"start",{get:function(){return this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"end",{get:function(){return this.mEnd},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"delta",{get:function(){return this.mEnd-this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(Ke.prototype,"median",{get:function(){return this.mStart+(this.mEnd-this.mStart)/2},enumerable:!0,configurable:!0});var Qe=Ke;function Ke(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}Je.prototype.calculateNumericNiceInterval=function(e,t,i){var o=To(i,e),r=t/o;if(K.isNullOrUndefined(e.desiredIntervals)||!this.isAutoIntervalOnBothAxis(e))for(var n=Math.pow(10,Math.floor(ji(r,10))),a=0,l=e.intervalDivs;a<l.length;a++){var s=n*l[a];if(o<t/s)break;r=s}return r},Je.prototype.isAutoIntervalOnBothAxis=function(e){return!(e.zoomFactor<1||0<e.zoomPosition)||!e.enableAutoIntervalOnZooming},Je.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),!e.startFromZero&&0<this.isColumn?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.doubleRange.start-e.actualRange.interval<0&&0<e.doubleRange.start?e.actualRange.min=0:e.actualRange.min=e.doubleRange.start-(this.isStacking?0:e.actualRange.interval)):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)},Je.prototype.initializeDoubleRange=function(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=-1<e.valueType.indexOf("Category")?this.max:this.min+1),e.doubleRange=new Qe(this.min,this.max),e.actualRange={}},Je.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},Je.prototype.calculateRange=function(e){if(this.min=null,this.max=null,!ko(e))for(var t=0,i=e.series;t<i.length;t++){var o=i[t];o.visible&&(this.paddingInterval=0,K.isNullOrUndefined(o.points)||(e.maxPointLength=o.points.length),e.maxPointLength=o.points.length,!((-1<o.type.indexOf("Column")||-1<o.type.indexOf("Histogram"))&&"Horizontal"===e.orientation||-1<o.type.indexOf("Bar")&&"Vertical"===e.orientation)||"Double"!==o.xAxis.valueType&&"DateTime"!==o.xAxis.valueType||"Auto"!==o.xAxis.rangePadding||(this.paddingInterval=.5*So(o.xAxis,e.series)),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,o):this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval)),"Vertical"===e.orientation)&&(this.isColumn+=-1!==o.type.indexOf("Column")||-1!==o.type.indexOf("Bar")||"Column"===o.drawType?1:0,this.isStacking=-1!==o.type.indexOf("Stacking"),this.chart.requireInvertedAxis?this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval):this.yAxisRange(e,o))}},Je.prototype.yAxisRange=function(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min)&&(t.yMin=this.chart.dragY-e.visibleRange.interval),this.findMinMax(t.yMin,t.yMax)},Je.prototype.findMinMax=function(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t),this.max===this.min&&this.max<0&&this.min<0&&(this.max=0)},Je.prototype.applyRangePadding=function(e,t){var i,o,r=e.actualRange.min,n=e.actualRange.max;ko(e)||(i=e.actualRange.interval,"Additional"===(o=e.getRangePadding(this.chart))||"Round"===o?this.findAdditional(e,r,n,i,t):"Normal"===o?this.findNormal(e,r,n,i,t):this.updateActualRange(e,r,n,i)),e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)},Je.prototype.updateActualRange=function(e,t,i,o){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:o,delta:e.actualRange.delta}},Je.prototype.findAdditional=function(e,t,i,o,r){t=Math.floor(t/o)*o,i=Math.ceil(i/o)*o;"Additional"===e.rangePadding&&(t-=o,i+=o),K.isNullOrUndefined(e.desiredIntervals)||(o=this.calculateNumericNiceInterval(e,i-t,r)),this.updateActualRange(e,t,i,o)},Je.prototype.findNormal=function(e,t,i,o,r){var n,a=t;t<0?(o+(n=t+.05*t)%o<=.365*o&&(n-=o),n%o<(a=0)&&(n=n-o-n%o)):0<(n=t<5/6*i?0:t-.5*(i-t))%o&&(n-=n%o),o-(t=0<i?i+.05*(i-a):i-.05*(i-a))%o<=.365*o&&(t+=o),e.doubleRange=new Qe(n,t=0<t%o?t+o-t%o:t),(0===n||n<0&&t<0)&&(o=this.calculateNumericNiceInterval(e,e.doubleRange.delta,r),t=Math.ceil(t/o)*o),this.updateActualRange(e,n,t,o)},Je.prototype.calculateVisibleRange=function(e,t){var i;if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},"Cartesian"===this.chart.chartAreaType&&(i=!K.isNullOrUndefined(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad,t.zoomFactor<1||0<t.zoomPosition)&&!i&&(t.calculateVisibleRangeOnZooming(),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval),t.maximum&&"Vertical"===t.orientation&&"Auto"===t.rangePadding){for(var o=void 0,r=t.visibleRange.min;r<=t.visibleRange.max&&o!==r;r+=t.visibleRange.interval)o=r;o<t.visibleRange.max&&(t.visibleRange.max=o+t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},Je.prototype.calculateVisibleLabels=function(e,t){e.visibleLabels=[];var i,o,r=e.visibleRange.min,n=(!("chart"===t.getModuleName()&&"PolarRadar"===t.chartAreaType)&&(e.zoomFactor<1||0<e.zoomPosition||this.paddingInterval)&&(r=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),this.getFormat(e)),a=null!==n.match("{value}"),l=0,s=0;for(e.labelFormat&&-1<e.labelFormat.indexOf("n")&&(s=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:a?"":n,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&0<=(e.visibleRange.interval+"").indexOf(".")&&(l=(e.visibleRange.interval+"").split(".")[1].length);r<=e.visibleRange.max&&o!==r;r+=e.visibleRange.interval)o=r,i=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(r,e.visibleRange)&&Do(t,r,this.formatValue(e,a,n,r),i,e);r&&0<=(r+"").indexOf(".")&&10<(r+"").split(".")[1].length&&(r=(r+"").split(".")[1].length>(s||l)?+r.toFixed(s||l):r)<=e.visibleRange.max&&Do(t,r,this.formatValue(e,a,n,r),i,e),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},Je.prototype.getFormat=function(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""},Je.prototype.formatValue=function(e,t,i,o){var r=o%1?Number(o.toLocaleString("en-US").split(",").join("")):o;return t?i.replace("{value}",e.format(r)):i?e.format(o):e.format(r)};var $e=Je;function Je(e){this.isColumn=0,this.isStacking=!1,this.chart=e}var et,tt,it="legendClick",ot="load",rt="animationComplete",nt="legendRender",at="textRender",lt="pointRender",st="sharedTooltipRender",ht="seriesRender",ct="axisLabelRender",dt="axisLabelClick",pt="axisRangeCalculated",ut="axisMultiLabelRender",gt="tooltipRender",mt="chartMouseMove",yt="chartMouseClick",ft="chartDoubleClick",vt="pointClick",bt="pointDoubleClick",xt="pointMove",St="chartMouseLeave",Ct="chartMouseDown",wt="chartMouseUp",Ft="zoomComplete",Lt="dragComplete",Pt="selectionComplete",At="resized",Mt="beforeResize",Dt="beforePrint",kt="annotationRender",Rt="scrollStart",Tt="scrollEnd",_t="scrollChanged",Et="stockEventRender",It="multiLevelLabelClick",Ot="dragStart",zt="dragEnd",Bt=/~\d+~/g,Nt=/\^\d+\^/g,Vt="beforeExport",Ht="afterExport",jt="bulletChartMouseClick",Wt="onZooming",t=(et=function(e,t){return(et=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),i=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Ut=(tt=K.ChildProperty,t(Xt,tt),i([K.Property("0")],Xt.prototype,"x",void 0),i([K.Property("0")],Xt.prototype,"y",void 0),i([K.Property(null)],Xt.prototype,"content",void 0),i([K.Property("Center")],Xt.prototype,"horizontalAlignment",void 0),i([K.Property("Pixel")],Xt.prototype,"coordinateUnits",void 0),i([K.Property("Chart")],Xt.prototype,"region",void 0),i([K.Property("Middle")],Xt.prototype,"verticalAlignment",void 0),i([K.Property(null)],Xt.prototype,"xAxisName",void 0),i([K.Property(null)],Xt.prototype,"yAxisName",void 0),i([K.Property(null)],Xt.prototype,"description",void 0),Xt);function Xt(){return null!==tt&&tt.apply(this,arguments)||this}Gt=K.ChildProperty,t(Zt,Gt),i([K.Property("")],Zt.prototype,"color",void 0),i([K.Property(1)],Zt.prototype,"width",void 0),i([K.Property("Rectangle")],Zt.prototype,"type",void 0);var Gt,Yt=Zt;function Zt(){return null!==Gt&&Gt.apply(this,arguments)||this}qt=K.ChildProperty,t(Kt,qt),i([K.Property(null)],Kt.prototype,"start",void 0),i([K.Property(null)],Kt.prototype,"end",void 0),i([K.Property("")],Kt.prototype,"text",void 0),i([K.Property(null)],Kt.prototype,"maximumTextWidth",void 0),i([K.Property(null)],Kt.prototype,"customAttributes",void 0),i([K.Property("")],Kt.prototype,"type",void 0);var qt,Qt=Kt;function Kt(){return null!==qt&&qt.apply(this,arguments)||this}$t=K.ChildProperty,t(ei,$t),i([K.Property(!0)],ei.prototype,"visible",void 0),i([K.Property(!1)],ei.prototype,"startFromAxis",void 0),i([K.Property(null)],ei.prototype,"start",void 0),i([K.Property(null)],ei.prototype,"end",void 0),i([K.Property(null)],ei.prototype,"size",void 0),i([K.Property("#808080")],ei.prototype,"color",void 0),i([K.Property(null)],ei.prototype,"dashArray",void 0),i([K.Property("Auto")],ei.prototype,"sizeType",void 0),i([K.Property(!1)],ei.prototype,"isRepeat",void 0),i([K.Property(null)],ei.prototype,"repeatEvery",void 0),i([K.Property(null)],ei.prototype,"repeatUntil",void 0),i([K.Property(!1)],ei.prototype,"isSegmented",void 0),i([K.Property(null)],ei.prototype,"segmentStart",void 0),i([K.Property(null)],ei.prototype,"segmentEnd",void 0),i([K.Property(null)],ei.prototype,"segmentAxisName",void 0),i([K.Complex({color:"transparent",width:1},ae)],ei.prototype,"border",void 0),i([K.Property("")],ei.prototype,"text",void 0),i([K.Property(null)],ei.prototype,"rotation",void 0),i([K.Property("Middle")],ei.prototype,"horizontalAlignment",void 0),i([K.Property("Middle")],ei.prototype,"verticalAlignment",void 0),i([K.Complex({size:"12px",color:null,fontStyle:"Normal",fontWeight:"400",fontFamily:null},oe)],ei.prototype,"textStyle",void 0),i([K.Property("Behind")],ei.prototype,"zIndex",void 0),i([K.Property(1)],ei.prototype,"opacity",void 0),i([K.Property("")],ei.prototype,"imageUrl",void 0);var $t,Jt=ei;function ei(){return null!==$t&&$t.apply(this,arguments)||this}ti=K.ChildProperty,t(oi,ti),i([K.Property("Center")],oi.prototype,"alignment",void 0),i([K.Property("Wrap")],oi.prototype,"overflow",void 0),i([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},oe)],oi.prototype,"textStyle",void 0),i([K.Complex({color:null,width:1,type:"Rectangle"},Yt)],oi.prototype,"border",void 0),i([K.Collection([],Qt)],oi.prototype,"categories",void 0);var ti,ii=oi;function oi(){return null!==ti&&ti.apply(this,arguments)||this}ri=K.ChildProperty,t(ai,ri),i([K.Property(null)],ai.prototype,"minimum",void 0),i([K.Property(null)],ai.prototype,"maximum",void 0);var ri,ni=ai;function ai(){return null!==ri&&ri.apply(this,arguments)||this}li=K.ChildProperty,t(si,li),i([K.Property(!1)],si.prototype,"enable",void 0),i([K.Property(null)],si.prototype,"pointsLength",void 0),i([K.Complex({},ni)],si.prototype,"range",void 0),i([K.Property(null)],si.prototype,"trackColor",void 0),i([K.Property(0)],si.prototype,"scrollbarRadius",void 0),i([K.Property(null)],si.prototype,"scrollbarColor",void 0),i([K.Property(0)],si.prototype,"trackRadius",void 0),i([K.Property(null)],si.prototype,"gripColor",void 0),i([K.Property(16)],si.prototype,"height",void 0),i([K.Property(!0)],si.prototype,"enableZoom",void 0);var li,t=si;function si(){return null!==li&&li.apply(this,arguments)||this}hi=function(e,t){return(hi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var hi,ci,i=function(e,t){function i(){this.constructor=e}hi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},o=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},di=(ci=K.ChildProperty,i(pi,ci),pi.prototype.computeSize=function(e,t,i,o){var r=0,n="Inside"===e.labelPosition&&-1<o.axes.indexOf(e)?-5:5;e.visible&&e.internalVisibility&&(r+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,n,i,o)+.5*e.lineStyle.width),(e.isAxisOpposedPosition?this.farSizes:this.nearSizes).push(r)},o([K.Property("100%")],pi.prototype,"height",void 0),o([K.Complex({},ae)],pi.prototype,"border",void 0),pi);function pi(){var e=null!==ci&&ci.apply(this,arguments)||this;return e.axes=[],e.nearSizes=[],e.farSizes=[],e.insideFarSizes=[],e.insideNearSizes=[],e}ui=K.ChildProperty,i(mi,ui),mi.prototype.computeSize=function(e,t,i,o){var r=0;e.visible&&e.internalVisibility&&(r+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5,i,o)+.5*e.lineStyle.width),(e.isAxisOpposedPosition?this.farSizes:this.nearSizes).push(r)},o([K.Property("100%")],mi.prototype,"width",void 0),o([K.Complex({},ae)],mi.prototype,"border",void 0);var ui,gi=mi;function mi(){var e=null!==ui&&ui.apply(this,arguments)||this;return e.axes=[],e.nearSizes=[],e.farSizes=[],e.insideFarSizes=[],e.insideNearSizes=[],e.padding=0,e}yi=K.ChildProperty,i(vi,yi),o([K.Property(1)],vi.prototype,"width",void 0),o([K.Property("")],vi.prototype,"dashArray",void 0),o([K.Property(null)],vi.prototype,"color",void 0);var yi,fi=vi;function vi(){return null!==yi&&yi.apply(this,arguments)||this}bi=K.ChildProperty,i(Si,bi),o([K.Property(.7)],Si.prototype,"width",void 0),o([K.Property("")],Si.prototype,"dashArray",void 0),o([K.Property(null)],Si.prototype,"color",void 0);var bi,xi=Si;function Si(){return null!==bi&&bi.apply(this,arguments)||this}Ci=K.ChildProperty,i(Fi,Ci),o([K.Property(1)],Fi.prototype,"width",void 0),o([K.Property("")],Fi.prototype,"dashArray",void 0),o([K.Property(null)],Fi.prototype,"color",void 0);var Ci,wi=Fi;function Fi(){return null!==Ci&&Ci.apply(this,arguments)||this}Li=K.ChildProperty,i(Ai,Li),o([K.Property(1)],Ai.prototype,"width",void 0),o([K.Property(5)],Ai.prototype,"height",void 0),o([K.Property(null)],Ai.prototype,"color",void 0);var Li,Pi=Ai;function Ai(){return null!==Li&&Li.apply(this,arguments)||this}Mi=K.ChildProperty,i(ki,Mi),o([K.Property(.7)],ki.prototype,"width",void 0),o([K.Property(5)],ki.prototype,"height",void 0),o([K.Property(null)],ki.prototype,"color",void 0);var Mi,Di=ki;function ki(){return null!==Mi&&Mi.apply(this,arguments)||this}Ri=K.ChildProperty,i(_i,Ri),o([K.Property(!1)],_i.prototype,"enable",void 0),o([K.Property(null)],_i.prototype,"fill",void 0),o([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],_i.prototype,"textStyle",void 0);var Ri,Ti=_i;function _i(){return null!==Ri&&Ri.apply(this,arguments)||this}Ei=K.ChildProperty,i(r,Ei),r.prototype.findTickSize=function(e){return"Inside"!==this.tickPosition&&(!e||e.visibleRange&&!this.isInside(e.visibleRange))?this.majorTickLines.height:0},r.prototype.isInside=function(e){return Ui(this.crossAt,e)||!this.isAxisOpposedPosition&&this.crossAt>=e.max||this.isAxisOpposedPosition&&this.crossAt<=e.min},r.prototype.findLabelSize=function(e,t,i,o){var r=0,n="Horizontal"===this.orientation,n=(this.title&&(a=this.titleRotation,r=K.isNullOrUndefined(a)?(this.titleSize=$.measureText(this.title,this.titleStyle,o.themeStyle.axisTitleFont),this.titleSize.height+t):(this.titleSize=Hi(this.titleStyle,this.title,a,o,o.themeStyle.axisTitleFont),("Vertical"===this.orientation?this.titleSize.width:this.titleSize.height)+t),this.rect.width||this.rect.height)&&(a=n?this.rect.width:this.rect.height,this.titleCollection=fr(this.title,this.titleStyle,a,o.enableRtl,o.themeStyle.axisTitleFont),r*=this.titleCollection.length),r+t+this.titlePadding+this.labelPadding+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight);if(e&&this.placeNextToAxisLine){var a=e.visibleRange,o="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!a||!o)return 0;this.isInside(a)&&(n=(e=(e=this.findDifference(e))*((o-((e=e*(o/a.delta))<n?n-e:0))/a.delta))<n?n-e:0)}return(this.isAxisOpposedPosition?i.insideFarSizes:i.insideNearSizes).push(n),"Inside"===this.labelPosition?r+t:n},r.prototype.updateCrossValue=function(){var e=this.crossAt;if(null===e||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;var t=this.crossInAxis.visibleRange;this.isAxisOpposedPosition?this.crossAt<t.min&&(e=t.min):this.crossAt>t.max&&(e=t.max),this.updatedRect=K.extend({},this.rect,null,!0),"Horizontal"===this.orientation?(e=this.crossInAxis.rect.height-ro(e,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+e):(e=ro(e,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+e)},r.prototype.findDifference=function(e){var t=0,t=this.isAxisOpposedPosition?e.isAxisInverse?e.visibleRange.min:e.visibleRange.max:e.isAxisInverse?e.visibleRange.max:e.visibleRange.min;return Math.abs(this.crossAt-t)},r.prototype.calculateVisibleRangeOnZooming=function(){var e,t,i;Ro(this)&&(e=this.actualRange,i=t=void 0,i=this.isAxisInverse?(t=this.actualRange.max-this.zoomPosition*this.actualRange.delta)-this.zoomFactor*this.actualRange.delta:(t=this.actualRange.min+this.zoomPosition*this.actualRange.delta)+this.zoomFactor*this.actualRange.delta,t<e.min&&(i+=e.min-t,t=e.min),i>e.max&&(t-=i-e.max,i=e.max),this.doubleRange=new Qe(t,i),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval})},r.prototype.triggerRangeRender=function(e,t,i,o){t={cancel:!1,name:pt,axis:this,minimum:t,maximum:i,interval:o};e.trigger(pt,t),t.cancel||(this.visibleRange={min:t.minimum,max:t.maximum,interval:t.interval,delta:t.maximum-t.minimum})},r.prototype.getRangePadding=function(e){var t=this.rangePadding;if("Auto"===t)switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t},r.prototype.getMaxLabelWidth=function(e){for(var t,i,o,r=0,n=!1,a=(this.angle=this.labelRotation,this.maxLabelSize=new $.Size(0,0),this.labelIntersectAction),l=0,s=this.visibleLabels.length;l<s;l++){(t=Ni((i=this.visibleLabels[l]).originalText))?(i.size=$.measureText(i.originalText.replace(/<br>/g," "),this.labelStyle,e.themeStyle.axisLabelFont),i.breakLabelSize=$.measureText(this.enableTrim?i.text.join("<br>"):i.originalText,this.labelStyle,e.themeStyle.axisLabelFont)):i.size=$.measureText(i.text,this.labelStyle,e.themeStyle.axisLabelFont);var h=(t?i.breakLabelSize:i.size).width,h=(h>this.maxLabelSize.width&&(this.maxLabelSize.width=h,this.rotatedLabel=i.text),(t?i.breakLabelSize:i.size).height);if(h>this.maxLabelSize.height&&(this.maxLabelSize.height=h),t&&(i.text=this.enableTrim?i.text:i.originalText.split("<br>")),"None"!==a&&"Hide"!==a&&"Trim"!==a&&(("None"!==a||this.angle%360==0)&&"Horizontal"===this.orientation&&0<this.rect.width&&!n)){var c=(t?i.breakLabelSize:i.size).width,d=ro(i.value,this)*this.rect.width+this.rect.x;switch(d-=c/2,"Shift"===this.edgeLabelPlacement&&(0===l&&d<this.rect.x&&(d=this.rect.x),l===this.visibleLabels.length-1)&&d+c>this.rect.x+this.rect.width&&(d=this.rect.x+this.rect.width-c),a){case"MultipleRows":0<l&&this.findMultiRows(l,d,i,t);break;case"Rotate45":case"Rotate90":0<l&&(this.isAxisInverse?r<=d+c:d<=r)&&(this.angle="Rotate45"===a?45:90,n=!0);break;default:if(t){for(var p,u,g=[],m=0;m<i.text.length;m++)if(1<(p=br(i.text[m],this.rect.width/this.visibleLabels.length,this.labelStyle,e.enableRtl,null,null,e.themeStyle.axisLabelFont)).length)for(var y=0;y<p.length;y++)u=p[y],g.push(u);else g.push(p[0]);i.text=g}else i.text=br(i.text,this.rect.width/this.visibleLabels.length,this.labelStyle,e.enableRtl,null,null,e.themeStyle.axisLabelFont);var f=i.size.height*i.text.length;f>this.maxLabelSize.height&&(this.maxLabelSize.height=f)}r=this.isAxisInverse?d:d+c}}(0!==this.angle&&"Horizontal"===this.orientation||0!==this.angle&&"Vertical"===this.orientation)&&(this.rotatedLabel=K.isNullOrUndefined(this.rotatedLabel)?"":this.rotatedLabel,o=-360===this.angle||0===this.angle||-180===this.angle||180===this.angle||360===this.angle,"Outside"===this.labelPosition&&!o&&Ni(this.rotatedLabel)?this.maxLabelSize=new $.Size(this.maxLabelSize.height,this.maxLabelSize.width):this.maxLabelSize=Hi(this.labelStyle,this.rotatedLabel,this.angle,e,e.themeStyle.axisLabelFont)),e.multiLevelLabelModule&&0<this.multiLevelLabels.length&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)},r.prototype.findMultiRows=function(e,t,i,o){for(var r,n,a,l=[],s=e-1;0<=s;s--)r=this.visibleLabels[s],a=(o?r.breakLabelSize:r.size).width,n=ro(r.value,this)*this.rect.width+this.rect.x,(this.isAxisInverse?t+i.size.width>n-.5*a:t<n+.5*a)?(l.push(r.index),i.index=i.index>r.index?i.index:r.index+1):i.index=(-1<l.indexOf(r.index)?i:r).index;e=(o?i.breakLabelSize:i.size).height*i.index+5*(i.index-1);e>this.maxLabelSize.height&&(this.maxLabelSize.height=e)},r.prototype.getModule=function(e){"Double"===this.valueType?this.baseModule=new $e(e):this.baseModule=e[bo(this.valueType)+"Module"]},r.prototype.setIsInversedAndOpposedPosition=function(e){void 0===e&&(e=!1),this.isAxisOpposedPosition=this.opposedPosition||!e&&this.isRTLEnabled&&"Vertical"===this.orientation,this.opposedPosition&&!e&&this.isRTLEnabled&&"Vertical"===this.orientation&&(this.isAxisOpposedPosition=!1),this.isAxisInverse=this.isInversed||this.isRTLEnabled&&"Horizontal"===this.orientation,this.isInversed&&!e&&this.isRTLEnabled&&"Horizontal"===this.orientation&&(this.isAxisInverse=!1)},r.prototype.updateAxis=function(){var e=this.baseModule.chart,t=e.chartAxisLayoutPanel,i=e.axisCollections.indexOf(this),o=J(e.element.id+"AxisInsideCollection"),r=J(e.element.id+"AxisOutsideCollection"),n=(t.element=e.renderer.createGroup({id:e.element.id+"AxisGroup"+i+"Inside"}),e.renderer.createGroup({id:e.element.id+"AxisGroup"+i+"Outside"})),a=t.findAxisPosition(this);t.drawAxis(this,i,a,n,o,r),e.enableCanvas||q(e.enableCanvas,o,t.element,e.redraw)},o([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},oe)],r.prototype,"labelStyle",void 0),o([K.Complex({},Ti)],r.prototype,"crosshairTooltip",void 0),o([K.Property("")],r.prototype,"title",void 0),o([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],r.prototype,"titleStyle",void 0),o([K.Property("")],r.prototype,"labelFormat",void 0),o([K.Property("")],r.prototype,"skeleton",void 0),o([K.Property("DateTime")],r.prototype,"skeletonType",void 0),o([K.Property("Center")],r.prototype,"lineBreakAlignment",void 0),o([K.Property(0)],r.prototype,"plotOffset",void 0),o([K.Property(null)],r.prototype,"plotOffsetLeft",void 0),o([K.Property(null)],r.prototype,"plotOffsetTop",void 0),o([K.Property(null)],r.prototype,"plotOffsetRight",void 0),o([K.Property(null)],r.prototype,"plotOffsetBottom",void 0),o([K.Property(!1)],r.prototype,"isIndexed",void 0),o([K.Property(10)],r.prototype,"logBase",void 0),o([K.Property(0)],r.prototype,"columnIndex",void 0),o([K.Property(0)],r.prototype,"rowIndex",void 0),o([K.Property(1)],r.prototype,"span",void 0),o([K.Property(null)],r.prototype,"desiredIntervals",void 0),o([K.Property(3)],r.prototype,"maximumLabels",void 0),o([K.Property(1)],r.prototype,"zoomFactor",void 0),o([K.Property(0)],r.prototype,"zoomPosition",void 0),o([K.Property(!0)],r.prototype,"enableScrollbarOnZooming",void 0),o([K.Property(!1)],r.prototype,"opposedPosition",void 0),o([K.Property(!0)],r.prototype,"enableAutoIntervalOnZooming",void 0),o([K.Property("Auto")],r.prototype,"rangePadding",void 0),o([K.Property("Double")],r.prototype,"valueType",void 0),o([K.Property("None")],r.prototype,"edgeLabelPlacement",void 0),o([K.Property("Auto")],r.prototype,"intervalType",void 0),o([K.Property("BetweenTicks")],r.prototype,"labelPlacement",void 0),o([K.Property("Outside")],r.prototype,"tickPosition",void 0),o([K.Property("Outside")],r.prototype,"labelPosition",void 0),o([K.Property("")],r.prototype,"name",void 0),o([K.Property(!0)],r.prototype,"visible",void 0),o([K.Property(0)],r.prototype,"minorTicksPerInterval",void 0),o([K.Property(0)],r.prototype,"labelRotation",void 0),o([K.Property(null)],r.prototype,"titleRotation",void 0),o([K.Property(null)],r.prototype,"crossesAt",void 0),o([K.Property(!0)],r.prototype,"placeNextToAxisLine",void 0),o([K.Property(null)],r.prototype,"crossesInAxis",void 0),o([K.Property(null)],r.prototype,"minimum",void 0),o([K.Property(null)],r.prototype,"maximum",void 0),o([K.Property(null)],r.prototype,"interval",void 0),o([K.Property(34)],r.prototype,"maximumLabelWidth",void 0),o([K.Property(!1)],r.prototype,"enableTrim",void 0),o([K.Property(5)],r.prototype,"labelPadding",void 0),o([K.Property(5)],r.prototype,"titlePadding",void 0),o([K.Complex({},Pi)],r.prototype,"majorTickLines",void 0),o([K.Complex({},Di)],r.prototype,"minorTickLines",void 0),o([K.Complex({},fi)],r.prototype,"majorGridLines",void 0),o([K.Complex({},xi)],r.prototype,"minorGridLines",void 0),o([K.Complex({},wi)],r.prototype,"lineStyle",void 0),o([K.Property(K.Browser.isDevice?"Rotate45":"Trim")],r.prototype,"labelIntersectAction",void 0),o([K.Property(!1)],r.prototype,"isInversed",void 0),o([K.Property(100)],r.prototype,"coefficient",void 0),o([K.Property(0)],r.prototype,"startAngle",void 0),o([K.Property(!0)],r.prototype,"startFromZero",void 0),o([K.Property(null)],r.prototype,"description",void 0),o([K.Property(2)],r.prototype,"tabIndex",void 0),o([K.Collection([],Jt)],r.prototype,"stripLines",void 0),o([K.Collection([],ii)],r.prototype,"multiLevelLabels",void 0),o([K.Complex({color:null,width:0,type:"Rectangle"},Yt)],r.prototype,"border",void 0),o([K.Complex({},t)],r.prototype,"scrollbarSettings",void 0);var Ei,Ii=r;function r(e,t,i,o){e=Ei.call(this,e,t,i,o)||this;return e.visibleLabels=[],e.series=[],e.rect=new $.Rect(void 0,void 0,0,0),e.axisBottomLine=null,e.intervalDivs=[10,5,2,1],e.isStack100=!1,e.crossAt=null,e.updatedRect=null,e.multiLevelLabelHeight=0,e.isChart=!0,e.isIntervalInDecimal=!0,e.titleCollection=[],e.titleSize=new $.Size(0,0),e.internalVisibility=!0,e.isRTLEnabled=!1,e.angle=e.labelRotation,e}var Oi,zi=function(e,t,i,o,r,n,a){void 0===r&&(r=new $.Size(0,0)),void 0===n&&(n=new $.Size(0,0)),void 0===a&&(a=1),this.text=e,this.originalText=o,this.value=t,this.labelStyle=i,this.size=r,this.breakLabelSize=n,this.index=a},i=(Oi=function(e,t){return(Oi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}Oi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function Bi(e,n,a){for(var t=K.extend([],e,null),i=0;i<t.length;i++)for(var o=0;o<n.length;o++)t[i][n[o]]instanceof Date&&(t[i][n[o]]=t[i][n[o]].getTime());return t.sort(function(e,t){for(var i=0,o=0,r=0;r<n.length;r++)i+=e[n[r]],o+=t[n[r]];return!a&&i<o||a&&o<i?-1:i===o?0:1}),t}function Ni(e){return-1!==e.indexOf("<br>")}function Vi(e){for(var t,i=K.extend([],e.points,null,!0),o=[],r=0,n=0;n<i.length;n++)t=i[n],K.isNullOrUndefined(t.x)||(t.index=r++,o.push(t));return o}function Hi(e,t,i,o,r){var n,a,l=o.element.style.transform,s=(l&&(o.element.style.transform=""),new $.SvgRenderer(o.element.id)),h=[],c={id:"rotate_text",x:o.initialClipRect.x,y:o.initialClipRect.y,"font-size":e.size||r.size,"font-style":e.fontStyle||r.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight||r.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},r=Ni(t)?(h=t.split("<br>"))[0]:t,d=s.createText(c,r);if(o.delayRedraw||o.redraw||o.stockChart||o.element.appendChild(o.svgObject),"string"!=typeof h&&1<h.length)for(var p=1,u=h.length;p<u;p++)a=$.measureText(h[p],e,o.themeStyle.axisLabelFont).height,n=h[p],a=s.createTSpan({x:c.x,id:c.id,y:c.y+p*a},n),d.appendChild(a);o.svgObject.appendChild(d);var g,r=d.getBoundingClientRect();return l&&(o.element.style.transform=l),K.remove(d),o.delayRedraw||o.redraw||o.stockChart||o.pointsAdded||K.remove(o.svgObject),o.enableCanvas?(l=$.measureText(t,e,o.themeStyle.axisLabelFont).width,t=$.measureText(t,e,o.themeStyle.axisLabelFont).height,i=i*Math.PI/180,g=Math.abs(Math.cos(i)*l)+Math.abs(Math.sin(i)*t),l=Math.abs(Math.sin(i)*l)+Math.abs(Math.cos(i)*t),new $.Size(g,l)):new $.Size(r.right-r.left,r.bottom-r.top)}function w(e){if(!e)return null;e="string"==typeof e?J(e):e;e&&K.remove(e)}function ji(e,t){return Math.log(e)/Math.log(t)}function Wi(e,t,i,o,r,n,a,l){var s=document.getElementById(r),h=$.measureText(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}),c=h.width+5;t=o<t+c?t-(c+15):t,i=l?i-h.height/2:i+15,s?(s.innerText=e,s.style.top=i.toString()+"px",s.style.left=(t+15).toString()+"px"):((s=K.createElement("div",{id:r,styles:"top:"+i.toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'})).innerText=e,n.appendChild(s),parseInt(s.style.left.replace("px",""),10)<0&&(s.style.left="0px")),a&&setTimeout(function(){w(r)},1500)}function Ui(e,t){return e<t.max&&e>t.min}function Xi(e,t){return e<=t.max&&e>=t.min}function Gi(e,t){return"Logarithmic"===t.valueType?ji(e,t.logBase):e}function Yi(e,t,i,o){var t=Gi(t.xValue,o.xAxis),e=e?Gi(e.xValue,o.xAxis):t,i=i?Gi(i.xValue,o.xAxis):t,r=Math.floor(o.xAxis.visibleRange.min),o=Math.ceil(o.xAxis.visibleRange.max);return r<=e&&e<=o||r<=t&&t<=o||r<=i&&i<=o||e<=r&&r<=i}function Zi(e){for(var t=0,i=0,o=e;i<o.length;i++)t+=o[i];return t}function qi(e,t,i,o,r){var n=0;if(null!==o)for(var a=t+1;a<i;a++)-1===o.indexOf(a)&&(n+=e[a][r.yName]);else for(a=t+1;a<i;a++)K.isNullOrUndefined(e[a][r.yName])||(n+=e[a][r.yName]);return n}function Qi(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function Ki(e,t){return e.x+=t.x,e.y+=t.y,e.width-=t.x+t.width,e.height-=t.y+t.height,e}function $i(e,t,i){e=e*Math.PI/180;return new ee(Math.cos(e)*t+i.x,Math.sin(e)*t+i.y)}function Ji(e){return e*(Math.PI/180)}function eo(e,t,i,o){for(var r=[],n=0;n<4;n++){var a=e[n],l=a.x-t,s=a.y-i,h=l*Math.cos(Ji(o))-s*Math.sin(Ji(o)),l=l*Math.sin(Ji(o))+s*Math.cos(Ji(o));a.x=h+t,a.y=l+i,r.push(new ee(a.x,a.y))}return r}function to(e,t){for(var i,o,r,n,a=[e,t],l=0;l<a.length;l++)for(var s=a[l],h=0;h<s.length;h++){for(var c=(h+1)%s.length,d=s[h],c=s[c],p=new ee(c.y-d.y,d.x-c.x),u=i=void 0,g=0;g<e.length;g++)o=p.x*e[g].x+p.y*e[g].y,(K.isNullOrUndefined(u)||o<u)&&(u=o),(K.isNullOrUndefined(i)||i<o)&&(i=o);for(r=n=void 0,g=0;g<t.length;g++)o=p.x*t[g].x+p.y*t[g].y,(K.isNullOrUndefined(r)||o<r)&&(r=o),(K.isNullOrUndefined(n)||n<o)&&(n=o);if(i<r||n<u)return!1}return!0}function io(e,t){t=Math.atan2(t.y-e.y,t.x-e.x);return(t<0?6.283+t:t)*(180/Math.PI)}function oo(e,t){for(var i=[],o=0;o<=t-1;o++)i.push(e[o]);return i}function ro(e,t){var i=t.visibleRange,e=(e-i.min)/i.delta;return(t.isChart?t.isAxisInverse:t.isInversed)?1-e:e}function no(e,t,i,o,r,n){e="Logarithmic"===i.valueType?ji(1<e?e:1,i.logBase):e,t="Logarithmic"===o.valueType?ji(1<t?t:1,o.logBase):t,e+="Category"===i.valueType&&"BetweenTicks"===i.labelPlacement&&"Radar"!==n.type?.5:0;t=n.chart.radius*ro(t,o),o=lo(so(e,i),n.chart.primaryXAxis.startAngle);return{x:n.clipRect.width/2+n.clipRect.x+t*o.x,y:n.clipRect.height/2+n.clipRect.y+t*o.y}}function ao(e,t){void 0===t&&(t=!1);var i=["NaN","NaN"];return-1<e.indexOf("_Point_")?i=e.split("_Series_")[1].split("_Point_"):-1<e.indexOf("_shape_")&&(!t||-1===e.indexOf("_legend_"))?(i=e.split("_shape_"))[0]="0":-1<e.indexOf("_text_")&&(!t||-1===e.indexOf("_legend_"))&&((i=e.split("_text_"))[0]="0"),new ke(parseInt(i[0],10),parseInt(i[1],10))}function lo(e,t){t=t<0?t+360:t;e=Math.PI*(1.5-2*e);return e+=t*Math.PI/180,{x:Math.cos(e),y:Math.sin(e)}}function so(e,t){var i,o,r=t.visibleRange;return"Category"!==t.valueType?(i=r.max-("DateTime"===t.valueType?t.dateTimeInterval:r.interval)-r.min,o=t.visibleLabels.length-1,i=0===i?1:i):(i=1===t.visibleLabels.length?1:t.visibleLabels[t.visibleLabels.length-1].value-t.visibleLabels[0].value,o=t.visibleLabels.length),t.isAxisInverse?(e-r.min)/i*(1-1/o):1-(e-r.min)/i*(1-1/o)}var ho=function(e,t,i,o,r,n){this.verticalStandardMean=e,this.horizontalStandardMean=i,this.verticalSquareRoot=t,this.horizontalSquareRoot=o,this.verticalMean=r,this.horizontalMean=n},co=function(e,t,i,o,r){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.radius=o,this.currentXPosition=r};function po(e,t,i,o,r){var n=J(e),i="top:"+i.toString()+"px;left:"+o.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:"+r+";border-radius:2px; z-index:1";n?(n.setAttribute("innerHTML","&nbsp;"+t+"&nbsp;"),n.setAttribute("styles",i)):(n=K.createElement("div",{id:e,innerHTML:"&nbsp;"+t+"&nbsp;",styles:i}),document.body.appendChild(n))}function uo(e,t,i,o,r,n){for(var a,l,s,h=t.isAxisOpposedPosition,c=e.enableRtl?"end":r?"start":"auto",d=e.availableSize.width,p=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0,u=e.enableRtl&&!r&&!t.isInversed||t.isInversed&&!(e.enableRtl&&!r),g=0;g<2;g++){var m,y=$.measureText(g?u?t.startLabel:t.endLabel:u?t.endLabel:t.startLabel,t.labelStyle,e.themeStyle.axisLabelFont),f=r?(s=g?new ee(n.x-p,n.y+3):new ee(t.rect.x-p,n.y+n.height-3),a=n.x+(h?n.width+5+p:-(y.width+5+5+p)),l=n.y+(g?0:n.height-y.height-5),a+=a<0||d<a+y.width+5?h?-y.width/2:y.width/2:0,go(3,3,new $.Rect(a,l,y.width+5,y.height+5),s,5,!1,!1,!h,s.x,s.y+(g?-3:3))):(s=new ee(g?n.x+n.width-3:n.x+3,n.y+n.height+p),a=n.x+(g?n.width-y.width-5:0),l=h?n.y-y.height-10-p:n.y+n.height+5+p,go(3,3,new $.Rect(a,l,y.width+5,y.height+5),s,5,h,!h,!1,s.x+(g?3:-3),s.y));a+=2.5,l=l+y.height/4*3+2.5,y=e.renderer.drawPath({id:e.element.id+"_Zoom_"+o+"_AxisLabel_Shape_"+g,fill:e.themeStyle.crosshairFill,width:2,color:e.themeStyle.crosshairFill,opacity:1,"stroke-dasharray":null,d:f},null),i.appendChild(y),"Fluent"!==e.theme&&"FluentDark"!==e.theme||(f=e.element.id+"_shadow",y.setAttribute("filter",K.Browser.isIE?"":"url(#"+f+")"),f='<filter id="'+f+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>',f+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',(m=e.renderer.createDefs()).setAttribute("id",e.element.id+"SVG_tooltip_definition"),i.appendChild(m),m.innerHTML=f,y.setAttribute("stroke","#cccccc"),y.setAttribute("stroke-width","0.5")),gr(e.renderer,new $.TextOption(e.element.id+"_Zoom_"+o+"_AxisLabel_"+g,a,l,c,g?u?t.startLabel:t.endLabel:u?t.endLabel:t.startLabel),{color:e.themeStyle.crosshairLabelFont.color,fontFamily:"Segoe UI",fontWeight:"Regular",size:"11px"},e.themeStyle.crosshairLabelFont.color,i,null,null,null,null,null,null,0,null,null,null,e.themeStyle.crosshairLabelFont)}return i}function go(e,t,i,o,r,n,a,l,s,h){var c="",d=i.x,p=i.y,u=i.x+i.width,i=i.y+i.height;return c=n?(c=(c=(c=c.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p)).concat(" L "+(u-e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t))).concat(" L "+u+" "+(i-t)+" Q "+u+" "+i+" "+(u-e)+" "+i),0!==r&&(c=(c=c.concat(" L "+(o.x+r/2)+" "+i)).concat(" L "+s+" "+(i+r)+" L "+(o.x-r/2)+" "+i)),o.x-r/2>d||0===r?c.concat(" L "+(d+e)+" "+i+" Q "+d+" "+i+" "+d+" "+(i-t)+" z"):c.concat(" L "+d+" "+(i+t)+" z")):a?(c=(c=(c=(c=(c=c.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p+" L "+(o.x-r/2)+" "+p)).concat(" L "+s+" "+o.y)).concat(" L "+(o.x+r/2)+" "+p)).concat(" L "+(u-e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t))).concat(" L "+u+" "+(i-t)+" Q "+u+" "+i+" "+(u-e)+" "+i)).concat(" L "+(d+e)+" "+i+" Q "+d+" "+i+" "+d+" "+(i-t)+" z"):l?(c=(c=(c=(c=(c=c.concat("M "+d+" "+(p+t)+" Q "+d+" "+p+" "+(d+e)+" "+p)).concat(" L "+(u-e)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+t)+" L "+u+" "+(o.y-r/2))).concat(" L "+(u+r)+" "+h)).concat(" L "+u+" "+(o.y+r/2))).concat(" L "+u+" "+(i-t)+" Q "+u+" "+i+" "+(u-e)+" "+i)).concat(" L "+(d+e)+" "+i+" Q "+d+" "+i+" "+d+" "+(i-t)+" z"):(c=(c=(c=(c=(c=c.concat("M "+(d+e)+" "+p+" Q "+d+" "+p+" "+d+" "+(p+t)+" L "+d+" "+(o.y-r/2))).concat(" L "+(d-r)+" "+h)).concat(" L "+d+" "+(o.y+r/2))).concat(" L "+d+" "+(i-t)+" Q "+d+" "+i+" "+(d+e)+" "+i)).concat(" L "+(u-e)+" "+i+" Q "+u+" "+i+" "+u+" "+(i-t))).concat(" L "+u+" "+(p+t)+" Q "+u+" "+p+" "+(u-e)+" "+p+" z")}function mo(e,t,i,o,r){return void 0===r&&(r=0),e>=i.x-(o=void 0===o?0:o)&&e<=i.x+i.width+o&&t>=i.y-r&&t<=i.y+i.height+r}function yo(e,t,i){return(i.isAxisInverse?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}function fo(e,t,i){return(i.isAxisInverse?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}function vo(e,t){var i=e.clipRect;!(t=void 0===t?!1:t)||"Polar"!==e.type&&"Radar"!==e.type?e.chart.requireInvertedAxis?(i.x=e.yAxis.rect.x,i.y=e.xAxis.rect.y,i.width=e.yAxis.rect.width,i.height=e.xAxis.rect.height):(i.x=e.xAxis.rect.x,i.y=e.yAxis.rect.y,i.width=e.xAxis.rect.width,i.height=e.yAxis.rect.height):("Scatter"===e.drawType?(i.x=e.xAxis.rect.x,i.y=e.yAxis.rect.y):(i.x=e.xAxis.rect.x/2,i.y=e.yAxis.rect.y/2),i.width=e.xAxis.rect.width,i.height=e.yAxis.rect.height)}function bo(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function xo(e,t,i){var o,r,n,i=(i?(o=t.rect.x,r=e.rect.y,n=t.rect.width,e):(o=e.rect.x,r=t.rect.y,n=e.rect.width,t)).rect.height;return new $.Rect(o,r,n,i)}function So(e,t){for(var i,o,r=Number.MAX_VALUE,n=[],a=0;a<t.length;a++){var l=t[a],s=[];if(l.visible&&(e.name===l.xAxisName||"primaryXAxis"===e.name&&null===l.xAxisName||e.name===l.chart.primaryXAxis.name&&!l.xAxisName))if(-1<l.type.indexOf("Stacking")&&-1===n.indexOf(l.stackingGroup)&&n.push(l.stackingGroup),(s=l.points.map(function(e){return e.xValue})).sort(function(e,t){return e-t}),1===s.length)o="DateTime"===e.valueType&&l.xMin===l.xMax?l.xMin-2592e4:l.xMin,0!==(i=s[0]-(K.isNullOrUndefined(o)?e.visibleRange.min:o))&&(r=Math.min(r,i));else for(var h=0;h<s.length;h++){var c=s[h];0<h&&c&&0!==(i=-1<l.type.indexOf("Stacking")&&"Category"===e.valueType?n.length:c-s[h-1])&&(r=Math.min(r,i))}}return r=r===Number.MAX_VALUE?1:r}function Co(e){var t;return t="Linear"===e?wo:t}function wo(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t}function Fo(t,e,i,o,r,n,a){var l=n.x,s=n.y,h=0,c=(t.style.visibility="hidden",t.getAttribute("transform"));new K.Animation({}).animate(t,{duration:i,delay:e,progress:function(e){e.timeStamp>e.delay&&(e.element.style.visibility="visible",h=(e.timeStamp-e.delay)/e.duration,t.setAttribute("transform","translate("+l+" "+s+") scale("+h+") translate("+-l+" "+-s+")"))},end:function(){t.style.visibility="",t.setAttribute("transform",c||""),"Scatter"!==o.type&&"Bubble"!==o.type||a||r!==o.points.length-1||o.chart.trigger("animationComplete",{series:o.chart.isBlazor?{}:o})}})}function Lo(t,e,i,o,r){function n(e){t.setAttribute("x",e.x+""),t.setAttribute("y",e.y+""),t.setAttribute("width",e.width+""),t.setAttribute("height",e.height+"")}new K.Animation({}).animate(K.createElement("div"),{duration:i,delay:e,progress:function(e){n(new $.Rect(wo(e.timeStamp,r.x,o.x-r.x,e.duration),wo(e.timeStamp,r.y,o.y-r.y,e.duration),wo(e.timeStamp,r.width,o.width-r.width,e.duration),wo(e.timeStamp,r.height,o.height-r.height,e.duration)))},end:function(){n(o)}})}function Po(e,t,i,o,r){if(!i||!o&&!e)return null;var n,a,l,s,h,i=300,r=(K.isNullOrUndefined(r)||(i=r),o||e.getAttribute("d")),c=r.split(/(?=[LMCZAQ])/),d=t.split(/(?=[LMCZAQ])/);e.setAttribute("d",r),new K.Animation({}).animate(K.createElement("div"),{duration:i,progress:function(i){n="",c.map(function(e,t){if(a=e.split(" "),l=d[t]?d[t].split(" "):a,"Z"===a[0]?n+="Z ":""===a[0]?n="":n+=a[0]+" "+wo(i.timeStamp,+a[1],+l[1]-+a[1],i.duration)+" "+wo(i.timeStamp,+a[2],+l[2]-+a[2],i.duration)+" ","C"===a[0]||"Q"===a[0])for(s=3,h="Q"===a[0]?4:6;s<h;)n+=wo(i.timeStamp,+a[s],+l[s]-+a[s],i.duration)+" "+wo(i.timeStamp,+a[++s],+l[s]-+a[s],i.duration)+" ",++s;"A"===a[0]&&(n+="0 0 1 "+wo(i.timeStamp,+a[6],+l[6]-+a[6],i.duration)+" "+wo(i.timeStamp,+a[7],+l[7]-+a[7],i.duration)+" ")}),e.setAttribute("d",n)},end:function(){e.setAttribute("d",t)}})}function Ao(u,e,t,i,o,r){if(!t||!i&&!u)return null;var g=300,m=(K.isNullOrUndefined(o)||(g=o),i||u.getAttribute("d")),y=e,f="";u.setAttribute("d",m),new K.Animation({}).animate(K.createElement("div"),{duration:g,progress:function(e){f="";for(var t=m.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),i=y.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),o=Math.max(t.length,i.length),r=0;r<o;r++){for(var n=t[r]||"",a=i[r]||"",l=n.trim().split(/\s+/),s=a.trim().split(/\s+/),h=[],c=1;c<l.length;c++){var d=parseFloat(l[c]),p=parseFloat(s[c]);isNaN(d)||isNaN(p)||l.length!==s.length||(p=wo(e.timeStamp,d,p-d,g),h.push(p))}l.length!==s.length?f+="L":f+=l[0],f=f+(" "+h.join(" "))+" "}u.setAttribute("d",f)},end:function(){u.setAttribute("d",r||e)}})}function Mo(e,t,i,o){void 0===o&&(o="drawClipPath");var r,e=pr(e,t.id,t,i);return e?((r=i.createDefs()).appendChild(e),r):i[o](t)}function Do(e,t,i,o,r){i={cancel:!1,name:ct,axis:r,text:i,value:t,labelStyle:o};e.trigger(ct,i),i.cancel||(t=-1!==i.text.indexOf("<br>"),o=r.enableTrim?t?cr(r.maximumLabelWidth,i.text,r.labelStyle,e.themeStyle.axisLabelFont):hr(r.maximumLabelWidth,i.text,r.labelStyle,e.enableRtl,e.themeStyle.axisLabelFont):i.text,r.visibleLabels.push(new zi(o,i.value,i.labelStyle,i.text)))}function ko(e){return null!=e.minimum&&null!=e.maximum}function Ro(e){return e.zoomFactor<1&&0<=e.zoomPosition}function To(e,t){var i,e="Horizontal"===t.orientation?e.width:e.height;return K.isNullOrUndefined(t.desiredIntervals)?(i=("Horizontal"===t.orientation?.533:1)*t.maximumLabels,Math.max(e*(i/100),1)):t.desiredIntervals}function _o(e,t,i,o,r){new K.Animation({}).animate(e,{duration:i,delay:t,name:o,progress:function(e){e.element.style.visibility="visible"},end:function(e){r?K.remove(e.element):e.element.style.visibility="visible"}})}function Eo(e,t,i,o,r,n,a,l,s,h){a=a||new $.SvgRenderer(""),e=Io(e,i,t,r,o,s,h);return a["draw"+e.functionName](e.renderOption,l?new Int32Array([l.x,l.y]):null)}function Io(e,t,i,o,r,n,a){var l,s,h,c="Path",d=n&&"Circle"===i?t.width-2:t.width,p=n&&"Circle"===i?t.height-2:t.height,u=n?a.targetWidth:0,g=e.x,m=e.y,y=e.y+-p/2,f=e.x+-d/2;switch(i){case"Bubble":case"Circle":c="Ellipse",K.merge(o,{rx:d/2,ry:p/2,cx:g,cy:m});break;case"Plus":K.merge(o,{d:l="M "+f+" "+m+" L "+(g+d/2)+" "+m+" M "+g+" "+(m+p/2)+" L "+g+" "+(m+-p/2)});break;case"Cross":K.merge(o,{d:l="M "+f+" "+(m+-p/2)+" L "+(g+d/2)+" "+(m+p/2)+" M "+f+" "+(m+p/2)+" L "+(g+d/2)+" "+(m+-p/2)});break;case"Multiply":K.merge(o,{d:l="M "+(g-u)+" "+(m-u)+" L "+(g+u)+" "+(m+u)+" M "+(g-u)+" "+(m+u)+" L "+(g+u)+" "+(m-u),stroke:o.fill});break;case"HorizontalLine":K.merge(o,{d:l="M "+f+" "+m+" L "+(g+d/2)+" "+m});break;case"VerticalLine":K.merge(o,{d:l="M "+g+" "+(m+p/2)+" L "+g+" "+(m+-p/2)});break;case"Diamond":K.merge(o,{d:l="M "+f+" "+m+" L "+g+" "+(m+-p/2)+" L "+(g+d/2)+" "+m+" L "+g+" "+(m+p/2)+" L "+f+" "+m+" z"});break;case"ActualRect":K.merge(o,{d:l="M "+f+" "+(m+-p/8)+" L "+(g+u)+" "+(m+-p/8)+" L "+(g+u)+" "+(m+p/8)+" L "+f+" "+(m+p/8)+" L "+f+" "+(m+-p/8)+" z"});break;case"TargetRect":K.merge(o,{d:l="M "+(f+u)+" "+(m+-p/2)+" L "+(g+u/2)+" "+(m+-p/2)+" L "+(g+u/2)+" "+(m+p/2)+" L "+(f+u)+" "+(m+p/2)+" L "+(f+u)+" "+(m+-p/2)+" z"});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"RangeStepArea":case"StackingStepArea":case"Square":case"Flag":K.merge(o,{d:l="M "+f+" "+(m+-p/2)+" L "+(g+d/2)+" "+(m+-p/2)+" L "+(g+d/2)+" "+(m+p/2)+" L "+f+" "+(m+p/2)+" L "+f+" "+(m+-p/2)+" z"});break;case"Pyramid":case"Triangle":K.merge(o,{d:l="M "+f+" "+(m+p/2)+" L "+g+" "+(m+-p/2)+" L "+(g+d/2)+" "+(m+p/2)+" L "+f+" "+(m+p/2)+" z"});break;case"Funnel":case"InvertedTriangle":K.merge(o,{d:l="M "+(g+d/2)+" "+(m-p/2)+" L "+g+" "+(m+p/2)+" L "+(g-d/2)+" "+(m-p/2)+" L "+(g+d/2)+" "+(m-p/2)+" z"});break;case"Pentagon":for(var v=0;v<=5;v++)s=d/2*Math.cos(Math.PI/180*(72*v)),h=p/2*Math.sin(Math.PI/180*(72*v)),l=0===v?"M "+(g+s)+" "+(m+h)+" ":l.concat("L "+(g+s)+" "+(m+h)+" ");l=l.concat("Z"),K.merge(o,{d:l});break;case"Image":c="Image",K.merge(o,{href:r,height:p,width:d,x:f,y:y})}return{renderOption:o=sr(e,new $.Size(d,p),i,o).renderOption,functionName:c}}function Oo(e,t,i){var o=t.x<i.x?i.x:t.x>i.x+i.width?i.x+i.width:t.x,i=t.y<i.y?i.y:t.y>i.y+i.height?i.y+i.height:t.y;return new $.Rect(o>e.x?e.x:o,i>e.y?e.y:i,Math.abs(o-e.x),Math.abs(i-e.y))}function zo(e,t,i){return i<e?i:e<t?t:e}function J(e){return document.getElementById(e)}function Bo(t){var i=null;try{i="function"!=typeof t&&document.querySelectorAll(t).length?K.compile(document.querySelector(t).innerHTML.trim()):K.compile(t)}catch(e){i=K.compile(t)}return i}function No(e,t,i,o,r,n,a,l,s,h){var c=e.getBoundingClientRect();t.accumulationDataLabelModule.calculateLabelSize(i,e,n,o,r,a,l,s,h,c,!0)}function Vo(e,t,i,o,r,n){var a=document.getElementById(t.element.id+"_Series_"+(void 0===o.index?o.category:o.index)+"_DataLabelCollections");a&&(0===i.index&&(t.dataLabelCollections=[]),t.dataLabelModule.calculateTemplateLabelSize(a,e,i,o,o.marker.dataLabel,r,o.clipRect,n,!0))}function Ho(e,t,i,o,r,n,a,l,s,h,c,d,p,u,g){i=Bo(i);try{var m=window.Blazor?a?r:{point:r}:{chart:o,series:n,point:r},y=i?i(m,o,a?a+"_template":"template",a||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(y.length)for(var f,v=(f=Array.prototype.slice.call(y)).length,b=0;b<v;b++)e.appendChild(f[b]);var x=void 0;"accumulationchart"===o.getModuleName()?(x=No.bind(this,e,o,h,c,s,c[t],d,p,u,g),o.isReact&&o.renderReactTemplates(x)):"chart"===o.getModuleName()&&(x=r&&n?Vo.bind(this,e,o,r,n,l,g):x,o.isReact)&&o.renderReactTemplates(x)}catch(e){}return e}function jo(e,t){return"font-size:"+(e.size||t.size)+"; font-style:"+(e.fontStyle||t.fontStyle)+"; font-weight:"+(e.fontWeight||t.fontWeight)+"; font-family:"+e.fontFamily+";opacity:"+e.opacity+"; color:"+e.color+";"}function Wo(e,t,i){void 0===t&&(t=!1),i||document.body.appendChild(e);var o=e.getBoundingClientRect();return t?K.remove(e):i||w(e.id),o}function Uo(e,t){for(var i,o=0,r=e.length;o<r;o++)-1<e[o].id.indexOf(t)&&(i=e[o]);return i}function A(e,t,i,o,r){e="Logarithmic"===i.valueType?ji(0<e?e:Math.pow(i.logBase,i.visibleRange.min),i.logBase):e,t="Logarithmic"===o.valueType?ji(0<t?t:Math.pow(o.logBase,o.visibleRange.min),o.logBase):t,e=ro(e,i),t=ro(t,o);i=r?i.rect.height:i.rect.width,o=r?o.rect.width:o.rect.height;return new ee(r?t*o:e*i,r?(1-e)*i:(1-t)*o)}function Xo(e,t,i,o,r,n,a){if(void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===r&&(r="x"),void 0===n&&(n="y"),!(e&&e.hasChildNodes()&&t))return null;q(!1,t,e,i,o,r,n,void 0,void 0,void 0,void 0,void 0,a)}function q(e,t,i,o,r,n,a,l,s,h,c,d,p,u,g,m){if(void 0===r&&(r=!1),void 0===n&&(n="x"),void 0===a&&(a="y"),void 0===h&&(h=!1),void 0===c&&(c=!1),void 0===d&&(d=null),void 0===g&&(g=0),e)return null;var e=(u=void 0===u?!1:u)?null:t.querySelector("#"+i.id),u=e||J(i.id),y=i,p=K.isNullOrUndefined(p)?300:p;o&&r&&u?(l=l||("DIV"===u.tagName?new ee(+u.style[n].split("px")[0],+u.style[a].split("px")[0]):new ee(+u.getAttribute(n),+u.getAttribute(a))),s&&"undefined"!==s?Po(i,i.getAttribute("d"),o,s,p):c&&d?Lo(y,0,p,new $.Rect(+u.getAttribute("x"),+u.getAttribute("y"),+u.getAttribute("width"),+u.getAttribute("height")),d):(i="DIV"===y.tagName?new ee(+y.style[n].split("px")[0],+y.style[a].split("px")[0]):new ee(+y.getAttribute(n),+y.getAttribute(a)),ur(y,p,l,i,n,a,g,m,(s=u.getAttribute("transform"))?new ee(parseFloat(s.split(",")[1]),parseFloat(s.split(",")[2])):new ee(0,0)))):o&&r&&!u&&h&&_o(y,0,600,"FadeIn"),e?t.replaceChild(y,u):t.appendChild(y)}function Go(e,t,i,o,r){var n=Math.abs(e-i),a=Math.abs(t-o),e=Math.max(Yo(Math.min(e,i),n,r.x,r.width),r.x),i=Math.max(Yo(Math.min(t,o),a,r.y,r.height),r.y);return new $.Rect(e,i,Math.min(n,r.width),Math.min(a,r.height))}function Yo(e,t,i,o){return e<i?e=i:o+i<e+t&&(e=o+i-t),e}function Zo(e,t,i){var o=t.marker.dataLabel.format||t.yAxis.labelFormat,r=[],n=null!==o.match("{value}");switch(t.seriesType){case"XY":"PolarRadar"===t.chart.chartAreaType?-1!==t.drawType.indexOf("Stacking")?("Logarithmic"===t.yAxis.valueType&&Gi(t.stackedValues.endValues[e.index],t.yAxis)||Xi(t.stackedValues.endValues[e.index],t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):("Logarithmic"===t.yAxis.valueType&&Gi(e.yValue,t.yAxis)||Xi(e.yValue,t.yAxis.visibleRange))&&r.push(e.text||e.yValue.toString()):r.push(e.text||e.yValue.toString());break;case"HighLow":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString());break;case"HighLowOpenClose":r.push(e.text||Math.max(e.high,e.low).toString()),r.push(e.text||Math.min(e.high,e.low).toString()),r.push(e.text||Math.max(e.open,e.close).toString()),r.push(e.text||Math.min(e.open,e.close).toString());break;case"BoxPlot":r.push(e.text||e.median.toString()),r.push(e.text||e.maximum.toString()),r.push(e.text||e.minimum.toString()),r.push(e.text||e.upperQuartile.toString()),r.push(e.text||e.lowerQuartile.toString());for(var a=0,l=e.outliers;a<l.length;a++){var s=l[a];r.push(e.text||s.toString())}}if((o||i.useGroupingSeparator)&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:n?"":o,useGrouping:i.useGroupingSeparator});for(var h=0;h<r.length;h++)r[h]=n?o.replace("{value}",t.yAxis.format(parseFloat(r[h]))):t.yAxis.format(parseFloat(r[h]))}return r}function qo(e){window.clearInterval(e)}function Qo(e,t,i){var o=new $.Rect(e.x+i.x,e.y+i.y,e.width,e.height);return t.some(function(e){return o.x<e.x+e.width&&o.x+o.width>e.x&&o.y<e.y+e.height&&o.height+o.y>e.y})}function Ko(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function $o(e,t){return e.x<=t.x&&e.x+e.width>=t.x+t.width&&e.y<=t.y&&e.height+e.y>=t.y+t.height}function Jo(e,t,i){return new $.Rect(e.x-t.width/2-i.left,e.y-t.height/2-i.top,t.width+i.left+i.right,t.height+i.top+i.bottom)}function er(e){return"#"+tr(e.r)+tr(e.g)+tr(e.b)}function tr(e){e=e.toString(16);return 1===e.length?"0"+e:e}function ir(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?new Ir(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):new Ir(255,255,255)}function or(e){e="transparent"===e?"white":e,document.body.appendChild(K.createElement("text",{id:"chartmeasuretext"}));var t,i=document.getElementById("chartmeasuretext");return i.style.color=e,e=window.getComputedStyle(i).color,K.remove(i),0!==e.indexOf("rgb")&&0!==e.indexOf("hsl")||(t=(e=e.replace(/\s/g,"").replace(/[()]/g,"")).slice(3).split(",")),er(new Ir(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)))}function rr(e){if(0===e.indexOf("rgba(")||0===e.indexOf("rgb(")){var t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");if(3===t.length||4===t.length)return t.every(function(e){e=parseFloat(e);return!isNaN(e)&&0<=e&&e<=255})}else if(0===e.indexOf("#"))return(3===(t=e.substring(1)).length||6===t.length)&&/^[0-9A-Fa-f]{3,6}$/.test(t);return!1}function nr(e,t){(e=(e=or(e)).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i,o="#",r=0;r<3;r++)i=parseInt(e.substr(2*r,2),16),o+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255))).toString(16)).substr(i.toString(16).length);return o}function ar(e,t){e=ir(e);return e.r=parseInt(Math.floor(e.r*t).toString(),10),e.g=parseInt(Math.floor(e.g*t).toString(),10),e.b=parseInt(Math.floor(e.b*t).toString(),10),"#"+tr(e.r).toUpperCase()+tr(e.g).toUpperCase()+tr(e.b).toUpperCase()}function lr(e){var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function sr(e,t,i,o){var r,n,a,l,s,h,c="",d=t.height,p=t.width,u=e.x,g=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":K.merge(o,{d:c="M "+(u+.75*-p)+" "+g+" L "+(u+.75*p)+" "+g});break;case"StepLine":o.fill="transparent",K.merge(o,{d:c="M "+(u+-p/2-2.5)+" "+(g+d/2)+" L "+(u+-p/2+p/10)+" "+(g+d/2)+" L "+(u+-p/2+p/10)+" "+g+" L "+(u+-p/10)+" "+g+" L "+(u+-p/10)+" "+(g+d/2)+" L "+(u+p/5)+" "+(g+d/2)+" L "+(u+p/5)+" "+(g+-d/2)+" L "+(u+p/2)+" "+(g+-d/2)+"L "+(u+p/2)+" "+(g+d/2)+" L"+(u+p/2+2.5)+" "+(g+d/2)});break;case"UpArrow":o.fill=o.stroke,o.stroke="transparent",K.merge(o,{d:c="M "+(u+-p/2)+" "+(g+d/2)+" L "+u+" "+(g-d/2)+" L "+(u+p/2)+" "+(g+d/2)+"L "+(u+p/2-2)+" "+(g+d/2)+" L "+u+" "+(g-d/2+4)+"L"+(u-p/2+2)+" "+(g+d/2)+" Z"});break;case"DownArrow":K.merge(o,{d:c="M "+(u-p/2)+" "+(g-d/2)+" L "+u+" "+(g+d/2)+" L "+(u+p/2)+" "+(g-d/2)+"L "+(u+p/2-2)+" "+(g-d/2)+" L "+u+" "+(g+d/2-4)+"L"+(u-p/2+2)+" "+(g-d/2)+" Z"});break;case"RightArrow":K.merge(o,{d:c="M "+(u+-p/2)+" "+(g-d/2)+" L "+(u+p/2)+" "+g+" L "+(u+-p/2)+" "+(g+d/2)+" L "+(u+-p/2)+" "+(g+d/2-2)+" L "+(u+p/2-4)+" "+g+" L"+(u+-p/2)+" "+(g-d/2+2)+" Z"});break;case"LeftArrow":o.fill=o.stroke,o.stroke="transparent",K.merge(o,{d:c="M "+(u+p/2)+" "+(g-d/2)+" L "+(u+-p/2)+" "+g+" L "+(u+p/2)+" "+(g+d/2)+" L "+(u+p/2)+" "+(g+d/2-2)+" L "+(u+-p/2+4)+" "+g+" L"+(u+p/2)+" "+(g-d/2+2)+" Z"});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":K.merge(o,{d:c="M "+(u-p/5*3)+" "+(g-d/5)+" L "+(u+-p/10*3)+" "+(g-d/5)+" L "+(u+-p/10*3)+" "+(g+d/2)+" L "+(u-p/5*3)+" "+(g+d/2)+" Z M "+(u+-p/10-p/20)+" "+(g-d/4-5)+" L "+(u+p/10+p/20)+" "+(g-d/4-5)+" L "+(u+p/10+p/20)+" "+(g+d/2)+" L "+(u+-p/10-p/20)+" "+(g+d/2)+" Z M "+(u+p/10*3)+" "+g+" L "+(u+p/5*3)+" "+g+" L "+(u+p/5*3)+" "+(g+d/2)+" L "+(u+p/10*3)+" "+(g+d/2)+" Z"});break;case"Bar":case"StackingBar":case"StackingBar100":K.merge(o,{d:c="M "+(u+-p/2+-2.5)+" "+(g-d/5*3)+" L "+(u+p/10*3)+" "+(g-d/5*3)+" L "+(u+p/10*3)+" "+(g-d/10*3)+" L "+(u-p/2-2.5)+" "+(g-d/10*3)+" Z M "+(u+-p/2+-2.5)+" "+(g-d/5+.5)+" L "+(u+p/2+2.5)+" "+(g-d/5+.5)+" L "+(u+p/2+2.5)+" "+(g+d/10+.5)+" L "+(u-p/2-2.5)+" "+(g+d/10+.5)+" Z M "+(u-p/2-2.5)+" "+(g+d/5+1)+" L "+(u+-p/4)+" "+(g+d/5+1)+" L "+(u+-p/4)+" "+(g+d/2+1)+" L "+(u-p/2-2.5)+" "+(g+d/2+1)+" Z"});break;case"Spline":o.fill="transparent",K.merge(o,{d:c="M "+(u-p/2)+" "+(g+d/5)+" Q "+u+" "+(g-d)+" "+u+" "+(g+d/5)+" M "+u+" "+(g+d/5)+" Q "+(u+p/2)+" "+(g+d/2)+" "+(u+p/2)+" "+(g-d/2)});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":K.merge(o,{d:c="M "+(u-p/2-2.5)+" "+(g+d/2)+" L "+(u+-p/4+-1.25)+" "+(g-d/2)+" L "+u+" "+(g+d/4)+" L "+(u+p/4+1.25)+" "+(g+-d/2+d/4)+" L "+(u+d/2+2.5)+" "+(g+d/2)+" Z"});break;case"SplineArea":case"SplineRangeArea":K.merge(o,{d:c="M "+(u-p/2)+" "+(g+d/5)+" Q "+u+" "+(g-d)+" "+u+" "+(g+d/5)+" Z M "+u+" "+(g+d/5)+" Q "+(u+p/2)+" "+(g+d/2)+" "+(u+p/2)+" "+(g-d/2)+"  Z"});break;case"Pie":case"Doughnut":o.stroke="transparent";var m=Math.min(d,p)/2;a=d,l=p,s=$i(270,m=m,new ee(r=u,n=g)),h=$i(270,m,new ee(r+l/10,n)),c="M "+r+" "+n+" L "+(r+m)+" "+n+" A "+m+" "+m+" 0 1 1 "+s.x+" "+s.y+" Z M "+(r+l/10)+" "+(n-a/10)+" L"+(r+m)+" "+(n-a/10)+" A "+m+" "+m+" 0 0 0 "+h.x+" "+h.y+" Z",K.merge(o,{d:c})}return{renderOption:o}}function hr(e,t,i,o,r){var n=t;if(e<$.measureText(t,i,r).width)for(var a=t.length-1;0<=a;--a)if(n=o?"..."+t.substring(0,a):t.substring(0,a)+"...",$.measureText(n,i,r).width<=e)return n;return n}function cr(e,t,i,o){for(var r=[],n=t.split("<br>"),a=0;a<n.length;a++)if(t=n[a],e<$.measureText(t,i,o).width){for(var l=t.length-1;0<=l;--l)if(t=t.substring(0,l)+"...",$.measureText(t,i,o).width<=e){r.push(t);break}}else r.push(t);return r}function dr(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function pr(e,t,i,o){return e?((e=J(t))&&i&&o.setElementAttributes(i,"clipPath"===e.tagName?e.childNodes[0]:e),e):null}function ur(r,e,t,i,n,a,l,s,h){void 0===n&&(n="x"),void 0===a&&(a="y"),void 0===l&&(l=0),void 0===s&&(s=new ee(0,0)),void 0===h&&(h=new ee(0,0));function o(e,t,i,o){c?(r.style[n]=e+"px",r.style[a]=t+"px"):(r.setAttribute(n,e+""),r.setAttribute(a,t+""),l&&s.x&&s.y&&h.x&&h.y&&i&&o&&r.setAttribute("transform","rotate("+l+","+i+","+o+")"))}var c="DIV"===r.tagName;o(t.x,t.y,h.x,h.y),new K.Animation({}).animate(K.createElement("div"),{duration:e,progress:function(e){o(wo(e.timeStamp,t.x,i.x-t.x,e.duration),wo(e.timeStamp,t.y,i.y-t.y,e.duration),wo(e.timeStamp,h.x,s.x-h.x,e.duration),wo(e.timeStamp,h.y,s.y-h.y,e.duration))},end:function(){o(i.x,i.y,s.x,s.y)}})}function gr(e,t,i,o,r,n,a,l,s,h,c,d,p,u,g,m,y){void 0===n&&(n=!1),void 0===s&&(s=!1);var f,v,b,x=0,S=0;if(1<t.text.length&&g){for(var C=0,w=t.text.length;C<w;C++)S=Math.max(S,$.measureText(t.text[C],i,m).width);x=$.measureText(t.text[0],i,m).width}var F=1<t.text.length&&g?t.x+S/2-x/2:t.x,L={id:t.id,x:F,y:t.y,fill:o||"black","font-size":i.size||m.size,"font-style":i.fontStyle||m.fontStyle,"font-family":i.fontFamily||m.fontFamily,"font-weight":i.fontWeight||m.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine},o="string"==typeof t.text?t.text:n?t.text[t.text.length-1]:t.text[0],P=c?c.x:0,c=c?c.y:0,A=e.createText(L,o,P,c);if("string"!=typeof t.text&&1<t.text.length)for(C=1,w=t.text.length;C<w;C++)v=$.measureText(t.text[C],i,m).height,x=$.measureText(t.text[C],i,m).width,v=t.y+(n?-C*v:C*v),F=g?t.x+S/2-x/2:t.x,b=n?t.text[t.text.length-(C+1)]:t.text[C],u?f=e.createText(L,b,null,null,v,!0):(f=e.createTSpan({x:F,id:t.id,y:v},b),A.appendChild(f));return p||q(e instanceof $.CanvasRenderer,r,A,a,l,"x","y",null,null,s,!1,null,h,!1,t.labelRotation,y),A}function mr(e){var t,i,o,r,n=e.element.clientWidth||e.element.offsetWidth,a=e.element.clientHeight,l=(e.stockChart&&(n=e.stockChart.availableSize.width,a=e.stockChart.availableSize.height),450);"rangeNavigator"===e.getModuleName()&&(o=(r=e).tooltip.enable?35:0,t=r.periodSelectorSettings.periods.length?r.periodSelectorSettings.height:0,o=r.margin.top+r.margin.bottom+o,i=$.measureText("tempString",r.labelStyle,r.themeStyle.axisLabelFont).height,l=(e.series.length?K.Browser.isDevice?80:120:(r.enableGrouping?55+i:40)+o)+t,r.disableRangeSelector&&(l=t),e.stockChart)&&"Outside"===e.stockChart.chart.axisCollections[1].labelPosition&&(i=e.stockChart.chart.axisCollections[1].labelPadding+.5*e.stockChart.chart.axisCollections[1].lineStyle.width,e.width=(e.stockChart.availableSize.width-(e.stockChart.chart.axisCollections[1].maxLabelSize.width+i)).toString()),e.availableSize=new $.Size(dr(e.width,n)||n||600,dr(e.height,a||l)||a||l),"chart"===e.getModuleName()&&(r=o=1,""!==e.width&&null!==e.width&&"100%"!==e.width||(o=0<e.element.getBoundingClientRect().width?e.element.getBoundingClientRect().width/e.availableSize.width:1,r=!(a&&-1<e.element.parentElement.style.transform.indexOf("scale"))&&0<e.element.getBoundingClientRect().height?e.element.getBoundingClientRect().height/e.availableSize.height:1,(t=e.element.style.transform)&&(o=(i=parseFloat(t.match(/scale\((.*?)\)/)[1]))?o/i:o,r=i?r/i:r),e.availableSize.width=e.availableSize.width*o,e.availableSize.height=e.availableSize.height*r),e.scaleX=o,e.scaleY=r)}function yr(e){e.canvasRender=new $.CanvasRenderer(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new $.SvgRenderer(e.element.id),mr(e),e.stockChart&&"chart"===e.getModuleName()?e.svgObject=e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.svgObject=e.stockChart.selectorObject:e.enableCanvas?e.svgObject=e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height}),e.enableCanvas&&(e.renderer.ctx.direction=e.enableRtl?"rtl":"ltr")}function fr(e,t,i,o,r){var n=[];switch(t.textOverflow){case"Wrap":n=br(e,i,t,o,e.indexOf(" ")<0||null,null,r);break;case"Trim":n.push(hr(i,e,t,o,r));break;default:n.push(e)}return n}function vr(e,t){t="Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width;return t}function br(e,t,i,o,r,n,a){if(r)return xr(e,t,i,a);for(var l,s=e.split(" "),h="",c=[],d=0,p=s.length;d<p;d++)l=s[d],$.measureText(h.concat(""===h?"":" "+l),i,a).width<t?h=h.concat((""===h?"":" ")+l):""!==h?(c.push(n?h:hr(t,h,i,o,a)),h=l):c.push(n?l:hr(t,l,i,o,a)),h&&d===p-1&&c.push(n?h:hr(t,h,i,o,a));return c}function xr(e,t,i,o){var r,n=[];if(t<$.measureText(e,i,o).width){for(var a="",l=0,s=1;s<e.length;)a=e.substring(l,s),(r=$.measureText(a,i,o).width)<t?s++:r===t?(l=s,n.push(a),s++,a=""):t<r&&(a=a.slice(0,-1),l=s-1,n.push(a),a="");0<a.length&&n.push(a)}else n.push(e);return n}function Sr(e,t){for(var i=e.replace(t," "),o=e.match(t),r=" ",n=0,a={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},l={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},s=0;s<=i.length-1;s++)if(" "===i[s]){for(var h=t===Bt?o[n].replace(/~/g,""):o[n].replace(/\^/g,""),c=0;c<h.length;c++)r+=(t===Bt?a:l)[h[c]];n++}else r+=i[s];return r.trim()}function Cr(e){for(var t=0;t<e.annotations.length;t++)K.resetBlazorTemplate((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate");K.resetBlazorTemplate(e.element.id+"_tooltipparent_template_blazorTemplate","Template"),K.resetBlazorTemplate(e.element.id+"_DataLabel")}function wr(e){this.id=e}var Fr,Lr=function(e,t){this.startValues=e,this.endValues=t},Pr=(Fr=$.PathOption,i(Ar,Fr),Ar);function Ar(e,t,i,o,r,n,a,l,s){e=Fr.call(this,e,t,i.width,i.color,o,s)||this;return e.y=r.y,e.x=r.x,e.height=r.height,e.width=r.width,e.rx=n||0,e.ry=a||0,e.transform=l||"",e.stroke=0!==i.width&&""!==e.stroke?null===i.color?"":i.color:"transparent",e}var Mr,Dr=function(e,t,i,o,r,n,a,l){this.height=e,this.width=t,this.href=i,this.x=o,this.y=r,this.id=n,this.visibility=a,this.preserveAspectRatio=l},kr=(Mr=$.PathOption,i(Rr,Mr),Rr);function Rr(e,t,i,o,r,n,a){e=Mr.call(this,e,t,i.width,i.color,o)||this;return e.cy=n,e.cx=r,e.r=a,e}function Tr(e,t){this.x=0,this.y=0,this.x=e,this.y=t}var _r=function(e,t,i){this.id=e,this.points=t,this.fill=i},ee=function(e,t){this.x=e,this.y=t},Er=function(e,t,i,o){this.left=e,this.right=t,this.top=i,this.bottom=o},Ir=function(e,t,i){this.r=e,this.g=t,this.b=i},Or=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.lierIndex=i},zr=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.index=i},Br=function(e,t){this.point=e,this.series=t},Nr=function(e,t){this.controlPoint1=e,this.controlPoint2=t};function Vr(e,t){return Number(t)===e.start?e.colors[0]:Number(t)===e.end?e.colors[e.colors.length-1]:er(Hr(Number(t),e))}function Hr(e,t){var i=t.start,o=t.end,r=0,n=o-i,r=(e-i)/n;if(t.colors.length<=2)l="#"===t.colors[0].charAt(0)?t.colors[0]:or(t.colors[0]),s="#"===t.colors[t.colors.length-1].charAt(0)?t.colors[t.colors.length-1]:or(t.colors[t.colors.length-1]);else{for(var a,l="#"===t.colors[0].charAt(0)?t.colors[0]:or(t.colors[0]),s="#"===t.colors[t.colors.length-1].charAt(0)?t.colors[t.colors.length-1]:or(t.colors[t.colors.length-1]),h=n/(t.colors.length-1),c=t.colors.length-1,d=[],p=1;p<c;p++)a={b:i+p*h,color:t.colors[p]},d.push(a);for(var u=0;u<d.length;u++)i<=e&&e<=d[u].b&&0===u?(s="#"===d[u].color.charAt(0)?d[u].color:or(d[u].color),r=e<=d[u].b?1-Math.abs((e-d[u].b)/h):(e-d[u].b)/h):d[u].b<=e&&e<=o&&u===d.length-1&&(l="#"===d[u].color.charAt(0)?d[u].color:or(d[u].color),r=e<d[u].b?1-Math.abs((e-d[u].b)/h):(e-d[u].b)/h),u!==d.length-1&&u<d.length&&d[u].b<=e&&e<=d[u+1].b&&(l="#"===d[u].color.charAt(0)?d[u].color:or(d[u].color),s="#"===d[u+1].color.charAt(0)?d[u+1].color:or(d[u+1].color),r=Math.abs(e-d[u+1].b)/h)}return jr(r,l,s)}function jr(e,t,i){var i=i.split("#")[1],t=t.split("#")[1],o=Wr(e,parseInt(t.substr(0,2),16),parseInt(i.substr(0,2),16)),r=Wr(e,parseInt(t.substr(2,2),16),parseInt(i.substr(2,2),16)),e=Wr(e,parseInt(t.substr(4,2),16),parseInt(i.substr(4,2),16));return new Ir(o,r,e)}function Wr(e,t,i){return Math.round(t+(i-t)*e)}function Ur(e,t){switch(e){case"Near":return t?"end":"start";case"Far":return t?"start":"end";default:return"middle"}}o={size:"13px",fontWeight:"400",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};function Xr(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#6355C7","#FFB400","#2196F5","#F7523F","#963C70","#4BE0BC","#FD7400","#C9E422","#DE3D8A","#162F88"];break;case"Bootstrap5Dark":t=["#8F80F4","#FFD46D","#6CBDFF","#FF7F71","#FF6DB3","#63F5D2","#FCAA65","#ECFF77","#EF8EFF","#5F82FD"];break;case"FluentDark":case"Fluent":t=["#1AC9E6","#DA4CB2","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent2":t=["#6200EE","#09AF74","#0076E5","#CB3587","#E7910F","#0364DE","#66CD15","#F3A93C","#107C10","#C19C00"];break;case"Fluent2Dark":t=["#9BB449","#2A72D5","#43B786","#3F579A","#584EC6","#E85F9C","#6E7A89","#EA6266","#0B6A0B","#C19C00"];break;case"Material3":t=["#6355C7","#00AEE0","#FFB400","#F7523F","#963C70","#FD7400","#4BE0BC","#2196F5","#DE3D8A","#162F88"];break;case"Material3Dark":t=["#4EAAFF","#FA4EAB","#FFF500","#17EA58","#38FFE7","#FF9E45","#B3F32F","#B93CE4","#FC5664","#9B55FF"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}function Gr(e,t,i){var o,r="MaterialDark"===e?"#383838":"FabricDark"===e?"#242424":"#1b1b1b";switch(e){case"HighContrastLight":case"HighContrast":o={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:t?"#000000":"transparent",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939",tabColor:"#FFD939",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#FFD939",toolkitFill:"#737373",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":o={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:t?r:"transparent",areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"MaterialDark"===e?"#F4F4F4":"FabricDark"===e?"#A19F9D":"#F0F0F0",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727",tabColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",toolkitFill:"#737373",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#CED4DA",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.24)":"FabricDark"===e?"#6F6C6C":"#414141",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":o={axisLabel:"#212529",axisTitle:"#212529",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:t?"#FFFFFF":"transparent",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#212529",crosshairLabel:"#FFFFFF",tooltipFill:"#020202",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057",tabColor:"#007BFF",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#007BFF",toolkitFill:"#495057",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(-5,-5,26,26),chartTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#6C757D",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":o={axisLabel:"#6B728",axisTitle:"#374151",axisLine:" #D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:t?"rgba(255,255,255, 0.0)":"transparent",areaBorder:" #E5E7EB",errorBar:"#374151",crosshairLine:"#1F2937",crosshairFill:"#111827",crosshairLabel:"#F9FAFB",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280",tabColor:"#4F46E5",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#4F46E5",toolkitFill:"#6B7280",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#374151",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":o={axisLabel:"#9CA3AF",axisTitle:"#9CA3AF",axisLine:" #4B5563",majorGridLine:"#374151",minorGridLine:"#374151",majorTickLine:"#4B5563",minorTickLine:" #4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:t?"#1f2937":"transparent",areaBorder:" #374151",errorBar:"#ffffff",crosshairLine:"#9CA3AF",crosshairFill:"#F9FAFB",crosshairLabel:"#1F2937",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",markerShadow:null,selectionRectFill:"rgba(34,211,238, 0.1)",selectionRectStroke:"#22D3EE",selectionCircleStroke:"#282727",tabColor:"#22D3EE",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#22D3EE",toolkitFill:"#D1D5DB",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":o={axisLabel:"#495057",axisTitle:"#343A40",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#343A40",legendLabel:"#343A40",background:t?"#FFFFFF":"transparent",areaBorder:" #DEE2E6",errorBar:"#1F2937",crosshairLine:"#1F2937",crosshairFill:"#212529",crosshairLabel:"#F9FAFB",tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280",tabColor:"#0D6EFD",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#0D6EFD",toolkitFill:"#737373",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#ADB5BD",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":o={axisLabel:"#CED4DA",axisTitle:"#E9ECEF",axisLine:"#495057",majorGridLine:"#343A40",minorGridLine:"#343A40",majorTickLine:"#495057",minorTickLine:" #495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:t?"#212529":"transparent",areaBorder:" #444C54",errorBar:"#ADB5BD",crosshairLine:"#ADB5BD",crosshairFill:"#E9ECEF",crosshairLabel:"#212529",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280",tabColor:"#0D6EFD",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#0D6EFD",toolkitFill:"#737373",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#CED4DA",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#6C757D",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":o={axisLabel:"#3B3A39",axisTitle:"#201F1E",axisLine:"#D2D0CE",majorGridLine:"#EDEBE9",minorGridLine:"#EDEBE9",majorTickLine:"#D2D0CE",minorTickLine:" #D2D0CE",chartTitle:"#201F1E",legendLabel:"#323130",background:t?"#FFFFFF":"transparent",areaBorder:"#EDEBE9",errorBar:"#A19F9D",crosshairLine:"#A19F9D",crosshairFill:"#FFFFFF",crosshairLabel:"#323130",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280",tabColor:"#0078D4",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#0078D4",toolkitFill:"#A19F9D",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#323129",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#A19F9D",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":o={axisLabel:"#C8C6C4",axisTitle:"#F3F2F1",axisLine:"#3B3A39",majorGridLine:"#414040",minorGridLine:"#414040",majorTickLine:"#3B3A39",minorTickLine:"#3B3A39",chartTitle:"#F3F2F1",legendLabel:"#D2D0CE",background:t?"#383838":"transparent",areaBorder:"#414040",errorBar:"#D2D0CE",crosshairLine:"#D2D0CE",crosshairFill:"#323130",crosshairLabel:"#F3F2F1",tooltipFill:"#252423",tooltipBoldLabel:"#F3F2F1",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280",tabColor:"#0078D4",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"#0078D4",toolkitFill:"#484644",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#F3F2F2",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#484644",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":o={axisLabel:"#616161",axisTitle:"#242424",axisLine:"#D2D0CE",majorGridLine:"#EDEBE9",minorGridLine:"#EDEBE9",majorTickLine:"#D2D0CE",minorTickLine:"#D2D0CE",chartTitle:"#242424",legendLabel:"#242424",background:t?"#383838":"transparent",areaBorder:"#EDEBE9",errorBar:"#A19F9D",crosshairLine:"#A19F9D",crosshairFill:"#FFFFFF",crosshairLabel:"#242424",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",markerShadow:null,selectionRectFill:"rgba(180, 214, 250, 0.1)",selectionRectStroke:"#0F6CBD",selectionCircleStroke:"#0F6CBD",tabColor:"#0078D4",bearFillColor:"#E7910F",bullFillColor:"#0076E5",toolkitSelectionColor:"#424242",toolkitFill:"#424242",toolkitIconRectOverFill:"#E6E6E6",toolkitIconRectSelectionFill:"#E6E6E6",toolkitIconRect:new $.Rect(-6,-8,32,32),chartTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"accumulationchart"===i.getModuleName()?"16px":"14px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#616161",fontFamily:"Segoe UI",size:"chart"===i.getModuleName()?"12px":"14px",fontStyle:"Normal",fontWeight:"600"},crosshairLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"700"},stripLineLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2Dark":o={axisLabel:"#ADADAD",axisTitle:"#FFFFFF",axisLine:"#3B3A39",majorGridLine:"#3B3A39",minorGridLine:"#3B3A39",majorTickLine:"#292827",minorTickLine:"#292827",chartTitle:"#FFFFFF",legendLabel:"#FFFFFF",background:t?"#383838":"transparent",areaBorder:"#292827",errorBar:"#8A8886",crosshairLine:"#8A8886",crosshairFill:"#292929",crosshairLabel:"#FFFFFF",tooltipFill:"#292929",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",markerShadow:null,selectionRectFill:"rgba(14, 71, 117, 0.1)",selectionRectStroke:"#115EA3",selectionCircleStroke:"#115EA3",tabColor:"#0078D4",bearFillColor:"#584EC6",bullFillColor:"#43B786",toolkitSelectionColor:"#D6D6D6",toolkitFill:"#D6D6D6",toolkitIconRectOverFill:"#333333",toolkitIconRectSelectionFill:"#333333",toolkitIconRect:new $.Rect(-6,-8,32,32),chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"accumulationchart"===i.getModuleName()?"16px":"14px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"chart"===i.getModuleName()?"12px":"14px",fontStyle:"Normal",fontWeight:"600"},crosshairLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"700"},stripLineLabelFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3":o={axisLabel:"#1E192B",axisTitle:"#1C1B1F",axisLine:"#C4C7C5",majorGridLine:"#C4C7C5",minorGridLine:"#C4C7C5",majorTickLine:"#C4C7C5",minorTickLine:" #C4C7C5",chartTitle:"#1C1B1F",legendLabel:"#49454E",background:t?"#FFFFFF":"transparent",areaBorder:"#E7E0EC",errorBar:"#79747E",crosshairLine:"#49454E",crosshairFill:"#313033",crosshairLabel:"#F4EFF4",tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",markerShadow:null,selectionRectFill:"rgb(98, 0, 238, 0.06)",selectionRectStroke:"#6200EE",selectionCircleStroke:"#79747E",tabColor:"#49454E",bearFillColor:"#5887FF",bullFillColor:"#F7523F",toolkitSelectionColor:"#49454E",toolkitFill:"#49454E",toolkitIconRectOverFill:"#EADDFF",toolkitIconRectSelectionFill:"#EADDFF",toolkitIconRect:new $.Rect(-4,-5,26,26),histogram:"#D21020",chartTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#1E192B",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#49454E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#79747E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":o={axisLabel:"#E6E1E5",axisTitle:"#E6E1E5",axisLine:"#49454F",majorGridLine:"#444746",minorGridLine:"#444746",majorTickLine:"#444746",minorTickLine:" #444746",chartTitle:"#E6E1E5",legendLabel:"#CAC4D0",background:t?"#FFFFFF":"transparent",areaBorder:"#49454F",errorBar:"#938F99",crosshairLine:"#CAC4D0",crosshairFill:"#E6E1E5",crosshairLabel:"#313033",tooltipFill:"#E6E1E5",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",markerShadow:null,selectionRectFill:"rgba(78, 170, 255, 0.06)",selectionRectStroke:"#4EAAFF",selectionCircleStroke:"#938F99",tabColor:"#CAC4D0",bearFillColor:"#B3F32F",bullFillColor:"#FF9E45",toolkitSelectionColor:"#CAC4D0",toolkitFill:"#CAC4D0",toolkitIconRectOverFill:"#4F378B",toolkitIconRectSelectionFill:"#4F378B",toolkitIconRect:new $.Rect(-4,-5,26,26),histogram:"#FF9E45",chartTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#313033",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"#313033",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"#938F99",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;default:o={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:t?"#FFFFFF":"transparent",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"Material"===e?"#000816":"Fabric"===e?"#FFFFFF":"#212529",crosshairLabel:"#e5e5e5",tooltipFill:"#000816",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2",tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",bearFillColor:"#2ecd71",bullFillColor:"#e74c3d",toolkitSelectionColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",toolkitFill:"#737373",toolkitIconRectOverFill:"transparent",toolkitIconRectSelectionFill:"transparent",toolkitIconRect:new $.Rect(0,0,16,16),chartTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Fabric"===e?"#666666":"#676767",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"#666666",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"Material"===e?"rgba(249, 250, 251, 1)":"Fabric"===e?"#333333":"#F9FAFB",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Fabric"===e?"#666666":"#676767",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},crosshairLabelFont:{color:"Material"===e?"rgba(249, 250, 251, 1)":"Fabric"===e?"#333333":"#F9FAFB",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},stripLineLabelFont:{color:"Material"===e?"rgba(158, 158, 158, 1)":"Fabric"===e?"#A6A6A6":"#676767",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}}}return o}function Yr(e){var t;switch(e){case"HighContrastLight":t={backRect:"#333",thumb:"#bfbfbf",circle:"#fff",circleHover:"#685708",arrow:"#333",grip:"#333",arrowHover:"#fff",backRectBorder:"#969696"};break;case"Bootstrap":t={backRect:"#f5f5f5",thumb:"#e6e6e6",circle:"#fff",circleHover:"#eee",arrow:"#8c8c8c",grip:"#8c8c8c"};break;case"Fabric":t={backRect:"#f8f8f8",thumb:"#eaeaea",circle:"#fff",circleHover:"#eaeaea",arrow:"#a6a6a6",grip:"#a6a6a6"};break;case"MaterialDark":t={backRect:"#424242",thumb:"#616161",circle:"#757575",circleHover:"#616161",arrow:"#BDBDBD",grip:"#BDBDBD"};break;case"FabricDark":t={backRect:"#282727",thumb:"#333232",circle:"#4A4848",circleHover:"#514F4F",arrow:"#ADB5BD",grip:"#DADADA"};break;case"BootstrapDark":t={backRect:"#2A2A2A",thumb:"#313131",circle:"#414141",circleHover:"#484848",arrow:"#DADADA",grip:"#FFFFFF"};break;case"Bootstrap5Dark":t={backRect:"#282D31",thumb:"#3B4248",circle:"#495057",circleHover:"#6C757D",arrow:"#A19F9D",grip:"#ADB5BD"};break;case"HighContrast":t={backRect:"#757575",thumb:"#BFBFBF",circle:"#FFFFFF",circleHover:"#FFFFFF",arrow:"#ADB5BD",grip:"#969696"};break;case"TailwindDark":t={backRect:"#6B7280",thumb:"#374151",circle:"#4B5563",circleHover:"#4B5563",arrow:"#ADB5BD",grip:"#D1D5DB"};break;case"Fluent":t={backRect:"#F3F2F1",thumb:"#E1DFDD",circle:"#FFFFFF",circleHover:"#E1DFDD",arrow:"#605E5C",grip:"#605E5C"};break;case"FluentDark":t={backRect:"#252423",thumb:"#323130",circle:"#3B3A39",circleHover:"#3B3A39",arrow:"#ADB5BD",grip:"#A19F9D"};break;case"Fluent2":t={backRect:"#F5F5F5",thumb:"#F0F0F0",circle:"#FAFAFA",circleHover:"#FAFAFA",arrow:"#424242",grip:"#424242"};break;case"Fluent2Dark":t={thumb:"#0A0A0A",backRect:"#141414",circle:"#1F1F1F",circleHover:"#1F1F1F",arrow:"#D6D6D6",grip:"#D6D6D6"};break;case"Material3":t={backRect:"rgba(103, 80, 164, 0.05)",thumb:" rgba(103, 80, 164, 0.14)",circle:"#FFFFFF",circleHover:"#E1DFDD",arrow:"#49454E",grip:"#49454E"};break;case"Material3Dark":t={backRect:"rgba(208, 188, 255, 0.05)",thumb:"rgba(208, 188, 255, 0.14)",circle:"#FFFFFF",circleHover:"#E1DFDD",arrow:"#CAC4D0",grip:"#CAC4D0"};break;default:t={backRect:"#f5f5f5",thumb:"#e0e0e0",circle:"#fff",circleHover:"#eee",arrow:"#9e9e9e",grip:"#9e9e9e"}}return t}qr.prototype.measureAxis=function(e){var t=this.chart,i=t.chartArea.width?dr(t.chartArea.width,t.availableSize.width):null;this.crossAt(t),this.seriesClipRect=new $.Rect(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=Qi(this.initialClipRect,new Er(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=Qi(this.initialClipRect,new Er(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=Qi(this.seriesClipRect,new Er(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=Qi(this.seriesClipRect,new Er(0,0,this.topSize,this.bottomSize)),i&&this.calculateFixedChartArea(t,i),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},qr.prototype.calculateFixedChartArea=function(e,t){this.seriesClipRect.width=t,this.seriesClipRect.x=e.availableSize.width-e.margin.right-t-("Right"===e.legendSettings.position?e.legendModule.legendBounds.width:0);for(var i=0,o=e.rows;i<o.length;i++){var r=o[i];this.seriesClipRect.x-=Zi(r.farSizes)}},qr.prototype.measureRowAxis=function(e,t){this.calculateRowSize(t);for(var i,o=0,r=e.rows;o<r.length;o++)(i=r[o]).nearSizes=[],i.farSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new $.Size(e.availableSize.width,i.computedHeight)),this.leftSize<Zi(i.nearSizes)&&(this.leftSize=Zi(i.nearSizes)),this.rightSize<Zi(i.farSizes)&&(this.rightSize=Zi(i.farSizes))},qr.prototype.measureColumnAxis=function(e,t){this.calculateColumnSize(t);for(var i,o=0,r=e.columns;o<r.length;o++)(i=r[o]).farSizes=[],i.nearSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new $.Size(i.computedWidth,e.availableSize.height)),this.bottomSize<Zi(i.nearSizes)&&(this.bottomSize=Zi(i.nearSizes)),this.topSize<Zi(i.farSizes)&&(this.topSize=Zi(i.farSizes))},qr.prototype.measureDefinition=function(e,t,i){for(var o=0,r=e.axes;o<r.length;o++){var n=r[o],a=n.scrollbarSettings.height;n.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&n.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(n.zoomFactor<1||0<n.zoomPosition)?a:0,n.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&n.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(n.zoomFactor<1||0<n.zoomPosition)||n.scrollbarSettings.enable)?a:0,n.getModule(t),n.baseModule.calculateRangeAndInterval(i,n),e.computeSize(n,n.scrollBarHeight,e,t)}0<e.farSizes.length&&(e.farSizes[e.farSizes.length-1]-=10),0<e.nearSizes.length&&(e.nearSizes[e.nearSizes.length-1]-=10)},qr.prototype.calculateAxisSize=function(e){var t,i,o,r,n,a=this.chart,l=0,s=0,h=0;this.calculateRowSize(e);for(var c=0,d=a.rows.length;c<d;c++)for(var p,l=0,s=0,u=0,g=(p=a.rows[c]).axes.length;u<g;u++){if(n=(i=p.axes[u]).plotOffset,0===i.rect.height){i.rect.height=p.computedHeight;for(var h=0,m=c+1,y=c+i.span;m<y;m++)h+=(t=a.rows[m]).computedHeight;i.rect.y=p.computedTop-h+(i.plotOffsetTop||n),i.rect.height=i.rect.height+h-this.getAxisOffsetValue(i.plotOffsetTop,i.plotOffsetBottom,i.plotOffset),i.rect.width=0}i.isAxisOpposedPosition?(o="Inside"===i.labelPosition&&"Vertical"===i.orientation?e.x+e.width-Zi(oo(p.insideFarSizes,s)):e.x+e.width+Zi(oo(p.farSizes,s)),i.rect.x=i.rect.x>=o?i.rect.x:o,s++):(o="Inside"===i.labelPosition&&"Vertical"===i.orientation?e.x+Zi(oo(p.insideNearSizes,l)):e.x-Zi(oo(p.nearSizes,l)),i.rect.x=i.rect.x<=o?i.rect.x:o,l++)}this.calculateColumnSize(e);for(c=0,d=a.columns.length;c<d;c++)for(var f,u=s=l=0,v=(f=a.columns[c]).axes.length;u<v;u++){if(n=(i=f.axes[u]).plotOffset,0===i.rect.width){for(var m=c,b=c+i.span;m<b;m++)t=a.columns[m],i.rect.width+=t.computedWidth;i.rect.x=f.computedLeft+(i.plotOffsetLeft||n),i.rect.width-=this.getAxisOffsetValue(i.plotOffsetLeft,i.plotOffsetRight,i.plotOffset),i.rect.height=0}i.isAxisOpposedPosition?(r="Inside"===i.labelPosition&&"Horizontal"===i.orientation?e.y+Zi(oo(f.insideFarSizes,s)):e.y-Zi(oo(f.farSizes,s)),i.rect.y=i.rect.y<=r?i.rect.y:r,s++):(r="Inside"===i.labelPosition&&"Horizontal"===i.orientation?e.y+e.height-Zi(oo(f.insideNearSizes,l)):e.y+e.height+Zi(oo(f.nearSizes,l)),i.rect.y=i.rect.y>=r?i.rect.y:r,l++)}},qr.prototype.measure=function(){for(var e,t,i,o,r=this.chart,n=0,a=r.axisCollections;n<a.length;n++){var l=a[n];if("Vertical"===l.orientation){r.verticalAxes.push(l),o=this.getActualRow(l),e=r.rows[o],this.pushAxis(e,l);for(var s=o+l.span>r.rows.length?r.rows.length:o+l.span,h=o+1;h<s;h++)(i=r.rows[h]).axes[e.axes.length-1]=l,r.rows[h]=i;r.rows[o]=e}else{r.horizontalAxes.push(l),o=this.getActualColumn(l),t=r.columns[o],this.pushAxis(t,l),s=o+l.span>r.columns.length?r.columns.length:o+l.span;for(h=o+1;h<s;h++)(i=r.columns[h]).axes[t.axes.length-1]=l,r.columns[h]=i;r.columns[o]=t}l.isRTLEnabled=r.enableRtl,l.setIsInversedAndOpposedPosition()}},qr.prototype.getAxisOffsetValue=function(e,t,i){return e?e+(t||i):t?t+i:2*i},qr.prototype.crossAt=function(e){for(var t=0,i=e.axisCollections;t<i.length;t++){var o=i[t];if(null!==o.crossesAt)if(o.crossesInAxis)for(var r=2,n=e.axisCollections.length;r<n;r++)o.crossesInAxis===e.axisCollections[r].name&&(o.crossInAxis=e.axisCollections[r],o.crossAt=this.updateCrossAt(o.crossInAxis,o.crossesAt));else e.requireInvertedAxis?o.crossInAxis="Horizontal"===o.orientation?e.primaryXAxis:e.primaryYAxis:o.crossInAxis="Horizontal"===o.orientation?e.primaryYAxis:e.primaryXAxis,o.crossAt=this.updateCrossAt(o.crossInAxis,o.crossesAt)}},qr.prototype.updateCrossAt=function(e,t){switch(e.valueType){case"DateTime":var i={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(i),i=this.chart.intl.getDateFormat(i);return Date.parse(o(i(new Date(R.DataUtil.parse.parseJson({val:t}).val))));case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return ji(t,e.logBase);default:return t}},qr.prototype.pushAxis=function(e,t){for(var i=0,o=e.axes.length;i<=o;i++)if(!e.axes[i]){e.axes[i]=t;break}},qr.prototype.arrangeAxis=function(e){for(var t=[],i=0,o=e.axes.length;i<=o;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},qr.prototype.getActualColumn=function(e){var t=this.chart.columns.length,e=e.columnIndex;return t<=e?t-1:e<0?0:e},qr.prototype.getActualRow=function(e){var t=this.chart.rows.length,e=e.rowIndex;return t<=e?t-1:e<0?0:e},qr.prototype.calculateRowSize=function(e){for(var t,i=this.chart,o=e.y+e.height,r=0,n=Math.max(0,e.height),a=0,l=i.rows.length;a<l;a++)r=-1!==(t=i.rows[a]).height.indexOf("%")?Math.min(n,e.height*parseInt(t.height,10)/100):Math.min(n,parseInt(t.height,10)),o-=t.computedHeight=r=a!==l-1?r:n,t.computedTop=o,n-=r},qr.prototype.calculateColumnSize=function(e){for(var t,i=this.chart,o=e.x,r=0,n=Math.max(0,e.width),a=0,l=i.columns.length;a<l;a++)r=-1!==(t=i.columns[a]).width.indexOf("%")?Math.min(n,e.width*parseInt(t.width,10)/100):Math.min(n,parseInt(t.width,10)),t.computedWidth=r=a!==l-1?r:n,t.computedLeft=o,o+=r,n-=r},qr.prototype.renderAxes=function(){var e,t,i=this.chart,o=i.renderer.createGroup({id:i.element.id+"AxisInsideCollection"}),r=i.renderer.createGroup({id:i.element.id+"AxisOutsideCollection"});r&&r.setAttribute("aria-hidden","true");for(var n=0,a=i.axisCollections.length;n<a;n++){var l=!0,s=i.axisCollections[n];this.element=i.renderer.createGroup({id:i.element.id+"AxisGroup"+n+"Inside"}),this.element&&this.element.setAttribute("aria-hidden","true"),(e=i.renderer.createGroup({id:i.element.id+"AxisGroup"+n+"Outside"}))&&e.setAttribute("aria-hidden","true");for(var h=0,c=s.series;h<c.length;h++){var d=c[h];if((s.name===d.yAxisName||s.name===d.xAxisName)&&(l=d.visible,l="Pareto"!==d.category||d.paretoOptions.showAxis||"Line"!==d.type?l:!1))break}l&&(t=this.findAxisPosition(s),this.drawAxis(s,n,t,e,o,r))}return this.drawPaneLines(i,o),q(i.enableCanvas,i.svgObject,o,i.redraw),r},qr.prototype.renderScrollbar=function(e,t){(!K.isNullOrUndefined(e.zoomModule)&&e.zoomModule.isZoomed&&(t.zoomFactor<1||0<t.zoomPosition)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||0<=t.zoomPosition))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=pr(e.redraw,e.element.id+"_scrollElement")||K.createElement("div",{id:e.element.id+"_scrollElement"})),q(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):1===t.zoomFactor&&0===t.zoomPosition&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable?t.zoomingScrollBar.destroy():t.zoomingScrollBar.svgObject&&(t.zoomingScrollBar.svgObject.style.top=(t.isAxisOpposedPosition&&"Horizontal"===t.orientation?-16:0)+t.rect.y+Math.max(.5,t.lineStyle.width/2)+"px",t.zoomingScrollBar.svgObject.style.left=(t.isAxisOpposedPosition&&"Horizontal"!==t.orientation?16:0)+t.rect.x-("Vertical"===t.orientation?t.scrollbarSettings.height:0)+"px"),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)},qr.prototype.drawPaneLines=function(e,t){this.element=e.renderer.createGroup({id:e.element.id+"DefinitionLine"});for(var i=0,o=e.rows.length;i<o;i++){var r=e.rows[i];r.border.color&&this.drawBottomLine(r,i,!0)}for(i=0,o=e.columns.length;i<o;i++){var n=e.columns[i];n.border.color&&this.drawBottomLine(n,i,!1)}t=t||J(e.element.id+"AxisInsideCollection"),this.chart.enableCanvas||t.appendChild(this.element)},qr.prototype.drawAxis=function(e,t,i,o,r,n){e.updateCrossValue();var a="",a="Horizontal"===e.orientation?(e.visible&&e.internalVisibility&&0<e.lineStyle.width&&this.drawAxisLine(e,t,e.plotOffset,0,0,0,e.plotOffsetLeft,e.plotOffsetRight,i?o:this.element,e.updatedRect),"X"):(e.visible&&e.internalVisibility&&0<e.lineStyle.width&&this.drawAxisLine(e,t,0,e.plotOffset,e.plotOffsetBottom,e.plotOffsetTop,0,0,i?o:this.element,e.updatedRect),"Y");(0<e.majorGridLines.width||0<e.majorTickLines.width||0<e.minorTickLines.width||0<e.minorGridLines.width)&&this["draw"+a+"AxisGridLine"](e,t,i||"Inside"===e.tickPosition?o:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this["draw"+a+"AxisLabels"](e,t,i||"Inside"===e.labelPosition?o:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+a+"AxisBorder"](e,t,i||"Inside"===e.labelPosition?o:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+a+"AxisTitle"](e,t,i?o:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect)),this.chart.enableCanvas||(r.appendChild(this.element),o&&0<o.childNodes.length&&n.appendChild(o)),this.chart.scrollBarModule&&(this.chart.zoomSettings.enableScrollbar&&e.enableScrollbarOnZooming||e.scrollbarSettings.enable)&&this.renderScrollbar(this.chart,e)},qr.prototype.findAxisPosition=function(e){return null!==e.crossAt&&e.isInside(e.crossInAxis.visibleRange)},qr.prototype.drawBottomLine=function(e,t,i){var o,r,n,a,l=this.chart,i=i?(n=a=e.computedTop+e.computedHeight,r=(o=this.seriesClipRect.x)+this.seriesClipRect.width,"Row"):(o=r=e.computedLeft,a=(n=this.seriesClipRect.y)+this.seriesClipRect.height,"Column"),i={id:l.element.id+"_AxisBottom_"+i+t,x1:o,y1:n,x2:r,y2:a,"stroke-width":e.border.width,stroke:e.border.color};this.htmlObject=l.renderer.drawLine(i),this.element.appendChild(this.htmlObject)},qr.prototype.drawAxisLine=function(e,t,i,o,r,n,a,l,s,h){var c=this.chart,d=(p=J(c.element.id+"AxisLine_"+t))?p.getAttribute("d"):"",p=null,p={id:c.element.id+"AxisLine_"+t,d:"M "+(h.x-i-a)+" "+(h.y-o-n)+" L "+(h.x+h.width+i+l)+" "+(h.y+h.height+o+r),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||c.themeStyle.axisLine};this.htmlObject=c.renderer.drawPath(p),q(c.enableCanvas,s,this.htmlObject,c.redraw,!0,"x","y",null,d,null,null,null,c.duration)},qr.prototype.drawYAxisGridLine=function(e,t,i,o){for(var r,n,a,l="Logarithmic"===e.valueType,s=-1<e.valueType.indexOf("Category"),h=e.isAxisOpposedPosition,c=h?e.majorTickLines.height:-e.majorTickLines.height,d=h?.5*e.lineStyle.width:.5*-e.lineStyle.width,p="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,u=K.isNullOrUndefined(e.crossesAt)?h?e.scrollBarHeight:-e.scrollBarHeight:0,g="Inside"===e.tickPosition,m=g?o.x-c-d:o.x+c+d+u,y=e.visibleLabels.length,f=this.chart.themeStyle,v=(-1<e.valueType.indexOf("Category")&&"BetweenTicks"===e.labelPlacement&&0<y&&!this.chart.stockChart&&(y+=1),e.minorGridLines),b=e.minorTickLines,x=0;x<y;x++)(a=-1*(ro(r=e.visibleLabels[x]?e.visibleLabels[x].value-p:e.visibleLabels[x-1].value+e.visibleRange.interval-p,e)*o.height)+(o.y+o.height))>=o.y&&o.y+o.height>=a&&((Ui(r,e.visibleRange)||this.isBorder(e,x,a))&&(n="M "+this.seriesClipRect.x+" "+a+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+a,this.renderGridLine(e,t,n,e.majorGridLines,"_MajorGridLine_",x,this.element,f.majorGridLine,e.majorGridLines.dashArray)),n="M "+(o.x+d+(g?u:0))+" "+a+" L "+m+" "+a,this.renderGridLine(e,t,n,e.majorTickLines,"_MajorTickLine_",x,i,f.majorTickLine),0<v.width||0<b.width)&&0<e.minorTicksPerInterval&&(0!==x||!Ro(e)||l||s||this.renderMinorGridOnZooming(e,r,o,x,t,f,i),a=this.drawAxisMinorLine(e,r,o,x),this.renderGridLine(e,t,a[0],v,"_MinorGridLine_",x,this.element,f.minorGridLine,v.dashArray),this.renderGridLine(e,t,a[1],b,"_MinorTickLine_",x,i,f.minorTickLine),x===y-1)&&Ro(e)&&l&&!s&&this.renderMinorGridOnZooming(e,r+e.visibleRange.interval,o,x,t,f,i)},qr.prototype.isBorder=function(e,t,i){var o=this.chart.chartArea.border,r=this.seriesClipRect,n=e.orientation,a="Horizontal"===n?r.x:r.y,r="Horizontal"===n?r.width:r.height,l="Horizontal"===n?0:e.visibleLabels.length-1,n="Horizontal"===n?e.visibleLabels.length-1:0;return 0<e.plotOffset||(i===a||i===a+r)&&(o.width<=0||"transparent"===o.color)||i!==a&&t===l||i!==a+r&&t===n},qr.prototype.drawYAxisLabels=function(e,t,i,o){var r,n,a,l,s,h=this.chart,c=0,d=0,p=e.labelPadding,u="Inside"===e.labelPosition,g=e.isAxisOpposedPosition,m=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+p+.5*e.lineStyle.width,y=e.angle%360,f=-90==y||90==y||270==y||-270==y,v=(m+=f?u?5:-5:0,m=g?m:-m,h.renderer.createGroup({id:h.element.id+"AxisLabels"+t})),p=K.isNullOrUndefined(e.crossesAt)?e.scrollBarHeight*(g?1:-1):0,b=e.isAxisInverse,x=b?o.y:o.y+o.height,S=!g&&!u||g&&u,C=u?S?m:-m:S?m+(h.enableRtl?-p:p):-m+(h.enableRtl?-p:p),w=[],F=[],L=(e.visibleLabels.map(function(e){w.push(e.size.width),F.push(e.breakLabelSize.width)}),Math.max.apply(Math,w)),P=Math.max.apply(Math,F),A=L;-45<=y&&y<=45&&0!=y&&(A=L*Math.cos(y*Math.PI/180))<0&&(A=-A);for(var M=0,D=e.visibleLabels.length;M<D;M++){switch(r=e.visibleLabels[M],n=(l=Ni(e.visibleLabels[M].originalText))?e.visibleLabels[M].breakLabelSize:e.visibleLabels[M].size,d=ro(e.visibleLabels[M].value,e)*o.height+(h.stockChart?7:0),d=Math.floor(-1*d+(o.y+o.height)),k=n.height/8*e.visibleLabels[M].text.length/2,R=h.requireInvertedAxis&&"Inside"===e.labelPosition?0:n.height/4*3+3,s=o.height/e.visibleLabels.length,s=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0!=y&&n.width>s?s:n.width,d=l?"Inside"===e.labelPosition?d-n.height/2-k+R:d-k:"Inside"===e.labelPosition?d+R:d,"Inside"===e.labelPosition&&(0===M&&!e.isInversed||M===D-1&&e.isInversed)&&(h.stockChart?d-=R:d-=R-(h.requireInvertedAxis&&"Inside"===e.labelPosition?0:e.opposedPosition?-m:m)),k=(e.majorGridLines.width>e.majorTickLines.width?e.majorGridLines:e.majorTickLines).width,"Far"===e.labelStyle.textAlignment?d=d-k-10:"Near"===e.labelStyle.textAlignment&&(d=d+k+10),R=u?C+(0==y?n.width:l?P:L)/2:C-(0==y?n.width:l?P:A)/2,c=g?o.x-R:o.x+R,f&&(c+=g?-10:10),R=C,a=new $.TextOption(h.element.id+t+"_AxisLabel_"+M,c,d,"middle",r.text,"","middle",y),e.edgeLabelPlacement){case"None":break;case"Hide":((0===M||b&&M===D-1)&&a.y>o.y||(M===D-1||b&&0===M)&&a.y-.5*n.height<o.y)&&(a.text="");break;case"Shift":(0===M||b&&M===D-1)&&a.y>o.y+o.height?a.y=d=o.y+o.height:(M===D-1||b&&0===M)&&(a.y<o.y||a.y-.5*n.height<=0)&&(a.y=d=o.y+.5*n.height)}var k=a.y,R=a.y-s;l&&(k=a.y-s/2,R=a.y+s/2),(90==y||270==y)&&"Hide"===e.labelIntersectAction&&0!==M&&(b?R<=x:x<=k)||(x=b?k:R,a.transform="rotate("+y+","+c+","+d+")",gr(h.renderer,a,r.labelStyle,r.labelStyle.color||h.themeStyle.axisLabelFont.color,v,!1,h.redraw,!0,!0,h.duration,null,0,null,h.enableCanvas,null,h.themeStyle.axisLabelFont,new ee(c,d)))}this.chart.enableCanvas||(h.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,v,e,t,o):q(h.enableCanvas,i,v,h.redraw))},qr.prototype.getAxisLabelXvalue=function(e,t,i){var o=t.lineBreakAlignment,r="Inside"===t.labelPosition,t=t.isAxisOpposedPosition;return t&&r||!t&&!r?"Right"===o?e:"Center"===o?e-i/2:e-i:"Left"===o?e:"Center"===o?e+i/2:e+i},qr.prototype.drawYAxisBorder=function(e,t,i,o){if(0<e.border.width){for(var r,n=void 0,a="Outside"===e.labelPosition?e.scrollBarHeight:0,l=e.isAxisOpposedPosition,s=(a*=l?1:-1,o.height/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)),h=void 0,c=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),d="",p="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,u=l&&"Inside"===e.labelPosition||!l&&"Outside"===e.labelPosition?o.x-c+a:o.x+c+a,g=0,m=e.visibleLabels.length;g<m;g++)switch(r=ro(e.visibleLabels[g].value+p,e),r=(e.isAxisInverse?1-r:r)*o.height,h="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(n=-1*r+(o.y+o.height),-1*r-s+(o.y+o.height)):(n=-1*r+s/2+(o.y+o.height),-1*r-s/2+(o.y+o.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":n>o.y+o.height?d+="M "+u+" "+(o.y+o.height)+" L "+u+" "+h+" ":Math.floor(o.y)>h?d+="M "+(o.x+a)+" "+n+" L "+u+" "+n+" L "+u+" "+o.y+" ":(d+="M "+(o.x+a)+" "+n+" L "+u+" "+n+" L "+u+" "+h+" ",g===e.visibleLabels.length-1&&(d+="M "+(o.x+a)+" "+h+" L "+u+" "+h+" "));break;case"WithoutTopandBottomBorder":n>o.y+o.height||h<Math.floor(o.y)||(d+="M "+(o.x+a)+" "+n+" L "+u+" "+n+" M "+u+" "+h+" L "+(o.x+a)+" "+h)}""!==(d+="Rectangle"===e.border.type?"M "+(o.x+a)+" "+o.y+" L "+(o.x+a)+" "+(o.y+o.height)+" ":"")&&this.createAxisBorderElement(e,t,d,i)}for(g=0;g<this.chart.visibleSeries.length;g++)if(0<e.multiLevelLabels.length&&this.chart.multiLevelLabelModule&&this.chart.visibleSeries[g].visible){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,o);break}},qr.prototype.drawYAxisTitle=function(e,t,i,o){var r,n,a,l,s,h;e.title&&(r=this.chart,n=!1,l=e.isAxisOpposedPosition,a=(null==e.titleRotation?l?90:-90:e.titleRotation)%360,h=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding),h=l?h+e.scrollBarHeight:-h-e.scrollBarHeight,(-90!=a&&!l||90!=a&&l)&&(h+=e.isAxisOpposedPosition?e.titleSize.width/2+e.labelPadding:-e.titleSize.width/2-e.labelPadding,n=!0),l=o.x+h,s=h=void 0,h="Center"===e.titleStyle.textAlignment?(s="middle",o.y+.5*o.height):"Near"===e.titleStyle.textAlignment?(s=e.opposedPosition?"end":"start",o.height+o.y):(s=e.opposedPosition?"start":"end",o.y),o=e.titleSize.height*(e.titleCollection.length-1),t=new $.TextOption(r.element.id+"_AxisTitle_"+t,l,h+(n?-o:-e.labelPadding-o),s,e.titleCollection,"rotate("+a+","+l+","+h+")",null,a),gr(r.renderer,t,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitleFont.color,i,null,null,null,null,null,null,0,null,r.enableCanvas,null,r.themeStyle.axisTitleFont,new ee(l,h)).setAttribute("aria-hidden","true"))},qr.prototype.drawXAxisGridLine=function(e,t,i,o){for(var r,n,a,l="Logarithmic"===e.valueType,s=-1<e.valueType.indexOf("Category"),h="",c=e.isAxisOpposedPosition,d=c?-e.majorTickLines.height:e.majorTickLines.height,p=c?.5*-e.lineStyle.width:.5*e.lineStyle.width,u=K.isNullOrUndefined(e.crossesAt)?c?-e.scrollBarHeight:e.scrollBarHeight:0,g=-1<e.valueType.indexOf("Category")&&"BetweenTicks"===e.labelPlacement&&!this.chart.stockChart?.5:0,m=e.visibleLabels.length,y="Inside"===e.tickPosition,f=y?o.y-d-p:o.y+d+p+u,v=this.chart.themeStyle,b=(-1<e.valueType.indexOf("Category")&&0<m&&"BetweenTicks"===e.labelPlacement&&!this.chart.stockChart&&(m+=1),this.calculateGridLineId(i,m)),x=0;x<m;x++)(a=ro(n="DateTimeCategory"!==e.valueType?e.visibleLabels[x]?e.visibleLabels[x].value-g:e.visibleLabels[x-1].value+e.visibleRange.interval-g:e.visibleLabels[x]?e.visibleLabels[x].value-g:e.visibleRange.max,e)*o.width+o.x)>=o.x&&o.x+o.width>=a&&((Ui(n,e.visibleRange)||this.isBorder(e,x,a))&&(this.chart.redraw&&this.chart.pointsAdded&&e.majorGridLines.width&&!this.chart.pointsRemoved&&this.chart.chartArea.border.width&&!J(this.chart.element.id+"_MajorGridLine_"+t+"_"+x)&&(h="M "+(r=ro(e.visibleRange.max,e)*o.width+o.x)+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+r+" "+this.seriesClipRect.y,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",x,this.element,v.majorGridLine,e.majorGridLines.dashArray,b.MajorGridLine&&b.MajorGridLine.ids?b.MajorGridLine.ids[x]:null,!!b.MajorGridLine&&b.MajorGridLine.isPointRemoved),J(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])),h="M "+a+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+a+" "+this.seriesClipRect.y,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",x,this.element,v.majorGridLine,e.majorGridLines.dashArray,b.MajorGridLine&&b.MajorGridLine.ids?b.MajorGridLine.ids[x]:null,!!b.MajorGridLine&&b.MajorGridLine.isPointRemoved)),r="M "+a+" "+(o.y+p+(y?u:0))+" L "+a+" "+f,this.renderGridLine(e,t,r,e.majorTickLines,"_MajorTickLine_",x,i,v.majorTickLine,null,b.MajorTickLine&&b.MajorTickLine.ids?b.MajorTickLine.ids[x]:null,!!b.MajorTickLine&&b.MajorTickLine.isPointRemoved),0<e.minorTicksPerInterval)&&(0<e.minorGridLines.width||0<e.minorTickLines.width)&&(0!==x||!Ro(e)||l||s||this.renderMinorGridOnZooming(e,n,o,x,t,v,i),a=this.drawAxisMinorLine(e,n,o,x),this.renderGridLine(e,t,a[0],e.minorGridLines,"_MinorGridLine_",x,this.element,v.minorGridLine,e.minorGridLines.dashArray,b.MinorGridLine&&b.MinorGridLine.ids?b.MinorGridLine.ids[x]:null,!!b.MinorGridLine&&b.MinorGridLine.isPointRemoved),this.renderGridLine(e,t,a[1],e.minorTickLines,"_MinorTickLine_",x,i,v.minorTickLine,null,b.MinorTickLine&&b.MinorTickLine.ids?b.MinorTickLine.ids[x]:null,!!b.MinorTickLine&&b.MinorTickLine.isPointRemoved),x===m-1)&&Ro(e)&&l&&!s&&this.renderMinorGridOnZooming(e,n+e.visibleRange.interval,o,x,t,v,i)},qr.prototype.calculateGridLineId=function(h,c){var d=this,p={};return this.chart.pointsRemoved&&["MajorGridLine","MajorTickLine","MinorGridLine","MinorTickLine"].forEach(function(e){for(var t=J(h.id),i=t.querySelectorAll('[id*="_'+e+'_"]'),o=[],r=0;r<i.length;r++)o.push(i[r]);var n="MajorGridLine"===e&&d.chart.chartArea.border.width?c-2:c,n="MinorGridLine"===e||"MinorTickLine"===e?c-1:n;if(0<o.length&&n<o.length){for(var a=o.length,l=0;l<a-n;l++)o[l]&&t.removeChild(o[l]),o.shift();var s=o.map(function(e){e=e.id.split("_");return parseInt(e[e.length-1],10)});p[e]={ids:s,isPointRemoved:!0}}}),p},qr.prototype.renderMinorGridOnZooming=function(e,t,i,o,r,n,a){t=this.drawAxisMinorLine(e,t,i,o,!0);this.renderGridLine(e,r,t[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,n.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,r,t[1],e.minorTickLines,"_MinorTickLine_",-1,a,n.minorTickLine)},qr.prototype.drawAxisMinorLine=function(e,t,i,o,r){var n=t,a=0,l=0,s=e.visibleRange,t="Inside"===e.tickPosition,h=[],c=e.isAxisOpposedPosition?-e.minorTickLines.height:e.minorTickLines.height,d=1,p=1,u=t?i.y-c:i.y+c,g=t?i.x+c:i.x-c,m="",y="",f=e.isAxisInverse;if("Logarithmic"===e.valueType&&(p=(t=Math.pow(e.logBase,n-s.interval))+(d=(Math.pow(e.logBase,n)-t)/(e.minorTicksPerInterval+1))),"Horizontal"===e.orientation)for(var v=0;v<e.minorTicksPerInterval;v++)n=this.findLogNumeric(e,p,n,o,r),p+=d,Ui(n,s)&&(l=(n-s.min)/(s.max-s.min),l=Math.ceil((f?1-l:l)*i.width),a=Math.floor(l+i.x),m=m.concat("M "+a+" "+this.seriesClipRect.y+"L "+a+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),a=Math.floor(l+i.x),y=y.concat("M "+a+" "+i.y+"L "+a+" "+(u+e.scrollBarHeight)));else for(v=0;v<e.minorTicksPerInterval;v++)Ui(n=this.findLogNumeric(e,p,n,o,r),s)&&(l=(n-s.min)/(s.max-s.min),l=-1*Math.ceil((f?1-l:l)*i.height),a=Math.floor(l+i.y+i.height),m=m.concat("M "+this.seriesClipRect.x+" "+a+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+a+" "),a=Math.floor(l+i.y+i.height),y=y.concat("M "+i.x+" "+a+"L "+(g-e.scrollBarHeight)+" "+a+" ")),p+=d;return h.push(m),h.push(y),h},qr.prototype.findLogNumeric=function(e,t,i,o,r){var n,a=e.visibleRange;return"Logarithmic"===e.valueType?i=ji(t,e.logBase):"DateTime"===e.valueType?(n=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=r?i-n:i+n):"DateTimeCategory"===e.valueType?(t="BetweenTicks"===e.labelPlacement?.5:0,i+=((e.visibleLabels[o+1]?e.visibleLabels[o+1].value-t:e.visibleRange.max)-(e.visibleLabels[o]?e.visibleLabels[o].value-t:e.visibleRange.min))/(e.minorTicksPerInterval+1)):(n=a.interval/(e.minorTicksPerInterval+1),i=r?i-n:i+n),i},qr.prototype.drawXAxisLabels=function(e,t,O,i){for(var o,r,n,a,l,s,h=this.chart,c=0,d=0,z=e.labelPadding,p=h.renderer.createGroup({id:h.element.id+"AxisLabels"+t}),u="Inside"===e.labelPosition,g=e.isAxisOpposedPosition,B=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,m=B+z+.5*e.lineStyle.width,y=e.angle%360,N=0==y||-180==y||180==y,f=e.isAxisInverse,V=f?i.x+i.width:i.x,v=e.visibleLabels.length,b=e.scrollbarSettings.enable||!u&&K.isNullOrUndefined(e.crossesAt)&&(e.zoomFactor<1||0<e.zoomPosition)?e.scrollBarHeight:0,x=[],S=!1,C=[],w=new $.Size(0,0),F=(m+=90==y||270==y||-90==y||-270==y?u?5:-5:0,!g&&!u||g&&u),L=J(h.element.id+"AxisLabels"+t),H=this.removeAxisLabelElements(e,L),j=F?y<=360&&180<=y||y<=-1&&-180<=y:1<=y&&y<=180||y<=-181&&-360<=y,P=0,A=v;P<A;P++){s=Ni((l=e.visibleLabels[P]).originalText)||"Wrap"===e.labelIntersectAction&&1<l.text.length,c=ro(l.value,e)*i.width+i.x,o=l.size,a=i.width/v,R=(s?l.breakLabelSize:o).width,n=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0==y&&a<R?a:R,R=o.height/4,c-=s||0!=y?0:n/2,0!=y&&(c-=s?"Left"===e.lineBreakAlignment?l.breakLabelSize.width/2:"Right"===e.lineBreakAlignment?-l.breakLabelSize.width/2:0:-90==y||270==y?-R:90==y||-270==y?R:0),"Far"===e.labelStyle.textAlignment?c=c+n-10:"Near"===e.labelStyle.textAlignment&&(c=c-n+10),s&&"Center"!==e.lineBreakAlignment&&0==y&&(c+="Left"===e.lineBreakAlignment?-n/2:n/2);var M,D=s?N?e.opposedPosition||u?0:o.height:l.breakLabelSize.width/2:0,m=s?B+z+.5*e.lineStyle.width:m,d=u&&y?s?g?i.y+m+D:i.y-m-D:g?i.y+m+R:i.y-m-R:(D=s?F?m+b+(y?D:3*R):-(m+b+D):F?m+b+(y?1:3)*R:-(m+b+(y?R:1<l.index?2*R:0)),i.y+D*l.index),k=s?this.getAnchor(e):h.enableRtl?j?"":"end":h.isRtlEnabled||j?"end":"";if((M=new $.TextOption(h.element.id+t+"_AxisLabel_"+P,c,d,k)).id=(H&&L&&L.children[P]?L.children[P]:M).id,0!=y&&(w=Hi(l.labelStyle,l.originalText,y,h,h.themeStyle.axisLabelFont),r=y<0&&-90<y||y<-180&&-270<y||90<y&&y<180||270<y&&y<360),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((0===P||f&&P===A-1)&&M.x<i.x||(P===A-1||f&&0===P)&&M.x+(0==y?n:w.width)>i.x+i.width)continue;break;case"Shift":if((0===P||f&&P===A-1)&&(M.x<i.x||0!=y&&r&&M.x-w.width<=i.x||"Center"===e.lineBreakAlignment&&M.x-l.size.width/l.text.length/2<i.x&&0==y))if(a-=i.x-M.x,""!==k||f||0!=y)if(r&&0!=y)a=i.width/v,i.x+a>M.x+w.width?M.x=c=i.x+m:M.x=c=i.x+a-m;else if(s&&"Center"===e.lineBreakAlignment&&"OnTicks"===e.labelPlacement&&0==y){for(var W=0,U=0;U<l.text.length;U++){var X=$.measureText(l.text[U],e.labelStyle,h.themeStyle.axisLabelFont).width;W<X&&(W=X)}M.x=c=i.x+W/2}else"start"===k&&0<M.x||(M.x=c=N?i.x:i.x+m);else c=M.x<=0?M.x=0:M.x,a=i.width/v;else(P===A-1||f&&0===P)&&(M.x+n>i.x+i.width&&"end"!==k&&0==y||0!=y&&!r&&M.x+w.width>i.x+i.width||"end"===k&&M.x>i.x+i.width)&&(o.width>a&&"Trim"===e.labelIntersectAction&&0==y?a-=M.x+n-(i.x+i.width):0!=y?w.width<a&&(a=w.width):a=n,M.x=c=0!=y?i.x+i.width-a+m:N?i.x+i.width-a:i.x+i.width-a/2)}M.text=this.getLabelText(l,e,a),M.labelRotation=y;var R=void 0,D=void 0,D=s&&0==y?"Right"===e.lineBreakAlignment?(R=M.x-n,M.x):"Center"===e.lineBreakAlignment?(R=M.x-n/2,M.x+n/2):(R=M.x,M.x+n):(R=M.x,M.x+n);if(0!=y||"Hide"!==e.labelIntersectAction||0===P||!(f?V<=D:R<=V)){if(V=s?"Right"===e.lineBreakAlignment?f?M.x-n:M.x:"Center"===e.lineBreakAlignment?f?M.x-n/2:M.x+n/2:f?M.x:M.x+n:f?M.x:M.x+n,0!=y){var D=void 0,R=void 0,R=s?(_=T=0,D=l.breakLabelSize.height,_=l.breakLabelSize.height-4,"Center"===e.lineBreakAlignment?T=-l.breakLabelSize.width/2:"Right"===e.lineBreakAlignment&&(T=-l.breakLabelSize.width),F&&(_=l.breakLabelSize.height/(M.text.length+1)),new $.Rect(M.x+T,M.y-_,l.breakLabelSize.width,D)):(D=d-(M.y-l.size.height/2),new $.Rect(M.x,M.y-(l.size.height/2-5),l.size.width,D)),T=this.getRectanglePoints(R),_=s?R.x+R.width/2:c,R=s?R.y+R.height/2:d-D/2;if(M.transform=s?"rotate("+y+","+_+","+R+")":"rotate("+y+","+c+","+d+")",x.push(eo(T,_,R,y)),S=!1,"None"!==e.labelIntersectAction)for(var G=P;0<G;G--)if(x[P]&&x[G-1]&&to(x[P],x[G-1])){S=!0,x[P]=null;break}for(var E,I,Y=0<y&&y<90||180<y&&y<270||y<-90&&-180<y||y<-270&&-360<y,D=new $.Rect(M.x,M.y-(o.height/2+m/2),l.size.width,D),D=this.getRectanglePoints(D),Z=[],q=(Z.push(new ee(Y?this.chart.availableSize.width:this.padding,e.rect.y)),Z.push(new ee(Y?this.chart.availableSize.width:this.padding,e.rect.y+e.maxLabelSize.height)),C.push(eo(D,_,R,y)),new $.Rect(0,e.rect.y,this.chart.availableSize.width,2*e.maxLabelSize.height)),Q=0;Q<C[P].length;Q++)e.opposedPosition||mo(C[P][Q].x,C[P][Q].y,q)||"string"!=typeof M.text||(E=this.calculateIntersection(C[P][0],C[P][1],Z[0],Z[1]),I=Y?this.chart.availableSize.width-c:c,E=E.y-e.rect.y,I=Math.sqrt(I*I+E*E),M.text=hr(I,l.text,l.labelStyle,h.enableRtl,h.themeStyle.axisLabelFont))}!h.pointsAdded||h.pointsRemoved||J(M.id)||(D=M.x,M.x=i.width+i.width/(P||1),R=M.transform,M.transform=y?"rotate("+y+","+M.x+","+parseFloat(M.transform.split(",")[2])+")":"",gr(h.renderer,M,l.labelStyle,l.labelStyle.color||h.themeStyle.axisLabelFont.color,p,e.isAxisOpposedPosition!==("Inside"===e.labelPosition),h.redraw,!0,null,null,null,l.size,S,h.enableCanvas,null,h.themeStyle.axisLabelFont),M.x=D,M.transform=R);D=gr(h.renderer,M,l.labelStyle,l.labelStyle.color||h.themeStyle.axisLabelFont.color,p,e.isAxisOpposedPosition!==("Inside"===e.labelPosition),h.redraw,!0,null,h.duration,null,l.size,S,h.enableCanvas,null,h.themeStyle.axisLabelFont,new ee(parseFloat(M.transform.split(",")[1]),parseFloat(M.transform.split(",")[2])));H&&(D.id=h.element.id+t+"_AxisLabel_"+P)}}this.chart.enableCanvas||(h.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,p,e,t,i):O.appendChild(p))},qr.prototype.removeAxisLabelElements=function(e,t){if(this.chart.pointsRemoved&&t&&t.childNodes.length){var i=!1;if(-1<e.valueType.indexOf("Category")){var o=[];e.visibleLabels.map(function(e){"string"!=typeof e.text?o.push(e.text.join("")):o.push(e.text)});for(var r=t.childNodes.length-1;0<=r;r--){var n=t.childNodes[r];-1===o.indexOf(n.textContent.trim())&&(t.removeChild(n),i=!0)}}else if(t.childNodes.length>e.visibleLabels.length)for(var a=0;a<t.childNodes.length-e.visibleLabels.length;a++)t.removeChild(t.childNodes[a]),i=!0;return i}return!1},qr.prototype.calculateIntersection=function(e,t,i,o){var r=i.x-o.x,n=e.x-t.x,a=i.y-o.y,l=e.y-t.y,s=n*a-l*r,e=e.x*t.y-e.y*t.x,t=i.x*o.y-i.y*o.x;return{x:(e*r-n*t)/s,y:(e*a-l*t)/s}},qr.prototype.getAnchor=function(e){return"Center"===e.lineBreakAlignment?"middle":this.chart.enableRtl?"Left"===e.lineBreakAlignment?"end":"start":"Left"===e.lineBreakAlignment?"start":"end"},qr.prototype.getRectanglePoints=function(e){return[new ee(e.x,e.y),new ee(e.x+e.width,e.y),new ee(e.x+e.width,e.y+e.height),new ee(e.x,e.y+e.height)]},qr.prototype.getLabelText=function(e,t,i){if(Ni(e.originalText)){for(var o,r=[],n=0;n<e.text.length;n++)o=this.findAxisLabel(t,e.text[n],i),r.push(o);return r}return this.findAxisLabel(t,e.text,i)},qr.prototype.drawXAxisBorder=function(e,t,i,o){if(0<e.border.width){for(var r,n="Outside"===e.labelPosition?e.scrollBarHeight:0,a=e.isAxisOpposedPosition,l=void 0,s=o.y+(a?-1:1)*n,h=o.width/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval),c=void 0,d=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),p="",u="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,g=a&&"Inside"===e.labelPosition||!a&&"Outside"===e.labelPosition?o.y+d+10+n:o.y-d-10-n,m=0,y=e.visibleLabels.length;m<y;m++)switch(r=ro(e.visibleLabels[m].value+u,e),r=(e.isAxisInverse?1-r:r)*o.width,c="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(l=r+o.x,r+h+o.x):(l=r-.5*h+o.x,r+.5*h+o.x),e.border.type){case"Rectangle":case"WithoutTopBorder":l<o.x&&"OnTicks"!==e.labelPlacement?p+="M "+o.x+" "+g+" L "+c+" "+g+" ":Math.floor(c)>o.width+o.x&&1!==e.visibleLabels.length&&m!==e.visibleLabels.length-1?p+="M "+l+" "+s+" L "+l+" "+g+" L "+(o.width+o.x)+" "+g+" ":(p+="M "+(l=0===m&&"OnTicks"===e.labelPlacement?o.x:l)+" "+s+" L "+l+" "+g+" L "+(c=m===e.visibleLabels.length-1&&"OnTicks"===e.labelPlacement?c-.5*h:c)+" "+g+" ",0===m&&(p+="M "+l+" "+s+" L "+l+" "+g+" M "+l+" "+g+" L "+o.x+" "+g),m===e.visibleLabels.length-1&&(p+="M "+c+" "+s+" L "+c+" "+g+" M "+c+" "+g+" L "+(o.width+o.x)+" "+g));break;case"WithoutTopandBottomBorder":l<o.x||Math.floor(c)>o.width+o.x||(p+="M "+l+" "+s+" L "+l+" "+g+" M "+c+" "+s+" L "+c+" "+g)}""!==(p+="Rectangle"===e.border.type?"M  "+o.x+" "+s+"L "+(o.x+o.width)+" "+s:"")&&this.createAxisBorderElement(e,t,p,i)}for(m=0;m<this.chart.visibleSeries.length;m++)if(this.chart.multiLevelLabelModule&&0<e.multiLevelLabels.length&&this.chart.visibleSeries[m].visible){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,o);break}},qr.prototype.createAxisBorderElement=function(e,t,i,o){var r=J(this.chart.element.id+"_BorderLine_"+t),r=r?r.getAttribute("d"):"",t=this.chart.renderer.drawPath(new $.PathOption(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));t.style.pointerEvents="none",q(this.chart.enableCanvas,o,t,this.chart.redraw,!1,"x","y",null,r,!0,null,null,this.chart.duration)},qr.prototype.findAxisLabel=function(e,t,i){return"Trim"!==e.labelIntersectAction||e.angle%360!=0||e.enableTrim?t:hr(i,t,e.labelStyle,this.chart.enableRtl,this.chart.themeStyle.axisLabelFont)},qr.prototype.drawXAxisTitle=function(e,t,i,o){var r,n,a,l,s,h;e.title&&(r=this.chart,n=$.measureText(e.title,e.titleStyle,this.chart.themeStyle.axisTitleFont),l=K.isNullOrUndefined(e.crossesAt)?e.scrollBarHeight:0,h=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding),a=e.titleSize.height*(e.titleCollection.length-1),h=e.isAxisOpposedPosition?-(h+n.height/4+l+a):h+3*n.height/4+l,a=e.titleRotation||0,l=o.y+h,s=h=void 0,h="Center"===e.titleStyle.textAlignment?(s="middle",o.x+.5*o.width):"Near"===e.titleStyle.textAlignment?(s="start",o.x):(s="end",o.x+o.width),0!==a&&(l+=e.opposedPosition?-(e.titleSize.height/2+n.height/4):e.titleSize.height/2-n.height/4),o=new $.TextOption(r.element.id+"_AxisTitle_"+t,h,l,s,e.titleCollection,"rotate("+a+","+h+","+l+")",null,a),gr(r.renderer,o,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitleFont.color,i,null,r.redraw,r.redraw,null,null,null,0,null,r.enableCanvas,null,r.themeStyle.axisTitleFont,new ee(h,l)).setAttribute("aria-hidden","true"))},qr.prototype.renderGridLine=function(e,t,i,o,r,n,a,l,s,h,c){void 0===s&&(s=null),void 0===h&&(h=null),void 0===c&&(c=!1);var d,p=this.chart;0<o.width&&e.visible&&e.internalVisibility&&i&&(d=(e=J(p.element.id+r+t+"_"+(c?h:n)))?e.getAttribute("d"):null,this.htmlObject=p.renderer.drawPath(new $.PathOption(p.element.id+r+t+"_"+(c?h:n),"transparent",o.width,o.color||l,e=null,s,i)),q(p.enableCanvas,a,this.htmlObject,p.redraw,!0,"x","y",null,d,!0,null,null,p.duration),c)&&(this.htmlObject.id=p.element.id+r+t+"_"+n)},qr.prototype.findParentNode=function(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")},qr.prototype.createZoomingLabel=function(e,t,i,o,r){var n=this.findParentNode(e.element.id,t,o),a=(t.setAttribute("opacity","0.3"),e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+o})),a=uo(e,i,a,o,"Vertical"===i.orientation,r);n.replaceChild(t,document.getElementById(t.id)),J(e.element.id+"AxisLabels_Zoom"+o)?n.replaceChild(a,document.getElementById(a.id)):n.appendChild(a)};var Zr=qr;function qr(e){this.chart=e,this.padding=5}Kr.prototype.getData=function(){for(var e=this.chart,t=null,i=null,o=e.visibleSeries.length-1;0<=o;o--){var r,n,a,l="Scatter"===(i=e.visibleSeries[o]).type||"Scatter"===i.drawType||i.marker.visible?(i.marker.height+5)/2:0,s="Scatter"===i.type||"Scatter"===i.drawType||i.marker.visible?(i.marker.width+5)/2:0;if(a=e.mouseX,r=e.mouseY,i.dragSettings.enable&&i.isRectSeries&&("Bar"===i.type&&e.isTransposed||!e.isTransposed&&"Bar"!==i.type?(n=i.marker.height/2,r=i.yAxis.isAxisInverse?r-n:r+n):(n=i.marker.width/2,a=i.yAxis.isAxisInverse?a+n:a-n)),t=i.visible&&mo(a,r,i.clipRect,l,s)?this.getRectPoint(i,i.clipRect,a,r):t)return new Or(t,i)}return new Or(t,i)},Kr.prototype.isSelected=function(e){return(-1<e.selectionMode.indexOf("Drag")||-1<e.selectionMode.indexOf("Lasso"))&&e.selectionModule&&null!==e.selectionModule.rectPoints},Kr.prototype.getRectPoint=function(e,t,i,o){var r,n,a,l,s,h,c=this.chart;if(!c.isScrolling)for(var d=0,p=e.points;d<p.length;d++){var u=p[d];if(u.regionData||u.regions&&u.regions.length){if(u.regionData&&"PolarRadar"===this.chart.chartAreaType&&-1<e.drawType.indexOf("Column")&&(r=i-(e.clipRect.width/2+e.clipRect.x),n=o-(e.clipRect.height/2+e.clipRect.y),h=2*Math.PI*(u.regionData.currentXPosition<0?1+u.regionData.currentXPosition:u.regionData.currentXPosition),a=(a=(Math.atan2(n,r)+.5*Math.PI-h)%(2*Math.PI))<0?2*Math.PI+a:a,a+=2*Math.PI*e.chart.primaryXAxis.startAngle,l=u.regionData.startAngle,l=(l-=h)<0?2*Math.PI+l:l,s=u.regionData.endAngle,s=(s-=h)<0?2*Math.PI+s:s,h=Math.sqrt(Math.pow(Math.abs(r),2)+Math.pow(Math.abs(n),2)),l<=a)&&a<=s&&(h>=u.regionData.innerRadius&&h<=u.regionData.radius||h<=u.regionData.innerRadius&&h>=u.regionData.radius)&&h<=e.chart.radius)return u;if((e.dragSettings.enable&&e.isRectSeries||e.isRectSeries&&e.marker.visible&&"PolarRadar"!==this.chart.chartAreaType)&&this.isPointInThresholdRegion(i,o,u,t,e))return this.insideRegion=!0,u;if(!this.insideRegion&&this.checkRegionContainsPoint(u.regions,t,i,o))return u;if(this.insideRegion&&this.checkRegionContainsPoint(u.regions,t,i,o))return u}}return null},Kr.prototype.checkRegionContainsPoint=function(e,i,o,r){var n=this;return e.some(function(e,t){return n.lierIndex=t,mo(o,r,new $.Rect(("Cartesian"===n.chart.chartAreaType?i.x:0)+e.x,("Cartesian"===n.chart.chartAreaType?i.y:0)+e.y,e.width,e.height))})},Kr.prototype.isPointInThresholdRegion=function(t,i,e,o,r){var n,a=this,l="Bar"===r.type,s=r.yAxis.isAxisInverse,r=r.chart.isTransposed,h=0,c=0,d=n=20;return s&&r?l?(h=e.regions[0].height-10,n=e.regions[0].width):(c=-10,d=e.regions[0].height):s||e.yValue<0?l?(c=-10,d=e.regions[0].height):(h=e.regions[0].height-10,n=e.regions[0].width):r?l?(h=-10,n=e.regions[0].width):(c=e.regions[0].width-10,d=e.regions[0].height):l?(c=e.regions[0].width-10,d=e.regions[0].height):(h=-10,n=e.regions[0].width),e.regions.some(function(e){return mo(t,i,new $.Rect(("Cartesian"===a.chart.chartAreaType?o.x:0)+e.x+c,("Cartesian"===a.chart.chartAreaType?o.y:0)+e.y+h,n,d))})},Kr.prototype.getClosest=function(e,t,i){var o,r,n=i||e.xData,a=n.length,l=.5,s=.5;if("DateTime"===e.xAxis.valueType&&1===e.points.length){for(var l=e.xAxis.visibleRange.min,s=e.xAxis.visibleRange.max,h=0;h<e.chart.visibleSeries.length;h++){var c=e.chart.visibleSeries[h];c.xMin>=l&&c.xMin<e.xMin&&(l=c.xMin+.1),c.xMax<=s&&c.xMax>e.xMax&&(s=c.xMax-.1),1<c.points.length&&(c.xMax>=l&&c.xMax<e.xMin&&(l=c.xMax+.1),c.xMin<=s)&&c.xMin>e.xMax&&(s=c.xMin-.1)}l!==e.xAxis.visibleRange.min&&(l=Math.abs(e.xMin-l)/2),s!==e.xAxis.visibleRange.max&&(s=Math.abs(e.xMax-s)/2)}if(t>=e.xMin-l&&t<=e.xMax+s)for(var d=0;d<a;d++)r=n[d],(null==o||Math.abs(r-t)<Math.abs(o-t))&&(o=r);return-1!==e.xData.indexOf(o)?o:null},Kr.prototype.binarySearch=function(e,t){for(var i,o=0,r=t.length,n=-1,a=!1;!1===a&&o<=r;)t[i=Math.floor((o+r)/2)].xValue===e?(a=!0,n=i):t[i].xValue>e?r=i-1:o=i+1;return-1!==n?t[n]:null},Kr.prototype.getClosestX=function(e,t,i){var o=t.clipRect,e=(e.mouseX<=o.x+o.width&&e.mouseX>=o.x&&(r=e.requireInvertedAxis?fo(e.mouseY-o.y,o.height,t.xAxis):yo(e.mouseX-o.x,o.width,t.xAxis)),this.getClosest(t,r,i)),r=(e||0===e)&&0<t.points.length?this.binarySearch(e,Bi(t.points,["xValue"])):null;return r&&r.visible&&"Cartesian"===this.chart.chartAreaType&&("Indicator"===t.category&&"Histogram"===t.name||r.symbolLocations&&0<r.symbolLocations.length&&0<=r.symbolLocations[0].x&&r.symbolLocations[0].x<=o.width)?new Or(r,t):null},Kr.prototype.mergeXvalues=function(e){if(e.length&&(!this.commonXvalues.length||this.commonXvalues.length!==e[0].xData.length)){this.commonXvalues=e[0].xData;for(var t=1;t<e.length;t++)this.commonXvalues=this.getDistinctValues(this.commonXvalues,e[t].xData)}return this.commonXvalues},Kr.prototype.commonXValue=function(e){for(var t=[],i=0;i<e.length;i++)for(var o=0;e[i].points&&o<e[i].points.length;o++){var r=e[i].points[o];r&&(0===r.index||r.index===e[i].points.length-1||r.symbolLocations&&0<r.symbolLocations.length)&&t.push(r.xValue)}return t},Kr.prototype.getDistinctValues=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var i,o={},r=[],n=0;n<e.length;n++)o[i=e[n]]||(o[i]=!0,r.push(i));for(n=0;n<t.length;n++)o[i=t[n]]||(o[i]=!0,r.push(i));return r};var Qr=Kr;function Kr(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.commonXvalues=[],this.chart=e,this.lierIndex=0}$r=function(e,t){return($r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var $r,Jr,i=function(e,t){function i(){this.constructor=e}$r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},en=(Jr=K.ChildProperty,i(tn,Jr),n([K.Property(!1)],tn.prototype,"visible",void 0),n([K.Property(!0)],tn.prototype,"showZero",void 0),n([K.Property(null)],tn.prototype,"name",void 0),n([K.Property("transparent")],tn.prototype,"fill",void 0),n([K.Property(null)],tn.prototype,"format",void 0),n([K.Property(1)],tn.prototype,"opacity",void 0),n([K.Property(0)],tn.prototype,"angle",void 0),n([K.Property(!1)],tn.prototype,"enableRotation",void 0),n([K.Property("Auto")],tn.prototype,"position",void 0),n([K.Property(5)],tn.prototype,"rx",void 0),n([K.Property(5)],tn.prototype,"ry",void 0),n([K.Property("Center")],tn.prototype,"alignment",void 0),n([K.Complex({width:null,color:null},ae)],tn.prototype,"border",void 0),n([K.Complex({left:5,right:5,top:5,bottom:5},me)],tn.prototype,"margin",void 0),n([K.Complex({size:null,color:null,fontStyle:null,fontWeight:null,fontFamily:null},oe)],tn.prototype,"font",void 0),n([K.Property(null)],tn.prototype,"template",void 0),n([K.Property("Hide")],tn.prototype,"labelIntersectAction",void 0),tn);function tn(){return null!==Jr&&Jr.apply(this,arguments)||this}on=K.ChildProperty,i(nn,on),n([K.Property(!1)],nn.prototype,"visible",void 0),n([K.Property(null)],nn.prototype,"shape",void 0),n([K.Property("")],nn.prototype,"imageUrl",void 0),n([K.Property(5)],nn.prototype,"height",void 0),n([K.Property(!1)],nn.prototype,"isFilled",void 0),n([K.Property(5)],nn.prototype,"width",void 0),n([K.Complex({width:2,color:null},ae)],nn.prototype,"border",void 0),n([K.Complex({x:0,y:0},he)],nn.prototype,"offset",void 0),n([K.Property(null)],nn.prototype,"fill",void 0),n([K.Property(!0)],nn.prototype,"allowHighlight",void 0),n([K.Property(1)],nn.prototype,"opacity",void 0),n([K.Complex({},en)],nn.prototype,"dataLabel",void 0);var on,rn=nn;function nn(){return null!==on&&on.apply(this,arguments)||this}an=K.ChildProperty,i(sn,an),n([K.Property(null)],sn.prototype,"fill",void 0),n([K.Property(1)],sn.prototype,"width",void 0),n([K.Property("0")],sn.prototype,"dashArray",void 0),n([K.Complex(null,rn)],sn.prototype,"marker",void 0),n([K.Property(!0)],sn.prototype,"showAxis",void 0);var an,ln=sn;function sn(){return null!==an&&an.apply(this,arguments)||this}var hn,cn=function(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0,this.verticalError=null,this.verticalNegativeError=null,this.horizontalError=null,this.horizontalNegativeError=null,this.verticalPositiveError=null,this.horizontalPositiveError=null},dn=(hn=K.ChildProperty,i(pn,hn),pn.prototype.setDataSource=function(e,t){e&&(this.points=e.points),t.trendLineModule.initDataSource(this),t.visibleSeriesCount++},n([K.Property("")],pn.prototype,"name",void 0),n([K.Property("")],pn.prototype,"dashArray",void 0),n([K.Property(!0)],pn.prototype,"visible",void 0),n([K.Property("Linear")],pn.prototype,"type",void 0),n([K.Property(2)],pn.prototype,"period",void 0),n([K.Property(2)],pn.prototype,"polynomialOrder",void 0),n([K.Property(0)],pn.prototype,"backwardForecast",void 0),n([K.Property(0)],pn.prototype,"forwardForecast",void 0),n([K.Complex({},Se)],pn.prototype,"animation",void 0),n([K.Complex({},rn)],pn.prototype,"marker",void 0),n([K.Property(!0)],pn.prototype,"enableTooltip",void 0),n([K.Property(null)],pn.prototype,"intercept",void 0),n([K.Property("")],pn.prototype,"fill",void 0),n([K.Property(1)],pn.prototype,"width",void 0),n([K.Property("SeriesType")],pn.prototype,"legendShape",void 0),pn);function pn(){var e=null!==hn&&hn.apply(this,arguments)||this;return e.clipRect=new $.Rect(0,0,0,0),e}un=K.ChildProperty,i(mn,un),n([K.Property(1)],mn.prototype,"width",void 0),n([K.Property(10)],mn.prototype,"length",void 0),n([K.Property(null)],mn.prototype,"color",void 0),n([K.Property(1)],mn.prototype,"opacity",void 0);var un,gn=mn;function mn(){return null!==un&&un.apply(this,arguments)||this}yn=K.ChildProperty,i(vn,yn),n([K.Property(null)],vn.prototype,"value",void 0),n([K.Property(null)],vn.prototype,"color",void 0),n([K.Property("0")],vn.prototype,"dashArray",void 0);var yn,fn=vn;function vn(){return null!==yn&&yn.apply(this,arguments)||this}bn=K.ChildProperty,i(Sn,bn),n([K.Property(!1)],Sn.prototype,"visible",void 0),n([K.Property("Fixed")],Sn.prototype,"type",void 0),n([K.Property("Both")],Sn.prototype,"direction",void 0),n([K.Property("Vertical")],Sn.prototype,"mode",void 0),n([K.Property(null)],Sn.prototype,"color",void 0),n([K.Property(1)],Sn.prototype,"verticalError",void 0),n([K.Property(1)],Sn.prototype,"width",void 0),n([K.Property(1)],Sn.prototype,"horizontalError",void 0),n([K.Property(3)],Sn.prototype,"verticalPositiveError",void 0),n([K.Property(3)],Sn.prototype,"verticalNegativeError",void 0),n([K.Property(1)],Sn.prototype,"horizontalPositiveError",void 0),n([K.Property(1)],Sn.prototype,"horizontalNegativeError",void 0),n([K.Complex(null,gn)],Sn.prototype,"errorBarCap",void 0),n([K.Property("")],Sn.prototype,"errorBarColorMapping",void 0);var bn,xn=Sn;function Sn(){return null!==bn&&bn.apply(this,arguments)||this}Cn=K.ChildProperty,i(Fn,Cn),Fn.prototype.processJsonData=function(){var e=0,t=new cn,i=this instanceof Pn&&"Histogram"===this.type?"x":this.xName,o=this instanceof Pn&&this.marker.dataLabel.name?this.marker.dataLabel.name:"",r=(this instanceof Pn&&("Waterfall"!==this.type&&"Histogram"!==this.type||(this.currentViewData=this.chart[bo(this.type)+"SeriesModule"].processInternalData(K.extend([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=K.extend([],this.currentViewData,null,!0),"Line"===this.type)&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this)),this.isRectTypeSeries=-1<this.type.indexOf("Column")||-1<this.type.indexOf("Bar")||-1<this.type.indexOf("Histogram")),(this.currentViewData||[]).length);if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;e<r;)this.pushCategoryPoint(t,e,o,i),e++;else if(-1<this.xAxis.valueType.indexOf("DateTime"))for(var n={skeleton:"full",type:"dateTime"},a=this.chart.intl.getDateParser(n),l=this.chart.intl.getDateFormat(n);e<r;)this.pushDateTimePoint(t,e,o,i,a,l),e++;else for(;e<r;)this.pushDoublePoint(t,e,o,i),e++;this.updateSplineValue()},Fn.prototype.pushCategoryPoint=function(e,t,i,o){e=this.dataPoint(t,i,o),this.pushCategoryData(e,t,e.x),this.pushData(e,t),this.setEmptyPoint(e,t),this.rangeColorsInterior(e)},Fn.prototype.pushDoublePoint=function(e,t,i,o){(e=this.dataPoint(t,i,o)).xValue=e.x,this.pushData(e,t),this.setEmptyPoint(e,t)},Fn.prototype.pushDateTimePoint=function(e,t,i,o,r,n){e=this.dataPoint(t,i,o),K.isNullOrUndefined(e.x)||""===e.x?e.visible=!1:(e.x=new Date(R.DataUtil.parse.parseJson({val:e.x}).val),"DateTime"===this.xAxis.valueType?e.xValue=Date.parse(e.x.toString()):this.chart.isBlazor?this.pushCategoryData(e,t,Date.parse(e.x.toString()).toString()):this.pushCategoryData(e,t,Date.parse(r(n(e.x))).toString()),this.pushData(e,t),this.setEmptyPoint(e,t))},Fn.prototype.updateSplineValue=function(){var e,t;this instanceof Pn&&(!this.chart.stockChart||"DateTimeCategory"!==this.xAxis.valueType)&&(-1<this.type.indexOf("Spline")||-1<this.drawType.indexOf("Spline")&&"PolarRadar"===this.chart.chartAreaType?(e=-1<this.type.indexOf("Area")||-1<this.drawType.indexOf("Area"),t=-1<this.type.indexOf("Range"),this.chart["spline"+(e?t?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)):-1<this.type.indexOf("Histogram")&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this),-1<this.type.indexOf("Histogram"))&&1===this.points.length&&(this.xMin=this.xMin-this.histogramValues.binWidth,this.xMax=this.xMax+this.histogramValues.binWidth)},Fn.prototype.rangeColorsInterior=function(e){this.chart.rangeColorSettings&&0<this.chart.rangeColorSettings.length&&1===this.chart.visibleSeries.length&&("Column"===this.chart.series[0].type||"Bar"===this.chart.series[0].type||"Scatter"===this.chart.series[0].type||"Bubble"===this.chart.series[0].type)&&(this.rangeColorPoints[e.interior]?void 0!==this.rangeColorPoints[e.interior]&&this.rangeColorPoints[e.interior].push(e):this.rangeColorPoints[e.interior]=[])},Fn.prototype.pushData=function(e,t){e.index=t,e.yValue=e.y,(e.series=this).xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)},Fn.prototype.dataPoint=function(e,t,i){this.points[e]=new cn;var o=this.points[e],e=this.currentViewData[e],r=this.enableComplexProperty?K.getValue:this.getObjectValue;return o.x=r(i,e),o.high=r(this.high,e),o.low=r(this.low,e),o.open=r(this.open,e),o.close=r(this.close,e),o.volume=r(this.volume,e),o.interior=r(this.pointColorMapping,e),this instanceof Pn&&(this.errorBar.visible&&(o.errorBarColor=r(this.errorBar.errorBarColorMapping,e),o.verticalError="string"==typeof this.errorBar.verticalError?r(this.errorBar.verticalError,e):this.errorBar.verticalError,o.horizontalError="string"==typeof this.errorBar.horizontalError?r(this.errorBar.horizontalError,e):this.errorBar.horizontalError,o.verticalNegativeError="string"==typeof this.errorBar.verticalNegativeError?r(this.errorBar.verticalNegativeError,e):this.errorBar.verticalNegativeError,o.verticalPositiveError="string"==typeof this.errorBar.verticalPositiveError?r(this.errorBar.verticalPositiveError,e):this.errorBar.verticalPositiveError,o.horizontalNegativeError="string"==typeof this.errorBar.horizontalNegativeError?r(this.errorBar.horizontalNegativeError,e):this.errorBar.horizontalNegativeError,o.horizontalPositiveError="string"==typeof this.errorBar.horizontalPositiveError?r(this.errorBar.horizontalPositiveError,e):this.errorBar.horizontalPositiveError),o.y=r(this.yName,e),o.size=r(this.size,e),o.text=r(t,e),o.tooltip=r(this.tooltipMappingName,e),this.isAdvancedColorSupported())&&(this.rangeColorName=0<this.colorName.length?this.colorName:this.yName,o.colorValue=r(this.rangeColorName,e),o.interior=this.getPointFillColor(o.interior,o.colorValue)),o},Fn.prototype.isAdvancedColorSupported=function(){return K.isNullOrUndefined(this.isAdvancedColor)&&(this.chart.rangeColorSettings&&0<this.chart.rangeColorSettings.length&&("Column"===this.chart.series[0].type||"Bar"===this.chart.series[0].type||"Scatter"===this.chart.series[0].type||"Bubble"===this.chart.series[0].type)?this.isAdvancedColor=!0:this.isAdvancedColor=!1),this.isAdvancedColor},Fn.prototype.getPointFillColor=function(e,t){var i=e;if(t&&this.chart.rangeColorSettings&&0<this.chart.rangeColorSettings.length)for(var o=0,r=this.chart.rangeColorSettings;o<r.length;o++){var n=r[o];t>=n.start&&t<=n.end&&(i=1<n.colors.length?Vr(n,t):n.colors[0])}return i},Fn.prototype.getObjectValue=function(e,t){return t[e]},Fn.prototype.setEmptyPoint=function(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof Pn&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof Pn&&-1<this.seriesType.indexOf("HighLow")?(e.high=e.low=0,-1<this.seriesType.indexOf("HighLowOpenClose")&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof Pn&&(-1<this.seriesType.indexOf("HighLow")?(e.high=K.isNullOrUndefined(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=K.isNullOrUndefined(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,-1<this.seriesType.indexOf("HighLowOpenClose")&&(e.open=K.isNullOrUndefined(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=K.isNullOrUndefined(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}},Fn.prototype.findVisibility=function(e){var t,i=this instanceof Pn?this.seriesType:"HighLowOpenClose",o=this.yAxis.minimum,r=this.yAxis.maximum;switch(i){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!K.isNullOrUndefined(o)&&e.yValue<o||!K.isNullOrUndefined(r)&&e.yValue>r)?!(e.isPointInRange=!1):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof Pn&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,K.isNullOrUndefined(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),K.isNullOrUndefined(e.x)||K.isNullOrUndefined(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),K.isNullOrUndefined(e.x)||K.isNullOrUndefined(e.low)||isNaN(+e.low)||K.isNullOrUndefined(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),K.isNullOrUndefined(e.x)||K.isNullOrUndefined(e.low)||isNaN(+e.low)||K.isNullOrUndefined(e.open)||isNaN(+e.open)||K.isNullOrUndefined(e.close)||isNaN(+e.close)||K.isNullOrUndefined(e.high)||isNaN(+e.high);case"BoxPlot":return t=(e.y||[null]).filter(function(e){return!K.isNullOrUndefined(e)&&!isNaN(e)}).sort(function(e,t){return e-t}),e.y=t,this.yMin=Math.min(this.yMin,Math.min.apply(Math,t)),this.yMax=Math.max(this.yMax,Math.max.apply(Math,t)),!t.length}},Fn.prototype.setXYMinMax=function(e){var t="Logarithmic"===this.yAxis.valueType||"Logarithmic"===this.xAxis.valueType,i=e<0||"None"===this.yAxis.rangePadding,i=!this.isRectTypeSeries||ko(this.yAxis)||t||i?e:0;this.yMin=t?Math.min(this.yMin,K.isNullOrUndefined(i)||isNaN(i)||0===i||"0"===i.toString()||""===i.toString()?this.yMin:i):Math.min(this.yMin,K.isNullOrUndefined(i)||isNaN(i)?this.yMin:i),this.yMax=Math.max(this.yMax,K.isNullOrUndefined(e)||isNaN(e)?this.yMax:e)},Fn.prototype.setHiloMinMax=function(e,t){this.yMin=Math.min(this.yMin,Math.min(K.isNullOrUndefined(t)||isNaN(t)?this.yMin:t,K.isNullOrUndefined(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(K.isNullOrUndefined(t)||isNaN(t)?this.yMax:t,K.isNullOrUndefined(e)||isNaN(e)?this.yMax:e))},Fn.prototype.getSeriesType=function(){var e;if(this instanceof Pn){var t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e},Fn.prototype.pushCategoryData=function(e,t,i){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(void 0===this.xAxis.indexLabels[i]&&(this.xAxis.indexLabels[i]=this.xAxis.labels.length,this.xAxis.labels.push(i)),e.xValue=this.xAxis.indexLabels[i])},Fn.prototype.getAverage=function(e,t,i){return(((i=void 0===i?this.currentViewData:i)[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2},Fn.prototype.refreshDataManager=function(e){var t=this,e=(this.chart=e).isAngular?(Object.keys(this.dataSource).length?this:e).dataSource:this.dataSource||e.dataSource;e instanceof R.DataManager||!K.isNullOrUndefined(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(function(e){return t.dataManagerSuccess(e)}):this.dataManagerSuccess({result:e,count:e.length},!1)},Fn.prototype.dataManagerSuccess=function(e,t){var i;void 0===t&&(t=!0),this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof Pn&&(this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData),i={name:ht,series:this,data:this.currentViewData,fill:this.interior},this.chart.trigger(ht,i),this.interior=i.fill,this.currentViewData=i.data),!this.chart.stockChart||this instanceof Pn||(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null},Fn.prototype.refreshChart=function(e){var t=this.chart;if(this instanceof Pn&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof Pn&&"TrendLine"!==this.category)for(var i=0,o=this.trendlines;i<o.length;i++)o[i].setDataSource(this,t);t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart)&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess()),this instanceof Pn&&(t.visibleSeriesCount+=e?0:1)},n([K.Property("")],Fn.prototype,"xName",void 0),n([K.Property("")],Fn.prototype,"colorName",void 0),n([K.Property("")],Fn.prototype,"high",void 0),n([K.Property("")],Fn.prototype,"low",void 0),n([K.Property("")],Fn.prototype,"open",void 0),n([K.Property("")],Fn.prototype,"close",void 0),n([K.Property("")],Fn.prototype,"volume",void 0),n([K.Property("")],Fn.prototype,"pointColorMapping",void 0),n([K.Property(!0)],Fn.prototype,"visible",void 0),n([K.Property(null)],Fn.prototype,"xAxisName",void 0),n([K.Property(null)],Fn.prototype,"yAxisName",void 0),n([K.Complex(null,Se)],Fn.prototype,"animation",void 0),n([K.Property(null)],Fn.prototype,"fill",void 0),n([K.Property(1)],Fn.prototype,"width",void 0),n([K.Property("")],Fn.prototype,"dashArray",void 0),n([K.Property("")],Fn.prototype,"dataSource",void 0),n([K.Property()],Fn.prototype,"query",void 0),n([K.Collection([],fn)],Fn.prototype,"segments",void 0),n([K.Property("X")],Fn.prototype,"segmentAxis",void 0),n([K.Property(!1)],Fn.prototype,"enableComplexProperty",void 0);var Cn,wn=Fn;function Fn(){var e=null!==Cn&&Cn.apply(this,arguments)||this;return e.rangeColorPoints=[],e.isAdvancedColor=void 0,e.currentViewData=[],e.clipRect=new $.Rect(0,0,0,0),e.seriesType="XY",e.isRectTypeSeries=!1,e.removedPointIndex=null,e.isLegendClicked=!1,e}i(l,Ln=wn),l.prototype.refreshAxisLabel=function(){if(-1===this.xAxis.valueType.indexOf("Category"))return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var e={skeleton:"full",type:"dateTime"},t=this.chart.intl.getDateParser(e),i=this.chart.intl.getDateFormat(e),o=0,r=this.xAxis.series;o<r.length;o++){var n=r[o];if(n.visible&&"TrendLine"!==n.category){n.xMin=1/0,n.xMax=-1/0;for(var a=0,l=n.points;a<l.length;a++){var s=l[a];n.pushCategoryData(s,s.index,"DateTimeCategory"===this.xAxis.valueType?Date.parse(t(i(s.x))).toString():s.x),n.xMin=Math.min(n.xMin,s.xValue),n.xMax=Math.max(n.xMax,s.xValue)}}}},l.prototype.findSeriesCollection=function(e,t,i){for(var o=[],r=0,n=t.axes;r<n.length;r++)for(var a=0,l=n[r].series;a<l.length;a++)for(var s=l[a],h=0,c=e.axes;h<c.length;h++)for(var d=0,p=c[h].series;d<p.length;d++){var u=p[d];u===s&&u.visible&&this.rectSeriesInChart(u,i)&&o.push(u)}return o},l.prototype.rectSeriesInChart=function(e,t){var i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t},l.prototype.calculateStackedValue=function(e,t){for(var i=0,o=t.columns;i<o.length;i++)for(var r=o[i],n=0,a=t.rows;n<a.length;n++){var l=a[n];this.calculateStackingValues(this.findSeriesCollection(r,l,!0),e)}},l.prototype.calculateStackingValues=function(e,t){for(var i,o,r,n,a,l,s=[],h=[],c=[],d=(t&&(c=this.findFrequencies(e)),[]),p=[],u=0;u<e.length;u++)d[(y=e[u]).stackingGroup]?void 0!==d[y.stackingGroup]&&d[y.stackingGroup].push(y):(d[y.stackingGroup]=[],d[y.stackingGroup].push(y));for(var g=Object.keys(d),m=0;m<g.length;m++){for(var y,f=[],v=[],b=0,x=d[g[m]];b<x.length;b++)if(-1!==(y=x[b]).type.indexOf("Stacking")||-1!==y.drawType.indexOf("Stacking")&&"PolarRadar"===y.chart.chartAreaType){s[n=-1!==y.type.indexOf("StackingArea")?"StackingArea100":-1!==y.type.indexOf("StackingLine")?"StackingLine100":y.stackingGroup]||(s[n]=[],h[n]=[]),r=y.yData,i=[],o=[],f.push(y);for(var S=0,C=(p=Vi(y)).length;S<C;S++)l=+r[S],void(a=0)===s[n][p[S].xValue]&&(s[n][p[S].xValue]=0),void 0===h[n][p[S].xValue]&&(h[n][p[S].xValue]=0),t?(l=l/c[n][p[S].xValue]*100,l=isNaN(l)?0:l,p[S].percentage=+l.toFixed(2)):v[S]=v[S]?v[S]+Math.abs(l):Math.abs(l),0<=l?(a=s[n][p[S].xValue],s[n][p[S].xValue]+=l):(a=h[n][p[S].xValue],h[n][p[S].xValue]+=l),i.push(a),o.push(l+a),t&&100<o[S]&&(o[S]=100);y.stackedValues=new Lr(i,o);var w="Logarithmic"===y.yAxis.valueType,F=-1!==y.type.indexOf("Column")||-1!==y.type.indexOf("Bar");y.yMin=w&&F&&y.yMin<1?y.yMin:y.yAxis.startFromZero&&"Auto"===y.yAxis.rangePadding&&0<=y.yMin?0:parseFloat(Math.min.apply(0,t?i:o).toFixed(10)),y.yMax=Math.max.apply(0,o),y.yMin>Math.min.apply(0,o)&&(y.yMin=t?-100:w&&F&&y.yMin<1?y.yMin:Math.min.apply(0,o)),y.yMax<Math.max.apply(0,i)&&(y.yMax=0)}this.findPercentageOfStacking(f,v,t)}},l.prototype.findPercentageOfStacking=function(e,t,i){for(var o=0,r=e;o<r.length;o++){var n=r[o];if(i)return null;for(var a=0,l=Vi(n);a<l.length;a++){var s=l[a];s.percentage=Math.abs(+(s.y/t[s.index]*100).toFixed(2))}}},l.prototype.findFrequencies=function(e){for(var t,i,o=[],r=0,n=e;r<n.length;r++){var a=n[r];if(a.yAxis.isStack100=-1!==a.type.indexOf("100"),i=Vi(a),-1!==a.type.indexOf("Stacking")){o[t=-1!==a.type.indexOf("StackingArea")?"StackingArea100":-1!==a.type.indexOf("StackingLine")?"StackingLine100":a.stackingGroup]||(o[t]=[]);for(var l=0,s=i.length;l<s;l++)void 0===o[t][i[l].xValue]&&(o[t][i[l].xValue]=0),0<a.yData[l]?o[t][i[l].xValue]+=a.yData[l]:o[t][i[l].xValue]-=a.yData[l]}}return o},l.prototype.renderSeries=function(e){if(this.chart.stockChart&&"DateTimeCategory"===this.xAxis.valueType){for(var t,i=0;i<this.points.length;i++){var o=this.xAxis.labels.indexOf(Date.parse(this.points[i].x.toString()).toString());this.points[i].xValue=o,1<e.series.length&&(this.xData[i]=o,this.xMin=this.xMin>o?o:this.xMin,this.xMax=this.xMax<o?o:this.xMax)}this instanceof l&&-1<this.type.indexOf("Spline")&&(r=-1<this.type.indexOf("Area"),t=-1<this.type.indexOf("Range"),this.chart["spline"+(r?t?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this))}var r=bo(this.type);e[(r=r.replace("100",""))+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=Vi(this),e[r+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,r,this.errorBar,this.marker,this.marker.dataLabel))},l.prototype.createSeriesElements=function(e){var t,i,o,r,n,a,l;"Indicator"!==this.category&&(t=e.element.id,l=this.marker.border.width+8+5,i="Bubble"===this.type||!this.marker.visible&&e.tooltip.shared&&e.enableCanvas?e.svgRenderer:e.renderer,o=void 0===this.index?this.category:this.index,n=a=r=void 0,a="Scatter"===this.type||"Scatter"===this.drawType?(r=(this.marker.height+l)/2,(this.marker.width+l)/2):r=0,"PolarRadar"===e.chartAreaType?(l="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0,n=new kr(t+"_ChartSeriesClipRect_"+o,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+l),this.clipRectElement=Mo(e.redraw,n,i,"drawCircularClipPath")):(n=new Pr(t+"_ChartSeriesClipRect_"+o,"transparent",{width:1,color:"Gray"},1,{x:0===this.xAxis.columnIndex?-a:0,y:this.yAxis.rowIndex===e.rows.length-1?-r:0,width:this.clipRect.width+(this.xAxis.columnIndex===e.columns.length-1?2*a:a),height:this.clipRect.height+(0===this.yAxis.rowIndex?2*r:r)}),this.clipRectElement=Mo(e.redraw,n,i)),l="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"",this.symbolElement=null,this.seriesElement=i.createGroup({id:t+"SeriesGroup"+o,transform:l,"clip-path":"url(#"+t+"_ChartSeriesClipRect_"+o+")"}),this.seriesElement&&(this.seriesElement.setAttribute("role","region"),this.seriesElement.setAttribute("aria-label",this.name+","+this.type+" series with "+this.points.length+" data points"),this.seriesElement.setAttribute("aria-hidden","false")),this.chart.enableCanvas&&"Bubble"!==this.type||(this.seriesElement.setAttribute("tabindex",0!==o&&this.checkTabindex(e.visibleSeries,o)?"":"0"),this.seriesElement.setAttribute("style","outline: none"),this.seriesElement.appendChild(this.clipRectElement)))},l.prototype.checkTabindex=function(e,t){for(var i=0;i<t;i++)if(e[i].visible)return!0;return!1},l.prototype.appendSeriesElement=function(e,t){var i=this.marker,o=i.dataLabel,r=t.redraw;"TrendLine"!==this.category&&(q(t.enableCanvas,t.seriesElements,this.seriesElement,r),this.errorBar.visible)&&("PolarRadar"===t.chartAreaType?q(t.enableCanvas,t.seriesElements,this.seriesElement,r):q(t.enableCanvas,t.seriesElements,this.errorBarElement,r)),i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&this.symbolElement&&q(t.enableCanvas,t.seriesElements,this.symbolElement,r),o.visible&&this.textElement&&(q(t.enableCanvas,t.dataLabelElements,this.shapeElement,r),q(t.enableCanvas,t.dataLabelElements,this.textElement,r)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)},l.prototype.performAnimation=function(e,t,i,o,r){!(this.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)||!e.animateSeries||e.stockChart&&e.stockChart.isStockChartRendered||(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),o.visible&&e.markerRender.doMarkerAnimation(this),r.visible&&"edge"!==K.Browser.info.name&&!K.Browser.isIE&&e.dataLabelModule.doDataLabelAnimation(this))},l.prototype.setPointColor=function(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t},l.prototype.setBorderColor=function(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t},l.prototype.addPoint=function(e,t){var i=this.yMin,o=this.yMax;if(this.removeTrackballElements(),this.dataSource.push(e),"Radar"===this.type||"Polar"===this.type)return this.chart.refresh();if("Histogram"===this.type){this.currentViewData=this.chart[bo(this.type)+"SeriesModule"].processInternalData(K.extend([],this.dataSource,null,!0),this);for(var r=0;r<this.currentViewData.length;r++)this.updatePoint(r)}else{this.currentViewData=this.dataSource;e=0===this.points.length?0:this.points[this.points.length-1].index+1;this.updatePoint(e)}if("Pareto"===this.category){var e=K.extend([],this.dataSource,null,!0),n=this.chart.visibleSeries[this.index+this.chart.series.length];n.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(e,this);for(r=0;r<n.currentViewData.length;r++)n.points[r]||n.updatePoint(r),n.points[r].y=n.points[r].yValue=n.currentViewData[r][n.yName]}this.updateSplineValue(),this.chart.calculateStackValues(),this.chart.redraw=this.chart.enableAnimation;e=this.chart.duration;if(this.chart.duration=K.isNullOrUndefined(t)?500:t,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.enableAnimation&&!this.isRectSeries&&"Bubble"!==this.type&&"Scatter"!==this.type&&-1===this.type.indexOf("step")&&this.marker&&this.marker.visible&&this.visible)for(r=this.points.length-2;0<=r;r--)if(this.points[r]&&void 0!==this.points[r].symbolLocations[0]){this.chart.markerRender.renderMarker(this,this.points[this.points.length-2],this.points[r].symbolLocations[0],null,!0);break}this.yMin>=i&&this.yMax<=o&&(ko(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new $.Size(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)),(this.yMin<i||this.yMax>o)&&(this.updateChartAxis(),this.chart.pointsAdded=!1,this.updateSeries(!0,!0)),this.chart.redraw=!1,this.chart.duration=e},l.prototype.removePoint=function(e,t){var i=K.extend([],this.dataSource,null,!0),o=this.chart.duration;if(0<i.length&&0<=e&&e<i.length){if(i.splice(e,1),this.dataSource.splice(e,1),this.removeTrackballElements(e),"Radar"===this.type||"Polar"===this.type)return this.chart.refresh();if(this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.duration=K.isNullOrUndefined(t)?500:t,"Histogram"===this.type){i=this.points.length;this.points=[],this.visiblePoints=[],this.currentViewData=this.chart[bo(this.type)+"SeriesModule"].processInternalData(K.extend([],this.dataSource,null,!0),this);for(var r=0;r<this.currentViewData.length;r++)this.updatePoint(r);i>this.points.length&&(this.removedPointIndex=e)}else this.removedPointIndex=e,this.points.splice(e,1),this.visiblePoints.splice(e,1);this.yData=[],this.xData=[];t=this.yMin,i=this.yMax;this.yMin=1/0,this.xMin=1/0,this.yMax=-1/0,this.xMax=-1/0,-1<this.xAxis.valueType.indexOf("Category")&&1===this.chart.series.length&&(this.xAxis.labels=[],this.xAxis.indexLabels={}),0===e&&(this.chart.pointsRemoved=this.chart.enableAnimation);for(r=0;r<this.points.length;r++)this.updatePointsAfterRemoval(r);if("Pareto"===this.category){var n=this.chart.visibleSeries[this.index+this.chart.series.length];n.yMin=1/0,n.xMin=1/0,n.yMax=-1/0,n.xMax=-1/0,n.points.splice(e,1),n.visiblePoints.splice(e,1),n.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.dataSource,this);for(r=0;r<n.currentViewData.length;r++)n.points[r].y=n.points[r].yValue=n.currentViewData[r][n.yName],n.updatePointsAfterRemoval(r)}this.updateSplineValue(),this.chart.calculateStackValues(),ko(this.xAxis)||i!==this.yMax||t!==this.yMin?(i<this.yMax||t>this.yMin||i>this.yMax||t<this.yMin)&&(this.updateChartAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!0)):(this.xAxis.baseModule.calculateRangeAndInterval(new $.Size(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!1))}q(this.chart.enableCanvas,this.chart.seriesElements,this.seriesElement,!0),this.chart.redraw=!1,this.chart.duration=o,this.chart.pointsRemoved=!1,this.removedPointIndex=null},l.prototype.updatePointsAfterRemoval=function(e){var t=this.points[e],i={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(i),i=this.chart.intl.getDateFormat(i);"Category"===this.xAxis.valueType&&1===this.chart.series.length?this.pushCategoryData(t,e,t.x):"DateTimeCategory"===this.xAxis.valueType&&1===this.chart.series.length&&this.pushCategoryData(t,e,Date.parse(o(i(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(this.points[e],e)},l.prototype.removeTrackballElements=function(e){var t,i;this.marker.visible&&(void 0!==e?((i=J((t=this.chart.element.id+"_Series_"+this.index+"_Point_"+e+"_Trackball_")+"0"))&&i.remove(),(i=J(t+"1"))&&i.remove(),(t=J(this.chart.element.id+"_Series_"+this.index+"_Point_"+e+"_Symbol"))&&t.setAttribute("visibility","visible")):(i=this.chart.element.id+"_EJ2-Trackball_Series_"+this.index+"_Point_",(e=document.querySelectorAll('[class*="'+i+'"]'))[0]&&(i=(i=e[0].id.match(/_Point_(\d+)_/))?parseInt(i[1],10):null,e[0].remove(),t=J(this.chart.element.id+"_Series_"+this.index+"_Point_"+i+"_Symbol"))&&t.setAttribute("visibility","visible"),e[1]&&e[1].remove())),this.chart.tooltip.enable&&(this.chart.tooltipModule.previousPoints=[],i=J(this.chart.element.id+"_tooltip"))&&i.remove()},l.prototype.setData=function(e,t){if(!e)return null;var i,o=this.yMin,r=this.yMax,n=(this.yMin=1/0,this.yMax=-1/0,[]),a=!1;if(this.dataSource.length===e.length&&"Radar"!==this.type&&"Polar"!==this.type)if(a=!0,this.yData=[],"Histogram"===this.type&&this.dataSource.length===e.length){var l=this.chart[bo(this.type)+"SeriesModule"].processInternalData(K.extend([],e,null,!0),this);this.currentViewData=l;for(var s=0;s<l.length;s++)this.updatePoint(s)}else for(var h=0;h<e.length;h++){var c=e[h][this.xName],d=this.dataSource[h][this.xName];if(e[h][this.xName]instanceof Date&&(c=e[h][this.xName].getTime(),d=this.dataSource[h][this.xName].getTime()),d!==c){a=!1;break}var d=this.points[h],c=this.enableComplexProperty?K.getValue:this.getObjectValue,p=this.dataSource[h],u=e[h];"XY"!==this.seriesType&&"BoxPlot"!==this.seriesType||p[this.yName]===u[this.yName]&&p[this.size]===u[this.size]?p[this.high]===u[this.high]&&p[this.low]===u[this.low]&&p[this.open]===u[this.open]&&p[this.close]===u[this.close]&&p[this.volume]===u[this.volume]||(d.high=c(this.high,u),d.low=c(this.low,u),d.open=c(this.open,u),d.close=c(this.close,u),d.volume=c(this.volume,u),n.push(h)):(d.y=c(this.yName,u),"Bubble"===this.type&&p[this.size]!==u[this.size]&&(d.size=c(this.size,u)),n.push(h)),d.yValue=d.y,this.setEmptyPoint(d,h),this.dataSource[h]=e[h]}a?(this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,i=this.chart.duration,this.chart.duration=K.isNullOrUndefined(t)?500:t,this.chart.calculateStackValues(),this.updateSplineValue(),r===this.yMax&&o===this.yMin&&this.visible?(this.chart.pointsAdded=!1,this.chart[bo("Pareto"===this.category?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,n,this.chart.requireInvertedAxis),this.chart.annotationModule&&this.chart.annotationModule.renderAnnotations(J(this.chart.element.id+"_Secondary_Element"))):(r<this.yMax||o>this.yMin||r>this.yMax||o<this.yMin)&&this.visible&&(t=this.yAxis.maxLabelSize.width,this.yAxis.baseModule.calculateRangeAndInterval(new $.Size(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),t<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(e){ko(e)||e.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ko(this.yAxis)||this.yAxis.updateAxis(),"Histogram"!==this.type||ko(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new $.Size(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis())),this.chart.pointsAdded=!1,this.updateSeries(!1,!0),this.marker.dataLabel.visible&&this.chart.dataLabelModule&&this.chart.dataLabelModule.doDataLabelAnimation(this),this.chart.stripLineModule)&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections),this.chart.redraw=!1,this.chart.pointsRemoved=!1,this.chart.duration=i):this.dataSource=e},l.prototype.updateChartAxis=function(){var e=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new $.Size(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),e<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(e){ko(e)||e.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ko(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new $.Size(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),ko(this.yAxis)||this.yAxis.updateAxis()),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)},l.prototype.updateSeries=function(e,t){var i=[];e&&t?new Set(this.xAxis.series.concat(this.yAxis.series)).forEach(function(e){i.push(e)}):i=(e?this.xAxis:this.yAxis).series.slice();for(var o=0,r=i;o<r.length;o++){var n,a=r[o];a.visible&&(vo(a,this.chart.enableCanvas),n="translate("+this.clipRect.x+","+this.clipRect.y+")",a.seriesElement.setAttribute("transform",n),a.chart[bo(a.type.replace("100",""))+"SeriesModule"].render(a,a.xAxis,a.yAxis,a.chart.requireInvertedAxis,a.chart.enableAnimation),a.marker.visible&&"Cartesian"===a.chart.chartAreaType&&"Scatter"!==a.type&&"Bubble"!==a.type&&"Candle"!==a.type&&"Hilo"!==a.type&&"HiloOpenClose"!==a.type&&a.symbolElement&&(a.symbolElement.setAttribute("transform",n),q(a.chart.enableCanvas,a.chart.seriesElements,a.symbolElement,!0)),a.marker.dataLabel.visible&&a.chart.dataLabelModule&&(a.chart.dataLabelCollections=[],a.chart.dataLabelModule.render(a,a.chart,a.marker.dataLabel),a.textElement)&&(a.shapeElement&&a.shapeElement.setAttribute("transform",n),q(a.chart.enableCanvas,a.chart.dataLabelElements,a.shapeElement,!0),a.textElement.setAttribute("transform",n),q(a.chart.enableCanvas,a.chart.dataLabelElements,a.textElement,!0)),a.chart.annotationModule)&&a.chart.annotationModule.renderAnnotations(J(a.chart.element.id+"_Secondary_Element"))}},l.prototype.updatePoint=function(e){var t,i,o,r=new cn,n=this instanceof l&&this.marker.dataLabel.name?this.marker.dataLabel.name:"",a=this instanceof l&&"Histogram"===this.type?"x":this.xName;"Category"===this.xAxis.valueType?this.pushCategoryPoint(r,e,n,a):-1<this.xAxis.valueType.indexOf("DateTime")?(t=this.points[e],i=this.chart.intl.getDateParser(o={skeleton:"full",type:"dateTime"}),o=this.chart.intl.getDateFormat(o),this.pushDateTimePoint(t,e,n,a,i,o)):this.pushDoublePoint(r,e,n,a)},n([K.Property("")],l.prototype,"name",void 0),n([K.Property("")],l.prototype,"yName",void 0),n([K.Property("Line")],l.prototype,"drawType",void 0),n([K.Property(!0)],l.prototype,"isClosed",void 0),n([K.Property(null)],l.prototype,"bearFillColor",void 0),n([K.Property(null)],l.prototype,"bullFillColor",void 0),n([K.Property(!1)],l.prototype,"enableSolidCandles",void 0),n([K.Property("")],l.prototype,"size",void 0),n([K.Property(null)],l.prototype,"binInterval",void 0),n([K.Property(!1)],l.prototype,"showNormalDistribution",void 0),n([K.Property("")],l.prototype,"stackingGroup",void 0),n([K.Complex({color:null,width:0},ae)],l.prototype,"border",void 0),n([K.Property(1)],l.prototype,"opacity",void 0),n([K.Property(0)],l.prototype,"zOrder",void 0),n([K.Property("")],l.prototype,"groupName",void 0),n([K.Property("Line")],l.prototype,"type",void 0),n([K.Complex(null,xn)],l.prototype,"errorBar",void 0),n([K.Complex(null,rn)],l.prototype,"marker",void 0),n([K.Complex(null,ln)],l.prototype,"paretoOptions",void 0),n([K.Complex({},Ee)],l.prototype,"dragSettings",void 0),n([K.Collection([],dn)],l.prototype,"trendlines",void 0),n([K.Property(!0)],l.prototype,"enableTooltip",void 0),n([K.Property("")],l.prototype,"tooltipFormat",void 0),n([K.Property("")],l.prototype,"tooltipMappingName",void 0),n([K.Property("SeriesType")],l.prototype,"legendShape",void 0),n([K.Property("")],l.prototype,"legendImageUrl",void 0),n([K.Property(null)],l.prototype,"selectionStyle",void 0),n([K.Property(null)],l.prototype,"unSelectedStyle",void 0),n([K.Property(null)],l.prototype,"nonHighlightStyle",void 0),n([K.Property(1)],l.prototype,"minRadius",void 0),n([K.Property(3)],l.prototype,"maxRadius",void 0),n([K.Property("Natural")],l.prototype,"splineType",void 0),n([K.Property(.5)],l.prototype,"cardinalSplineTension",void 0),n([K.Complex(null,Re)],l.prototype,"emptyPointSettings",void 0),n([K.Property(!0)],l.prototype,"showMean",void 0),n([K.Property("Normal")],l.prototype,"boxPlotMode",void 0),n([K.Property(null)],l.prototype,"columnWidth",void 0),n([K.Property(null)],l.prototype,"columnWidthInPixel",void 0),n([K.Property("Rectangle")],l.prototype,"columnFacet",void 0),n([K.Property(0)],l.prototype,"columnSpacing",void 0),n([K.Property("#C64E4A")],l.prototype,"negativeFillColor",void 0),n([K.Property("#4E81BC")],l.prototype,"summaryFillColor",void 0),n([K.Property()],l.prototype,"intermediateSumIndexes",void 0),n([K.Property()],l.prototype,"sumIndexes",void 0),n([K.Property("Left")],l.prototype,"step",void 0),n([K.Complex({color:"black",width:2},V)],l.prototype,"connector",void 0),n([K.Complex(null,Ae)],l.prototype,"cornerRadius",void 0);var Ln,Pn=l;function l(e,t,i,o){e=Ln.call(this,e,t,i,o)||this;return e.visibleSeriesCount=0,e.category="Series",e.isRectSeries=!1,e.drawPoints=[],e.lowDrawPoints=[],e.delayedAnimation=!1,e.rangeColorName=0<e.colorName.length?e.colorName:e.yName,e}Mn.prototype.initDataManager=function(e,t){this.dataManager=e instanceof R.DataManager?e:new R.DataManager(e),this.query=t instanceof R.Query?t:new R.Query},Mn.prototype.generateQuery=function(){return this.query.clone()},Mn.prototype.getData=function(e){var t,i=this;return this.dataManager.ready?(t=new R.Deferred,this.dataManager.ready.then(function(){i.dataManager.executeQuery(e).then(function(e){t.resolve(e)})}).catch(function(e){t.reject(e)}),t.promise):this.dataManager.executeQuery(e)};var An=Mn;function Mn(e,t){this.initDataManager(e,t)}Dn=function(e,t){return(Dn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Dn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Rn,kn=Qr),Rn.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(K.Browser.touchEndEvent,this.mouseUpHandler,this))},Rn.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMoveHandler),this.chart.off(K.Browser.touchEndEvent,this.mouseUpHandler))},Rn.prototype.mouseUpHandler=function(){var e=this.chart;!e.isTouch||e.crosshair.enable||this.isSelected(e)||this.markerMove(!0)},Rn.prototype.mouseMoveHandler=function(){var e=this.chart;"None"===e.highlightMode&&!e.tooltip.enable||e.isTouch&&!e.startMove||this.isSelected(e)||this.markerMove(!1)},Rn.prototype.markerMove=function(e){var t,i,o,r=this,n=this.chart;if(this.currentPoints=[],n.tooltip.shared&&n.tooltip.enable){if(!mo(n.mouseX,n.mouseY,n.chartAxisLayoutPanel.seriesClipRect))return null;if(n.tooltip.enable){var a="PolarRadar"===n.chartAreaType?this.getData():null;if(this.chart.tooltip.showNearestPoint)for(var l=0,s=n.visibleSeries;l<s.length;l++){var h=s[l];h.enableTooltip&&"Indicator"!==h.category&&("Cartesian"===n.chartAreaType&&h.visible?t=this.getClosestX(n,h,this.commonXValue(this.chart.visibleSeries)):"PolarRadar"===n.chartAreaType&&h.visible&&null!==a.point&&(t=new Or(h.points[a.point.index],h)),t)&&(this.currentPoints.push(t),t=null)}else this.currentPoints=this.chart.tooltipModule.currentPoints}}else t=this.getData(),o=t.series,c=this.previousPoints[0],i=o&&("Bubble"===o.type||"Scatter"===o.drawType||"Scatter"===o.type||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type&&o.marker.visible&&0!==o.marker.width&&0!==o.marker.height),t.lierIndex=this.lierIndex,t.point&&i&&(!c||c.point!==t.point||c&&3<c.lierIndex&&c.lierIndex!==this.lierIndex)&&this.currentPoints.push(t),t.point&&i&&n.isPointMouseDown&&this.currentPoints.push(t);var c=this.previousPoints.length;if((0<this.currentPoints.length||0<c&&n.tooltip.shared)&&(0===c||n.isPointMouseDown||0<c&&(0===this.currentPoints.length||this.previousPoints[0].point!==this.currentPoints[0].point))){if(0<c)for(var d=0,p=this.previousPoints;d<p.length;d++){var u=p[d];K.isNullOrUndefined(u)||this.removeHighlightedMarker(u.series,u.point)}for(var g=this,m=0,y=this.currentPoints;m<y.length;m++)!function(i){(i&&i.point||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type)&&(qo(g.markerExplode),g.isRemove=!0,i.point.symbolLocations.map(function(e,t){!i.series.marker.allowHighlight||i.series.isRectSeries&&!i.point.marker.visible||r.drawTrackBall(i.series,i.point,e,t)}))}(y[m]);this.previousPoints=K.extend([],this.currentPoints,null,!0)}n.tooltip.enable||!(0===this.currentPoints.length&&this.isRemove||e&&this.isRemove)&&mo(n.mouseX,n.mouseY,n.chartAxisLayoutPanel.seriesClipRect)||(this.isRemove=!1,K.isNullOrUndefined(this.previousPoints[0]))||(this.markerExplode=+setTimeout(function(){r.previousPoints[0]&&r.removeHighlightedMarker(r.previousPoints[0].series,r.previousPoints[0].point)},2e3)),this.currentPoints=[]},Rn.prototype.animationDuration=function(){var e=200;return 100<this.chart.maxPointCount?e=10:50<this.chart.maxPointCount&&(e=100),e},Rn.prototype.drawTrackBall=function(e,t,i,o){var r=t.marker,n=e.marker,a=r.shape||n.shape||"Circle";if("None"===a||"Image"===a)return null;var l,s,h=e.symbolElement||e.seriesElement,c=(this.chart.highlightModule&&"None"!==this.chart.highlightMode&&(l=this.chart.highlightModule.generateStyle(e)),this.chart.selectionModule&&"None"!==this.chart.selectionMode&&(l=this.chart.selectionModule.generateStyle(e)),this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Trackball"+(o||"")),d=new $.Size((r.width||n.width)+3,(r.height||n.height)+3),o=r.border||e.border,p="BoxAndWhisker"===e.type||"Bubble"===e.type||"Scatter"===e.type,u=o.color&&"transparent"!==o.color?o.color:r.fill||t.interior||(p?t.color:e.interior),o=ir(or(u)),g=(r.border?r:n).border.width,m=e.chart.themeStyle.markerShadow||"rgba("+o.r+","+o.g+","+o.b+",0.2)",o=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Symbol");K.isNullOrUndefined(o)||o.setAttribute("visibility","hidden"),this.chart.enableCanvas&&(o=document.getElementById(this.chart.element.id+"_Secondary_Element"),(s=this.chart.svgRenderer.createSvg({id:this.chart.element.id+"_trackball_svg",width:this.chart.availableSize.width,height:this.chart.availableSize.height})).style.cssText="position: absolute; display:block; pointer-events: none",o.appendChild(s));for(var y=0;y<2;y++){var f=new $.PathOption(c+"_"+y,y?r.fill||t.color||(p?e.interior:"#ffffff"):"transparent",g+(y?0:8),y?u:m,r.opacity||n.opacity,e.marker.border.dashArray,""),f=Eo(i,a,d,r.imageUrl,f,0,this.chart.svgRenderer,e.clipRect),v=(f.setAttribute("class",this.elementId+"_EJ2-Trackball_Series_"+e.index+"_Point_"+t.index),-1!==h.id.indexOf("Symbol")?"_Symbol":""),v=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+v);""===l||K.isNullOrUndefined(l)||K.isNullOrUndefined(v)||!v.hasAttribute("class")||l!==v.getAttribute("class")||f.classList.add(l),f.setAttribute("clip-path",h.getAttribute("clip-path")),f.setAttribute("transform",h.getAttribute("transform")),(this.chart.enableCanvas?s:this.chart.svgObject).appendChild(f)}this.doAnimation(e,t,!1)},Rn.prototype.doAnimation=function(e,t,i){void 0===i&&(i=!1);for(var o=this.animationDuration(),r=e.animation.delay,n=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+e.index+"_Point_"+t.index),a=0,l=n.length;a<l;a++)this.trackballAnimate(n[a],r,o,e,t.index,t.symbolLocations[0],!1,i)},Rn.prototype.trackballAnimate=function(t,e,i,o,r,n,a,l){var s=n.x,h=n.y,c="Polar"!==o.type&&"Radar"!==o.type?o.clipRect.x:0,d="Polar"!==o.type&&"Radar"!==o.type?o.clipRect.y:0,p=t.getAttribute("transform");new K.Animation({}).animate(t,{duration:i,delay:e,progress:function(e){e.timeStamp>e.delay&&(e.element.style.visibility="visible",t.setAttribute("transform","translate("+(s+c)+" "+(h+d)+") scale(1) translate("+-s+" "+-h+")"))},end:function(){t.style.visibility="",t.setAttribute("transform",p),a||r!==o.points.length-1||o.chart.trigger("animationComplete",{series:o.chart.isBlazor?{}:o}),l&&K.remove(t)}})},Rn.prototype.removeHighlightedMarker=function(e,t,i){if(void 0===t&&(t=null),void 0===i&&(i=!1),K.isNullOrUndefined(e=void 0===e?null:e)||K.isNullOrUndefined(t))for(var o=0,r=e.points;o<r.length;o++)for(var n=r[o],a=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+e.index+"_Point_"+n.index),l=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+n.index+"_Symbol"),s=0,h=a.length;s<h;s++)K.isNullOrUndefined(l)||l.setAttribute("visibility","visible"),K.remove(a[0]);else{var a,l=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Symbol"),c=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+e.index+"_Point_"+t.index);0===c.length&&((a=document.querySelectorAll('[class*="'+this.elementId+"_EJ2-Trackball_Series_"+e.index+"_Point_"+t.index+'"]'))[1]&&a[1].remove(),a[0])&&a[0].remove();for(var s=0,h=c.length;s<h;s++)K.remove(c[0]);K.isNullOrUndefined(l)||l.setAttribute("visibility","visible")}i&&(this.previousPoints=[])};var Dn,kn,i=Rn;function Rn(e){var t=kn.call(this,e)||this;return t.elementId=e.element.id,t.commonXvalues=[],t}Tn=function(e,t){return(Tn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Tn,_n,En=["Circle","Triangle","Diamond","Rectangle","Pentagon","InvertedTriangle","VerticalLine","Cross","Plus","HorizontalLine"],In=(function(e,t){function i(){this.constructor=e}Tn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(On,_n=i),On.prototype.render=function(o){for(var r=this,n=o.chart.redraw,e=(this.createElement(o,n),0),t=o.points;e<t.length;e++)!function(i){i.visible&&i.symbolLocations&&i.symbolLocations.length&&i.symbolLocations.map(function(e,t){"None"!==o.marker.shape&&r.renderMarker(o,i,e,t,n)})}(t[e])},On.prototype.renderMarker=function(e,t,i,o,r){var n,a,l,s,h,c,d,p,u=void 0===e.index?e.category:e.index,g=e.marker,m=(e.marker.shape=e.marker.shape||En[u%10],{color:g.border.color,width:g.border.width}),y=g.border.color,f=(i.x=i.x+g.offset.x,i.y=i.y-g.offset.y,"BoxAndWhisker"===e.type),v=g.fill||(f||e.marker.isFilled?t.interior||e.interior:"#ffffff"),b=f?Uo(e.seriesElement.childNodes,"Series_"+e.index+"_Point_"+t.index):e.symbolElement,x=(m.color=y||e.setPointColor(t,e.interior),this.elementId+"_Series_"+u+"_Point_"+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index||this.chart.pointsAdded?t.index+1:t.index)+"_Symbol"+(o||"")),v={cancel:!1,name:lt,series:e,point:t,fill:t.isEmpty&&e.emptyPointSettings.fill||v,border:{color:"BoxAndWhisker"===e.type?K.isNullOrUndefined(y)||"transparent"===y?nr(v,-.6):y:m.color,width:m.width},height:g.height,width:g.width,shape:g.shape};v.border=e.setBorderColor(t,{width:v.border.width,color:v.border.color}),e.isRectSeries&&"BoxAndWhisker"!==e.type||(this.chart.trigger(lt,v),t.color=v.fill),t.color=v.fill,v.cancel?(i=null,t.marker={visible:!1}):(y=void 0,y="RangeArea"===e.type||"RangeColumn"===e.type||"RangeColumn"===e.drawType||"SplineRangeArea"===e.type||"RangeStepArea"===e.type?o?t.low:t.high:f?t.outliers[o]:t.y,m=v.point.marker.fill||v.fill,f=void 0,f=K.isNullOrUndefined(v.point.marker.border)?{color:v.border.color,width:v.border.width}:{color:v.point.marker.border.color||v.border.color,width:v.point.marker.border.width||v.border.width},h=v.point.marker.width||v.width,c=v.point.marker.height||v.height,d=v.point.marker.opacity||g.opacity,p=v.point.marker.shape||v.shape,v=v.point.marker.imageUrl||g.imageUrl,g=new $.PathOption(x,m,f.width,f.color,d,e.marker.border.dashArray),(null!=b||this.chart.enableCanvas)&&(r&&J(g.id)&&(n={x:+(s=J(g.id)).getAttribute((l="Circle"===p?"c":"")+"x"),y:+s.getAttribute(l+"y")},a=s.getAttribute("d")),(s=Eo(i,p,new $.Size(h,c),v,g,(t.x.toString(),y.toString()),this.chart.renderer,e.clipRect))&&(s.setAttribute("role","img"),s.setAttribute("aria-label",t.x+": "+t.y+", "+e.name)),q(this.chart.enableCanvas,b,s,r,!0,l+"x",l+"y",n,a,!1,!1,null,e.chart.duration),null!==e.removedPointIndex)&&e.removedPointIndex<=t.index&&(b.lastChild.id=this.elementId+"_Series_"+u+"_Point_"+t.index+"_Symbol"+(o||"")),t.marker={border:f,fill:m,height:c,visible:!0,shape:p,width:h,imageUrl:v})},On.prototype.createElement=function(e,t){var i,o,r=e.marker,n=r.border.width+8+5,a=e.chart.svgRenderer,l=void 0===e.index?e.category:e.index,s="Cartesian"===e.chart.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"";r.visible&&(i=(r.height+n)/2,r=(r.width+n)/2,n="Cartesian"===e.chart.chartAreaType?Mo(t,o=new Pr(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,{x:-r,y:-i,width:e.clipRect.width+2*r,height:e.clipRect.height+2*i},0,0,"",e.marker.border.dashArray),a):Mo(t,o=new kr(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,e.clipRect.width/2+e.clipRect.x,e.clipRect.height/2+e.clipRect.y,e.chart.radius+Math.max(i,r)),a,"drawCircularClipPath"),o={id:this.elementId+"SymbolGroup"+l,transform:s,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+l+")"},e.symbolElement=a.createGroup(o),e.symbolElement.appendChild(n),this.chart.enableCanvas)&&document.getElementById(this.chart.element.id+"_tooltip_svg").appendChild(e.symbolElement)},On.prototype.getRangeLowPoint=function(e,t){var i=e.x,o=e.y;return t.chart.requireInvertedAxis?(o+=e.height/2,i+=t.yAxis.isAxisInverse?e.width:0):(o+=t.yAxis.isAxisInverse?0:e.height,i+=e.width/2),{x:i,y:o}},On.prototype.doMarkerAnimation=function(e){if("Scatter"!==e.type&&"Bubble"!==e.type&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type&&("PolarRadar"!==e.chart.chartAreaType||"Scatter"!==e.drawType))for(var t,i=e.symbolElement.childNodes,o=e.animation.delay+(0===e.animation.duration&&"Enable"===K.animationMode?1e3:e.animation.duration),r=e.chart.animated?e.chart.duration:200,n=1,a="RangeArea"===e.type||"RangeColumn"===e.type||"SplineRangeArea"===e.type||"RangeStepArea"===e.type?2:1,l=0;l<e.points.length;l++)e.points[l].symbolLocations&&e.points[l].symbolLocations.length&&i[n]&&(Fo(i[n],o,r,e,l,e.points[l].symbolLocations[0],!1),2==a&&(t=this.getRangeLowPoint(e.points[l].regions[0],e),Fo(i[n+1],o,r,e,l,t,!1)),n+=a)},On);function On(e){e=_n.call(this,e)||this;return e.addEventListener(),e}zn=function(e,t){return(zn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var zn,Bn,n=function(e,t){function i(){this.constructor=e}zn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},i=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},n=(Bn=K.ChildProperty,n(Nn,Bn),i([K.Property(!0)],Nn.prototype,"visible",void 0),i([K.Property(null)],Nn.prototype,"height",void 0),i([K.Property(null)],Nn.prototype,"width",void 0),i([K.Complex({x:0,y:0},Q)],Nn.prototype,"location",void 0),i([K.Property("Auto")],Nn.prototype,"position",void 0),i([K.Property("Series")],Nn.prototype,"mode",void 0),i([K.Property(8)],Nn.prototype,"padding",void 0),i([K.Property(null)],Nn.prototype,"itemPadding",void 0),i([K.Property("Center")],Nn.prototype,"alignment",void 0),i([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Nn.prototype,"textStyle",void 0),i([K.Property(10)],Nn.prototype,"shapeHeight",void 0),i([K.Property(10)],Nn.prototype,"shapeWidth",void 0),i([K.Complex({},ae)],Nn.prototype,"border",void 0),i([K.Complex({left:0,right:0,top:0,bottom:0},me)],Nn.prototype,"margin",void 0),i([K.Complex({left:0,right:0,top:0,bottom:0},ve)],Nn.prototype,"containerPadding",void 0),i([K.Property(8)],Nn.prototype,"shapePadding",void 0),i([K.Property("transparent")],Nn.prototype,"background",void 0),i([K.Property(1)],Nn.prototype,"opacity",void 0),i([K.Property(!0)],Nn.prototype,"toggleVisibility",void 0),i([K.Property(!1)],Nn.prototype,"enableHighlight",void 0),i([K.Property(null)],Nn.prototype,"description",void 0),i([K.Property(3)],Nn.prototype,"tabIndex",void 0),i([K.Property(null)],Nn.prototype,"title",void 0),i([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Nn.prototype,"titleStyle",void 0),i([K.Property("Top")],Nn.prototype,"titlePosition",void 0),i([K.Property("Normal")],Nn.prototype,"textWrap",void 0),i([K.Property("Ellipsis")],Nn.prototype,"textOverflow",void 0),i([K.Property(100)],Nn.prototype,"maximumTitleWidth",void 0),i([K.Property(null)],Nn.prototype,"maximumLabelWidth",void 0),i([K.Property(!0)],Nn.prototype,"enablePages",void 0),i([K.Property(!1)],Nn.prototype,"isInversed",void 0),i([K.Property(!1)],Nn.prototype,"reverse",void 0),Nn);function Nn(){return null!==Bn&&Bn.apply(this,arguments)||this}Vn.prototype.calculateLegendBounds=function(e,t,i){var o=this.legend,r=this.isBulletChartControl?"40%":"20%";this.getPosition(o.position,t),this.legendBounds=new $.Rect(e.x,e.y,0,0),this.isVertical="Left"===this.position||"Right"===this.position,this.itemPadding=this.legend.itemPadding||(this.isVertical?this.legend.padding:20),this.isVertical?(this.legendBounds.height=dr(o.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=dr(o.width||r,t.width)):(this.legendBounds.width=dr(o.width,t.width)||e.width,this.legendBounds.height=dr(o.height||r,t.height)),"chart3d"===this.chart.getModuleName()?this.library.get3DLegendBounds(t,this.legendBounds,o):this.library.getLegendBounds(t,this.legendBounds,o),this.isBulletChartControl||(this.legendBounds.width+=this.legend.containerPadding.left+this.legend.containerPadding.right,this.legendBounds.height+=this.legend.containerPadding.top+this.legend.containerPadding.bottom),this.getLocation(this.position,o.alignment,this.legendBounds,e,t,i)},Vn.prototype.getPosition=function(e,t){var i=this.chart,o=this.chart;this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||o).visibleSeries&&"Funnel"===(i||o).visibleSeries[0].type||"Pyramid"===(i||o).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")},Vn.prototype.setBounds=function(e,t,i,o){var r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0;this.isVertical&&this.isPaging&&!i.enablePages&&!this.isBulletChartControl&&(r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0,r+=this.pageButtonSize+this.fivePixel),e=Math.min(e,o.width),t=Math.min(t,o.height),"Gradient"===i.mode?(o.width=i.width?o.width:this.isVertical?e:.75*o.width,o.height=i.height?o.height:this.isVertical?.75*o.height:t):(o.width=i.width?o.width:e,o.height=i.height?o.height:t),this.isBulletChartControl||this.isTop&&"None"!==i.titleStyle.textOverflow&&(this.calculateLegendTitle(i,o),o.height+="Wrap"===i.titleStyle.textOverflow&&1<this.legendTitleCollections.length?this.legendTitleSize.height-this.legendTitleSize.height/this.legendTitleCollections.length:0),this.rowCount=Math.max(1,Math.ceil((o.height-i.padding-r)/(this.maxItemHeight+i.padding)))},Vn.prototype.getLocation=function(e,t,i,o,r,n){var a=this.legend.border.width,l=this.isBulletChartControl,s=this.bulletChart,h="Inside"===s.labelPosition,c="Inside"===s.tickPosition,d="Vertical"===s.orientation,p=l&&""!==s.categoryField?n.width+this.chart.border.width+3*a:0,u=this.chart.margin.bottom,g=i.height+a+this.legend.margin.top+this.legend.margin.bottom,m=i.width+a+this.legend.margin.left+this.legend.margin.right;"Bottom"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=o.y+(o.height-g)+a+this.legend.margin.top,i.y+=!l||s.opposedPosition||h||c||d?d&&""!==s.categoryField?n.height+2*a:0:s.majorTickLines.height+u+this.legend.border.width+2*a,Qi(o,new Er(0,0,0,g))):"Top"===e?(n=void 0,this.isChartControl&&(n=$.measureText("100",this.chart.verticalAxes[0].labelStyle,this.chart.themeStyle.legendLabelFont)),i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=o.y+a+this.legend.margin.top,i.y-=!l||!s.opposedPosition||h||c||d?0:s.majorTickLines.height+this.chart.margin.top,g-=l?2*-a:this.isChartControl?2*-a-n.height/2:0,Qi(o,new Er(0,0,g,0))):"Right"===e?(i.x=o.x+(o.width-i.width)-this.legend.margin.right,i.y=o.y+this.alignLegend(0,r.height-(o.y+u),i.height,t),m+=l&&s.opposedPosition&&!h&&!c&&d?this.chart.margin.left+this.chart.margin.right+s.majorTickLines.height:0,Qi(o,new Er(0,m,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=o.y+this.alignLegend(0,r.height-(o.y+u),i.height,t),m+=!l||s.opposedPosition||h||c||!d?"Vertical"!==s.orientation&&""!==s.categoryField?p:0:i.x-this.chart.margin.left+a+s.majorTickLines.height,Qi(o,new Er(m,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,Qi(o,new Er(0,0,0,0)))},Vn.prototype.alignLegend=function(e,t,i,o){switch(o){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e},Vn.prototype.renderLegend=function(e,t,i,o){var r=0,n=(new $.Rect(0,0,0,0),new $.Rect(0,0,0,0)),a=this.findFirstLegendPosition(this.legendCollections),l=t.padding,s=(this.itemPadding=this.isBulletChartControl?t.padding:this.itemPadding,t.enablePages),h=t.titlePosition,c=this.isPaging&&!t.enablePages&&this.isVertical?this.pageButtonSize:0,d=e.renderer.createGroup({id:this.legendID+"_g"}),p=this.createLegendElements(e,i,d,t,this.legendID,o),u=(this.legendRegions=[],this.chartRowCount=1,0),g=this.isTitle&&(this.isTop||this.isVertical)?this.legendTitleSize.height:0;if(this.isChartControl||this.isAccChartControl&&!this.isVertical){for(var m=1,y=this.rowHeights[0]+l,f=1;f<this.rowHeights.length;f++)y+this.rowHeights[f]+l>this.legendBounds.height-this.pageButtonSize-this.maxItemHeight/2&&(this.pageHeights[m-1]=y+g,m++,y=0),y+=this.rowHeights[f]+(this.isVertical?this.itemPadding:l);this.pageHeights[m-1]=y+g,this.totalPages=m}for(f=0;f<this.legendCollections.length;f++)if(""!==this.legendCollections[f].text){u=Math.max(this.legendCollections[f].textSize.height,u);break}if(this.isChartControl||this.isAccChartControl||(this.maxItemHeight=Math.max(u,t.shapeHeight)),s||!this.isPaging||this.isVertical?!this.isTitle||this.isPaging||this.isVertical||(r=h===(this.isRtlEnable?"Right":"Left")?this.fivePixel+this.legendTitleSize.width:0):(r=this.isTitle&&"Left"===h?this.legendTitleSize.width:0,r+=this.pageButtonSize+2*this.fivePixel),"Gradient"===e.legendSettings.mode&&1<this.legendCollections.length)this.getLinearLegend(i,e,t,p),this.totalPages=1;else if(a!==this.legendCollections.length){for(var v,b,x=void 0,S=0,C=this.legendCollections[a],s=this.isBulletChartControl?l:r+l+t.shapeWidth/2+t.containerPadding.left,r=this.isBulletChartControl&&!this.isRtlEnable?i.x+r+l+t.shapeWidth/2:this.isRtlEnable?i.x+("accumulationchart"===this.chart.getModuleName()&&this.isVertical?this.maxWidth:i.width)-s:i.x+s,w=new ee(r,this.isBulletChartControl?i.y+g+c+l+this.maxItemHeight/2:i.y+g+c+l+this.maxItemHeight/2+t.containerPadding.top),s=e.isRtlEnabled||e.enableRtl?"end":"start",F=new $.TextOption("",w.x,w.y,s),L=t.shapePadding+this.itemPadding+t.shapeWidth,n=(this.totalPages=this.totalPages=this.isAccChartControl||this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.totalPages:0,this.pageXCollections=[],this.legendCollections[a].location=w,!t.enablePages&&this.isPaging?(r=w.x-this.fivePixel,c=w.y-this.fivePixel,s=this.isTitle&&!this.isVertical&&"Left"===h?this.legendTitleSize.width+this.fivePixel:0,b=this.isVertical?this.pageButtonSize+Math.abs(c-i.y):0,h=this.isTitle&&!this.isVertical&&"Right"===h?this.legendTitleSize.width+this.fivePixel:0,h+=this.isVertical?0:this.fivePixel+this.pageButtonSize+this.fivePixel,new $.Rect(r,c,i.width-h-s,i.height-b)):i),P=void 0,f=0;f<this.legendCollections.length;f++)P=this.legendCollections[f],v=this.isReverse?this.legendCollections.length-1-S:S,"accumulationchart"===this.chart.getModuleName()&&(P.fill=(this.chart||this.chart||this.chart||this.chart).visibleSeries[0].points[P.pointIndex].color),"stockChart"===this.chart.getModuleName()&&(P.type=this.chart.visibleSeries[S].type),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+P.text:"Click to show or hide the "+P.text+" series",P.render&&P.text&&""!==P.text&&((x=e.renderer.createGroup({id:this.legendID+this.generateId(P,"_g_",v)}))&&(x.setAttribute("tabindex",0===f?"0":""),x.setAttribute("aria-label",t.description||P.text+" series is "+(P.visible?"showing, press enter to hide the ":"hidden, press enter to show the ")+P.text+" series"),x.setAttribute("role","button"),x.setAttribute("aria-pressed",P.visible?"true":"false")),this.library.getRenderPoint(P,w,L,C,n,S,a),this.renderSymbol(P,x,v),this.renderText(e,P,x,F,S,v),x&&(x.style.cssText="pointer-events: bounding-box; cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),p&&p.appendChild(x),C=P),S++;this.totalPages=this.isPaging&&!this.isBulletChartControl&&!this.legend.enablePages&&!this.isVertical&&this.totalPages>this.chartRowCount?this.chartRowCount:this.totalPages,this.isPaging&&1<this.totalPages?this.renderPagingElements(e,i,F,d):this.totalPages=1}q(e.enableCanvas,e.svgObject,d,o)},Vn.prototype.getLinearLegend=function(e,t,i,o){var r="http://www.w3.org/2000/svg",n=this.legendCollections[0],a=this.legendCollections[1],l=this.chart.renderer.createDefs(),s=document.createElementNS(r,"linearGradient"),h=[],c=[];i.title&&(this.isVertical?(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height):"Left"===i.titlePosition?(e.x+=this.legendTitleSize.width,e.width-=this.legendTitleSize.width):"Right"===i.titlePosition?e.width-=this.legendTitleSize.width:"Top"===i.titlePosition&&(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height));for(var d=0,p=this.chart.rangeColorSettings;d<p.length;d++){var u=p[d];if(c.indexOf(u.start)<0&&c.push(u.start),2<u.colors.length){var g=u.end-u.start,m=u.colors.length-1;if(0<g){g/=m;for(var y=1;y<m;y++){var O=u.start+g*y;c.push(O)}}else for(y=1;y<m;y++)c.push(u.start)}c.indexOf(u.end)<0&&c.push(u.end);for(var f=0,v=u.colors;f<v.length;f++){var z=v[f];h.indexOf(z)<0&&h.push(z)}0<u.colors.length&&u.colors.length<2&&h.push(u.colors[0])}for(var b=this.isRtlEnable&&!this.isVertical?"100%":"0%",x=this.isVertical||this.isRtlEnable?"0%":"100%",S=this.isVertical?"100%":"0%",B=(s.setAttribute("id",this.generateId(n,"linearGradient",0)),s.setAttribute("x1",b),s.setAttribute("y1","0%"),s.setAttribute("x2",x),s.setAttribute("y2",S),c[c.length-1]-c[0]),C=0;C<h.length;C++){var N=c[C]-c[0],w=(N/=B,document.createElementNS(r,"stop"));w.setAttribute("offset",N.toString()),w.setAttribute("stop-color",h[C]),w.setAttribute("stop-opacity",1..toString()),s.appendChild(w)}var F,L,P,A,M,b=n.text.toString(),x=a.text.toString(),S=$.measureText(b,i.textStyle,this.chart.themeStyle.legendLabelFont),a=$.measureText(x,i.textStyle,this.chart.themeStyle.legendLabelFont),D=(S.width>a.width?S:a).width,k=(S.height>a.height?S:a).height,R=2*D+4*i.padding,T=e.width,_=e.height,E=e.x+D+2*i.padding,I=e.y+i.padding,R=(this.isVertical?(R=2*k+4*i.padding,T=e.width-2*i.padding,_=e.height-R,E=e.x+i.padding,I=e.y+k+2*i.padding,F=e.y+i.padding+k,L=I+_+k,A=P=e.x+.5*e.width-.5*D,30<T&&(M=T-30,T=30,E+=M/2)):(T=e.width-R,_=e.height-2*i.padding,P=e.x+(this.isRtlEnable?T+3*i.padding+D:i.padding+(D-S.width)),A=e.x+(this.isRtlEnable?i.padding+(D-a.width):T+3*i.padding+D),L=F=e.y+.5*e.height+.25*k,30<_&&(M=_-30,_=30,I+=M/2)),t.enableRtl?"end":""),S=new $.TextOption("",P,F,R,b),a=(S.id=this.legendID+this.generateId(n,"_text_",1),n.visible?i.textStyle.color||t.themeStyle.legendLabelFont.color:"#D3D3D3"),D=!this.isStockChartControl&&this.chart.enableCanvas,e=(gr(t.renderer,S,i.textStyle,a,o,!1,!1,!1,!1,null,this.currentPageNumber&&D?new $.Rect(0,-this.translatePage(D,null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,0,null,null,null,this.chart.themeStyle.legendLabelFont),(S=new $.TextOption("",A,L,R,x)).id=this.legendID+this.generateId(n,"_text_",2),gr(t.renderer,S,i.textStyle,a,o,!1,!1,!1,!1,null,this.currentPageNumber&&D?new $.Rect(0,-this.translatePage(D,null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,0,null,null,null,this.chart.themeStyle.legendLabelFont),t.renderer.drawRectangle({width:T,height:_,x:E,y:I,fill:"url(#"+this.generateId(n,"linearGradient",0)+")"}));l.appendChild(s),o.appendChild(l),o.appendChild(e)},Vn.prototype.findFirstLegendPosition=function(e){for(var t=0,i=0,o=e;i<o.length;i++){var r=o[i];if(r.render&&r.text&&""!==r.text)break;t++}return t},Vn.prototype.calculateLegendTitle=function(e,t){var i;e.title?(this.isTop="Top"===e.titlePosition,i="Trim"===e.titleStyle.textOverflow?2*e.padding:0,this.isTop||this.isVertical?this.legendTitleCollections=fr(e.title,e.titleStyle,t.width-i,this.chart.enableRtl,this.chart.themeStyle.legendTitleFont):this.legendTitleCollections[0]=hr(e.maximumTitleWidth,e.title,e.titleStyle,this.chart.enableRtl,this.chart.themeStyle.legendTitleFont),t=this.isTop?e.title:this.legendTitleCollections[0],this.legendTitleSize=$.measureText(t,e.titleStyle,this.chart.themeStyle.legendTitleFont),this.legendTitleSize.height*=this.legendTitleCollections.length):this.legendTitleSize=new $.Size(0,0)},Vn.prototype.renderLegendTitle=function(e,t,i,o){var r=t.padding,n=t.titleStyle.textAlignment,a=(this.isTop="Top"===t.titlePosition,Ur(t.titleStyle.textAlignment,e.enableRtl)),l=vr(i,t.titleStyle),a=this.isTop||this.isVertical?a:e.enableRtl?"end":"",l="Near"===n?l+r:"Far"===n?l-r:l,n=(l=this.isTop||this.isVertical?l:i.x+("Left"===t.titlePosition?5:i.width-this.legendTitleSize.width-5),i.height/2+this.legendTitleSize.height/4),r=i.y+(this.isTop||this.isVertical?this.legendTitleSize.height/this.legendTitleCollections.length:n),i=new $.TextOption(this.legendID+"_title",l,r,a,this.legendTitleCollections);gr(e.renderer,i,t.titleStyle,t.titleStyle.color||this.chart.themeStyle.legendTitleFont.color,o,null,null,null,null,null,null,0,null,null,null,this.chart.themeStyle.legendTitleFont)},Vn.prototype.createLegendElements=function(e,t,i,o,r,n){var a=o.padding,l=new Pr(r+"_element",o.background,o.border,o.opacity,t,0,0,"",this.legend.border.dashArray),s=e.renderer.createGroup({id:r+"_collections"}),h=!this.isStockChartControl&&e.enableCanvas,c=e.renderer.createClipPath({id:r+"_clipPath"});return l.width=this.isRtlEnable&&"accumulationchart"===this.chart.getModuleName()&&this.isVertical?this.maxWidth:t.width,i?i.appendChild(e.renderer.drawRectangle(l)):e.renderer.drawRectangle(l),o.title&&this.renderLegendTitle(e,o,t,i),h||i.appendChild(s),this.legendTranslateGroup=e.renderer.createGroup({id:r+"_translate_g"}),h||s.appendChild(this.legendTranslateGroup),l.y+=this.isTop?this.legendTitleSize.height:0,l.id+="_clipPath_rect",l.width=this.isChartControl||"bulletChart"===e.getModuleName()||this.isStockChartControl||!this.isVertical?t.width:this.maxWidth-a+o.containerPadding.left+o.containerPadding.right,h?this.pagingClipRect=l:(this.clipRect=e.renderer.drawRectangle(l),c.appendChild(this.clipRect)),q(h,e.svgObject,c,n),h||(s.style.cssText="clip-path:url(#"+c.id+")"),this.legendTranslateGroup},Vn.prototype.renderSymbol=function(e,t,i){var o,r=this.isBulletChartControl?this.chart:null,n=e.visible?e.fill:"#D3D3D3",a=("chart"===this.chart.getModuleName()||"stockChart"===this.chart.getModuleName())&&("SeriesType"===e.shape&&-1<e.type.toLowerCase().indexOf("line")&&-1===e.type.toLowerCase().indexOf("area")||"HorizontalLine"===e.shape||"VerticalLine"===e.shape||"Cross"===e.shape),l=!("chart"!==this.chart.getModuleName()&&"stockChart"!==this.chart.getModuleName()||"Scatter"!==e.type&&"Bubble"!==e.type),s=!this.isStockChartControl&&this.chart.enableCanvas,h="SeriesType"===e.shape?e.type:e.shape,a=a?("Series"===this.legend.mode?this.chart.visibleSeries[i]:this.chart.visibleSeries[0]).width:this.isBulletChartControl&&"Multiply"===e.shape?4:1,h="Scatter"===h?e.markerShape:h,c=(l&&i<this.chart.visibleSeries.length&&(p=(d=this.chart.visibleSeries[i]).border,o=!(c="HorizontalLine"===h||"VerticalLine"===h)&&p.color||n,a=c?d.width:p.width||1),new $.PathOption(this.legendID+this.generateId(e,"_shape_",i),n,a,l?o:n,this.legend.opacity,e.dashArray,"")),d=$.measureText(e.text,this.legend.textStyle,this.chart.themeStyle.legendLabelFont),p=this.legend.isInversed&&!this.isRtlEnable?e.location.x+d.width+this.legend.shapePadding:e.location.x,a=e.location.y;s?(l=-this.translatePage(s,null,this.currentPageNumber-1,this.currentPageNumber),Eo({x:p,y:a},h,new $.Size(this.legend.shapeWidth,this.legend.shapeHeight),"",c,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new $.Rect(0,l,0,0):null,this.isBulletChartControl,r),this.legendRegions.push({rect:new $.Rect(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+l),index:i})):t.appendChild(Eo({x:p,y:a},h,new $.Size(this.legend.shapeWidth,this.legend.shapeHeight),e.url,c,this.accessbilityText,this.chart.renderer,null,this.isBulletChartControl,r)),("Line"===h&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type&&"Doughnut"===h)&&(c.id=this.legendID+this.generateId(e,"_shape_marker_",i),h="Doughnut"===e.type?"Circle":e.markerShape,c.fill="Doughnut"===e.type?"#FFFFFF":c.fill,s?Eo({x:p,y:a},h,new $.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new $.Rect(0,-this.translatePage(s,null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,r):t.appendChild(Eo({x:p,y:a},h,new $.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",c,this.accessbilityText,null,null,this.isBulletChartControl,r)))},Vn.prototype.renderText=function(e,t,i,o,r,n){var a=e.legendSettings,l=t.visible?a.textStyle.color||e.themeStyle.legendLabelFont.color:"#D3D3D3",s=!this.isStockChartControl&&this.chart.enableCanvas;if(o.id=this.legendID+this.generateId(t,"_text_",n),o.text=0<t.textCollection.length?t.textCollection:t.text,a.isInversed&&!this.isRtlEnable?o.x=t.location.x-a.shapeWidth/2:this.isRtlEnable?(n=$.measureText(t.text,a.textStyle,this.chart.themeStyle.legendLabelFont).width,o.x="bulletChart"===this.chart.getModuleName()?t.location.x-a.shapeWidth:t.location.x-((1<t.textCollection.length?n/t.textCollection.length:n)+a.shapeWidth/2+a.shapePadding)):o.x=t.location.x+a.shapeWidth/2+a.shapePadding,o.y=t.location.y+this.maxItemHeight/4,gr(e.renderer,o,a.textStyle,l,i,!1,!1,!1,!1,null,this.currentPageNumber&&s?new $.Rect(0,-this.translatePage(s,null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,0,null,null,null,this.chart.themeStyle.legendLabelFont),s){for(var n=$.measureText(t.text,a.textStyle,this.chart.themeStyle.legendLabelFont),h=void 0,c=0;c<this.legendRegions.length;c++)if(this.legendRegions[c].index===r){h=this.legendRegions[c];break}h.rect.y=(o.y<h.rect.y?o:h.rect).y,h.rect.width+=n.width,h.rect.height=n.height,h.rect.y-=.5*n.height,h.rect.x-=this.isRtlEnable?h.rect.width:0}},Vn.prototype.renderPagingElements=function(e,t,i,o){var r,n=e.renderer.createGroup({id:this.legendID+"_navigation"}),a=!this.isStockChartControl&&e.enableCanvas,l=this.isBulletChartControl?0:this.legendTitleSize.height,s=-1<this.chart.theme.indexOf("Dark")||-1<this.chart.theme.indexOf("Contrast")?"#FFFFFF":"#545454",h=e.legendSettings,c=this.legendID+(this.isRtlEnable?"_pagedown":"_pageup"),d=this.legendID+(this.isRtlEnable?"_pageup":"_pagedown"),c=new $.PathOption(c,"transparent",5,s,1,"",""),s=e.availableSize.width<110||e.availableSize.height<190?4:this.pageButtonSize,p=h.enablePages||!this.isPaging||this.isVertical||this.isBulletChartControl?this.rowCount-1:1,u=this.isTitle&&"Left"===h.titlePosition?this.legendTitleSize.width:0,o=(this.pagingRegions=[],this.backwardArrowOpacity=1!==this.currentPage?1:0,this.forwardArrowOpacity=this.currentPage===this.totalPages?0:1,a||o.appendChild(n),this.isChartControl||this.isAccChartControl||(this.isBulletChartControl||this.isStockChartControl||!this.isVertical?this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):this.totalPages=Math.ceil(this.totalPages/this.maxColumns)),n&&(n.style.cursor="pointer"),!this.isChartControl&&!this.isAccChartControl||!h.enablePages&&this.isPaging?this.clipPathHeight=p*(this.maxItemHeight+h.padding):this.clipPathHeight=this.pageHeights[0],a?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-h.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=h.border.width,this.pagingClipRect.width-=h.border.width+h.border.width/2,this.chart.renderer.clearRect(new $.Rect(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString()),t.x+s/2),p=t.y+this.clipPathHeight+(l+t.height-this.clipPathHeight)/2,u=(!this.isPaging||h.enablePages||this.isVertical||this.isBulletChartControl||(o=t.x+this.pageButtonSize+u,p=h.title&&this.isTop?t.y+8+l+ +s+.5:t.y+8+s+.5),$.measureText(this.totalPages+"/"+this.totalPages,h.textStyle,this.chart.themeStyle.legendLabelFont)),g=this.isRtlEnable?h.border.width+s/2:t.width-(2*(s+8)+8+u.width),l=(a?Eo({x:o,y:p},"LeftArrow",new $.Size(s,s),"",c,0,this.chart.renderer,new $.Rect(g,0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?(c.opacity=this.isBulletChartControl?c.opacity:h.enablePages?1:this.isRtlEnable?this.forwardArrowOpacity:this.backwardArrowOpacity,n.appendChild(Eo({x:o,y:p},"LeftArrow",new $.Size(s,s),"",c))):(o=t.x+t.width/2,p=t.y+s/2+4+l,c.opacity=this.backwardArrowOpacity,n.appendChild(Eo({x:o,y:p},"UpArrow",new $.Size(s,s),"",c))),this.pagingRegions.push(new $.Rect(this.isRtlEnable?o:o+t.width-(2*(s+8)+8+u.width)-.5*s,p-.5*s,s,s)),i.x=o+s/2+8,i.y=p+u.height/4,i.id=this.legendID+"_pagenumber",i.text=this.isRtlEnable?this.totalPages+"/1":"1/"+this.totalPages,-1<this.chart.theme.indexOf("Dark")||-1<this.chart.theme.indexOf("Contrast")?"#FFFFFF":h.textStyle.color||this.chart.themeStyle.legendLabelFont.color);a&&this.totalNoOfPages&&(i.text=this.isRtlEnable?this.totalNoOfPages+"/"+this.currentPageNumber:this.currentPageNumber+"/"+this.totalNoOfPages),(h.enablePages||this.isBulletChartControl)&&(h.textStyle.size=e.availableSize.width<110||e.availableSize.height<190&&!this.isBulletChartControl?"8px":h.textStyle.size,r=gr(e.renderer,i,h.textStyle,l,n,!1,!1,!1,!1,null,new $.Rect(g,0,0,0),0,null,null,null,this.chart.themeStyle.legendLabelFont)),o=i.x+8+s/2+u.width,!this.isPaging||h.enablePages||this.isVertical||(o=t.x+t.width-(this.isBulletChartControl?this.fivePixel:0)-this.pageButtonSize-(h.title&&"Right"===h.titlePosition?this.legendTitleSize.width+this.fivePixel:0)),c.id=d,c.opacity=h.enablePages?1:this.isRtlEnable?this.backwardArrowOpacity:this.forwardArrowOpacity,a?Eo({x:o,y:p},"RightArrow",new $.Size(s,s),"",c,0,this.chart.renderer,new $.Rect(g,0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?n.appendChild(Eo({x:o,y:p},"RightArrow",new $.Size(s,s),"",c)):(o=t.x+t.width/2,p=t.y+t.height-s/2,n.appendChild(Eo({x:o,y:p},"DownArrow",new $.Size(s,s),"",c))),this.pagingRegions.push(new $.Rect(this.isRtlEnable?o:o+(t.width-(2*(s+8)+8+u.width)-.5*s),p-.5*s,s,s)),a||!h.enablePages&&!this.isBulletChartControl?(1===this.currentPageNumber&&this.calTotalPage&&(h.enablePages||this.isBulletChartControl)&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1),h.enablePages||this.isBulletChartControl||this.translatePage(a,null,this.currentPage-1,this.currentPage,h)):n.setAttribute("transform","translate("+g+", 0)"),(h.enablePages||this.isBulletChartControl)&&this.translatePage(a,r,this.currentPage-1,this.currentPage,h)},Vn.prototype.getPageHeight=function(e,t){for(var i=0,o=0;o<t;o++)i+=e[o];return i},Vn.prototype.translatePage=function(e,t,i,o,r){var n=this.isChartControl||this.isAccChartControl?i?this.getPageHeight(this.pageHeights,i):0:this.clipPathHeight*i,e=(e||!this.isChartControl&&!this.isAccChartControl||(this.clipRect.setAttribute("height",this.pageHeights[i].toString()),this.isAccChartControl&&this.isPaging&&!r.enablePages&&this.isVertical&&this.clipRect.setAttribute("height",this.legendBounds.height.toString())),"translate(0,-"+n+")");return this.isChartControl||this.isBulletChartControl||this.isStockChartControl||!this.isVertical||(i=this.pageXCollections[i*this.maxColumns],n=this.isRtlEnable?this.legendBounds.x+this.maxWidth-i:i-this.legendBounds.x,e=(this.isRtlEnable?"translate(":"translate(-")+(n=n<0?0:n)+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",e),this.chart.enableCanvas||!r.enablePages&&!this.isBulletChartControl||(t.textContent=o+"/"+this.totalPages),this.currentPage=o,n},Vn.prototype.changePage=function(e,t){var i=this.chart.legendSettings,o=document.getElementById(this.legendID+"_pageup"),r=document.getElementById(this.legendID+"_pagedown"),n=!this.isStockChartControl&&this.chart.enableCanvas,a=i.enablePages||this.isBulletChartControl?document.getElementById(this.legendID+"_pagenumber"):null,l=i.enablePages||this.isBulletChartControl?parseInt(a.textContent.split("/")[0],10):this.currentPage;t&&1<l?this.translatePage(n,a,l-2,l-1,i):!t&&l<this.totalPages&&this.translatePage(n,a,l,l+1,i),!this.isPaging||i.enablePages||this.isBulletChartControl||(this.currentPage===this.totalPages?this.hideArrow(r):this.showArrow(r),1===this.currentPage?this.hideArrow(o):this.showArrow(o))},Vn.prototype.hideArrow=function(e){e.setAttribute("opacity","0")},Vn.prototype.showArrow=function(e){e.setAttribute("opacity","1")},Vn.prototype.generateId=function(e,t,i){return this.isChartControl||this.isStockChartControl?t+i:t+e.pointIndex},Vn.prototype.move=function(e){var t,i=this,o=this.chart.mouseX,r=this.chart.mouseY;-1<e.target.textContent.indexOf("...")?2===(e=e.target.id.split(this.legendID+"_text_")).length&&(e=parseInt(e[1],10),t=this.chart.element,isNaN(e)||(this.chart.isTouch&&w(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?Wi(this.chart.series[e].name,o,r,t.offsetWidth,t.id+"_EJ2_Legend_Tooltip",J(this.chart.element.id+"_Secondary_Element")):Wi(this.chart.visibleSeries[0].points[e].x.toString(),o+10,r+10,t.offsetWidth,t.id+"_EJ2_Legend_Tooltip",J(this.chart.element.id+"_Secondary_Element")))):w(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(function(){w(i.chart.element.id+"_EJ2_Legend_Tooltip")},1e3))};i=Vn;function Vn(e){this.maxItemHeight=0,this.rowHeights=[],this.pageHeights=[],this.columnHeights=[],this.pageXCollections=[],this.chartRowCount=1,this.legendTitleCollections=[],this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName()||"chart3d"===e.getModuleName(),this.isAccChartControl="accumulationchart"===e.getModuleName()||"circularchart3d"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.isStockChartControl="stockChart"===e.getModuleName(),this.bulletChart=this.chart,this.fivePixel=5,this.rowCount=0,this.pageButtonSize=8,this.maxColumns=0,this.maxWidth=0,this.currentPage=1,this.backwardArrowOpacity=0,this.forwardArrowOpacity=1,this.arrowWidth=2*(this.fivePixel+this.pageButtonSize+this.fivePixel),this.arrowHeight=this.arrowWidth,this.isTop=!1,this.isTitle=!1,this.currentPageNumber=1}var Hn=function(e,t,i,o,r,n,a,l,s,h,c){this.location={x:0,y:0},this.textCollection=[],this.text=e,this.fill=t,this.shape=i,this.url=n,this.visible=o,this.type=r,this.markerVisibility=l,this.markerShape=a,this.pointIndex=s,this.seriesIndex=h,this.dashArray=c};jn=function(e,t){return(jn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var jn,Wn,Un=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Xn=(function(e,t){function i(){this.constructor=e}jn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Gn,Wn=wn),Gn.prototype.setDataSource=function(e,t){e&&(this.xData=e.xData,this.yData=e.yData,this.points=e.points);e=bo(this.type);this.visible&&t[e+"IndicatorModule"].initDataSource(this,t),t.visibleSeriesCount+=this.targetSeries.length},Un([K.Property("Sma")],Gn.prototype,"type",void 0),Un([K.Property(14)],Gn.prototype,"period",void 0),Un([K.Property(14)],Gn.prototype,"kPeriod",void 0),Un([K.Property(3)],Gn.prototype,"dPeriod",void 0),Un([K.Property(80)],Gn.prototype,"overBought",void 0),Un([K.Property(20)],Gn.prototype,"overSold",void 0),Un([K.Property(2)],Gn.prototype,"standardDeviation",void 0),Un([K.Property("Close")],Gn.prototype,"field",void 0),Un([K.Property(12)],Gn.prototype,"slowPeriod",void 0),Un([K.Property(26)],Gn.prototype,"fastPeriod",void 0),Un([K.Property(!0)],Gn.prototype,"showZones",void 0),Un([K.Complex({color:"#ff9933",width:2},V)],Gn.prototype,"macdLine",void 0),Un([K.Property("Both")],Gn.prototype,"macdType",void 0),Un([K.Property("#2ecd71")],Gn.prototype,"macdPositiveColor",void 0),Un([K.Property("#e74c3d")],Gn.prototype,"macdNegativeColor",void 0),Un([K.Property("rgba(211,211,211,0.25)")],Gn.prototype,"bandColor",void 0),Un([K.Complex({color:"#ffb735",width:1},V)],Gn.prototype,"upperLine",void 0),Un([K.Complex({color:"#f2ec2f",width:1},V)],Gn.prototype,"lowerLine",void 0),Un([K.Complex({color:"#f2ec2f",width:1},V)],Gn.prototype,"periodLine",void 0),Un([K.Property("")],Gn.prototype,"seriesName",void 0),Gn);function Gn(){var e=null!==Wn&&Wn.apply(this,arguments)||this;return e.clipRect=new $.Rect(0,0,0,0),e}Zn.prototype.print=function(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);e={cancel:!1,htmlContent:this.getHTMLContent(e),name:Dt};this.control.trigger(Dt,e),e.cancel||K.print(e.htmlContent,this.printWindow)},Zn.prototype.getHTMLContent=function(e){var t=K.createElement("div");if(e)if(e instanceof Array)for(var i=0;i<e.length;i++){var o=e[i];t.appendChild(J(o).cloneNode(!0))}else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(J(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));for(var r=0;r<t.children.length;r++){for(var n=-1<this.control.theme.indexOf("Dark")||-1<this.control.theme.indexOf("HighContrast")?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)",a=t.children[r],l=0;l<a.children.length;l++){var s=void 0,h=!1;-1<a.id.indexOf("_stockChart_svg")?(s=a.children[0].getAttribute("fill"),h=!0):-1<a.children[l].id.indexOf("_svg")&&(s=a.children[l].children[0].getAttribute("fill"),h=!0),h&&a.children[l].children[0].setAttribute("fill",s="transparent"===s?n:s)}t[r]=a}return t};var Yn=Zn;function Zn(e){this.control=e}qn=function(e,t){return(qn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var qn,Qn,Un=function(e,t){function i(){this.constructor=e}qn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Kn=(Qn=K.ChildProperty,Un($n,Qn),a([K.Property()],$n.prototype,"start",void 0),a([K.Property()],$n.prototype,"end",void 0),a([K.Property([])],$n.prototype,"colors",void 0),a([K.Property("")],$n.prototype,"label",void 0),$n);function $n(){return null!==Qn&&Qn.apply(this,arguments)||this}Jn=K.ChildProperty,Un(ta,Jn),a([K.Property(!1)],ta.prototype,"enable",void 0),a([K.Property("")],ta.prototype,"dashArray",void 0),a([K.Complex({color:null,width:1},ae)],ta.prototype,"line",void 0),a([K.Property("Both")],ta.prototype,"lineType",void 0),a([K.Property("")],ta.prototype,"verticalLineColor",void 0),a([K.Property("")],ta.prototype,"horizontalLineColor",void 0),a([K.Property(1)],ta.prototype,"opacity",void 0);var Jn,ea=ta;function ta(){return null!==Jn&&Jn.apply(this,arguments)||this}ia=K.ChildProperty,Un(ra,ia),a([K.Property(!1)],ra.prototype,"enableSelectionZooming",void 0),a([K.Property(!1)],ra.prototype,"enablePinchZooming",void 0),a([K.Property(!1)],ra.prototype,"showToolbar",void 0),a([K.Property(!1)],ra.prototype,"enableMouseWheelZooming",void 0),a([K.Property(!0)],ra.prototype,"enableDeferredZooming",void 0),a([K.Property("XY")],ra.prototype,"mode",void 0),a([K.Property(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],ra.prototype,"toolbarItems",void 0),a([K.Property(!1)],ra.prototype,"enablePan",void 0),a([K.Property(!1)],ra.prototype,"enableScrollbar",void 0);var ia,oa=ra;function ra(){return null!==ia&&ia.apply(this,arguments)||this}na=K.Component,Un(s,na),s.prototype.mergePersistChartData=function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!K.isNullOrUndefined(e)&&""!==e){var t=JSON.parse(e),e=Object.keys(t);this.isProtectedOnChange=!0;for(var i=0,o=e;i<o.length;i++){var r=o[i];"object"!=typeof this[r]||K.isNullOrUndefined(this[r])?this[r]=t[r]:K.extend(this[r],t[r])}this.isProtectedOnChange=!1}},s.prototype.isIdHasSpecialCharacter=function(e){var t=/^[A-Za-z ]+$/,i=/^[0-9 ]+$/,o="";if(t.test(e))return e;var r=0;i.test(e[0])&&(o+="\\3"+e[0],r=1);for(var n=r;n<e.length;n++)t.test(e[n])||-1!==e.indexOf("-")||-1!==e.indexOf("_")||-1!==e.indexOf("\\")||i.test(e[n])?o+=e[n]:o+="\\"+e[n];return o},s.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id);this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.markerIndex=0,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(null===this.stockChart.tooltip.header&&(this.tooltip.header="<b>${point.x}</b>"),null===this.stockChart.tooltip.format)&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>"),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},s.prototype.initPrivateVariable=function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.dragY=null,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.description||this.title+". Syncfusion interactive chart."),this.element.classList.contains("e-chart-focused")||this.element.setAttribute("class",this.element.getAttribute("class")+" e-chart-focused"),""===this.element.id){for(var e=document.getElementsByClassName("e-chart").length,t="chart_"+this.chartid+"_"+e;document.getElementById(t);)t="chart_"+this.chartid+"_"+ ++e;this.element.id="chart_"+this.chartid+"_"+e}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")},s.prototype.render=function(){var e=this,t=(this.svgRenderer=new $.SvgRenderer(this.element.id),{chart:this.isBlazor?{}:this,theme:this.theme,name:ot,cancel:!1});this.stockChart?(this.isRtlEnabled="rtl"===window.getComputedStyle(document.querySelector("body")).direction,this.cartesianChartRendering(t)):this.trigger(ot,t,function(){t.cancel||e.cartesianChartRendering(t)}),this.applyZoomkit()},s.prototype.cartesianChartRendering=function(e){this.theme=(this.isBlazor?e:this).theme,this.setTheme(),this.createChartSvg(),this.markerRender=new In(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.mouseMoveEvent(),this.allowServerDataBinding=!0},s.prototype.getLocalizedLabel=function(e){return this.localeObject.getConstant(e)},s.prototype.animate=function(e){if(this.redraw=!0,this.animated=!0,this.duration=e||1e3,this.tooltipModule)this.tooltipModule.removeHighlightedMarker(this.tooltipModule.previousPoints,!0);else if(this.markerRender.previousPoints)for(var t=0;t<this.markerRender.previousPoints.length;t++)this.markerRender.removeHighlightedMarker(this.markerRender.previousPoints[t].series,this.markerRender.previousPoints[t].point)},s.prototype.refreshBound=function(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),w("chartmeasuretext"),this.removeSelection(),this.markerRender&&this.markerRender.mergeXvalues(this.visibleSeries)},s.prototype.calculateStackValues=function(){for(var e,t=!1,i=0,o=this.visibleSeries.length;i<o;i++)(e=this.visibleSeries[i]).visible&&(e.position=e.rectCount=void 0),-1===e.type.indexOf("Stacking")&&(-1===e.drawType.indexOf("Stacking")||"PolarRadar"!==this.chartAreaType)||t||(e.calculateStackedValue(-1<e.type.indexOf("100"),this),t=!0)},s.prototype.removeSelection=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];if(i.visible)for(var o=0,r=i.points;o<r.length;o++)r[o].isSelect=!1}J(this.element.id+"_ej2_drag_multi_group")?(-1<this.selectionMode.indexOf("Drag")&&(this.selectionModule.filterArray=[]),w(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new $.Rect(0,0,0,0),!0)):J(this.element.id+"_ej2_drag_group")&&("Lasso"!==this.selectionMode&&(this.selectionModule.filterArray=[]),w(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new $.Rect(0,0,0,0),!0))},s.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];K.updateBlazorTemplate(this.element.id+"_DataLabel","Template",i.marker.dataLabel)}this.renderAnnotation()},s.prototype.renderAxes=function(){var e;return this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"}),0<this.rows.length&&0<this.columns.length&&(e=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),e},s.prototype.renderLegend=function(){var e,t,i;this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible&&(this.legendModule.calTotalPage=!0,e=this.legendSettings.border.width,t=this.legendModule.legendBounds,i=new $.Rect(t.x,t.y,t.width,t.height),this.enableCanvas&&(i=new $.Rect(i.x-e/2,i.y-e/2,i.width+e,i.height+e),this.renderer.canvasClip(i)),this.legendModule.renderLegend(this,this.legendSettings,t),this.enableCanvas)&&this.renderer.canvasRestore(),this.redraw||(this.stockChart?J(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))},s.prototype.setSecondaryElementPosition=function(){var e,t,i=J(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=J(this.svgId).getBoundingClientRect(),i.style.left=Math.max((t.left-e.left)/this.scaleX,0)+"px",i.style.top=Math.max((t.top-e.top)/this.scaleY,0)+"px")},s.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var e=this.element.id;this.series.length&&(this.seriesElements=this.svgRenderer.createGroup({id:e+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:e+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:e+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:e+"DataLabelCollection"})},s.prototype.hasTrendlines=function(){for(var e,t=0,i=this.series;t<i.length&&!(e=!!i[t].trendlines.length);t++);return e},s.prototype.renderSeriesElements=function(e){this.initializeModuleElements();var t,i,o=this.element.id;"g"!==this.element.tagName&&((t=pr(this.redraw,o+"_Secondary_Element")||this.createElement("div")).id=o+"_Secondary_Element",q(!(t.style.cssText="position: relative"),this.element,t,this.redraw)),this.enableCanvas&&(t=(t=document.getElementById(o+"_Secondary_Element"))||this.createElement("div",{id:o+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}}),(i=this.svgRenderer.createSvg({id:o+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height})).style.cssText="position: absolute; pointer-events: none",t.appendChild(i)),this.tooltip.enable&&q(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:o+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),0<this.rows.length&&0<this.columns.length&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&q(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(e))},s.prototype.renderSeries=function(){this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];("TrendLine"===i.category?this.series[i.sourceIndex].trendlines[i.index]:i).visible?(this.visible++,vo(i,this.enableCanvas),this.enableCanvas&&this.renderCanvasSeries(),i.renderSeries(this)):i.isLegendClicked&&(-1<i.type.indexOf("StackingArea")||-1<i.type.indexOf("StackingBar")||-1<i.type.indexOf("StackingColumn"))&&(vo(i,this.enableCanvas),i.renderSeries(this))}this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0;var o={id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"};!this.seriesElements||o.height<0||o.width<0||(o="PolarRadar"===this.chartAreaType?Mo(this.redraw,o,this.renderer,"drawCircularClipPath"):Mo(this.redraw,o,this.renderer),this.enableCanvas||this.seriesElements.appendChild(o),(o=document.getElementById(this.element.id+"_series_svg"))?q(!1,o,this.seriesElements,this.redraw):q(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw))},s.prototype.renderCanvasSeries=function(){this.enableCanvas||this.svgObject},s.prototype.initializeIndicator=function(){for(var e=0,t=this.indicators;e<t.length;e++){var i=t[e];this[bo(i.type)+"IndicatorModule"]&&this[bo(i.type)+"IndicatorModule"].createIndicatorElements(this,i,i.index)}this.indicatorElements&&q(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)},s.prototype.initializeTrendLine=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.trendlines.length&&this.trendLineModule.getTrendLineElements(i,this)}},s.prototype.appendElementsAfterSeries=function(e){"PolarRadar"===this.chartAreaType&&q(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),q(this.enableCanvas,this.svgObject,e,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&q(!1,J(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),this.tooltip.enable||q(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()},s.prototype.applyZoomkit=function(){"PolarRadar"===this.chartAreaType||this.redraw||!this.zoomModule||this.zoomSettings.enablePan&&!this.zoomModule.performedUI&&!this.zoomSettings.showToolbar||this.zoomModule.applyZoomToolkit(this,this.axisCollections)},s.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(J((this.stockChart||this).element.id+"_Secondary_Element"))},s.prototype.performSelection=function(){var e=[];this.selectionModule&&(e=K.extend([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),0<e.length&&(this.selectionModule.selectedDataIndexes=e,this.selectionModule.redrawSelection(this,this.selectionMode))},s.prototype.processData=function(e){void 0===e&&(e=!0);for(var t=!(this.visibleSeriesCount=0),i=0,o=0,r=this.visibleSeries;o<r.length;o++)(c=r[o]).visible||this.legendSettings.visible?"Indicator"!==c.category&&"TrendLine"!==c.category&&this.initializeDataModule(c):this.visibleSeriesCount++;for(var n=0,a=this.indicators;n<a.length;n++){var l=a[n];l.dataSource&&(this.initializeDataModule(l),t=!1)}if(e&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&t)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),!this.stockChart&&0<this.visibleSeries.length)for(var s=0,h=this.visibleSeries;s<h.length;s++){var c=h[s];K.isNullOrUndefined(c.points)||(this.maxPointCount=Math.max(i,c.points.length),i=c.points.length)}},s.prototype.initializeDataModule=function(e){e.xData=[],e.yData=[];var t=this.isAngular?(Object.keys(e.dataSource).length?e:this).dataSource:e.dataSource||this.dataSource;e.dataModule=new An(t,e.query),e.points=[],e.refreshDataManager(this)},s.prototype.calculateBounds=function(){var e=this.margin,t=0,i=0,o="Top"===this.titleStyle.position||"Bottom"===this.titleStyle.position&&!this.legendSettings.visible?15:5,r=e.left+this.border.width,n=this.availableSize.width-r-e.right-this.border.width,a=0,l=(this.titleCollection=[],this.subTitleCollection=[],this.title?(this.titleCollection=fr(this.title,this.titleStyle,n,this.enableRtl,this.themeStyle.chartTitleFont),t=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length+o,this.subTitle&&(this.subTitleCollection=fr(this.subTitle,this.subTitleStyle,n,this.enableRtl,this.themeStyle.chartSubTitleFont),i=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length+o)):"Top"!==this.legendSettings.position&&this.border.width&&(a=10),e.top+a+this.border.width+.5*this.chartArea.border.width),s=this.availableSize.height-l-this.border.width-e.bottom,h=i+t+this.titleStyle.border.width+this.subTitleStyle.border.width;switch(this.titleStyle.position){case"Top":l+=h,s-=h;break;case"Bottom":s-=h;break;case"Left":r+=h,n-=h;break;case"Right":r-=this.titleStyle.border.width+this.subTitleStyle.border.width,n-=h}this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?l+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(r+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new $.Rect(r,l,n,s),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},s.prototype.print=function(e){var t=new Yn(this),i=this.width;"chart"===this.getModuleName()&&80<=parseInt(this.width,10)&&-1<this.width.indexOf("%")&&(this.width="80%",this.dataBind()),t.print(e),"chart"===this.getModuleName()&&80<=parseInt(this.width,10)&&-1<this.width.indexOf("%")&&(this.width=i,this.dataBind())},s.prototype.initTrendLines=function(){this.isProtectedOnChange=!0;for(var e=0,t=this.visibleSeries;e<t.length;e++)for(var i=t[e],o=0,r=0,n=i.trendlines;r<n.length;r++){var a=n[r];this.trendLineModule&&(a.index=o,a.sourceIndex=i.index,this.trendLineModule.initSeriesCollection(a,this),a.targetSeries)&&(a.targetSeries.xAxisName=i.xAxisName,a.targetSeries.yAxisName=i.yAxisName,this.visibleSeries.push(a.targetSeries)),o++}this.isProtectedOnChange=!1},s.prototype.calculateAreaType=function(){var e=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,e&&(this.requireInvertedAxis=-1!==e.type.indexOf("Bar")&&!this.isTransposed||-1===e.type.indexOf("Bar")&&this.isTransposed&&"PolarRadar"!==this.chartAreaType),this.chartAxisLayoutPanel="PolarRadar"===this.chartAreaType?this.polarSeriesModule||this.radarSeriesModule:new Zr(this)},s.prototype.calculateVisibleAxis=function(){var e,t=[this.primaryXAxis,this.primaryYAxis],t="Cartesian"===this.chartAreaType?t.concat(this.axes):t;this.paretoSeriesModule&&"Pareto"===this.series[0].type&&(t=t.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(t)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule)&&(this.scrollBarModule.axes=t),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=t);for(var i=0,o=t.length;i<o;i++){(e=t[i]).series=[],e.labels=[],e.indexLabels={},e.orientation=0===i?this.requireInvertedAxis?"Vertical":"Horizontal":1===i?this.requireInvertedAxis?"Horizontal":"Vertical":e.orientation;for(var r=0,n=this.visibleSeries;r<n.length;r++){var a=n[r];this.initAxis(a,e,!0),"Pareto"===a.category&&"Line"===a.type&&a.yAxis&&(a.yAxis.internalVisibility=a.paretoOptions.showAxis)}for(var l=0,s=this.indicators;l<s.length;l++){var h=s[l];this.initAxis(h,e,!1)}this.scrollBarModule&&!e.zoomingScrollBar&&this.scrollBarModule.injectTo(e,this),null!=e.orientation&&this.axisCollections.push(e)}0<this.rows.length&&0<this.columns.length&&this.chartAxisLayoutPanel.measure()},s.prototype.initAxis=function(e,t,i){e.xAxisName===t.name||null==e.xAxisName&&"primaryXAxis"===t.name?(t.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",e.xAxis=t,i&&t.series.push(e)):(e.yAxisName===t.name||null==e.yAxisName&&"primaryYAxis"===t.name)&&(t.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",e.yAxis=t,i)&&t.series.push(e)},s.prototype.initTechnicalIndicators=function(){for(var e=0,t=0,i=this.indicators;t<i.length;t++){var o=i[t],r=o,n=bo(r.type);if(this[n+"IndicatorModule"]){r.index=e,this[n+"IndicatorModule"].initSeriesCollection(r,this);for(var a=0,l=r.targetSeries;a<l.length;a++){var s=l[a];(o.seriesName||o.dataSource)&&this.visibleSeries.push(s)}}e++}},s.prototype.refreshTechnicalIndicator=function(e){if(this.indicators.length)if(e instanceof Pn&&"Indicator"!==e.category)for(var t=0,i=this.indicators;t<i.length;t++){var o=i[t];o.seriesName!==e.name||o.dataSource||o.setDataSource(e,this)}else e instanceof Xn&&e.setDataSource(e instanceof Pn?e:null,this)},s.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e,t=this.palettes.length?this.palettes:Xr(this.theme),i=t.length,o=this.series.sort(function(e,t){return e.zOrder-t.zOrder}),r=0,n=o.length;r<n;r++){switch((e=o[r]).category="Pareto"===o[0].type?"Pareto":"Series",e.index=r,e.interior=e.fill||t[r%i],e.marker.shape||!e.marker.visible&&"Scatter"!==e.type&&"Scatter"!==e.drawType||(e.marker.shape=En[this.markerIndex%10],this.markerIndex++),this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(function(e){return e.visible})),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(function(e){return e.visible})),e.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===o[0].type.indexOf("Bar"))continue;break;case"Polar":case"Radar":if("PolarRadar"!==this.chartAreaType)continue;if("PolarRadar"===this.chartAreaType&&(null!==e.xAxisName&&this.primaryXAxis.name!==e.xAxisName||null!==e.yAxisName&&this.primaryYAxis.name!==e.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(e),this.paretoSeriesModule.initSeries(e,this);continue;default:if("PolarRadar"===this.chartAreaType||-1<o[0].type.indexOf("Bar"))continue}this.visibleSeries.push(e),o[r]=e}},s.prototype.isSecondaryAxis=function(e){return-1<this.axes.indexOf(e)},s.prototype.renderTitle=function(){var e=this.margin;if(this.title){var t=Ur(this.titleStyle.textAlignment,this.enableRtl),i=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont),o=new $.Rect(e.left,0,this.availableSize.width-e.left-e.right,0),r=this.titleStyle.border.width,n=this.margin.top+3*i.height/4,a=vr(o,this.titleStyle||this.themeStyle.chartTitleFont)+r,l=void 0,s=this.titleStyle.textAlignment,h=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont);switch(this.titleStyle.position){case"Top":n+=.5*r,a+="start"===t?.5*r+this.border.width:"end"===t?2*-r-this.border.width:0;break;case"Bottom":a+="start"===t?.5*r+this.border.width:"end"===t?2*-r-this.border.width:0,n=this.availableSize.height-this.margin.bottom-h.height-i.height/2-.5*r-.5*this.subTitleStyle.border.width;break;case"Left":a=this.margin.left+3*i.height/4+.5*r,n="Near"===s?e.bottom+.5*r+this.border.width:"Far"===s?this.availableSize.height-e.bottom-.5*r-this.border.width:this.availableSize.height/2,t="Near"===s?"end":"Far"===s?"start":"middle",t=this.enableRtl?"end"===t?"start":"start"===t?"end":t:t,l="rotate(-90,"+a+","+n+")";break;case"Right":a=this.availableSize.width-this.margin.right-3*i.height/4-.5*r,n="Near"===s?e.bottom+.5*r+this.border.width:"Far"===s?this.availableSize.height-e.bottom-.5*r-this.border.width:this.availableSize.height/2,t="Near"===s?"start":"Far"===s?"end":"middle",t=this.enableRtl?"end"===t?"start":"start"===t?"end":t:t,l="rotate(90,"+a+","+n+")";break;case"Custom":a=this.titleStyle.x,n=this.titleStyle.y,t="middle"}var o={id:this.element.id+"_ChartTitleBorder",x:a-("middle"===t?i.width/2+5:"end"===t?i.width+5:5),y:n-i.height+i.height/4,rx:this.titleStyle.border.cornerRadius,ry:this.titleStyle.border.cornerRadius,width:i.width+10,height:i.height*this.titleCollection.length,fill:this.titleStyle.background,"stroke-width":r,stroke:this.titleStyle.border.color,transform:l||"",d:""},o=pr(this.redraw,this.element.id+"_ChartTitleBorder",o,this.renderer)||this.renderer.drawRectangle(o),o=(q(this.enableCanvas,this.svgObject,o,this.redraw),new $.TextOption(this.element.id+"_ChartTitle",a,n,t,this.titleCollection,l,"auto")),c=pr(this.redraw,this.element.id+"_ChartTitle",o,this.renderer)||gr(this.renderer,o,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas,null,this.themeStyle.chartTitleFont);c&&(c.setAttribute("tabindex","0"),c.setAttribute("class","e-chart-focused")),this.subTitle&&this.renderSubTitle(o)}},s.prototype.renderSubTitle=function(e){for(var t=0,i=this.titleStyle.textAlignment,o=0,r=this.titleCollection;o<r.length;o++)var n=r[o],t=t<(n=$.measureText(n,this.titleStyle,this.themeStyle.chartTitleFont).width)?n:t;var a=$.measureText(this.subTitleCollection.reduce(function(e,t){return e.length>t.length?e:t}),this.subTitleStyle,this.themeStyle.chartSubTitleFont),l=Ur(this.subTitleStyle.textAlignment,this.enableRtl),s=new $.Rect("Center"===i?e.x-.5*t:"Far"===i?e.x-t:e.x,0,t,0),i=("Left"===this.titleStyle.position&&(s.x="Center"===i?e.x-.5*t:"Far"===i?this.margin.left+3*a.height/4:e.x-t),$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont)),h=e.y*e.text.length+a.height+5+this.titleStyle.border.width+.5*this.subTitleStyle.border.width,i=("Bottom"===this.titleStyle.position&&(h=e.y*e.text.length+5+i.height/2+a.height/2),{id:this.element.id+"_ChartSubTitleBorder",x:vr(s,this.subTitleStyle)-("middle"===l?a.width/2+5:"end"===l?a.width+5:5),y:h-a.height+a.height/4,rx:this.subTitleStyle.border.cornerRadius,ry:this.subTitleStyle.border.cornerRadius,width:a.width+10,height:a.height*this.subTitleCollection.length,fill:this.subTitleStyle.background,"stroke-width":this.subTitleStyle.border.width,stroke:this.subTitleStyle.border.color,transform:e.transform,d:""}),l=pr(this.redraw,this.element.id+"_ChartSubTitleBorder",i,this.renderer)||this.renderer.drawRectangle(i),a=(q(this.enableCanvas,this.svgObject,l,this.redraw),new $.TextOption(this.element.id+"_ChartSubTitle",vr(s,this.subTitleStyle),h,Ur(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,e.transform,"auto"));pr(this.redraw,this.element.id+"_ChartSubTitle",a,this.renderer)||gr(this.renderer,a,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas,null,this.themeStyle.chartSubTitleFont)},s.prototype.renderBorder=function(){var e=0,t=0,i=this.border.width,o=this.backgroundImage,r=o?"transparent":this.background||this.themeStyle.background,r=(this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?t+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(e+=this.stockChart.stockLegendModule.legendBounds.width)),new Pr(this.element.id+"_ChartBorder",r,this.border,1,new $.Rect(.5*i+e,.5*i+t,this.availableSize.width-i,this.availableSize.height-i),0,0,"",this.border.dashArray));this.htmlObject=pr(this.redraw,this.element.id+"_ChartBorder",r,this.renderer)||this.renderer.drawRectangle(r),this.htmlObject.setAttribute("aria-hidden","true"),q(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),o&&(e=new Dr(this.availableSize.height-i,this.availableSize.width-i,o,0,0,this.element.id+"_ChartBackground","visible","none"),this.htmlObject=pr(this.redraw,this.element.id+"_ChartBackground",e,this.renderer)||this.renderer.drawImage(e),q(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw))},s.prototype.renderAreaBorder=function(){if("PolarRadar"===this.chartAreaType)return null;var e=J(this.element.id+"_ChartAreaBorder"),e=e?new $.Rect(+e.getAttribute("x"),+e.getAttribute("y"),+e.getAttribute("width"),+e.getAttribute("height")):null,t=new Pr(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect,0,0,"",this.chartArea.border.dashArray);if(t.height<0||t.width<0)return null;this.htmlObject=this.renderer.drawRectangle(t),this.htmlObject.setAttribute("aria-hidden","true"),q(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,e),this.htmlObject=null;t=this.chartArea.backgroundImage;t&&(e=this.chartArea.border.width,e=new Dr(this.initialClipRect.height-e,this.initialClipRect.width-e,t,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none"),this.htmlObject=this.renderer.drawImage(e),q(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0))},s.prototype.addSeries=function(e){for(var t=window.pageYOffset||document.documentElement.scrollTop,i=0,o=e;i<o.length;i++){var r=o[i],r=new Pn(this,"series",r);this.series.push(r)}this.refresh(),window.scrollTo(0,t)},s.prototype.removeSeries=function(e){this.redraw=!1;var t=window.pageYOffset||document.documentElement.scrollTop;this.visibleSeries[e]&&(this.visibleSeries[e].xAxis.orientation=null,this.visibleSeries[e].yAxis.orientation=null);for(var i=0;i<this.axes.length;i++)null===this.axes[i].orientation&&this.axes.splice(i,1);this.series.splice(e,1),this.refresh(),window.scrollTo(0,t)},s.prototype.clearSeries=function(){this.series=[],this.refresh()},s.prototype.addAxes=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t],o=new Ii(this,"axes",o);this.isBlazor&&(o.interval=isNaN(o.interval)?null:o.interval,o.desiredIntervals=isNaN(o.desiredIntervals)?null:o.desiredIntervals),this.axes.push(o)}this.refresh()},s.prototype.removeAxis=function(e){this.redraw=!1,this.axes.splice(e,1),this.refresh()},s.prototype.destroy=function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null;var e=document.getElementById(this.element.id+"Keyboard_chart_focus"),e=(e&&e.remove(),document.getElementById(this.element.id+"_ej2_chart_highlight"));e&&e.remove(),w("chartmeasuretext"),this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),na.prototype.destroy.call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))},s.prototype.getModuleName=function(){return"chart"},s.prototype.getPersistData=function(){return this.addOnPersist(["loaded","animationComplete","primaryXAxis","primaryYAxis"])},s.prototype.createChartSvg=function(){this.removeSvg(),yr(this)},s.prototype.unWireEvents=function(){var e=K.Browser.touchStartEvent,t=K.Browser.touchMoveEvent,i=K.Browser.touchEndEvent,o=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,e,this.chartOnMouseDown),K.EventHandler.remove(this.element,t,this.mouseMove),K.EventHandler.remove(this.element,i,this.mouseEnd),K.EventHandler.remove(this.element,"click",this.chartOnMouseClick),K.EventHandler.remove(this.element,"dblclick",this.chartOnDoubleClick),K.EventHandler.remove(this.element,"contextmenu",this.chartRightClick),K.EventHandler.remove(this.element,o,this.mouseLeave),K.EventHandler.remove(this.element,"keydown",this.chartKeyDown),K.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),K.EventHandler.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},s.prototype.wireEvents=function(){var e;this.element&&(e=K.Browser.isPointer?"pointerleave":"mouseleave",K.EventHandler.add(this.element,K.Browser.touchStartEvent,this.chartOnMouseDown,this),K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.mouseMove,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.mouseEnd,this),K.EventHandler.add(this.element,"click",this.chartOnMouseClick,this),K.EventHandler.add(this.element,"dblclick",this.chartOnDoubleClick,this),K.EventHandler.add(this.element,"contextmenu",this.chartRightClick,this),K.EventHandler.add(this.element,e,this.mouseLeave,this),K.EventHandler.add(this.element,"keydown",this.chartKeyDown,this),K.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),K.EventHandler.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new K.Touch(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element))},s.prototype.chartRightClick=function(e){return!this.crosshair.enable||!this.crosshairModule||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},s.prototype.setStyle=function(e){var t=this.zoomSettings,t=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||"None"!==this.highlightMode;e.style.touchAction=t?"none":"element",e.style.msTouchAction=t?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.overflow="hidden",e.style.height=e.style.height||this.height&&-1===this.height.indexOf("%")?e.style.height:"inherit"},s.prototype.isOrientation=function(){return"orientation"in window&&"onorientationchange"in window},s.prototype.longPress=function(e){return this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.allowPan=!this.stockChart&&this.allowPan,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",e),!1},s.prototype.setMouseXY=function(e,t){var i,o;J(this.svgId)&&(i=J(this.svgId).getBoundingClientRect(),o=this.element.getBoundingClientRect(),""===this.width||null===this.width||"100%"===this.width?this.element.clientHeight&&(this.scaleY=(o.height-4)/this.availableSize.height):(this.scaleX=i.width/this.availableSize.width,this.scaleY=i.height/this.availableSize.height),this.mouseY=(t-o.top-Math.max(i.top-o.top,0))/this.scaleY,this.mouseX=(e-o.left-Math.max(i.left-o.left,0))/this.scaleX,this.stockChart)&&(this.mouseX+="Left"===this.stockChart.legendSettings.position?this.stockChart.stockLegendModule.legendBounds.width:0,this.mouseY+="Top"===this.stockChart.legendSettings.position?this.stockChart.stockLegendModule.legendBounds.height:0)},s.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport)&&this.exportModule.getDataUrl(this)},s.prototype.chartResize=function(){var e=this,t=(this.animateSeries=!1,{chart:this,name:At,currentSize:new $.Size(0,0),previousSize:new $.Size(this.availableSize.width,this.availableSize.height)}),i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Mt,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){e.isDestroyed||e.stockChart?clearTimeout(e.resizeTo):(e.createChartSvg(),t.currentSize=e.availableSize,e.trigger(At,t),e.refreshAxis(),e.refreshBound(),e.trigger("loaded",{chart:e.isBlazor?{}:e}))},500)),!1},s.prototype.mouseMove=function(e){var t,i;return this.allowPan||(i=("touchmove"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,e)).clientY,this.previousPageX=t,this.previousPageY=i,J(this.svgId)&&(this.setMouseXY(t,i),this.chartOnMouseMove(e))),!1},s.prototype.mouseLeave=function(e){var t,i;return this.stockChart&&this.stockChart.onPanning||(i=("touchleave"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,e)).clientY,this.previousPageX=null,this.previousPageY=null,this.setMouseXY(t,i),this.chartOnMouseLeave(e)),!1},s.prototype.chartOnMouseLeave=function(e){var t=e.target,i=K.Browser.isPointer?"pointerleave":"mouseleave";return this.trigger(St,{target:t.id,x:this.mouseX,y:this.mouseY}),w(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(i,e),!1},s.prototype.chartOnDoubleClick=function(e){e=e.target;return this.trigger(ft,{target:e.id,x:this.mouseX,y:this.mouseY}),!1},s.prototype.chartKeyDown=function(e){var t="";return(this.isZoomed&&"Tab"===e.code||"Space"===e.code)&&e.preventDefault(),this.tooltip.enable&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("Series")||"Escape"===e.code)&&(t="ESC"),"None"!==this.highlightMode&&"Tab"===e.code&&-1<this.previousTargetId.indexOf("_chart_legend_")&&this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),!e.ctrlKey||"+"!==e.key&&"Equal"!==e.code&&"-"!==e.key&&"Minus"!==e.code?82===e.keyCode&&this.isZoomed?(e.preventDefault(),this.isZoomed=!1,t="R"):-1<e.code.indexOf("Arrow")&&(e.preventDefault(),t=this.isZoomed?e.code:""):(e.preventDefault(),this.isZoomed=this.zoomModule&&(this.zoomSettings.enableDeferredZooming||this.zoomSettings.enableSelectionZooming||this.zoomSettings.enablePinchZooming||this.zoomSettings.enableMouseWheelZooming),t=this.isZoomed?e.code:""),e.ctrlKey&&"p"===e.key&&(e.preventDefault(),t="CtrlP"),""!==t&&this.chartKeyboardNavigations(e,e.target.id,t),!1},s.prototype.chartKeyUp=function(e){var t,i,o,r="",n=e.target.id,a=e.target,l=J(this.element.id+"_ChartTitle"),s=J(this.element.id+"SeriesCollection"),h=J(this.element.id+"_chart_legend_translate_g"),c=J(this.element.id+"_chart_legend_pageup");if(l&&l.setAttribute("class","e-chart-focused"),s&&s.firstElementChild&&s.firstElementChild.children[1]&&((i=(d=s.firstElementChild.children[1]).getAttribute("class"))&&-1===i.indexOf("e-chart-focused")?i+=" e-chart-focused":i=i||"e-chart-focused",d.setAttribute("class",i)),h&&((i=(d=h.firstElementChild).getAttribute("class"))&&-1===i.indexOf("e-chart-focused")?i+=" e-chart-focused":i=i||"e-chart-focused",d.setAttribute("class",i)),c&&c.setAttribute("class","e-chart-focused"),"Tab"===e.code)""!==this.previousTargetId&&(-1<this.previousTargetId.indexOf("_Series_")&&-1===n.indexOf("_Series_")?(o=J(this.element.id+"SeriesCollection"),l=-1<this.previousTargetId.indexOf("_Symbol")?J(this.element.id+"SymbolGroup"+this.currentSeriesIndex).children[this.currentPointIndex+1]:-1<this.previousTargetId.indexOf("_Point_")?o.children[this.currentSeriesIndex].children[this.currentPointIndex+1]:o.children[this.currentSeriesIndex],this.setTabIndex(l,o.firstElementChild),this.currentPointIndex=0,this.currentSeriesIndex=0):-1<this.previousTargetId.indexOf("_chart_legend_page")&&-1===n.indexOf("_chart_legend_page")&&-1===n.indexOf("_chart_legend_g_")?this.setTabIndex(e.target,J(this.element.id+"_chart_legend_pageup")):-1<this.previousTargetId.indexOf("_chart_legend_g_")&&-1===n.indexOf("_chart_legend_g_")&&(o=J(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(o.children[this.currentLegendIndex],o.firstElementChild))),-1<(this.previousTargetId=n).indexOf("SeriesGroup")&&(this.currentSeriesIndex=+n.split("SeriesGroup")[1],a.removeAttribute("tabindex"),a.blur(),-1===a.children[1].id.indexOf("_Point_")&&(t=J(this.element.id+"SymbolGroup"+n.split("SeriesGroup")[1])),n=this.focusChild((null!=t?t:a).children[1])),r="None"!==this.highlightMode||this.tooltip.enable?"Tab":"";else if(-1<e.code.indexOf("Arrow")){if(e.preventDefault(),-1<(this.previousTargetId=n).indexOf("_chart_legend_page"))"ArrowLeft"===e.code?(J(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),this.focusChild(J(this.element.id+"_chart_legend_pageup"))):"ArrowRight"===e.code&&(J(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),this.focusChild(J(this.element.id+"_chart_legend_pagedown")));else if(-1<n.indexOf("_chart_legend_")){s=a.parentElement.children,h=(s[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,s.length),s[this.currentLegendIndex]);this.focusChild(h),n=h.children[1].id,r="None"!==this.highlightMode?"ArrowMove":""}else if(-1<n.indexOf("_Series_")){o=a.parentElement.parentElement;var d=e.target;if(a.removeAttribute("tabindex"),a.blur(),"ArrowRight"===e.code||"ArrowLeft"===e.code){for(var p=[],u=0;u<o.children.length;u++)-1<o.children[u].id.indexOf("SeriesGroup")&&p.push(+o.children[u].id.split("SeriesGroup")[1]);this.currentSeriesIndex=p.indexOf(this.currentSeriesIndex)+("ArrowRight"===e.code?1:-1),this.currentSeriesIndex=p[this.getActualIndex(this.currentSeriesIndex,p.length)]}else this.currentPointIndex+="ArrowUp"===e.code?1:-1;-1<n.indexOf("_Symbol")?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"SymbolGroup"+this.currentSeriesIndex).childElementCount-1),d=J(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):-1<n.indexOf("_Point_")&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"SeriesGroup"+this.currentSeriesIndex).childElementCount-1),d=J(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex)),n=this.focusChild(d),r=this.tooltip.enable||"None"!==this.highlightMode?"ArrowMove":""}}else"Enter"!==e.code&&"Space"!==e.code||!(-1<n.indexOf("_chart_legend_")||-1<n.indexOf("_Point_"))||(n=!(-1<n.indexOf("_chart_legend_page"))&&-1<n.indexOf("_chart_legend_")?a.children[1].id:n,r="Enter");return""!==r&&this.chartKeyboardNavigations(e,n,r),!1},s.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},s.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},s.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-chart-focused")?"e-chart-focused "+t:t||"e-chart-focused",e.setAttribute("class",t),e.focus(),e.id},s.prototype.documentKeyHandler=function(e){e.altKey&&74===e.keyCode&&!K.isNullOrUndefined(this.element)&&this.element.focus()},s.prototype.chartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":if(this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),-1<t.indexOf("_Point_")&&(l=+t.split("_Series_")[1].split("_Point_")[0],o=+t.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],l=this.visibleSeries[l].points[o].symbolLocations[0],this.mouseX=l.x+this.initialClipRect.x,this.mouseY=l.y+this.initialClipRect.y,this.highlightModule&&(this.highlightModule.highlightChart(document.getElementById(t),"mousemove"),this.highlightModule.completeSelection(document.getElementById(t),"mousemove")),this.tooltipModule)&&this.tooltipModule.tooltip(),this.highlightModule&&"None"!==this.highlightMode){t=-1<t.indexOf("_chart_legend_g_")?document.getElementById(t).firstChild.id:t;for(var o=this.element.id+"_chart_legend",r=[o+"_text_",o+"_shape_marker_",o+"_shape_"],n=0;n<r.length;n++){var a=r[n];if(-1<t.indexOf(a)){document.getElementById(t).setAttribute("class",""),this.highlightModule.legendSelection(this,parseInt(t.split(a)[1],10),document.getElementById(t),"mousemove");break}}}break;case"Enter":case"Space":-1<t.indexOf("_chart_legend_")?(this.isLegendClicked=!0,this.legendModule.click(e),this.focusChild(document.getElementById(t).parentElement)):this.selectionModule.calculateSelectedElements(document.getElementById(t),"click");break;case"CtrlP":this.print();break;case"ESC":this.tooltipModule.removeTooltip(1);break;case"Equal":case"Minus":this.zoomModule.isZoomed=this.zoomModule.performedUI=!0,this.zoomModule.isPanning=this.isChartDrag=!1,"Equal"===i?this.zoomModule.toolkit.zoomInOutCalculation(1,this,this.axisCollections,this.zoomSettings.mode):this.zoomModule.toolkit.zoomInOutCalculation(-1,this,this.axisCollections,this.zoomSettings.mode),this.zoomModule.performZoomRedraw(this),this.element.focus();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":var l="ArrowUp"===i?10:"ArrowDown"===i?-10:0,o="ArrowLeft"===i?-10:"ArrowRight"===i?10:0;this.zoomModule.isPanning=this.isChartDrag=!0,this.zoomModule.doPan(this,this.axisCollections,o,l),this.zoomModule.performZoomRedraw(this),this.element.focus();break;case"R":this.zoomModule.toolkit.reset(e)}},s.prototype.chartOnMouseClick=function(e){var t=this,i=e.target,o=this,r=(this.clickCount++,this.FindXYPointValue(o.mouseX,o.mouseY)),n=400;1===this.clickCount?this.singleClickTimer=+setTimeout(function(){o.clickCount=0,o.trigger(yt,{target:i.id,x:o.mouseX,y:o.mouseY,axisData:r})},n):2!==this.clickCount||this.pointDoubleClick||(clearTimeout(this.singleClickTimer),this.clickCount=0);return n=this.isAngular?0<this.pointDoubleClick.observers.length?400:0:this.pointDoubleClick?400:0,1===this.clickCount&&this.pointClick?this.singleClickTimer=+setTimeout(function(){t.clickCount=0,t.triggerPointEvent(vt,e)},n):2===this.clickCount&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent(bt,e)),this.axisLabelClick&&this.triggerAxisLabelClickEvent(dt,e),this.notify("click",e),!1},s.prototype.FindXYPointValue=function(e,t){if(mo(e,t,this.chartAxisLayoutPanel.seriesClipRect)&&this.series.some(function(e){return e.visible})){for(var i,o,r={},n=0,a=this.axisCollections.length;n<a;n++)"Horizontal"===(i=this.axisCollections[n]).orientation?(o=yo(Math.abs(e-i.rect.x),i.rect.width,i),r[this.axisCollections[n].name]=o):(o=fo(Math.abs(t-i.rect.y),i.rect.height,i),r[this.axisCollections[n].name]=o);return r}return null},s.prototype.triggerPointEvent=function(e,t){var i=new Qr(this).getData();i.series&&i.point&&this.trigger(e,{series:this.isBlazor?{}:i.series,point:i.point,seriesIndex:i.series.index,pointIndex:i.point.index,x:this.mouseX,y:this.mouseY,pageX:t.pageX,pageY:t.pageY})},s.prototype.triggerAxisLabelClickEvent=function(e,t){var i,o,r,n=t.target;-1!==n.id.indexOf("_AxisLabel_")&&(i=+(o=n.id.split("_AxisLabel_"))[0].slice(-1),o=+o[1],!(r=this.axisCollections[i]).visible||0!=i&&1!=i||this.trigger(e,{chart:this,axis:r,text:r.visibleLabels[o].text,labelID:n.id,index:o,location:new ee(t.pageX,t.pageY),value:r.visibleLabels[o].value}))},s.prototype.chartOnMouseMove=function(e){var t=e.target,i=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(mt,{target:t.id,x:this.mouseX,y:this.mouseY,axisData:i}),this.pointMove&&this.triggerPointEvent(xt,e),this.isTouch||(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(e),this.crosshair.enable&&this.startMove&&e.preventDefault(),this.notify(K.Browser.touchMoveEvent,e),this.isTouch=!1},s.prototype.titleTooltip=function(e,t,i,o){var r=e.target.id,n=r===this.element.id+"_ChartTitle"||r===this.element.id+"_ChartSubTitle"||-1<r.indexOf("_AxisTitle")||-1<r.indexOf("_legend_title"),a=0;-1<r.indexOf("_AxisTitle")&&(a=parseInt(r.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),n&&-1<e.target.textContent.indexOf("...")?Wi(r===this.element.id+"_ChartTitle"?this.title:-1<r.indexOf("_AxisTitle")?this.axisCollections[a].title:-1<r.indexOf("_ChartSubTitle")?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",J(this.element.id+"_Secondary_Element"),o):w(this.element.id+"_EJ2_Title_Tooltip")},s.prototype.axisTooltip=function(e,t,i,o){var r=e.target.id;(-1<r.indexOf("AxisLabel")||-1<r.indexOf("Axis_MultiLevelLabel"))&&-1<e.target.textContent.indexOf("...")?(e=this.legendSettings.visible||""===this.primaryXAxis.title,Wi(this.findAxisLabel(r),t,i,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",J(this.element.id+"_Secondary_Element"),o,e)):w(this.element.id+"_EJ2_AxisLabel_Tooltip")},s.prototype.findAxisLabel=function(e){var t;return-1<e.indexOf("AxisLabel")?(t=e.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(t[0],10)].visibleLabels[parseInt(t[1],10)].originalText):(t=e.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(t[0],10)].multiLevelLabels[parseInt(t[1],10)].categories[parseInt(t[2],10)].text)},s.prototype.chartOnMouseDown=function(e){var t,i=this.FindXYPointValue(this.mouseX,this.mouseY),o=K.Browser.isDevice?20:30,r=this.element.getBoundingClientRect(),n=e.target,a=(this.stockChart&&this.stockChart.zoomSettings.enablePan&&(this.allowPan=!0),this.trigger(Ct,{target:n.id,x:this.mouseX,y:this.mouseY,axisData:i}),i=(n=("touchstart"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType,t=e.clientX,e)).clientY,e.target),J(this.svgId).getBoundingClientRect());return this.mouseDownX=this.previousMouseMoveX=t-r.left-Math.max(a.left-r.left,0),this.mouseDownY=this.previousMouseMoveY=n-r.top-Math.max(a.top-r.top,0),this.isTouch&&(this.isDoubleTap=(new Date).getTime()<this.threshold&&-1===i.id.indexOf(this.element.id+"_Zooming_")&&(this.mouseDownX-o>=this.mouseX||this.mouseDownX+o>=this.mouseX)&&(this.mouseDownY-o>=this.mouseY||this.mouseDownY+o>=this.mouseY)&&(this.mouseX-o>=this.mouseDownX||this.mouseX+o>=this.mouseDownX)&&(this.mouseY-o>=this.mouseDownY||this.mouseY+o>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(K.Browser.touchStartEvent,e),!1},s.prototype.mouseEnd=function(e){var t,i;return"touchend"===e.type?(t=(i=e).changedTouches[0].clientX,this.isTouch=!0,i=i.changedTouches[0].clientY):(i=e.clientY,t=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(t,i),this.chartOnMouseUp(e),!1},s.prototype.chartOnMouseUp=function(e){var t=e.target,i=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(wt,{target:t.id,x:this.mouseX,y:this.mouseY,axisData:i}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.threshold=(new Date).getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(K.Browser.touchEndEvent,e),!1},s.prototype.setCulture=function(){this.intl=new K.Internationalization,this.setLocaleConstants(),this.localeObject=new K.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale)},s.prototype.setAnnotationValue=function(e,t){var i=J(this.element.id+"_Annotation_Collections"),o=this.annotations[e];null!==t&&(o.content=t,i?(w(this.element.id+"_Annotation_"+e),t=this.createElement("div"),this.annotationModule.processAnnotation(o,e,t),i.appendChild(t.children[0])):this.annotationModule.renderAnnotations(J(this.element.id+"_Secondary_Element")))},s.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}},s.prototype.setTheme=function(){var e;this.themeStyle=Gr(this.theme,this.enableCanvas,this),document.getElementById(this.element.id+"Keyboard_chart_focus")||((e=document.createElement("style")).setAttribute("id",this.element.id+"Keyboard_chart_focus"),e.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=_Point_]:focus, text[id*=_ChartTitle]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=_Point_]:focus-visible, text[id*=_ChartTitle]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(e))},s.prototype.requiredModules=function(){var e,t,i=this,o=[],r=this.series,n=!1,a=!1,l=!1,s=this.zoomSettings;return this.chartAreaType=0<r.length&&("Polar"===r[0].type||"Radar"===r[0].type)?"PolarRadar":"Cartesian",this.tooltip.enable&&o.push({member:"Tooltip",args:[this]}),r.map(function(e){i.isLegend=i.legendSettings.visible&&(""!==e.name||!!i.isLegend),t=-1!==e.type.indexOf("100")?e.type.replace("100","")+"Series":e.type+"Series",n=e.errorBar.visible||n,l=e.marker.dataLabel.visible||l||"Pareto"===e.type&&e.paretoOptions.marker.dataLabel.visible,a=e.dragSettings.enable||a,o.some(function(e){return e.member===t})||o.push({member:t,args:[i,r]}),"PolarRadar"===i.chartAreaType&&o.push({member:e.drawType+"Series",args:[i,r]}),"Pareto"===e.type&&(o.push({member:"ColumnSeries",args:[i,r]}),o.push({member:"LineSeries",args:[i,r]}))}),this.findIndicatorModules(o),this.findTrendLineModules(o),o=this.findAxisModule(o),e=this.annotations.some(function(e){return null!==e.content}),n&&o.push({member:"ErrorBar",args:[this,r]}),this.isLegend&&o.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&o.push({member:"Export",args:[this]}),"PolarRadar"!==this.chartAreaType&&this.crosshair.enable&&o.push({member:"Crosshair",args:[this]}),"PolarRadar"!==this.chartAreaType&&!this.scrollSettingEnabled&&(s.enableSelectionZooming||s.enableMouseWheelZooming||s.enablePinchZooming||s.enablePan||s.enableScrollbar||s.showToolbar)&&(o.push({member:"Zoom",args:[this,this.zoomSettings]}),s.enableScrollbar)&&o.push({member:"ScrollBar",args:[this]}),"None"===this.selectionMode||"PolarRadar"===this.chartAreaType&&-1<this.selectionMode.indexOf("Drag")||o.push({member:"Selection",args:[this]}),"None"===this.highlightMode&&!this.legendSettings.enableHighlight||o.push({member:"Highlight",args:[this]}),l&&o.push({member:"DataLabel",args:[this,r]}),a&&o.push({member:"DataEditing",args:[this]}),e&&o.push({member:"Annotation",args:[this]}),o},s.prototype.findAxisModule=function(e){for(var t=[],i=(t.push(this.primaryXAxis),t.push(this.primaryYAxis),!1),o=!1,r=!1,n=!1,a=!1,l=!1,s=0,h=t=t.concat(this.axes);s<h.length;s++){var c=h[s],i="DateTime"===c.valueType||i,o="Category"===c.valueType||o,r="Logarithmic"===c.valueType||r,a="DateTimeCategory"===c.valueType||a,n=this.findStriplineVisibility(c.stripLines)||n,l=0<c.multiLevelLabels.length||l;this.scrollSettingEnabled=!!c.scrollbarSettings.enable||this.scrollSettingEnabled}return i&&e.push({member:"DateTime",args:[this]}),o&&e.push({member:"Category",args:[this]}),r&&e.push({member:"Logarithmic",args:[this]}),n&&e.push({member:"StripLine",args:[this]}),l&&e.push({member:"MultiLevelLabel",args:[this]}),a&&e.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&e.push({member:"ScrollBar",args:[this]}),e},s.prototype.findIndicatorModules=function(e){var t,i,o=this.indicators;if(this.indicators.length){e.push({member:"LineSeries",args:[this]}),o.map(function(e){t=t||"Macd"===e.type,i=i||"BollingerBands"===e.type}),t&&e.push({member:"ColumnSeries",args:[this]}),i&&e.push({member:"RangeAreaSeries",args:[this]}),i&&e.push({member:"SplineRangeAreaSeries",args:[this]});for(var r=0,n=this.indicators;r<n.length;r++){var a=n[r];e.push({member:a.type+"Indicator",args:[this]})}}},s.prototype.findTrendLineModules=function(i){for(var o,r,n=this,e=0,t=this.series;e<t.length;e++)!function(e){var t;e.trendlines.map(function(e){t=t||e.marker.visible,o=!(!o&&"Linear"!==e.type&&"MovingAverage"!==e.type),r=!(!r&&o&&"Exponential"!==e.type&&"Logarithmic"!==e.type&&"Power"!==e.type&&"Polynomial"!==e.type)}),t&&i.push({member:"Marker",args:[n,e]})}(t[e]);(o||r)&&i.push({member:"TrendLine",args:[this]}),o&&i.push({member:"LineSeries",args:[this]}),r&&i.push({member:"SplineSeries",args:[this]})},s.prototype.findStriplineVisibility=function(e){for(var t=!1,i=0,o=e;i<o.length;i++)if(o[i].visible){t=!0;break}return t},s.prototype.removeSvg=function(){if(this.redraw)return null;if(Cr(this),this.enableCanvas&&this.svgObject&&"CANVAS"===this.svgObject.tagName)return this.renderer.clearRect(new $.Rect(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&K.remove(this.svgObject),null;w(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();var e=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),e=1),!K.isNullOrUndefined(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount)for(var t=document.querySelectorAll(".e-chart"),i=0;i<t.length;i++)for(var o=t[i];o.firstChild;)K.remove(o.firstChild);this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>e;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||K.remove(this.svgObject)}},s.prototype.refreshDefinition=function(e){for(var t=0,i=e;t<i.length;t++)i[t].axes=[]},s.prototype.refreshAxis=function(){var e=this.primaryXAxis;e.rect=new $.Rect(void 0,void 0,0,0),(e=this.primaryYAxis).isStack100=!1,e.rect=new $.Rect(void 0,void 0,0,0);for(var t=0,i=this.axes;t<i.length;t++)(e=i[t]).rect=new $.Rect(void 0,void 0,0,0),e.isStack100=!1;if(this.paretoSeriesModule&&"Pareto"===this.series[0].type)for(var o=0,r=this.paretoSeriesModule.paretoAxes;o<r.length;o++)(e=r[o]).rect=new $.Rect(void 0,void 0,0,0),e.isStack100=!1},s.prototype.axisChange=function(e){return!(!e.name&&!e.valueType||(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),0))},s.prototype.getVisibleSeries=function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t===r.index)return r}return null},s.prototype.refreshLiveData=function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},s.prototype.removeStyles=function(){w(this.element.id+"_ej2_chart_selection"),w(this.element.id+"_ej2_chart_highlight")},s.prototype.mouseMoveEvent=function(){var e;this.tooltip.enable&&null!==this.previousPageX&&null!==this.previousPageY&&((e=document.createEvent("MouseEvent")).initMouseEvent("mousemove",!0,!1,window,1,100,100,this.previousPageX,this.previousPageY,!1,!1,!1,!1,0,null),this.element.dispatchEvent(e))},s.prototype.showTooltip=function(e,t,i){if(i=void 0===i?!1:i)for(var o=0,r=this.visibleSeries;o<r.length;o++)for(var n=r[o],a=0,l=n.points;a<l.length;a++){var s=l[a],h="DateTime"===n.xAxis.valueType?s.xValue:s.x;if("DateTime"===n.xAxis.valueType&&new Date(e).getTime(),e===h&&t===s.yValue){this.mouseX=s.regions[0].x+this.chartAxisLayoutPanel.seriesClipRect.x,this.mouseY=s.regions[0].y+this.chartAxisLayoutPanel.seriesClipRect.y,this.tooltipModule.tooltip(),this.markerRender.mouseMoveHandler();break}}else this.isTouch&&(this.startMove=!0),this.mouseX=e,this.mouseY=t,this.tooltipModule.mouseMoveHandler(),this.markerRender.mouseMoveHandler()},s.prototype.hideTooltip=function(){this.tooltipModule.removeTooltip(K.Browser.isDevice?2e3:1e3)},s.prototype.showCrosshair=function(e,t){this.mouseX=e,this.mouseY=t,this.isCrosshair=!1,mo(this.mouseX,this.mouseY,this.chartAxisLayoutPanel.seriesClipRect)?this.crosshairModule.crosshair():this.hideCrosshair(),this.isCrosshair=!0},s.prototype.hideCrosshair=function(){this.crosshairModule.removeCrosshair(K.Browser.isDevice?2e3:1e3)},s.prototype.onPropertyChanged=function(e,t){var i=!1,o=!1;if(this.animateSeries=!1,!this.delayRedraw){for(var r=0,n=Object.keys(e);r<n.length;r++)switch(n[r]){case"primaryXAxis":h=e.primaryXAxis,o=this.axisChange(h),e.primaryXAxis.edgeLabelPlacement&&(i=!0),e.primaryXAxis.crosshairTooltip||(o=!0),K.isNullOrUndefined(h.isInversed)&&K.isNullOrUndefined(h.opposedPosition)||this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":h=e.primaryYAxis,o=this.axisChange(h),e.primaryYAxis.edgeLabelPlacement&&(i=!0),e.primaryYAxis.crosshairTooltip||(o=!0),K.isNullOrUndefined(h.isInversed)&&K.isNullOrUndefined(h.opposedPosition)||this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var a=0,l=Object.keys(e.axes);a<l.length;a++){var s=l[a],h=e.axes[s],o=o||this.axisChange(h);h.crosshairTooltip||(o=!0),K.isNullOrUndefined(h.isInversed)&&K.isNullOrUndefined(h.opposedPosition)||this.axes[s].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),o=!0;break;case"subTitle":case"title":o=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?o=!0:i=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?o=!0:i=!0;break;case"border":i=!0;break;case"dataSource":this.processData(!1),o=!0;break;case"enableCanvas":this.refresh();break;case"series":for(var c,d=this.series.length,p=!1,u=void 0,g=0;g<d;g++)c=e.series[g],this.isBlazor&&c&&(c.visible!==t.series[g].visible||c.isClosed||c.marker||c.emptyPointSettings||c.type||c.boxPlotMode||c.showMean)&&(u=!0),!K.isNullOrUndefined(c)&&(c.dataSource||c.query||c.errorBar||c.xName||c.yName||c.size||c.high||c.low||c.open||c.close||c.trendlines||c.fill||c.name||c.marker||c.width||c.binInterval||c.type||c.visible!==t.series[g].visible||u)&&(K.extend(this.getVisibleSeries(this.visibleSeries,g),c,null,!0),p=!0);p&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),o=!0);break;case"indicators":o=!0;break;case"zoomSettings":(e.zoomSettings.enableScrollbar||t.zoomSettings.enableScrollbar)&&(o=!0),i=!0;break;case"background":i=!0;break;case"chartArea":e.chartArea.border&&e.chartArea.border.width&&(o=!0),i=!0;break;case"legendSettings":e.legendSettings.background&&e.legendSettings.opacity||(o=!0),i=!0;break;case"palettes":this.calculateVisibleSeries(),i=!0;break;case"selectedDataIndexes":this.selectionModule?(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode,!0)):this.highlightModule&&(this.highlightModule.currentMode=this.highlightMode,this.highlightModule.highlightDataIndexes=this.selectedDataIndexes,this.highlightModule.styleId=this.element.id+"_ej2_chart_highlight",this.highlightModule.redrawSelection(this,t.selectionMode,!0));break;case"selectionMode":this.selectionModule&&e.selectionMode&&-1===e.selectionMode.indexOf("Drag")&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!e.isMultiSelect&&1<this.selectionModule.selectedDataIndexes.length&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,t.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),i=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),i=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template)&&(this.tooltipModule.template=this.tooltip.template)}!o&&i&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),o&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.dragY=null,this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}},a([K.Property(null)],s.prototype,"width",void 0),a([K.Property(null)],s.prototype,"height",void 0),a([K.Property("")],s.prototype,"title",void 0),a([K.Property("")],s.prototype,"dataSource",void 0),a([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},G)],s.prototype,"titleStyle",void 0),a([K.Property("")],s.prototype,"subTitle",void 0),a([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},G)],s.prototype,"subTitleStyle",void 0),a([K.Complex({},me)],s.prototype,"margin",void 0),a([K.Complex({color:"#DDDDDD",width:0},ae)],s.prototype,"border",void 0),a([K.Property(null)],s.prototype,"background",void 0),a([K.Complex({border:{color:null,width:.5},background:"transparent"},pe)],s.prototype,"chartArea",void 0),a([K.Complex({name:"primaryXAxis"},Ii)],s.prototype,"primaryXAxis",void 0),a([K.Complex({name:"primaryYAxis"},Ii)],s.prototype,"primaryYAxis",void 0),a([K.Collection([{}],di)],s.prototype,"rows",void 0),a([K.Collection([{}],gi)],s.prototype,"columns",void 0),a([K.Collection([{}],Ii)],s.prototype,"axes",void 0),a([K.Collection([{}],Pn)],s.prototype,"series",void 0),a([K.Collection([{}],Ut)],s.prototype,"annotations",void 0),a([K.Property([])],s.prototype,"palettes",void 0),a([K.Property("Material")],s.prototype,"theme",void 0),a([K.Complex({},Ve)],s.prototype,"tooltip",void 0),a([K.Complex({},ea)],s.prototype,"crosshair",void 0),a([K.Complex({},n)],s.prototype,"legendSettings",void 0),a([K.Collection([{}],Kn)],s.prototype,"rangeColorSettings",void 0),a([K.Complex({},oa)],s.prototype,"zoomSettings",void 0),a([K.Property("")],s.prototype,"highlightColor",void 0),a([K.Property("None")],s.prototype,"selectionMode",void 0),a([K.Property("None")],s.prototype,"highlightMode",void 0),a([K.Property("None")],s.prototype,"selectionPattern",void 0),a([K.Property("None")],s.prototype,"highlightPattern",void 0),a([K.Property(!1)],s.prototype,"isMultiSelect",void 0),a([K.Property(!1)],s.prototype,"allowMultiSelection",void 0),a([K.Property(!0)],s.prototype,"enableExport",void 0),a([K.Property(!1)],s.prototype,"allowExport",void 0),a([K.Collection([],Fe)],s.prototype,"selectedDataIndexes",void 0),a([K.Property(!1)],s.prototype,"useGroupingSeparator",void 0),a([K.Property(!1)],s.prototype,"enableAutoIntervalOnBothAxis",void 0),a([K.Property(!1)],s.prototype,"isTransposed",void 0),a([K.Property(!1)],s.prototype,"enableCanvas",void 0),a([K.Property(null)],s.prototype,"backgroundImage",void 0),a([K.Collection([],Xn)],s.prototype,"indicators",void 0),a([K.Property(!0)],s.prototype,"enableAnimation",void 0),a([K.Property(null)],s.prototype,"description",void 0),a([K.Property(1)],s.prototype,"tabIndex",void 0),a([K.Property(!0)],s.prototype,"enableSideBySidePlacement",void 0),a([K.Event()],s.prototype,"resized",void 0),a([K.Event()],s.prototype,"beforeResize",void 0),a([K.Event()],s.prototype,"annotationRender",void 0),a([K.Event()],s.prototype,"beforePrint",void 0),a([K.Event()],s.prototype,"loaded",void 0),a([K.Event()],s.prototype,"beforeExport",void 0),a([K.Event()],s.prototype,"afterExport",void 0),a([K.Event()],s.prototype,"load",void 0),a([K.Event()],s.prototype,"animationComplete",void 0),a([K.Event()],s.prototype,"legendRender",void 0),a([K.Event()],s.prototype,"textRender",void 0),a([K.Event()],s.prototype,"pointRender",void 0),a([K.Event()],s.prototype,"seriesRender",void 0),a([K.Event()],s.prototype,"axisLabelRender",void 0),a([K.Event()],s.prototype,"axisLabelClick",void 0),a([K.Event()],s.prototype,"axisRangeCalculated",void 0),a([K.Event()],s.prototype,"axisMultiLabelRender",void 0),a([K.Event()],s.prototype,"legendClick",void 0),a([K.Event()],s.prototype,"multiLevelLabelClick",void 0),a([K.Event()],s.prototype,"tooltipRender",void 0),a([K.Event()],s.prototype,"sharedTooltipRender",void 0),a([K.Event()],s.prototype,"chartMouseMove",void 0),a([K.Event()],s.prototype,"chartMouseClick",void 0),a([K.Event()],s.prototype,"chartDoubleClick",void 0),a([K.Event()],s.prototype,"pointClick",void 0),a([K.Event()],s.prototype,"pointDoubleClick",void 0),a([K.Event()],s.prototype,"pointMove",void 0),a([K.Event()],s.prototype,"chartMouseLeave",void 0),a([K.Event()],s.prototype,"chartMouseDown",void 0),a([K.Event()],s.prototype,"chartMouseUp",void 0),a([K.Event()],s.prototype,"dragComplete",void 0),a([K.Event()],s.prototype,"selectionComplete",void 0),a([K.Event()],s.prototype,"zoomComplete",void 0),a([K.Event()],s.prototype,"onZooming",void 0),a([K.Event()],s.prototype,"scrollStart",void 0),a([K.Event()],s.prototype,"scrollEnd",void 0),a([K.Event()],s.prototype,"scrollChanged",void 0),a([K.Event()],s.prototype,"dragStart",void 0),a([K.Event()],s.prototype,"drag",void 0),a([K.Event()],s.prototype,"dragEnd",void 0),a([K.Property("USD")],s.prototype,"currencyCode",void 0);var na,aa=a([K.NotifyPropertyChanges],s);function s(e,t){e=na.call(this,e,t)||this;return e.rotatedDataLabelCollections=[],e.animated=!1,e.isPointMouseDown=!1,e.isScrolling=!1,e.checkResize=0,e.visible=0,e.clickCount=0,e.maxPointCount=0,e.singleClickTimer=0,e.chartAreaType="Cartesian",e.isRtlEnabled=!1,e.isCrosshair=!0,e.chartid=57723,e.isLegendClicked=!1,e.isZoomed=!1,e.previousTargetId="",e.currentPointIndex=0,e.currentSeriesIndex=0,e.currentLegendIndex=0,e.previousPageX=null,e.previousPageY=null,e.allowPan=!1,e.pointsRemoved=!1,e.pointsAdded=!1,K.setValue("mergePersistData",e.mergePersistChartData,e),e}la=function(e,t){return(la=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}la(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ha,sa=$e),ha.prototype.calculateDateTimeNiceInterval=function(e,t,i,o,r){void 0===r&&(r=!0);var n,i=new Date(i),o=new Date(o),a=Math.abs((i.getTime()-o.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":n=this.calculateNumericNiceInterval(e,a/365,t);break;case"Quarter":n=this.calculateNumericNiceInterval(e,a/365*4,t);break;case"Months":n=this.calculateNumericNiceInterval(e,a/30,t);break;case"Weeks":n=this.calculateNumericNiceInterval(e,a/7,t);break;case"Days":n=this.calculateNumericNiceInterval(e,a,t);break;case"Hours":n=this.calculateNumericNiceInterval(e,24*a,t);break;case"Minutes":n=this.calculateNumericNiceInterval(e,24*a*60,t);break;case"Seconds":n=this.calculateNumericNiceInterval(e,24*a*60*60,t);break;case"Auto":return 1<=(n=this.calculateNumericNiceInterval(e,a/365,t))?e.actualIntervalType="Years":1<=(n=this.calculateNumericNiceInterval(e,a/30,t))?e.actualIntervalType="Months":1<=(n=this.calculateNumericNiceInterval(e,a/7,t))&&!r?e.actualIntervalType="Weeks":1<=(n=this.calculateNumericNiceInterval(e,a,t))?e.actualIntervalType="Days":1<=(n=this.calculateNumericNiceInterval(e,24*a,t))?e.actualIntervalType="Hours":1<=(n=this.calculateNumericNiceInterval(e,24*a*60,t))?e.actualIntervalType="Minutes":(n=this.calculateNumericNiceInterval(e,24*a*60*60,t),e.actualIntervalType="Seconds"),n}return n},ha.prototype.getSkeleton=function(e,t,i,o){var r=e.actualIntervalType;return e.skeleton||("Years"===r?o?(e.isChart&&e.valueType,"y"):!e.isChart||"DateTime"===e.valueType&&e.isIntervalInDecimal?"y":"yMMM":"Quarter"===r?o?"y":"yMMM":"Months"===r?o?(e.isChart,"m"):e.isChart?"MMMd":"MMM":"Weeks"===r?o?"m":"MEd":"Days"===r?o?"d":!e.isChart||"DateTime"===e.valueType?"MMMd":"yMd":"Hours"===r?o?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===r?o?"T":e.isChart?"Hms":"hm":o?"T":e.isChart?"Hms":"hms")},ha.prototype.findCustomFormats=function(e){var t=e.labelFormat||"";return t=e.isChart&&!e.skeleton&&"Months"===e.actualIntervalType?t||("DateTime"===e.valueType?"MMM yyyy":"yMMM"):t};var la,sa,Un=ha;function ha(){return null!==sa&&sa.apply(this,arguments)||this}ca=function(e,t){return(ca=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ca(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(pa,da=Un),pa.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},pa.prototype.getActualRange=function(e,t){var i={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(i),i=this.chart.intl.getDateFormat(i),o=(null!==e.minimum?this.min=this.chart.isBlazor?Date.parse(e.minimum.toString()):Date.parse(o(i(new Date(R.DataUtil.parse.parseJson({val:e.minimum}).val)))):null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=Date.parse(o(i(new Date(1970,1,1))))),null!==e.maximum?this.max=this.chart.isBlazor?Date.parse(e.maximum.toString()):Date.parse(o(i(new Date(R.DataUtil.parse.parseJson({val:e.maximum}).val)))):null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=Date.parse(o(i(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new Qe(this.min,this.max),this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end));e.interval?e.actualRange.interval=e.interval:e.actualRange.interval=o,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end},pa.prototype.applyRangePadding=function(e,t){this.min=e.actualRange.min,this.max=e.actualRange.max;var i=e.actualRange.interval;if(!ko(e)){var o=e.getRangePadding(this.chart),r=new Date(this.min),n=new Date(this.max),a=e.actualIntervalType;if("None"===o)this.min=r.getTime(),this.max=n.getTime();else if("Additional"===o||"Round"===o)switch(a){case"Years":this.getYear(r,n,o,i);break;case"Months":this.getMonth(r,n,o,i);break;case"Days":this.getDay(r,n,o,i);break;case"Hours":this.getHour(r,n,o,i);break;case"Minutes":var l=r.getMinutes()/i*i,s=n.getMinutes()+(r.getMinutes()-l);"Round"===o?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),l,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s,59).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),l-i,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s+i,0).getTime());break;case"Seconds":l=r.getSeconds()/i*i,s=n.getSeconds()+(r.getSeconds()-l);"Round"===o?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),l,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),s,0).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),l-i,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),s+i,0).getTime())}}e.actualRange.min=(e.minimum,this.min),e.actualRange.max=(e.maximum,this.max),e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new Qe(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)},pa.prototype.getYear=function(e,t,i,o){e=e.getFullYear(),t=t.getFullYear();"Additional"===i?(this.min=new Date(e-o,1,1,0,0,0).getTime(),this.max=new Date(t+o,1,1,0,0,0).getTime()):(this.min=new Date(e,0,0,0,0,0).getTime(),this.max=new Date(t,11,30,23,59,59).getTime())},pa.prototype.getMonth=function(e,t,i,o){var r=e.getMonth(),n=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),r,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),r+-o,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n+o,2===n?28:30,0,0,0).getTime())},pa.prototype.getDay=function(e,t,i,o){var r=e.getDate(),n=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),r,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),r+-o,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n+o,0,0,0).getTime())},pa.prototype.getHour=function(e,t,i,o){var r=e.getHours()/o*o,n=t.getHours()+(e.getHours()-r);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r-o,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n+o,0,0).getTime())},pa.prototype.calculateVisibleRange=function(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta};var i=!K.isNullOrUndefined(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;Ro(t)&&!i&&(t.calculateVisibleRangeOnZooming(),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,e,t.visibleRange.min,t.visibleRange.max):t.visibleRange.interval),t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},pa.prototype.calculateVisibleLabels=function(e,t){e.visibleLabels=[];var i=e.visibleRange.min,o="chart"===t.getModuleName()&&t.isBlazor,r=e.visibleLabels;for(null===e.minimum&&(i=this.alignRangeStart(e,i,e.visibleRange.interval).getTime());i<=e.visibleRange.max;){var n=K.extend({},K.getValue("properties",e.labelStyle),null,!0),a=r.length?e.visibleLabels[r.length-1].value:i;if(e.format=t.intl.getDateFormat({format:this.findCustomFormats(e)||this.blazorCustomFormat(e),type:bo(e.skeletonType),skeleton:this.getSkeleton(e,i,a,o)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),Xi(i,e.visibleRange)&&(this.increaseDateTimeInterval(e,i,e.visibleRange.interval).getTime()>e.visibleRange.max&&(e.endLabel=e.format(new Date(i))),Do(t,i,e.format(new Date(i)),n,e)),i===(i=this.increaseDateTimeInterval(e,i,e.visibleRange.interval).getTime()))break}"Months"!==e.actualIntervalType&&"Days"!==e.actualIntervalType||!e.isChart||(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:bo(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},pa.prototype.blazorCustomFormat=function(e){return this.chart.isBlazor?"Years"===e.actualIntervalType?e.isIntervalInDecimal?"yyyy":"MMM y":"Days"!==e.actualIntervalType||e.isIntervalInDecimal?"":"ddd HH tt":""},pa.prototype.increaseDateTimeInterval=function(e,t,i){var o=new Date(t),t=(e.interval?e.isIntervalInDecimal=i%1==0:i=Math.ceil(i),e.visibleRange.interval=i,e.actualIntervalType);if(e.isIntervalInDecimal)switch(t){case"Years":return o.setFullYear(o.getFullYear()+i),o;case"Quarter":return o.setMonth(o.getMonth()+3*i),o;case"Months":return o.setMonth(o.getMonth()+i),o;case"Weeks":return o.setDate(o.getDate()+7*i),o;case"Days":return o.setDate(o.getDate()+i),o;case"Hours":return o.setHours(o.getHours()+i),o;case"Minutes":return o.setMinutes(o.getMinutes()+i),o;case"Seconds":return o.setSeconds(o.getSeconds()+i),o}else o=this.getDecimalInterval(o,i,t);return o},pa.prototype.alignRangeStart=function(e,t,i){var o=new Date(t);switch(e.actualIntervalType){case"Years":var r=Math.floor(Math.floor(o.getFullYear()/i)*i);return o=new Date(r,o.getMonth(),o.getDate(),0,0,0);case"Months":r=Math.floor(Math.floor(o.getMonth()/i)*i);return o=new Date(o.getFullYear(),r,o.getDate(),0,0,0);case"Days":r=Math.floor(Math.floor(o.getDate()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),r,0,0,0);case"Hours":r=Math.floor(Math.floor(o.getHours()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),r,0,0);case"Minutes":r=Math.floor(Math.floor(o.getMinutes()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),r,0,0);case"Seconds":r=Math.floor(Math.floor(o.getSeconds()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),r,0)}return o},pa.prototype.getDecimalInterval=function(e,t,i){var o=Math.floor(t),r=t-o;switch(i){case"Years":var n=Math.round(12*r);return e.setFullYear(e.getFullYear()+o),e.setMonth(e.getMonth()+n),e;case"Quarter":return e.setMonth(e.getMonth()+3*t),e;case"Months":n=Math.round(30*r);return e.setMonth(e.getMonth()+o),e.setDate(e.getDate()+n),e;case"Weeks":return e.setDate(e.getDate()+7*t),e;case"Days":n=Math.round(24*r);return e.setDate(e.getDate()+o),e.setHours(e.getHours()+n),e;case"Hours":n=Math.round(60*r);return e.setHours(e.getHours()+o),e.setMinutes(e.getMinutes()+n),e;case"Minutes":n=Math.round(60*r);return e.setMinutes(e.getMinutes()+o),e.setSeconds(e.getSeconds()+n),e;case"Seconds":n=Math.round(1e3*r);return e.setSeconds(e.getSeconds()+o),e.setMilliseconds(e.getMilliseconds()+n),e}return e},pa.prototype.getModuleName=function(){return"DateTime"},pa.prototype.destroy=function(){};var ca,da,a=pa;function pa(e){return da.call(this,e)||this}ua=function(e,t){return(ua=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ua(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ya,ga=Un),ya.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)},ya.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),e.actualRange={},e.interval?e.actualRange.interval=Math.ceil(e.interval):e.actualRange.interval=Math.max(1,Math.floor(e.doubleRange.delta/To(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta},ya.prototype.applyRangePadding=function(t,e){t.series.forEach(function(e){i=i||-1<e.type.indexOf("Column")&&!(t.zoomFactor<1||0<t.zoomPosition)&&K.isNullOrUndefined(t.minimum)&&K.isNullOrUndefined(t.maximum)});var i,o="BetweenTicks"!==t.labelPlacement&&!i||this.chart.stockChart||"PolarRadar"===this.chart.chartAreaType?0:.5;0<o?(t.actualRange.min-=o,t.actualRange.max+=o):t.actualRange.max+=t.actualRange.max?0:.5,t.doubleRange=new Qe(t.actualRange.min,t.actualRange.max),t.actualRange.delta=t.doubleRange.delta,this.calculateVisibleRange(e,t)},ya.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[],e.visibleRange.interval=e.visibleRange.interval<1?1:e.visibleRange.interval;var t,i,o=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||0<e.zoomPosition)&&(o=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];o<=e.visibleRange.max;o+=e.visibleRange.interval)t=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(o,e.visibleRange)&&0<e.labels.length&&(i=Math.round(o),Do(this.chart,i,e.labels[i]?e.labels[i].toString():"",t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},ya.prototype.getModuleName=function(){return"Category"},ya.prototype.destroy=function(){};var ua,ga,ma=ya;function ya(e){return ga.call(this,e)||this}fa=function(e,t){return(fa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}fa(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(xa,va=$e),xa.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)},xa.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;var i=ji(this.min,e.logBase),i=isFinite(i)?i:this.min,o=1===this.max?1:ji(this.max,e.logBase),o=isFinite(i)?o:this.max;this.min=Math.floor(+i),e.series&&e.series.some(function(e){return(-1!==e.type.indexOf("Column")||-1!==e.type.indexOf("Bar"))&&-1===e.type.indexOf("Range")})&&(this.min=this.min<=0?+this.min-1:this.min),this.max=Math.ceil(+o),this.max=this.max===this.min?this.max+1:this.max,e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min},xa.prototype.calculateVisibleRange=function(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta};var i=!K.isNullOrUndefined(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||0<t.zoomPosition)&&!i&&(t.calculateVisibleRangeOnZooming(),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(t.doubleRange.delta,e,t):t.visibleRange.interval,t.visibleRange.interval=0===Math.floor(t.visibleRange.interval)?1:Math.floor(t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval))},xa.prototype.calculateLogNiceInterval=function(e,t,i){for(var o=To(t,i),r=e,n=Math.pow(i.logBase,Math.floor(ji(r,10))),a=0,l=i.intervalDivs.length;a<l;a++){var s=n*i.intervalDivs[a];if(o<e/s)break;r=s}return r},xa.prototype.calculateVisibleLabels=function(e,t){var i,o,r=e.visibleRange.min,n=(e.visibleLabels=[],(e.zoomFactor<1||0<e.zoomPosition)&&(r=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),this.getFormat(e)),a=null!==n.match("{value}"),l=Math.pow(e.logBase,e.visibleRange.min);for(e.format=t.intl.getNumberFormat({format:a?"":n,useGrouping:t.useGroupingSeparator,maximumFractionDigits:l<1?20:3}),e.startLabel=e.format(l<1?+l.toPrecision(1):l),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));r<=e.visibleRange.max;r+=e.visibleRange.interval)i=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(r,e.visibleRange)&&(o=Math.pow(e.logBase,r),Do(this.chart,r,this.formatValue(e,a,n,o<1?+o.toPrecision(1):o),i,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},xa.prototype.getModuleName=function(){return"Logarithmic"},xa.prototype.destroy=function(){};var fa,va,ba=xa;function xa(e){return va.call(this,e)||this}Sa=function(e,t){return(Sa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Sa(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Fa,Ca=ma),Fa.prototype.calculateRangeAndInterval=function(e,t){this.axisSize=e,this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)},Fa.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[];for(var t,i="BetweenTicks"===e.labelPlacement?.5:0,o=0,r="rangeNavigator"===this.chart.getModuleName(),n=(this.axisSize=r?this.chart.availableSize:this.axisSize,(r||this.chart.stockChart)&&e.labels.sort(function(e,t){return Number(e)-Number(t)}),"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||this.blazorCustomFormat(e),type:bo(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.chart.isBlazor)}),!r&&this.chart.stockChart?1:0),a=e.interval||1;n<e.labels.length;n+=a)t=K.extend({},K.getValue("properties",e.labelStyle),null,!0),this.chart.stockChart||r?"Auto"===e.intervalType?(!r&&1===n||this.StartOfWeek(e.labels.map(Number)[n],e.labels.map(Number)[n-1],e,n,o)||e.isIndexed)&&Xi(n,e.visibleRange)&&(Do(this.chart,n,e.isIndexed?this.getIndexedAxisLabel(e.labels[n],e.format):e.format(new Date(e.labels.map(Number)[n])),t,e),o=n):(!r&&1===n||!this.sameInterval(e.labels.map(Number)[n],e.labels.map(Number)[n-1],e.actualIntervalType,n)||e.isIndexed)&&Xi(n,e.visibleRange)&&(!r&&1===n||this.isMaximum(n,o,e))&&(Do(this.chart,n,e.isIndexed?this.getIndexedAxisLabel(e.labels[n],e.format):e.format(new Date(e.labels.map(Number)[n])),t,e),o=n):this.sameInterval(e.labels.map(Number)[n],e.labels.map(Number)[n-1],e.actualIntervalType,n)&&!e.isIndexed||Xi(n-i,e.visibleRange)&&Do(this.chart,n,e.isIndexed?this.getIndexedAxisLabel(e.labels[n],e.format):e.format(new Date(e.labels.map(Number)[n])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},Fa.prototype.blazorCustomFormat=function(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""},Fa.prototype.getIndexedAxisLabel=function(e,t){for(var i=e.split(","),o=0;o<i.length;o++)i[o]=t(new Date(parseInt(i[o],10)));return i.join(", ")},Fa.prototype.sameInterval=function(e,t,i,o){var r;if(0===o)r=!1;else switch(i){case"Years":r=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Quarter":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&Math.floor(new Date(e).getMonth()/3)===Math.floor(new Date(t).getMonth()/3);break;case"Months":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Weeks":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth()&&Math.floor((new Date(e).getDate()-1)/7)===Math.floor((new Date(t).getDate()-1)/7);break;case"Days":r=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":r=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":r=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":r=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return r},Fa.prototype.StartOfWeek=function(e,t,i,o,r){return 0===o||(!(30<=i.labels.length)||(t=new Date(t),e=new Date(e),t.setDate(t.getDate()-t.getDay()),e.setDate(e.getDate()-e.getDay()),!(t.getTime()===e.getTime())))&&this.isMaximum(o,r,i)},Fa.prototype.isMaximum=function(e,t,i){return 0===e||ro(e,i)*i.rect.width-ro(t,i)*i.rect.width>=(15<=i.labels.length?100:50)},Fa.prototype.getModuleName=function(){return"DateTimeCategory"},Fa.prototype.destroy=function(){};var Sa,Ca,wa=Fa;function Fa(e){return Ca.call(this,e)||this}Pa.prototype.measureStripLine=function(e,t,i,o,r,n){var a,l,s=e.orientation,h="DateTime"===e.valueType,c=(o=t.isRepeat&&null!==t.size?(c=o,null):"DateTimeCategory"===e.valueType?(a=t.start,l=t.end,c=null!=a&&"number"!=typeof a?e.labels.indexOf(this.dateToMilliSeconds(a,n).toString()):a,null!=l&&"number"!=typeof l?e.labels.indexOf(this.dateToMilliSeconds(l,n).toString()):l):(c=null===t.start?null:h&&this.isCoreDate(t.start)?this.dateToMilliSeconds(t.start,n):+t.start,null===t.end?null:h&&this.isCoreDate(t.start)?this.dateToMilliSeconds(t.end,n):+t.end),this.getFromTovalue(c,o,t.size,t.startFromAxis,e,t)),o="Vertical"===s?(c.to-c.from)*e.rect.height:i.height,d="Horizontal"===s?(c.to-c.from)*e.rect.width:i.width,p="Vertical"===s?i.x:c.from*e.rect.width+e.rect.x,s="Horizontal"===s?i.y:e.rect.y+e.rect.height-("Pixel"===t.sizeType?c.from:c.to)*e.rect.height;return t.isSegmented&&null!=t.segmentStart&&null!=t.segmentEnd&&"Pixel"!==t.sizeType&&(a=h&&this.isCoreDate(t.segmentStart)?this.dateToMilliSeconds(t.segmentStart,n):+t.segmentStart,l=h&&this.isCoreDate(t.segmentEnd)?this.dateToMilliSeconds(t.segmentEnd,n):+t.segmentEnd,i=this.getFromTovalue(a,l,null,null,r,t),"Vertical"===r.orientation?(s=r.rect.y+r.rect.height-i.to*r.rect.height,o=(i.to-i.from)*r.rect.height):(p=i.from*r.rect.width+r.rect.x,d=(i.to-i.from)*r.rect.width)),0!==o&&0!==d||"Pixel"===t.sizeType&&(null!==t.start||t.startFromAxis)?new $.Rect(p,s,d,o):new $.Rect(0,0,0,0)},Pa.prototype.getFromTovalue=function(e,t,i,o,r,n){var a=!n.isRepeat&&o?r.visibleRange.min:e,o=("Double"!==r.valueType||null===i||o||null!=n.start||(a+=i),this.getToValue(Math.max(e,K.isNullOrUndefined(t)?e:t),a,i,r,t,n)),a=this.findValue(a,r),o=this.findValue(o,r);return{from:ro(r.isAxisInverse?o:a,r),to:ro(r.isAxisInverse?a:o,r)}},Pa.prototype.getToValue=function(e,t,i,o,r,n){var a=n.sizeType,l=null===r;if("DateTime"!==o.valueType)return"Pixel"===n.sizeType?t:l?t+i:e;var s=new Date(t);switch("Auto"===a&&(a=o.actualIntervalType,i*=o.visibleRange.interval),a){case"Years":return l?new Date(s.setFullYear(s.getFullYear()+i)):e;case"Months":return l?new Date(s.setMonth(s.getMonth()+i)):e;case"Days":return l?new Date(s.setDate(s.getDate()+i)):e;case"Hours":return l?new Date(s.setHours(s.getHours()+i)):e;case"Minutes":return l?new Date(s.setMinutes(s.getMinutes()+i)):e;case"Seconds":return l?new Date(s.setSeconds(s.getSeconds()+i)):e;default:return t}},Pa.prototype.findValue=function(e,t){return e<t.visibleRange.min?e=t.visibleRange.min:e>t.visibleRange.max&&(e=t.visibleRange.max),e},Pa.prototype.dateParse=function(e,t){var i=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),t=t.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(i(t(new Date(R.DataUtil.parse.parseJson({val:e}).val)))))},Pa.prototype.renderStripLine=function(e,t,i){var o,r,n=e.element.id+"_stripline_"+t+"_",a=e.chartAxisLayoutPanel.seriesClipRect,l=0,s=null,h=new Pr(n+"ClipRect","transparent",{width:1,color:"Gray"},1,{x:a.x,y:a.y,width:a.width,height:a.height}),c=e.renderer.createGroup({id:n+"collections","clip-path":"url(#"+n+"ClipRect)"});e.enableCanvas||c.appendChild(Mo(e.redraw,h,e.renderer));for(var d=0,p=i;d<p.length;d++)for(var u=p[d],g=0,m=0,y=u.stripLines;m<y.length;m++){var f=y[m];if(f.visible&&f.zIndex===t)if(f.isSegmented&&null!=f.segmentStart&&null!=f.segmentEnd&&"Pixel"!==f.sizeType&&(s=this.getSegmentAxis(i,u,f)),f.isRepeat&&null!=f.repeatEvery&&null!==f.size&&"Pixel"!==f.sizeType)for(o=null!=f.repeatUntil?"DateTime"===u.valueType?this.dateToMilliSeconds(f.repeatUntil,e):+f.repeatUntil:u.actualRange.max,l="DateTime"===u.valueType&&this.isCoreDate(f.start)?this.dateToMilliSeconds(f.start,e):f.start,(f.startFromAxis&&"DateTime"===u.valueType&&"Auto"===f.sizeType||f.start<u.visibleRange.min)&&(l=u.visibleLabels[0].value===u.visibleRange.min?u.visibleRange.min:u.visibleLabels[0].value-("DateTime"===u.valueType?u.dateTimeInterval:u.visibleRange.interval)),l=f.startFromAxis&&"DateTime"!==u.valueType?u.visibleRange.min:l;l<o;)r=Xi(l+("DateTime"===u.valueType?u.dateTimeInterval*+f.size:f.size),u.visibleRange),(l>=u.visibleRange.min&&l<u.visibleRange.max||r)&&this.renderStripLineElement(u,f,a,n,c,e,l,s,g),g++,l=this.getStartValue(u,f,l);else this.renderStripLineElement(u,f,a,n,c,e,null,s,g),g++}q(e.enableCanvas,e.svgObject,c,e.redraw)},Pa.prototype.isCoreDate=function(e){return"string"==typeof e},Pa.prototype.dateToMilliSeconds=function(e,t){return this.dateParse(e,t).getTime()},Pa.prototype.renderPath=function(e,t,i,o,r,n){var a=J(i),a=a?a.getAttribute("d"):"",l=e.size,s="Vertical"===n.orientation?"M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y:"M "+t.x+" "+t.y+" L "+t.x+" "+(t.y+t.height);"Pixel"!==e.sizeType&&(s="Vertical"===n.orientation?"M "+t.x+" "+(t.y+t.height/2)+" L "+(t.x+t.width)+" "+(t.y+t.height/2):"M "+(t.x+t.width/2)+" "+t.y+" L "+(t.x+t.width/2)+" "+(t.y+t.height),l="Vertical"===n.orientation?t.height:t.width),q(r.enableCanvas,o,r.renderer.drawPath(new $.PathOption(i,"none",l,e.color,e.opacity,e.dashArray,s)),r.redraw,!0,"x","y",null,a,!0)},Pa.prototype.renderRectangle=function(e,t,i,o,r){var n=J(i),n=n?new $.Rect(+n.getAttribute("x"),+n.getAttribute("y"),+n.getAttribute("width"),+n.getAttribute("height")):null;q(r.enableCanvas,o,r.renderer.drawRectangle(new Pr(i,"none",e.border,e.opacity,t,0,0,"",e.border.dashArray)),r.redraw,!0,"x","y",null,null,!0,!0,n)},Pa.prototype.drawImage=function(e,t,i,o,r){"Pixel"===e.sizeType&&(t.width=t.width||e.size,t.height=t.height||e.size);e=new Dr(t.height,t.width,e.imageUrl,t.x,t.y,i,"visible","none"),t=r.renderer.drawImage(e);q(r.enableCanvas,o,t,r.redraw,!0,"x","y",null,null,!0,!0)},Pa.prototype.renderText=function(e,t,i,o,r,n){var a=$.measureText(e.text,e.textStyle,r.themeStyle.stripLineLabelFont),l=null===e.rotation,s=l?a.height/8*3:0,h=t.y+t.height/2+s,c=l?"Vertical"===n.orientation?0:-90:e.rotation,d=t.x+t.width/2,p="Horizontal"===n.orientation?(d=this.getTextStart(d+s*this.factor(e.horizontalAlignment),t.width,e.horizontalAlignment),h=this.getTextStart(h-s,t.height,e.verticalAlignment)+("Start"!==e.verticalAlignment||l?0:a.height/4),p=l?this.invertAlignment(e.verticalAlignment):e.horizontalAlignment,d-a.width/2<n.rect.x?"Start":d+a.width/2>n.rect.width?"End":p):(d=this.getTextStart(d,t.width,e.horizontalAlignment),h=this.getTextStart(h+s*this.factor(e.verticalAlignment)-5,t.height,e.verticalAlignment),p=e.horizontalAlignment,r.enableRtl?"End"===p?"Start":"Start"===p?"End":p:p);gr(r.renderer,new $.TextOption(i,d,h,p,e.text,"rotate("+c+" "+d+","+h+")","middle"),e.textStyle,e.textStyle.color||r.themeStyle.stripLineLabelFont.color,o,null,null,null,null,null,null,0,null,r.enableCanvas,null,r.themeStyle.stripLineLabelFont)},Pa.prototype.invertAlignment=function(e){switch(e){case"Start":e="End";break;case"End":e="Start"}return e},Pa.prototype.getStartValue=function(e,t,i){return"DateTime"===e.valueType?this.getToValue(null,i,+t.repeatEvery,e,null,t):i+ +t.repeatEvery},Pa.prototype.getSegmentAxis=function(e,t,i){var o;if(null==i.segmentAxisName)return"Horizontal"===t.orientation?e[1]:e[0];for(var r=0;r<e.length;r++)i.segmentAxisName===e[r].name&&(o=e[r]);return o},Pa.prototype.renderStripLineElement=function(e,t,i,o,r,n,a,l,s){i=this.measureStripLine(e,t,i,a,l,n);t.imageUrl?this.drawImage(t,i,o+"rect_"+e.name+"_"+s,r,n):(this.renderPath(t,i,o+("Pixel"===t.sizeType?"path_":"rect_")+e.name+"_"+s,r,n,e),a=new $.Rect("Horizontal"===e.orientation?i.x-t.size/2:i.x,"Vertical"===e.orientation?i.y-t.size/2:i.y,i.width||t.size,i.height||t.size),this.renderRectangle(t,"Pixel"===t.sizeType?a:i,o+"border_"+e.name+"_"+s,r,n)),""!==t.text&&this.renderText(t,i,o+"text_"+e.name+"_"+s,r,n,e)},Pa.prototype.factor=function(e){var t=0;switch(e){case"Start":t=1;break;case"End":t=-1}return t},Pa.prototype.getTextStart=function(e,t,i){switch(i){case"Start":e=e-t/2+5;break;case"End":e=e+t/2-5}return e},Pa.prototype.getModuleName=function(){return"StripLine"},Pa.prototype.destroy=function(){};var La=Pa;function Pa(){}Ma.prototype.enableComplexProperty=function(e){for(var t,i,o,r=[],n=[],a=e.xAxis.visibleRange,l=e.yAxis.visibleRange,s=e.points,h=e.clipRect,c=Math.abs(a.delta/h.width),d=Math.abs(l.delta/h.height),p=s[0]&&s[0].xValue>c?0:c,u=s[0]&&s[0].y>d?0:d,g=0,m=s;g<m.length;g++){var y=m[g];y.symbolLocations=[],t=y.xValue||a.min,i=y.yValue||l.min,(Math.abs(p-t)>=c||Math.abs(u-i)>=d)&&(r.push(y),p=t,u=i)}for(var f=0;f<r.length;f++)K.isNullOrUndefined((o=r[f]).x)||"Indicator"===e.category&&(isNaN(o.xValue)||isNaN(o.yValue))||n.push(o);return n},Ma.prototype.getLineDirection=function(e,t,i,o,r,n){var a="";return null!=e&&(e=r(e.xValue,e.yValue,i.xAxis,i.yAxis,o,i),r=r(t.xValue,t.yValue,i.xAxis,i.yAxis,o,i),a=n+" "+e.x+" "+e.y+" L "+r.x+" "+r.y+" "),a},Ma.prototype.appendLinePath=function(e,t,i){i=this.appendPathElement(e,t,i);Po(i.element,e.d,t.chart.redraw,i.previousDirection,i.chart.duration)},Ma.prototype.appendPathElement=function(e,t,i){var o=J(e.id),r=t.chart,n=o?o.getAttribute("d"):null,e=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));return e&&e.setAttribute("clip-path",i),t.pathElement=e,t.chart.enableCanvas||t.seriesElement.appendChild(e),t.isRectSeries=!1,{element:o,previousDirection:n,chart:r}},Ma.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=a;l<n;l++)r.length!==o.length&&o.push(o[o.length-1].replace("M","L"));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(t.removedPointIndex===t.points.length?r.push(r[r.length-1].replace("M","L")):r.splice(1,0,r[0].replace("M","L")));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Ma.prototype.addAreaPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(a<r.length){for(var l=a;l<n;l++)r.length!==o.length&&r.length!==o.length&&(1===o.length?o.push(o[o.length-(-1!==e.id.indexOf("border")?1:2)].replace("M","L")):o.splice(o.length-1,0,o[o.length-(-1!==e.id.indexOf("border")?1:2)]));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(t.removedPointIndex===t.points.length?1===r.length?r.push(r[r.length-(-1!==e.id.indexOf("border")?1:2)].replace("M","L")):r.splice(r.length-1,0,r[r.length-(-1!==e.id.indexOf("border")?1:2)]):r.splice(1,0,r[1]||r[0]));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Ma.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},Ma.prototype.doProgressiveAnimation=function(e,t){var i,o=new K.Animation({}),r=e.pathElement,n=r.getAttribute("stroke-dasharray"),a=e.pathElement.getTotalLength();r.style.visibility="hidden",o.animate(r,{duration:0===t.duration&&"Enable"===K.animationMode?1e3:t.duration,delay:t.delay,progress:function(e){e.timeStamp>=e.delay&&(r.style.visibility="visible",i=Math.abs(Math.round((e.timeStamp-e.delay)*a/e.duration)),r.setAttribute("stroke-dasharray",i+","+a))},end:function(){r.setAttribute("stroke-dasharray",n),r.style.visibility="",e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},Ma.prototype.storePointLocation=function(e,t,i,o){var r=t.marker&&t.marker.width?t.marker.width:0,n=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(o(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new $.Rect(e.symbolLocations[0].x-r,e.symbolLocations[0].y-n,2*r,2*n))},Ma.prototype.withinYRange=function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max},Ma.prototype.GetStepLineDirection=function(e,t,i,o){return void 0===o&&(o="L"),"Right"===i?o+" "+t.x+" "+e.y+" L "+e.x+" "+e.y+" ":"Center"===i?o+" "+(i=t.x+(e.x-t.x)/2)+" "+t.y+" L "+i+" "+e.y+" L "+e.x+" "+e.y+" ":o+" "+e.x+" "+t.y+" L "+e.x+" "+e.y+" "},Ma.prototype.getFirstLastVisiblePoint=function(e){for(var t=null,i=null,o=0,r=e;o<r.length;o++){var n=r[o];null===t&&n.visible&&(t=i=n),i=n.visible?n:i}return{first:t||e[0],last:i||e[e.length-1]}},Ma.prototype.getBorderDirection=function(e){e=e.split(" ");return 3<e.length&&!this.chart.stackingAreaSeriesModule&&!this.chart.stackingStepAreaSeriesModule?e.splice(e.length-4,3):(this.chart.stackingAreaSeriesModule||this.chart.stackingStepAreaSeriesModule)&&(e.splice(e.length/2+1,e.length/2+1),"L"!==e[e.length-1]&&"M"!==e[e.length-1]||e.splice(e.length-1,1)),e.join(" ")},Ma.prototype.removeEmptyPointsBorder=function(e){var t,i=0,o=e.split(" ");if(4!==o.length)for(;-1<(t=o.indexOf("M",i))&&(o.splice(t+1,3),i=t+1,0<t-6)&&(o.splice(t-6,6),i-=6),-1!==t;);return o.join(" ")},Ma.prototype.doLinearAnimation=function(t,e){var i,o=t.clipRectElement.childNodes[0].childNodes[0],r=(t.chart.animated?t.chart:e).duration,n=Co("Linear"),a=+o.getAttribute("height"),l=+o.getAttribute("width"),s=+o.getAttribute("x"),h=t.chart.requireInvertedAxis?+o.getAttribute("height")+ +o.getAttribute("y"):+o.getAttribute("y");o.style.visibility="hidden",new K.Animation({}).animate(o,{duration:0===r&&"Enable"===K.animationMode?1e3:r,delay:e.delay,progress:function(e){e.timeStamp>=e.delay&&(o.style.visibility="visible",t.chart.requireInvertedAxis?(i=n(e.timeStamp-e.delay,0,a,e.duration),o.setAttribute("transform","translate("+s+" "+h+") scale(1,"+i/a+") translate("+-s+" "+-h+")")):(i=n(e.timeStamp-e.delay,0,l,e.duration),o.setAttribute("transform","translate("+s+" "+h+") scale("+i/l+", 1) translate("+-s+" "+-h+")")))},end:function(){o.setAttribute("transform","translate(0,0)"),t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t})}})};var Aa=Ma;function Ma(e){this.chart=e}Da=function(e,t){return(Da=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Da(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ta,ka=Aa),Ta.prototype.render=function(e,t,i,o,r,n){for(var a,l="",s=null,h="M",c=e.chart&&"PolarRadar"===e.chart.chartAreaType,d=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,p=c?no:A,u="TrendLine"===e.category?e.points:this.enableComplexProperty(e),g=0,m=u;g<m.length;g++){var y=m[g];y.regions=[],y.symbolLocations=[],y.visible&&Yi(u[y.index-1],y,u[y.index+1],e)?(l+=this.getLineDirection(s,y,e,o,p,h),h=s?"L":h,this.storePointLocation(s=y,e,o,p),""===l&&1===u.length&&(l="M "+y.symbolLocations[0].x+" "+y.symbolLocations[0].y)):(s=d?s:null,h=d?h:"M")}c&&e.isClosed&&(a=p((c=this.getFirstLastVisiblePoint(u)).last.xValue,c.last.yValue,t,i,o,e),c=p(c.first.xValue,c.first.yValue,t,i,o,e),l=l.concat(h+" "+a.x+" "+a.y+" L "+c.x+" "+c.y));t="Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),i=new $.PathOption(t,"none",e.width,e.interior,e.opacity,e.dashArray,l);this[r?"addPath":"appendLinePath"](i,e,""),n||this.renderMarker(e)},Ta.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Ta.prototype.doAnimation=function(e){var t=e.animation;this.doProgressiveAnimation(e,t)},Ta.prototype.getModuleName=function(){return"LineSeries"},Ta.prototype.destroy=function(){};var Da,ka,Ra=Ta;function Ta(){return null!==ka&&ka.apply(this,arguments)||this}Ea.prototype.getSideBySideInfo=function(e){var t,i,o,r,n,a;return e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel?new Qe(0,0):(n="Histogram"!==e.type&&e.chart.enableSideBySidePlacement?e.position:0,o="Histogram"!==e.type&&e.chart.enableSideBySidePlacement?e.rectCount:1,e.isRectSeries=!0,a=e.chart.visibleSeries,r=e.chart.enableSideBySidePlacement?e.columnSpacing:0,t=null===e.columnWidth||isNaN(+e.columnWidth)?"Histogram"===e.type?1:.7:Math.min(e.columnWidth,1),t=(a=So(e.xAxis,a))*t,n=new Qe(n=n/o-.5,n+1/o),isNaN(n.start)||isNaN(n.end)||(a=r*(n=e.groupName&&-1===e.type.indexOf("Stacking")?(i=.7,e.chart.series.filter(function(e){e.columnWidth>i&&(i=e.columnWidth)}),o=a*i,e=((r=new Qe(n.start*o,n.end*o)).delta-(n.end*t-n.start*t))/2,new Qe(r.start+e,r.end-e)):new Qe(n.start*t,n.end*t)).delta,n=new Qe(n.start+a/2,n.end-a/2)),n)},Ea.prototype.getRectangle=function(e,t,i,o,r){e=A(e,t,r.xAxis,r.yAxis,r.chart.requireInvertedAxis),t=A(i,o,r.xAxis,r.yAxis,r.chart.requireInvertedAxis);return new $.Rect(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(t.x-e.x),Math.abs(t.y-e.y))},Ea.prototype.drawCylinder=function(e,O,t,i,o){var r=i.width,n=i.height;if(o.chart.enableCanvas){var a,l,s=o.chart.canvasRender.ctx,h=(s.save(),or(e.fill)),c=i.x+o.clipRect.x,d=i.y+o.clipRect.y,z=2*Math.PI+.1,p=void 0,u=void 0,g=void 0,m=void 0,y=void 0,f=void 0,v=void 0,b=void 0,B=void 0,x=void 0,N=void 0,V=void 0,H=void 0,j=void 0,W=void 0,U=void 0,X=void 0,G=0,S=0,C=0,w=0,Y=0,F=(s.fillStyle=ar(h,.9),s.lineWidth=0,s.strokeStyle=ar(h,.9),s.globalAlpha=e.opacity,t.isColumn?(S=r+(G=c),m=g=c+(p=r/2),x=y=d-(u=p/4),v=(b=c)+r,f=B=d+n-u,W=Math.PI,U=-p,X=u,t.stacking&&!t.isLastSeries&&(x=y=d+u)):(w=n+d,b=g=c+(p=(u=n/2)/4),v=m=c+r+p,B=(C=d)+n,f=y=(x=d)+u,Y=Math.PI/2,W=1.5*Math.PI,t.stacking&&!t.isLastSeries&&(v=m=c+r-p),U=p=-p,X=-(u=-u)),ar(h,.7)),L=s.createLinearGradient(G,C,S,w);L.addColorStop(0,h),L.addColorStop(.3,F),L.addColorStop(.7,F),L.addColorStop(1,h);for(var P=1;P<=4;P++){var A=0;for(P<4&&s.beginPath(),j=P%2==0?(N=m,V=f,H=b,x):(N=g,V=y,H=v,B),4===P&&(p=U,u=X,s.fillStyle=L),2<P&&(A=Y,z=W);A<=z;A+=.1)a=N-p*Math.cos(A),l=V+u*Math.sin(A),0===A?s.moveTo(a,l):s.lineTo(a,l);2<P&&s.lineTo(H,j),3!==P&&(s.stroke(),s.fill())}0<=e.id.indexOf("Series")&&(s.clip(),s.restore())}else{var M=o.chart,c=i.x,d=i.y,D=e.id,G=h=e.fill,k=(rr(h)||(h=or(h)),0),R=0,C=0,S=0,w=0,F=0,T=void 0,_=void 0,i=void 0,E=void 0,I=void 0,Z=void 0,p=void 0,u=void 0,A=2;for(t.isColumn?(T=i=c,E=_=!((u=(p=r/2)/4)<d)&&t.stacking?d+u:d-u,k=2*p,S=!(u<d)&&!(n<2*u)&&t.stacking?n-2*u:n,I=T,Z=u<d?_+n:!(n<_)&&t.stacking?n+(d-u):n+_,w=100,t.stacking&&!t.isLastSeries&&(_=E=d+u,S=n<p/2?n:n-p/2)):(p=(u=n/2)/4,_=E=d,R=2*u,I=(T=i=Math.abs(c-p))+(C=r),Z=_,F=100,t.stacking&&!t.isLastSeries&&(I=T+r-2*p,C=r-2*p)),K.remove(this.element);A--;)e.d="M"+T.toString()+","+_.toString()+"a"+p.toString()+","+u.toString()+" 0 1,0 "+k.toString()+","+R.toString()+"a"+p.toString()+","+u.toString()+" 0 1,0 "+(-1*k).toString()+","+(-1*R).toString(),e.id=D+"_Region_"+A,e.fill=ar(h,.9),A%2==0&&"StackingBar100"!==o.type&&"StackingBar"!==o.type&&"Bar"!==o.type&&(e.fill=e.fill+"10"),this.element=M.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),q(o.chart.enableCanvas,o.seriesElement,this.element,M.redraw),T=I,_=Z;e.d="M"+i.toString()+","+E.toString()+"a"+p.toString()+","+u.toString()+" 0 1,0 "+k.toString()+","+R.toString()+"l"+C.toString()+" "+S.toString()+"a"+p.toString()+","+u.toString()+" 0 1,1 "+(-1*k).toString()+","+(-1*R).toString()+" z",e.id=D+"_Region_2",e.fill=ar(h,.7);n=void 0;-1===G.indexOf("url")&&(document.getElementById(D)||(n={id:D,x1:"0%",y1:"0%",x2:w.toString()+"%",y2:F.toString()+"%"},d=[{colorStop:"0%",color:h},{colorStop:"30%",color:ar(h,.7)},{colorStop:"70%",color:ar(h,.7)},{colorStop:"100%",color:h}],this.drawGradient(n,d,o)),e.fill="url(#"+n.id+")"),this.element=M.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),q(o.chart.enableCanvas,o.seriesElement,this.element,M.redraw)}},Ea.prototype.drawGradient=function(e,t,i){var o=i.chart.renderer.createDefs(),r="http://www.w3.org/2000/svg",n=document.createElementNS(r,"linearGradient");n.setAttribute("id",e.id),n.setAttribute("x1",e.x1),n.setAttribute("y1",e.y1),n.setAttribute("x2",e.x2),n.setAttribute("y2",e.y2);for(var a=0;a<t.length;a++){var l=document.createElementNS(r,"stop");l.setAttribute("offset",t[a].colorStop),l.setAttribute("stop-color",t[a].color),l.setAttribute("stop-opacity","1"),n.appendChild(l)}i.seriesElement.appendChild(o),o.appendChild(n)},Ea.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,o=t.columns;i<o.length;i++)for(var r=o[i],n=0,a=t.rows;n<a.length;n++){var l=a[n];this.findRectPosition(e.findSeriesCollection(r,l,!1))}},Ea.prototype.findRectPosition=function(e){for(var t,i=[],o={rectCount:0,position:null},r=0;r<e.length;r++)-1!==(n=e[r]).type.indexOf("Stacking")||""!==n.groupName?(t=-1!==n.type.indexOf("Stacking")?n.stackingGroup:n.type+n.groupName)?void 0===i[t]?(n.position=o.rectCount,i[t]=o.rectCount++):n.position=i[t]:null===o.position?(n.position=o.rectCount,o.position=o.rectCount++):n.position=o.position:n.position=o.rectCount++;for(var n,r=0;r<e.length;r++)(n=e[r]).rectCount=o.rectCount},Ea.prototype.updateSymbolLocation=function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)},Ea.prototype.updateXRegion=function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||0<=e.yValue==!i.yAxis.isAxisInverse?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})},Ea.prototype.updateYRegion=function(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||0<=e.yValue==!i.yAxis.isAxisInverse?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})},Ea.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},Ea.prototype.getRegion=function(e,t,i){var o;0===e.y?(o=i.marker&&i.marker.width?i.marker.width:0,i=i.marker&&i.marker.height?i.marker.height:0,e.regions.push(new $.Rect(e.symbolLocations[0].x-o,e.symbolLocations[0].y-i,2*o,2*i))):e.regions.push(t)},Ea.prototype.triggerEvent=function(e,t,i,o){i={cancel:!1,name:lt,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,o)};return e.chart.trigger(lt,i),t.color=i.fill,i},Ea.prototype.drawRectangle=function(e,t,i,o){var r=e.chart;if((r.requireInvertedAxis?i.height:i.width)<=0)return null;var i=0===t.y?this.calculateRoundedRectPath(i,0,0,0,0):this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight,r.requireInvertedAxis),n="Indicator"===e.category?r.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:r.element.id+"_Series_"+e.index+"_Point_"+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index?t.index+1:t.index),a=pr(r.redraw,n),a=a?a.getAttribute("d"):"";switch(this.options=new $.PathOption(n,o.fill,o.border.width,o.border.color,e.opacity,e.dashArray,"Cylinder"===e.columnFacet?"":i),this.element=r.renderer.drawPath(this.options,new Int32Array([e.clipRect.x,e.clipRect.y])),null!==e.removedPointIndex&&e.removedPointIndex<=t.index&&(this.element.id=r.element.id+"_Series_"+e.index+"_Point_"+t.index),e.seriesType){case"XY":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.yValue+", "+e.name);break;case"HighLow":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.high+", "+t.low+", "+e.name)}"Cylinder"===e.columnFacet&&(r.redraw||!r.enableAnimation)&&e.seriesElement.querySelector("#"+this.element.id)||q(e.chart.enableCanvas,e.seriesElement,this.element,r.redraw),e.chart.enableCanvas||Po(this.element,"Cylinder"===e.columnFacet?"":i,r.redraw,a,r.duration)},Ea.prototype.animate=function(e){for(var t=e.seriesElement.childNodes,i="Indicator"===e.category?0:1,o=0,r=Vi(e);o<r.length;o++){var n=r[o];if(n.symbolLocations.length||"BoxAndWhisker"===e.type&&n.regions.length)if("Column"!==e.type&&"Bar"!==e.type&&"StackingColumn"!==e.type&&"StackingColumn100"!==e.type&&"StackingBar"!==e.type&&"StackingBar100"!==e.type||"Cylinder"!==e.columnFacet)this.animateRect(t[i],e,n),i++;else for(var a=0;a<t.length;a++)this.animateRect(t[a],e,n)}},Ea.prototype.animateRect=function(o,r,n){var e,t,i,a,l,s=r.animation,h=(r.chart.animated?r.chart:s).duration,c=Co("Linear"),d=n.yValue<0,p=+n.regions[0].height,u=+n.regions[0].width;r.chart.requireInvertedAxis?(t=+n.regions[0].y,-1<r.type.indexOf("Stacking")?(e=ro(0,r.yAxis)*r.yAxis.rect.width,i=e,a=t):(e=+n.regions[0].x,a=d?t:t+p,i=-1!==r.seriesType.indexOf("HighLow")||-1!==r.type.indexOf("Waterfall")?e+u/2:d!==r.yAxis.isAxisInverse?e+u:e)):(e=+n.regions[0].x,-1<r.type.indexOf("Stacking")?(t=(1-ro(0,r.yAxis))*r.yAxis.rect.height,i=e,a=t):(t=+n.regions[0].y,a=-1!==r.seriesType.indexOf("HighLow")||-1!==r.type.indexOf("Waterfall")?t+p/2:d!==r.yAxis.isAxisInverse?t:t+p,i=d?e:e+u)),K.isNullOrUndefined(o)||(o.style.visibility="hidden",new K.Animation({}).animate(o,{duration:0===h&&"Enable"===K.animationMode?1e3:h,delay:s.delay,progress:function(e){e.timeStamp>=e.delay&&(o.style.visibility="visible",r.chart.requireInvertedAxis?(u=u||1,l=c(e.timeStamp-e.delay,0,u,e.duration),o.setAttribute("transform","translate("+i+" "+a+") scale("+l/u+", 1) translate("+-i+" "+-a+")")):(p=p||1,l=c(e.timeStamp-e.delay,0,p,e.duration),o.setAttribute("transform","translate("+i+" "+a+") scale(1,"+l/p+") translate("+-i+" "+-a+")")))},end:function(){o.setAttribute("transform","translate(0,0)");var e=r.seriesElement;if((o===e.lastElementChild||n.index===r.points.length-1||"Waterfall"===r.type&&o===e.children[e.childElementCount-2])&&(r.chart.trigger("animationComplete",{series:r.chart.isBlazor?{}:r}),"Waterfall"===r.type))for(var t=e.childNodes,i=0;i<t.length;i++)-1!==t[i].id.indexOf("Connector")&&(t[i].style.visibility="visible",t[i].setAttribute("transform","translate(0,0)"))}}))},Ea.prototype.calculateRoundedRectPath=function(e,t,i,o,r,n){n=(n=void 0===n?!1:n)?e.width/2:e.height/2;return t=Math.min(t,n),i=Math.min(i,n),o=Math.min(o,n),r=Math.min(r,n),"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-r)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-r)+" "+(e.y+e.height)+" L "+(e.x+o)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-o)+" L "+e.x+" "+(t+e.y)+" Z"};var _a=Ea;function Ea(){}Ia=function(e,t){return(Ia=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ia(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ba,Oa=_a),Ba.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=Math.max(e.yAxis.visibleRange.min,0),i=0,o=e.points;i<o.length;i++){var r=o[i];this.renderPoint(e,r,this.sideBySideInfo[e.index],t)}this.renderMarker(e)},Ba.prototype.renderPoint=function(e,t,i,o){t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(this.rect=this.getRectangle(t.xValue+i.start,t.yValue,t.xValue+i.end,o,e),this.rect.width=e.columnWidthInPixel?e.columnWidthInPixel-(e.chart.enableSideBySidePlacement?e.columnWidthInPixel*e.columnSpacing:0):this.rect.width,this.rect.x=e.columnWidthInPixel?this.rect.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):this.rect.x,i="Indicator"===e.category?t.color:e.interior,(o=this.triggerEvent(e,t,i,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(t,this.rect,e),this.drawRectangle(e,t,this.rect,o),"Cylinder"===e.columnFacet&&this.drawCylinder(this.options,this.element,{isColumn:!0,stacking:!1,isLastSeries:!0},this.rect,e)))},Ba.prototype.updateDirection=function(e,t){for(var i=Math.max(e.yAxis.visibleRange.min,0),o=0;o<t.length;o++)if(this.renderPoint(e,e.points[t[o]],this.sideBySideInfo[e.index],i),e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[o]],e.points[t[o]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var r=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[o]],null,e.marker.dataLabel),n=0;n<r.length;n++)e.chart.dataLabelModule.doDataLabelAnimation(e,r[n])}},Ba.prototype.doAnimation=function(e){this.animate(e)},Ba.prototype.getModuleName=function(){return"ColumnSeries"},Ba.prototype.destroy=function(){};var Ia,Oa,za=Ba;function Ba(){var e=null!==Oa&&Oa.apply(this,arguments)||this;return e.sideBySideInfo=[],e}Na=function(e,t){return(Na=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Na(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ja,Va=Aa),ja.prototype.getAreaPathDirection=function(e,t,i,o,r,n,a){var l="";return null===n&&(l+=a+" "+(n=r(e,t,i.xAxis,i.yAxis,o,i)).x+" "+n.y+" "),l},ja.prototype.getAreaEmptyDirection=function(e,t,i,o,r){var n="";return(n+=this.getAreaPathDirection(e.x,e.y,i,o,r,null,"L"))+this.getAreaPathDirection(t.x,t.y,i,o,r,null,"L")},ja.prototype.setPointColor=function(e,t,i,o,r){if(""!==i.pointColorMapping)return!!t&&i.setPointColor(e,i.interior)!==i.setPointColor(t,i.interior);for(var n,a=0;a<r.length;a++)if(n=r[a],(o?e.xValue:e.yValue)<=this.getAxisValue(n.value,o?i.xAxis:i.yAxis,i.chart)||!n.value&&0!==n.value){e.interior=n.color;break}return null==e.interior&&(e.interior=i.interior),!1},ja.prototype.sortSegments=function(i,e){var o=this,r="X"===i.segmentAxis?i.xAxis:i.yAxis;return[].concat(e).sort(function(e,t){return o.getAxisValue(e.value,r,i.chart)-o.getAxisValue(t.value,r,i.chart)})},ja.prototype.applySegmentAxis=function(i,e,o,r){var n=this;if(""!==i.pointColorMapping)return e.map(function(e){n[r?"addMulticolorPath":"appendLinePath"](e,i,"")}),null;for(var a,l,s,h,c="X"===i.segmentAxis,d=c?i.xAxis:i.yAxis,p=i.chart,t=(this.includeSegment(o,d,i,o.length),o.length),u=0,g=this,m=0;m<t;m++)!function(t){a=o[t],l=g.getAxisValue(a.value,d,i.chart),(s=g.createClipRect(t?g.getAxisValue(o[t-1].value,d,i.chart):d.visibleRange.min,l,i,t,c))&&e.map(function(e){u+=1,h={"clip-path":s,"stroke-dasharray":a.dashArray,opacity:e.opacity,stroke:-1<i.type.indexOf("Line")?a.color||i.interior:e.stroke,"stroke-width":e["stroke-width"],fill:-1<i.type.indexOf("Line")?"none":a.color||i.interior,id:e.id+"_Segment_"+t,d:e.d},u%2==0&&n.chart.multiColoredAreaSeriesModule&&"transparent"!==i.border.color&&0!==h["stroke-width"]&&(h.fill="transparent"),r?n.addMulticolorPath(h,i,"",!0):Po(J(h.id),h.d,p.redraw),i.pathElement=p.renderer.drawPath(h),i.chart.enableCanvas||r||i.seriesElement.appendChild(p.renderer.drawPath(h))})}(m)},ja.prototype.includeSegment=function(e,t,i,o){if(o<=0)return e.push({value:t.visibleRange.max,color:i.interior}),null;this.getAxisValue(e[o-1].value,t,i.chart)<t.visibleRange.max&&e.push({value:t.visibleRange.max,color:i.interior})},ja.prototype.addMulticolorPath=function(e,t,i,o){i=this.appendPathElement(e,t,i);if(null!==i.previousDirection&&""!==i.previousDirection||(i.previousDirection="M "+e.d.split(" ").slice(-3)[0]+" "+e.d.split(" ").slice(-5)[0]+" L "+e.d.split(" ").slice(-3)[0]+" "+e.d.split(" ").slice(-5)[0]+" L "+e.d.split(" ").slice(-3)[0]+" "+e.d.split(" ").slice(-5)[0]),null!==e.d&&""!==e.d||(e.d="M "+i.previousDirection.split(" ").slice(-3)[0]+" "+i.previousDirection.split(" ").slice(-5)[0]+" L "+i.previousDirection.split(" ").slice(-3)[0]+" "+i.previousDirection.split(" ").slice(-5)[0]),o){var r=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),a=Math.max(r.length,n.length),o=Math.min(r.length,n.length);if(r.length===n.length&&Ao(J(e.id),e.d,t.chart.redraw,i.previousDirection,this.chart.duration),r.length<n.length){for(var l=o;l<a;l++)n.length!==r.length&&r.splice(r.length-(-1!==t.type.indexOf("Line")?1:2),0,r[r.length-(-1!==t.type.indexOf("Line")?1:2)]);Ao(J(e.id),e.d,t.chart.redraw,r.join(" "),this.chart.duration)}if(r.length>n.length){for(l=o;l<a;l++)n.length!==r.length&&n.splice(1,0,n[1].replace("M","L"));Ao(i.element,n.join(""),t.chart.redraw,r.join(""),this.chart.duration,e.d)}}},ja.prototype.createClipRect=function(e,t,i,o,r){var n=i.chart.requireInvertedAxis,a=A(r?e:i.xAxis.visibleRange.min,r?i.yAxis.visibleRange.max:t,i.xAxis,i.yAxis,n),t=A(r?t:i.xAxis.visibleRange.max,r?i.yAxis.visibleRange.min:e,i.xAxis,i.yAxis,n),t=n?[a,a=t][0]:t;return(i.xAxis.isInversed||i.xAxis.isAxisInverse?0<a.x-t.x:0<t.x-a.x)&&(i.yAxis.isInversed?0<a.y-t.y:0<t.y-a.y)?(r=new Pr(i.chart.element.id+"_ChartSegment"+i.index+"ClipRect_"+o,"transparent",{width:1,color:"Gray"},1,{x:(i.xAxis.isInversed||i.xAxis.isAxisInverse?t:a).x,y:(i.yAxis.isInversed?t:a).y,width:i.xAxis.isInversed||i.xAxis.isAxisInverse?a.x-t.x:t.x-a.x,height:i.yAxis.isInversed?a.y-t.y:t.y-a.y}),i.chart.enableCanvas||i.seriesElement.appendChild(Mo(i.chart.redraw,r,i.chart.renderer)),"url(#"+i.chart.element.id+"_ChartSegment"+i.index+"ClipRect_"+o+")"):null},ja.prototype.getAxisValue=function(e,t,i){var o;return null===e&&(e=t.visibleRange.max),"DateTime"===t.valueType?(o={skeleton:"full",type:"dateTime"},Date.parse(i.intl.getDateParser(o)(i.intl.getDateFormat(o)(new Date(R.DataUtil.parse.parseJson({val:e}).val))))):!(-1<t.valueType.indexOf("Category"))||(i="DateTimeCategory"===t.valueType?e.getTime().toString():e,t.labels.indexOf(i)<0)?+e:t.labels.indexOf(i)};var Na,Va,Ha=ja;function ja(){return null!==Va&&Va.apply(this,arguments)||this}Wa=function(e,t){return(Wa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Wa(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ga,Ua=Ha),Ga.prototype.render=function(e,t,i,o,r,n){for(var a,l,s,h,c=null,d="",p=e.chart&&"PolarRadar"===e.chart.chartAreaType,u=Math.max(e.yAxis.visibleRange.min,0),g=(p&&(u=this.getFirstLastVisiblePoint(e.points).first.yValue),e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode),m=e.border.width||0,y=e.border.color||e.interior,f="PolarRadar"===e.chart.chartAreaType?no:A,v=this.enableComplexProperty(e),b=0;b<v.length;b++)a=(l=v[b]).xValue,l.symbolLocations=[],l.regions=[],l.visible&&Yi(v[b-1],l,v[b+1],e)&&(d+=this.getAreaPathDirection(a,u,e,o,f,c,"M"),c=c||new ee(a,u),d+=this.getAreaPathDirection(a,l.yValue,e,o,f,null,"L"),!v[b+1]||v[b+1].visible||p&&!this.withinYRange(v[b+1],i)||g||(d+=this.getAreaEmptyDirection({x:a,y:u},c,e,o,f),c=null),this.storePointLocation(l,e,o,f));p&&""!==d&&(s="",h=this.chart,s+=this.getAreaPathDirection(0,u,e,o,f,null,"L"),(t.isAxisInverse||i.isAxisInverse)&&(d+="Polar"===e.type?h.polarSeriesModule.getPolarIsInversedPath(t,s):h.radarSeriesModule.getRadarIsInversedPath(t,s)),d=d.concat(d+" Z")),this[r?"addAreaPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,""!==d?d+this.getAreaPathDirection(e.points[e.points.length-1].xValue,"PolarRadar"===e.chart.chartAreaType?e.points[e.points.length-1].yValue:u,e,o,f,null,"L"):""),e,""),0!==e.border.width&&(h=this.removeEmptyPointsBorder(d),this[r?"addAreaPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",m,y,1,e.dashArray,h),e,"")),n||this.renderMarker(e)},Ga.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Ga.prototype.destroy=function(){},Ga.prototype.getModuleName=function(){return"AreaSeries"},Ga.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)};var Wa,Ua,Xa=Ga;function Ga(){return null!==Ua&&Ua.apply(this,arguments)||this}Ya=function(e,t){return(Ya=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ya(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Qa,Za=_a),Qa.prototype.render=function(e){var t=Math.max(e.yAxis.visibleRange.min,0);this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var i=0,o=e.points;i<o.length;i++){var r=o[i];this.renderPoint(e,r,this.sideBySideInfo[e.index],t)}this.renderMarker(e)},Qa.prototype.renderPoint=function(e,t,i,o){t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(this.rect=this.getRectangle(t.xValue+i.start,t.yValue,t.xValue+i.end,o,e),this.rect.height=e.columnWidthInPixel||this.rect.height,this.rect.y=e.columnWidthInPixel?this.rect.y-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):this.rect.y,(i=this.triggerEvent(e,t,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(t,this.rect,e),this.drawRectangle(e,t,this.rect,i),"Cylinder"===e.columnFacet&&this.drawCylinder(this.options,this.element,{isColumn:!1,stacking:!1,isLastSeries:!0},this.rect,e)))},Qa.prototype.updateDirection=function(e,t,i){for(var o=Math.max(e.yAxis.visibleRange.min,0),r=0;r<t.length;r++)if(this.renderPoint(e,e.points[t[r]],this.sideBySideInfo[e.index],o),e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[r]],e.points[t[r]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var n=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[r]],null,e.marker.dataLabel),a=0;a<n.length;a++)e.chart.dataLabelModule.doDataLabelAnimation(e,n[a])}},Qa.prototype.doAnimation=function(e){this.animate(e)},Qa.prototype.destroy=function(){},Qa.prototype.getModuleName=function(){return"BarSeries"};var Ya,Za,qa=Qa;function Qa(){var e=null!==Za&&Za.apply(this,arguments)||this;return e.sideBySideInfo=[],e}Ka=function(e,t){return(Ka=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ka(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(el,$a=Aa),el.prototype.measureAxis=function(e){var t=this.chart;this.initialClipRect=e,this.seriesClipRect=new $.Rect(e.x,e.y,e.width,e.height),this.measureRowAxis(t,this.initialClipRect),this.measureColumnAxis(t,this.initialClipRect),this.calculateAxisSize()},el.prototype.measureRowAxis=function(e,t){this.calculateRowSize(t);t=e.rows[0];this.measureDefinition(t,e,new $.Size(e.availableSize.width,t.computedHeight))},el.prototype.measureColumnAxis=function(e,t){this.calculateColumnSize(t);t=e.columns[0];this.measureDefinition(t,e,new $.Size(t.computedWidth,e.availableSize.height))},el.prototype.measureDefinition=function(e,t,i){for(var o=0,r=e.axes;o<r.length;o++){var n=r[o];n.getModule(t),n.baseModule.calculateRangeAndInterval(i,n)}},el.prototype.calculateAxisSize=function(){var e=this.chart;this.centerX=.5*this.initialClipRect.width+this.initialClipRect.x,this.centerY=.5*this.initialClipRect.height+this.initialClipRect.y,e.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-5-e.primaryXAxis.majorTickLines.height-e.primaryXAxis.maxLabelSize.height,e.radius=e.primaryXAxis.coefficient*e.radius/100,this.seriesClipRect.y=this.centerY-e.radius,this.seriesClipRect.x=this.centerX-e.radius,this.seriesClipRect.height=2*e.radius,this.seriesClipRect.width=2*e.radius,this.calculateRowSize(this.seriesClipRect),e.primaryYAxis.rect=this.seriesClipRect,this.calculateColumnSize(this.seriesClipRect),e.primaryXAxis.rect=this.seriesClipRect},el.prototype.measure=function(){var e=this.chart,t=e.primaryYAxis,i=(t.isRTLEnabled=e.enableRtl,t.setIsInversedAndOpposedPosition(!0),e.verticalAxes.push(t),e.rows[0]),t=(i.axes[0]=t,e.rows[0]=i,e.primaryXAxis),i=(t.isRTLEnabled=e.enableRtl,t.setIsInversedAndOpposedPosition(!0),e.horizontalAxes.push(t),e.columns[0]);i.axes[0]=t,e.columns[0]=i},el.prototype.calculateRowSize=function(e){var t=this.chart,i=t.rows[0];i.computedHeight=e.height/2,i.computedTop=e.y,t.rows[0]=i},el.prototype.calculateColumnSize=function(e){var t=this.chart,i=t.columns[0];i.computedLeft=e.x,i.computedWidth=e.width,t.columns[0]=i},el.prototype.renderAxes=function(){for(var e,t=this.chart,i=(this.startAngle=t.primaryXAxis.startAngle,t.renderer.createGroup({id:t.element.id+"AxisCollection"})),o=t.renderer.createGroup({id:t.element.id+"AxisOutsideCollection"}),r=0,n=t.axisCollections.length;r<n;r++)this.element=t.renderer.createGroup({id:t.element.id+"AxisGroup"+r}),"Horizontal"===(e=t.axisCollections[r]).orientation?((0<e.majorGridLines.width||0<e.majorTickLines.width)&&this.drawXAxisGridLine(e,r),e.visible&&e.internalVisibility&&this.drawXAxisLabels(e,r)):(this.drawYAxisGridLine(e,r),0<e.lineStyle.width&&this.drawYAxisLine(e,r),e.visible&&e.internalVisibility&&this.drawYAxisLabels(e,r)),this.chart.enableCanvas||i.appendChild(this.element);return this.chart.enableCanvas||i.appendChild(this.element),q(t.enableCanvas,t.svgObject,i,t.redraw),o},el.prototype.drawYAxisLine=function(e,t){var i=this.chart,o=lo(so(e.visibleLabels[0].value,e),this.startAngle),o="M "+this.centerX+" "+this.centerY+"L "+(this.centerX+i.radius*o.x)+" "+(this.centerY+i.radius*o.y),t={id:i.element.id+"AxisLine_"+t,d:o,"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||i.themeStyle.axisLine},o=i.renderer.drawPath(t);this.setPointerEventNone(o),this.chart.enableCanvas||i.yAxisElements.appendChild(o)},el.prototype.drawYAxisLabels=function(e,t){for(var i,o,r,n,a=this.chart,l=this.startAngle<0?this.startAngle+360:this.startAngle,s=[],h=[],c=(h[0]=!0,e.labelIntersectAction),d=a.renderer.createGroup({id:a.element.id+"AxisLabels"+t}),p=lo(so(e.visibleLabels[0].value,e),this.startAngle),u=0,g=e.visibleLabels.length;u<g;u++){if(n=!1,a.radius,ro(e.visibleLabels[u].value,e),i=e.visibleLabels[u].size,r=a.radius*ro(e.visibleLabels[u].value,e),o=this.centerX+r*p.x+(e.majorTickLines.height+i.width/2+2.5)*Math.cos(l*Math.PI/180)*(("Inside"!==e.labelPosition||!a.enableRtl)&&("Inside"===e.labelPosition||"Outside"===e.labelPosition&&a.enableRtl)?1:-1),r=this.centerY+r*p.y+(e.majorTickLines.height+i.height/2)*Math.sin(l*Math.PI/180)*(("Inside"!==e.labelPosition||!a.enableRtl)&&("Inside"===e.labelPosition||"Outside"===e.labelPosition&&a.enableRtl)?1:-1),r+=i.height/4,s[u]=this.getLabelRegion(o,r,e.visibleLabels[u],"middle"),0!==u&&"Hide"===c){for(var m=u;0<=m;m--){if(h[m=0===m?0:m===u?m-1:m]&&Ko(s[u],s[m])){h[u]=!(n=!0);break}h[u]=!0}if(n)continue;for(var y=0,f=this.visibleAxisLabelRect;y<f.length;y++){var v=f[y];if(Ko(s[u],v)){n=!0;break}}}n||(this.visibleAxisLabelRect.push(s[u]),i=new $.TextOption(a.element.id+t+"_AxisLabel_"+u,o,r,"middle",e.visibleLabels[u].text),gr(a.renderer,i,e.labelStyle,e.labelStyle.color||a.themeStyle.axisLabelFont.color,d,!1,a.redraw,!0,!0,null,null,0,null,a.enableCanvas,null,a.themeStyle.axisLabelFont))}this.chart.enableCanvas||a.yAxisElements.appendChild(d)},el.prototype.drawYAxisGridLine=function(e,t){var i,o,r,n,a,l,s,h,c,d=this.chart,p="",u=this.startAngle<0?this.startAngle+360:this.startAngle,g={color:e.majorGridLines.color||d.themeStyle.majorGridLine,width:e.majorGridLines.width};if(0<e.majorGridLines.width)if("Polar"===d.visibleSeries[0].type){for(var m=0;m<e.visibleLabels.length;m++)s=(h=J(d.element.id+"_MajorGridLine_"+t+"_"+m))?h.getAttribute("r"):null,o=d.radius*ro(e.visibleLabels[m].value,e),e.isInversed&&!c&&(c=o),i=new kr(d.element.id+"_MajorGridLine_"+t+"_"+m,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,o),q(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new ee(+s,+s),null,!0);o===d.radius||e.isInversed&&c===d.radius||(i=new kr(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length+1,"transparent",g,e.majorGridLines.width,this.centerX,this.centerY,d.radius),q(d.enableCanvas,this.element,d.renderer.drawCircle(i),d.redraw,!0,"r","r",new ee(+s,+s),null,!0))}else{for(m=0;m<e.visibleLabels.length;m++)o=d.radius*ro(e.visibleLabels[m].value,e),p=this.renderRadarGrid(o,"",d),s=(h=J(d.element.id+"_MajorGridLine_"+t+"_"+m))?h.getAttribute("d"):null,i=new $.PathOption(d.element.id+"_MajorGridLine_"+t+"_"+m,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),q(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,s,!0);o!==d.radius&&(p=this.renderRadarGrid(d.radius,"",d),s=(h=J(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length))?h.getAttribute("d"):null,i=new $.PathOption(d.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length,"transparent",e.majorGridLines.width,e.majorGridLines.color||d.themeStyle.majorGridLine,null,null,p),q(d.enableCanvas,this.element,d.renderer.drawPath(i),d.redraw,!0,"x","y",null,s,!0))}if(0<e.majorTickLines.width)for(var y=lo(so(e.visibleLabels[0].value,e),this.startAngle),f=0;f<e.visibleLabels.length;f++)o=d.radius*ro(e.visibleLabels[f].value,e),r=this.centerX+o*y.x,n=this.centerY+o*y.y,a=r+e.majorTickLines.height*Math.cos(u*Math.PI/180)*(("Inside"!==e.tickPosition||!d.enableRtl)&&("Inside"===e.tickPosition||"Outside"===e.tickPosition&&d.enableRtl)?1:-1),l=n+e.majorTickLines.height*Math.sin(u*Math.PI/180)*(("Inside"!==e.tickPosition||!d.enableRtl)&&("Inside"===e.tickPosition||"Outside"===e.tickPosition&&d.enableRtl)?1:-1),this.renderTickLine(e,t,"M "+r+" "+n+" L "+a+" "+l,"",f)},el.prototype.renderRadarGrid=function(e,t,i){for(var o,r,n,a,l=0,s=i.primaryXAxis.visibleLabels.length;l<s;l++)r=lo(so(i.primaryXAxis.visibleLabels[l].value,i.primaryXAxis),this.startAngle),a=lo(so((l+1<s?i.primaryXAxis.visibleLabels[l+1]:i.primaryXAxis.visibleLabels[0]).value,i.primaryXAxis),this.startAngle),o=this.centerX+e*r.x,r=this.centerY+e*r.y,n=this.centerX+e*a.x,a=this.centerY+e*a.y,t=t.concat((l?"L ":"M ")+o+" "+r+" L "+n+" "+a+" ");return t},el.prototype.drawXAxisGridLine=function(e,t){for(var i=this.chart,o="",r="",n=this.centerX,a=this.centerY,l=e.visibleLabels.length,s=0;s<l;s++){var h,c=e.visibleLabels[s].value,d=lo(so(e.visibleLabels[s].value,e),this.startAngle),p="M "+n+" "+a+" L "+(u=this.centerX+i.radius*d.x)+" "+(h=this.centerY+i.radius*d.y),u="M "+u+" "+h+" L "+(u+e.majorTickLines.height*d.x*("Inside"===e.tickPosition?-1:1))+" "+(h+e.majorTickLines.height*d.y*("Inside"===e.tickPosition?-1:1));0<e.minorTicksPerInterval&&(0<e.minorGridLines.width||0<e.minorTickLines.width)&&"Category"!==e.valueType&&"Radar"!==i.visibleSeries[0].type&&(o=(h=this.drawAxisMinorLine(e,c,o,r))[0],r=h[1]),this.renderTickLine(e,t,u,r,s),this.renderGridLine(e,t,p,o,s)}},el.prototype.drawAxisMinorLine=function(e,t,i,o){for(var r,n,a,l,s=t,h=e.visibleRange,t=[],c=0;c<e.minorTicksPerInterval;c++)Ui(s+=("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)/(e.minorTicksPerInterval+1),h)&&(l=lo(so(s,e),this.startAngle),r=this.centerX+this.chart.radius*l.x,n=this.centerY+this.chart.radius*l.y,a=r+e.minorTickLines.height*l.x*("Inside"===e.tickPosition?-1:1),l=n+e.minorTickLines.height*l.y*("Inside"===e.tickPosition?-1:1),i=i.concat("M "+this.centerX+" "+this.centerY+"L "+r+" "+n),o=o.concat("M "+r+" "+n+"L "+a+" "+l));return t.push(i),t.push(o),t},el.prototype.drawXAxisLabels=function(e,t){this.visibleAxisLabelRect=[],this.chart.legendModule&&(i=this.chart.legendModule.legendBounds);for(var i,o,r,n,a,l,s=this.chart,h=0,c=0,d=s.renderer.createGroup({id:s.element.id+"AxisLabels"+t}),p="Inside"===e.labelPosition,u="",g=[],m=[],y=(m[0]=!0,e.labelIntersectAction),f="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,v=s.radius+e.majorTickLines.height,v=p?-v:v,b=0,x=e.visibleLabels.length;b<x;b++){if(l=!1,a=lo(so(e.visibleLabels[b].value+f,e),this.startAngle),isNaN(a.x)||isNaN(a.y)||(h=this.centerX+(v+e.majorTickLines.height+5)*a.x,c=this.centerY+(v+e.majorTickLines.height+5)*a.y,u=parseFloat(h.toFixed(1))===parseFloat(this.centerX.toFixed(1))?"middle":h<this.centerX&&!p||h>this.centerX&&p?"end":"start"),o=(n=e.visibleLabels[b]).text,e.enableTrim||"Trim"===y)for(var S,C,w=e.visibleLabels[b].originalText,F=e.labelPosition,L=s.availableSize.width,P=w.length,A=P-1;0<=A;--A)if(S=w.substring(0,A)+"...",C=$.measureText(S,e.labelStyle,this.chart.themeStyle.axisLabelFont).width,h===L/2?0<=h-C/2&&h+C/2<=L:"Outside"===F&&(L/2<=h&&h+C<=L||h<=L/2&&0<=h-C)||"Inside"===F&&(h+C<=L/2||L/2<=h-C)){n.size.width=$.measureText(o=A===P-1?w:S,e.labelStyle,this.chart.themeStyle.axisLabelFont).width,n.text=o;break}if(g[b]=this.getLabelRegion(h,c,n,u),0===b?r=h:b===e.visibleLabels.length-1&&"Category"!==e.valueType&&(a=$.measureText(o,e.labelStyle,this.chart.themeStyle.axisLabelFont).height,o=r<(a+=h)?"":o),0!==b&&"Hide"===y)for(var M=b;0<=M;M--){if(m[M=0===M?0:M===b?M-1:M]&&Ko(g[b],g[M])){m[b]=!(l=!0);break}m[b]=!0}!l&&i&&(l=Ko(g[b],i))&&0<(a=this.getAvailableSpaceToTrim(i,g[b]))&&(o=hr(a,e.visibleLabels[b].originalText,e.labelStyle,this.chart.enableRtl,this.chart.themeStyle.axisLabelFont),l=!1),a=new $.TextOption(s.element.id+t+"_AxisLabel_"+b,h,c,s.enableRtl?"end"===u?"start":"start"===u?"end":u:u,o,"","central"),l||(this.visibleAxisLabelRect.push(g[b]),gr(s.renderer,a,n.labelStyle,n.labelStyle.color||s.themeStyle.axisLabelFont.color,d,!1,s.redraw,!0,!0,null,null,0,null,s.enableCanvas,null,s.themeStyle.axisLabelFont))}this.chart.enableCanvas||this.element.appendChild(d)},el.prototype.getAvailableSpaceToTrim=function(e,t){var i=e.x,e=i+e.width,o=t.x,t=o+t.width,r=0;return i<o&&o<e&&e<t?r=t-e:i<o&&o<e&&t<e?r=0:(i<t&&t<e&&o<i||i<t&&e<t&&o<i)&&(r=i-o),r},el.prototype.getLabelRegion=function(e,t,i,o){return"middle"===o?e-=i.size.width/2:"end"===o&&(e-=i.size.width),t-=i.size.height/2,new $.Rect(e,t,i.size.width,i.size.height)},el.prototype.renderTickLine=function(e,t,i,o,r){var n,a,l,s=this.chart;0<e.majorTickLines.width&&(a=(l=J(s.element.id+"_MajorTickLine_"+t+"_"+r))?l.getAttribute("d"):null,n=new $.PathOption(s.element.id+"_MajorTickLine_"+t+"_"+r,"transparent",e.majorTickLines.width,e.majorTickLines.color||s.themeStyle.majorTickLine,null,null,i),l=s.renderer.drawPath(n),this.setPointerEventNone(l),q(s.enableCanvas,s.yAxisElements,l,s.redraw,!0,"x","y",null,a)),0<e.minorTickLines.width&&(a=(l=J(s.element.id+"_MinorTickLine_"+t+"_"+r))?l.getAttribute("d"):null,n=new $.PathOption(s.element.id+"_MinorTickLine_"+t+"_"+r,"transparent",e.minorTickLines.width,e.minorTickLines.color||s.themeStyle.minorTickLine,null,null,o),l=s.renderer.drawPath(n),this.setPointerEventNone(l),q(s.enableCanvas,s.yAxisElements,l,s.redraw,!0,"x","y",null,a))},el.prototype.renderGridLine=function(e,t,i,o,r){var n,a,l,s=this.chart;0<e.majorGridLines.width&&(a=(l=J(s.element.id+"_MajorGridLine_"+t+"_"+r))?l.getAttribute("d"):null,n=new $.PathOption(s.element.id+"_MajorGridLine_"+t+"_"+r,"transparent",e.majorGridLines.width,e.majorGridLines.color||s.themeStyle.majorGridLine,null,e.majorGridLines.dashArray,i),q(s.enableCanvas,this.element,s.renderer.drawPath(n),s.redraw,!0,"x","y",null,a)),0<e.minorGridLines.width&&(a=(l=J(s.element.id+"_MinorGridLine_"+t+"_"+r))?l.getAttribute("d"):null,n=new $.PathOption(s.element.id+"_MinorGridLine_"+t+"_"+r,"transparent",e.minorGridLines.width,e.minorGridLines.color||s.themeStyle.minorGridLine,null,e.minorGridLines.dashArray,o),q(s.enableCanvas,this.element,s.renderer.drawPath(n),s.redraw,!0,"x","y",null,a))},el.prototype.setPointerEventNone=function(e){e&&(e.style.pointerEvents="none")};var Ka,$a,Ja=el;function el(){var e=null!==$a&&$a.apply(this,arguments)||this;return e.visibleAxisLabelRect=[],e}tl=function(e,t){return(tl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}tl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ol,il=Ja),ol.prototype.render=function(e,t,i,o){for(var r=bo(e.drawType),n=i.minimum,a=i.maximum,l=0,s=e.points;l<s.length;l++){var h=s[l];h.visible=h.visible&&!(!K.isNullOrUndefined(n)&&h.yValue<n||!K.isNullOrUndefined(a)&&h.yValue>a)}e.points.length&&(-1<e.drawType.indexOf("Column")?this.columnDrawTypeRender(e,t,i):e.chart[r+"SeriesModule"].render(e,t,i,o))},ol.prototype.columnDrawTypeRender=function(e,t,i){for(var o,r,n,a,l,s,h,c,d,p,u,g,m,y,f,v,b,x,S=t.actualRange.min,C=e.clipRect.width/2+e.clipRect.x,w=e.clipRect.height/2+e.clipRect.y,F="RangeColumn"===e.drawType,L="Polar"===e.type,P="Logarithmic"===i.valueType,A="StackingColumn"===e.drawType,M="",D=0,k=(e.points[1]?e.points[1].xValue:2*e.points[0].xValue)-e.points[0].xValue,R=t.isAxisInverse,O="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?0:R?-k/2:k/2,T="DateTime"===t.valueType?t.dateTimeInterval:1,z=(this.getSeriesPosition(e),R?e.rectCount-1-e.position:e.position);D+=T,(S+=T)<=t.actualRange.max-("Category"===t.valueType?0:1););for(var _=0,E=e.points;_<E.length;_++){var I=E[_];I.symbolLocations=[],I.regions=[],I.visible&&Yi(e.points[I.index-1],I,e.points[I.index+1],e)&&(n=(R?t.visibleRange.max-I.xValue:I.xValue-t.visibleRange.min)+(k/e.rectCount*z-O)+D/360*t.startAngle,n/=D,o=2*Math.PI*(n+t.startAngle),r=2*Math.PI*(n+t.startAngle+k/e.rectCount/D),x=0==o&&0===r?(r=2*Math.PI,"1"):"0",s=r,o=(l=o)-.5*Math.PI+e.columnSpacing/2,r=r-.5*Math.PI-1e-6-e.columnSpacing/2,g=A||F?(u=F?I.low:e.stackedValues.startValues[I.index],g=F?I.high:e.stackedValues.endValues[I.index],(g=P?ji(0===g?1:g,i.logBase):g)>i.actualRange.max?i.actualRange.max:g):(u=i.visibleRange.min,I.yValue>i.actualRange.max?i.actualRange.max:I.yValue),h=C+(a=u===g?0:e.chart.radius*ro(g,i))*Math.cos(o),c=C+a*Math.cos(r),d=w+a*Math.sin(o),p=w+a*Math.sin(r),y=C+(m=e.chart.radius*ro(0===u&&0!==i.visibleRange.min?i.visibleRange.min:u,i))*Math.cos(o),f=w+m*Math.sin(o),v=C+m*Math.cos(r),b=w+m*Math.sin(r),M=L?"M "+h+" "+d+" A "+a+" "+a+" 0 "+x+" 1 "+c+" "+p+" L "+v+" "+b+" A "+m+" "+m+" 1 0 0 "+y+" "+f+" Z":"M "+h+" "+d+" L "+c+" "+p+" L "+v+" "+b+" L "+y+" "+f+" Z",I.regionData=new co(l,s,m,a,n),x=this.triggerEvent(e.chart,e,I),l=new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+I.index,x.fill,x.border.width,x.border.color,e.opacity,e.dashArray,M),x.cancel||(this.appendLinePath(l,e,""),L?(I.symbolLocations.push({x:C+a*Math.cos(o+(r-o)/2),y:w+a*Math.sin(o+(r-o)/2)}),F&&I.symbolLocations.push({x:C+m*Math.cos(o+(r-o)/2),y:w+m*Math.sin(o+(r-o)/2)})):(I.symbolLocations.push({x:(h+c)/2,y:(d+p)/2}),F&&I.symbolLocations.push({x:(v+y)/2,y:(b+f)/2}))))}this.renderMarker(e),e.isRectSeries=!0},ol.prototype.triggerEvent=function(e,t,i){t={cancel:!1,name:lt,series:t,point:i,fill:t.setPointColor(i,t.interior),border:t.setBorderColor(i,{width:t.border.width,color:t.border.color})};return e.trigger(lt,t),i.color=t.fill,t},ol.prototype.getSeriesPosition=function(e){for(var t=[],i=[],o={rectCount:0,position:null},r=0,n=e.chart.visibleSeries;r<n.length;r++){var a=n[r];!a.visible||"Polar"!==a.type&&"Radar"!==a.type||-1===a.drawType.indexOf("Column")||t.push(a)}for(var l=0;l<t.length;l++){var s=t[l];-1!==s.drawType.indexOf("Stacking")?s.stackingGroup?void 0===i[s.stackingGroup]?(s.position=o.rectCount,i[s.stackingGroup]=o.rectCount++):s.position=i[s.stackingGroup]:null===o.position?(s.position=o.rectCount,o.position=o.rectCount++):s.position=o.position:s.position=o.rectCount++}for(l=0;l<t.length;l++)t[l].rectCount=o.rectCount},ol.prototype.doAnimation=function(e){var t=e.animation.duration,i=e.animation.delay,o=e.seriesElement.childNodes,r=1;if("Scatter"===e.drawType)for(var n=0,a=e.points;n<a.length;n++){var l=a[n];l.symbolLocations.length&&o[r]&&(Fo(o[r],i,t,e,l.index,l.symbolLocations[0],!1),r++)}else for(r=1;r<o.length;r++)this.doPolarRadarAnimation(o[r],i,t,e)},ol.prototype.doPolarRadarAnimation=function(t,e,i,o){var r,n=o.clipRect.width/2+o.clipRect.x,a=o.clipRect.height/2+o.clipRect.y;t.style.visibility="hidden",new K.Animation({}).animate(t,{duration:i,delay:e,progress:function(e){e.timeStamp>e.delay&&(e.element.style.visibility="visible",r=(e.timeStamp-e.delay)/e.duration,t.setAttribute("transform","translate("+n+" "+a+") scale("+r+") translate("+-n+" "+-a+")"))},end:function(){t.style.visibility="visible",t.removeAttribute("transform"),o.chart.trigger("animationComplete",{series:o.chart.isBlazor?{}:o})}})},ol.prototype.getPolarIsInversedPath=function(e,t){var i=this.chart.radius,o=e.isAxisInverse?"1 1 ":"1 0 ",e=lo(so(e.visibleLabels[0].value,e),this.startAngle),r=this.centerX+i*e.x,e=this.centerY+i*e.y;return t+("L "+r+" "+e+" A "+i+" "+i+" 0 "+o+r+" "+(this.centerY+i))+" A "+i+" "+i+" 0 "+o+r+" "+e+" "},ol.prototype.getModuleName=function(){return"PolarSeries"},ol.prototype.destroy=function(){};var tl,il,Ja=ol;function ol(){return null!==il&&il.apply(this,arguments)||this}rl=function(e,t){return(rl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}rl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ll,nl=Ja),ll.prototype.render=function(e,t,i,o){for(var r=bo(e.drawType),n=i.minimum,a=i.maximum,l=0,s=e.points;l<s.length;l++){var h=s[l];h.visible=h.visible&&!(!K.isNullOrUndefined(n)&&h.yValue<n||!K.isNullOrUndefined(a)&&h.yValue>a)}e.points.length&&(-1===e.drawType.indexOf("Column")?e.chart[r+"SeriesModule"].render(e,t,i,o):this.columnDrawTypeRender(e,t,i))},ll.prototype.getRadarIsInversedPath=function(e,t){var i=this.chart.radius,o=e.visibleLabels.length,r=t,n=lo(so(e.visibleLabels[0].value,e),this.startAngle),a=this.centerY+i*n.y,t=this.centerX+i*n.x;if(!isNaN(t)&&!isNaN(a)){r+=" L "+t+" "+a+" ";for(var l=o-1;0<=l;l--)n=lo(so(e.visibleLabels[l].value,e),this.startAngle),a=this.centerY+i*n.y,r+="L "+(this.centerX+i*n.x)+" "+a+" "}return r},ll.prototype.getModuleName=function(){return"RadarSeries"},ll.prototype.destroy=function(){};var rl,nl,al=ll;function ll(){return null!==nl&&nl.apply(this,arguments)||this}sl=function(e,t){return(sl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}sl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(dl,hl=_a),dl.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=e.stackedValues,i=0,o=e.points;i<o.length;i++){var r=o[i];this.renderPoint(e,r,this.sideBySideInfo[e.index],t)}e.visible&&this.renderMarker(e)},dl.prototype.renderPoint=function(e,t,i,o){if(t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)){var r=void 0,n=void 0;if(!e.visible&&e.isLegendClicked){for(var a=e.index;0<=a;a--)if(e.chart.visibleSeries[a].visible){r=e.chart.visibleSeries[a].index;break}n=(0<e.index&&void 0!==r?e.chart.visibleSeries[r].stackedValues.endValues:e.stackedValues.startValues)[t.index]}this.rect=this.getRectangle(t.xValue+i.start,!e.visible&&e.isLegendClicked?n:o.endValues[t.index],t.xValue+i.end,!e.visible&&e.isLegendClicked?n:o.startValues[t.index],e),this.rect.height=e.columnWidthInPixel||this.rect.height,this.rect.y=e.columnWidthInPixel?this.rect.y-e.columnWidthInPixel/2:this.rect.y;i=this.triggerEvent(e,t,e.interior,{width:e.visible?e.border.width:0,color:e.visible?e.border.color:""});i.cancel||(this.drawRectangle(e,t,this.rect,i),this.updateSymbolLocation(t,this.rect,e),"Cylinder"===e.columnFacet&&(n={isColumn:!1,stacking:"StackingBar100"===e.type,isLastSeries:!0},this.drawCylinder(this.options,this.element,n,this.rect,e)))}},dl.prototype.updateDirection=function(e,t){for(var i=[],o=0;o<e.yAxis.series.length;o++){var r=e.yAxis.series[o];r.stackingGroup===e.stackingGroup&&i.push(r)}for(var n=0;n<i.length;n++)for(o=0;o<t.length;o++)if(this.renderPoint(i[n],i[n].points[t[o]],this.sideBySideInfo[e.index],i[n].stackedValues),e.marker&&e.marker.visible&&i[n].chart.markerRender.renderMarker(i[n],i[n].points[t[o]],i[n].points[t[o]].symbolLocations[0],null,!0),i[n].marker.dataLabel.visible&&i[n].chart.dataLabelModule){i[n].chart.dataLabelModule.commonId=i[n].chart.element.id+"_Series_"+i[n].index+"_Point_";for(var a=i[n].chart.dataLabelModule.renderDataLabel(i[n],i[n].points[t[o]],null,i[n].marker.dataLabel),l=0;l<a.length;l++)e.chart.dataLabelModule.doDataLabelAnimation(e,a[l])}},dl.prototype.destroy=function(){},dl.prototype.getModuleName=function(){return"StackingBarSeries"},dl.prototype.doAnimation=function(e){this.animate(e)};var sl,hl,cl=dl;function dl(){var e=null!==hl&&hl.apply(this,arguments)||this;return e.sideBySideInfo=[],e}pl=function(e,t){return(pl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}pl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ml,ul=_a),ml.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=Math.max(e.border.width,1),i=0,o=e.points;i<o.length;i++){var r=o[i];this.renderPoint(e,r,this.sideBySideInfo[e.index],t)}},ml.prototype.renderPoint=function(e,t,i,o){var r,n="";t.regions=[],t.symbolLocations=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(r=this.getRectangle(t.xValue+i.median,Math.max(t.high,t.low),t.xValue+i.median,Math.min(t.high,t.low),e),e.chart.requireInvertedAxis?(r.y-=o/2,r.height=o):(r.x-=o/2,r.width=o),o=this.getRectangle(t.xValue+i.start,Math.max(t.open,t.close),t.xValue+i.end,Math.min(t.open,t.close),e),n=this.getPathString(r,o,e),(i=this.triggerPointRenderEvent(e,t)).cancel||(this.drawCandle(e,t,o,i,n),this.updateSymbolLocation(t,r,e),this.updateSymbolLocation(t,o,e)))},ml.prototype.updateDirection=function(e,t){for(var i=Math.max(e.border.width,1),o=0;o<t.length;o++)if(this.renderPoint(e,e.points[t[o]],this.sideBySideInfo[e.index],i),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var r=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[o]],null,e.marker.dataLabel),n=0;n<r.length;n++)e.chart.dataLabelModule.doDataLabelAnimation(e,r[n])}},ml.prototype.triggerPointRenderEvent=function(e,t){var i=this.getCandleColor(t,e),o={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,o)},ml.prototype.getCandleColor=function(e,t){var i=t.points[e.index-1];return!1===t.enableSolidCandles?i&&i.close>e.close?t.bullFillColor||t.chart.themeStyle.bullFillColor:t.bearFillColor||t.chart.themeStyle.bearFillColor:e.open>e.close?t.bullFillColor||t.chart.themeStyle.bullFillColor:t.bearFillColor||t.chart.themeStyle.bearFillColor},ml.prototype.getPathString=function(e,t,i){var o="",r=i.chart.requireInvertedAxis?e.y+e.height/2:e.x+e.width/2,o=(o+=i.chart.requireInvertedAxis?"M "+e.x+" "+r+" L "+t.x+" "+r:"M "+r+" "+e.y+" L "+r+" "+t.y).concat(" M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y+" L "+(t.x+t.width)+" "+(t.y+t.height)+" L "+t.x+" "+(t.y+t.height)+" Z");return o+=i.chart.requireInvertedAxis?" M "+(t.x+t.width)+" "+r+" L "+(e.x+e.width)+" "+r:" M "+r+" "+(t.y+t.height)+" L "+r+" "+(e.y+e.height)},ml.prototype.drawCandle=function(e,t,i,o,r){if((e.chart.requireInvertedAxis?i.height:i.width)<=0)return null;var i=e.enableSolidCandles||t.open>t.close?o.fill:"transparent",i=(o.border.color=o.fill,new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index?t.index+1:t.index),i,o.border.width,o.border.color,e.opacity,e.dashArray,r)),o=J(i.id),n=o?o.getAttribute("d"):null,i=e.chart.renderer.drawPath(i,new Int32Array([e.clipRect.x,e.clipRect.y]));null!==e.removedPointIndex&&e.removedPointIndex<=t.index&&(i.id=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index),i.setAttribute("role","img"),i.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(i),Po(o,r,e.chart.redraw,n,e.chart.duration)},ml.prototype.doAnimation=function(e){this.animate(e)},ml.prototype.getModuleName=function(){return"CandleSeries"},ml.prototype.destroy=function(){};var pl,ul,gl=ml;function ml(){var e=null!==ul&&ul.apply(this,arguments)||this;return e.sideBySideInfo=[],e}yl=function(e,t){return(yl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}yl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(bl,fl=_a),bl.prototype.render=function(e){e.isRectSeries=!0,this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=e.stackedValues,i=Vi(e),o=0,r=i;o<r.length;o++){var n=r[o];this.renderPoint(e,n,this.sideBySideInfo[e.index],t,i)}e.visible&&this.renderMarker(e)},bl.prototype.renderPoint=function(e,t,i,o,r){if(t.symbolLocations=[],t.regions=[],t.visible&&Yi(r[t.index-1],t,r[t.index+1],e)){var n=void 0,r=void 0;if(!e.visible&&e.isLegendClicked){for(var a=e.index;0<=a;a--)if(e.chart.visibleSeries[a].visible){n=e.chart.visibleSeries[a].index;break}r=(0<e.index&&void 0!==n?e.chart.visibleSeries[n].stackedValues.endValues:e.stackedValues.startValues)[t.index]}this.rect=this.getRectangle(t.xValue+i.start,!e.visible&&e.isLegendClicked?r:o.endValues[t.index],t.xValue+i.end,!e.visible&&e.isLegendClicked?r:o.startValues[t.index],e),this.rect.width=e.columnWidthInPixel||this.rect.width,this.rect.x=e.columnWidthInPixel?this.rect.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.position):this.rect.x;i=this.triggerEvent(e,t,e.interior,{width:e.visible?e.border.width:0,color:e.visible?e.border.color:""});i.cancel||(this.drawRectangle(e,t,this.rect,i),this.updateSymbolLocation(t,this.rect,e),"Cylinder"===e.columnFacet&&(r={isColumn:!0,stacking:"StackingColumn100"===e.type,isLastSeries:!0},this.drawCylinder(this.options,this.element,r,this.rect,e)))}},bl.prototype.updateDirection=function(e,t){for(var i=[],o=0;o<e.xAxis.series.length;o++){var r=e.xAxis.series[o];r.stackingGroup===e.stackingGroup&&i.push(r)}for(var n=0;n<i.length;n++)for(var a=Vi(i[n]),o=0;o<t.length;o++)if(this.renderPoint(i[n],i[n].points[t[o]],this.sideBySideInfo[e.index],i[n].stackedValues,a),e.marker&&e.marker.visible&&i[n].chart.markerRender.renderMarker(i[n],i[n].points[t[o]],i[n].points[t[o]].symbolLocations[0],null,!0),i[n].marker.dataLabel.visible&&i[n].chart.dataLabelModule){i[n].chart.dataLabelModule.commonId=i[n].chart.element.id+"_Series_"+i[n].index+"_Point_";for(var l=i[n].chart.dataLabelModule.renderDataLabel(i[n],i[n].points[t[o]],null,i[n].marker.dataLabel),s=0;s<l.length;s++)e.chart.dataLabelModule.doDataLabelAnimation(e,l[s])}},bl.prototype.doAnimation=function(e){this.animate(e)},bl.prototype.destroy=function(){},bl.prototype.getModuleName=function(){return"StackingColumnSeries"};var yl,fl,vl=bl;function bl(){var e=null!==fl&&fl.apply(this,arguments)||this;return e.sideBySideInfo=[],e}xl=function(e,t){return(xl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}xl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(wl,Sl=Aa),wl.prototype.render=function(e,t,i,o,r,n){for(var a,l,s="",h="M",c=null,d=this.enableComplexProperty(e),p="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0,u=0,g=d;u<g.length;u++){var m=g[u];m.symbolLocations=[],m.regions=[],m.visible&&Yi(d[m.index-1],m,d[m.index+1],e)?("M"!==h||d[m.index+1]&&d[m.index+1].visible||(s=""),h=(s=null!=c?(l=A(m.xValue,m.yValue,t,i,o),a=A(c.xValue,c.yValue,t,i,o),s.concat(h+" "+a.x+" "+a.y+this.GetStepLineDirection(l,a,e.step))):(a=A(m.xValue-p,m.yValue,t,i,o),s.concat(h+" "+a.x+" "+a.y+" ")),"L"),this.storePointLocation(m,e,o,A),""===s&&(s="M "+m.symbolLocations[0].x+" "+m.symbolLocations[0].y),c=m):(c="Drop"===e.emptyPointSettings.mode?c:null,h="Drop"===e.emptyPointSettings.mode?h:"M")}0<d.length&&(a=A(d[d.length-1].xValue+p,d[d.length-1].yValue,t,i,o),s=s.concat(h+" "+a.x+" "+a.y+" "));var y=new $.PathOption(e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,s);this[r?"addPath":"appendLinePath"](y,e,""),n||this.renderMarker(e)},wl.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},wl.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},wl.prototype.destroy=function(){},wl.prototype.getModuleName=function(){return"StepLineSeries"};var xl,Sl,Cl=wl;function wl(){return null!==Sl&&Sl.apply(this,arguments)||this}Fl=function(e,t){return(Fl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Fl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Al,Ll=Aa),Al.prototype.render=function(e,t,i,o,r,n){for(var a,l,s,h,c=null,d="",p=this.enableComplexProperty(e),u=p.length,g=Math.max(e.yAxis.visibleRange.min,0),m=null,y="",f="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0,v=0;v<u;v++)h=(s=p[v]).xValue,s.symbolLocations=[],s.regions=[],s.visible&&Yi(p[v-1],s,p[v+1],e)&&(null===c&&(c=new ee(h,0),d=(d+="M "+(a=A(h-f,g,t,i,o)).x+" "+a.y+" ")+"L "+(a=A(h-f,s.yValue,t,i,o)).x+" "+a.y+" "),null!=m?(a=A(s.xValue,s.yValue,t,i,o),l=A(m.xValue,m.yValue,t,i,o),d=d.concat(this.GetStepLineDirection(a,l,e.step))):"Gap"===e.emptyPointSettings.mode&&(d+="L "+(a=A(s.xValue,s.yValue,t,i,o)).x+" "+a.y+" "),this.storePointLocation(s,e,o,A),m=s),p[v+1]&&!p[v+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(d+="L "+(a=A(h+f,g,t,i,o)).x+" "+a.y,m=c=null);var d=1<u&&""!==d?(d+="L "+(l=A((c={x:p[u-1].xValue+f,y:p[u-1].yValue}).x,c.y,t,i,o)).x+" "+l.y+" ")+"L "+(l=A((c={x:p[u-1].xValue+f,y:g}).x,c.y,t,i,o)).x+" "+l.y+" ":"",b=new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,d);this[r?"addAreaPath":"appendLinePath"](b,e,""),0!==e.border.width&&(y=this.removeEmptyPointsBorder(this.getBorderDirection(d)),b=new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",e.border.width,e.border.color||e.interior,1,e.dashArray,y),this[r?"addAreaPath":"appendLinePath"](b,e,"")),n||this.renderMarker(e)},Al.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Al.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},Al.prototype.destroy=function(){},Al.prototype.getModuleName=function(){return"StepAreaSeries"};var Fl,Ll,Pl=Al;function Al(){return null!==Ll&&Ll.apply(this,arguments)||this}Ml=function(e,t){return(Ml=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ml(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Rl,Dl=Aa),Rl.prototype.render=function(e,t,i,o,r,n){for(var a,l,s="PolarRadar"===e.chart.chartAreaType,h=s?no:A,c="",d=this.enableComplexProperty(e),p=d.length,u=e.stackedValues,g=s?Math.max(e.yAxis.visibleRange.min,u.endValues[0]):Math.max(e.yAxis.visibleRange.min,u.startValues[0]),m=0,y="",f=(0<p&&(x=h(d[0].xValue,g,t,i,o,e),c=c.concat("M "+x.x+" "+x.y+" ")),e.chart&&"PolarRadar"===e.chart.chartAreaType),v=e.index;0<=v;v--)if(e.chart.visibleSeries[v].visible){l=e.chart.visibleSeries[v].index;break}for(v=0;v<p;v++)if(w=d[v].index,d[v].symbolLocations=[],d[v].regions=[],d[v].visible&&Yi(d[v-1],d[v],d[v+1],e)){var b=(0<e.index&&void 0!==l?this.chart.visibleSeries[l].stackedValues.endValues:u.startValues)[w],x=h(d[v].xValue,!e.visible&&e.isLegendClicked?b:u.endValues[w],t,i,o,e),c=c.concat("L "+x.x+" "+x.y+" ");d[v].symbolLocations.push(h(d[v].xValue,u.endValues[w],t,i,o,e)),d[v].regions.push(new $.Rect(d[v].symbolLocations[0].x-e.marker.width,d[v].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))}else if(!f&&"Drop"!==e.emptyPointSettings.mode){for(var S=v-1;m<=S;S--)w=d[S].index,a=h(d[S].xValue,u.startValues[w],t,i,o,e),c=c.concat("L "+a.x+" "+a.y+" ");d[v+1]&&d[v+1].visible&&(!f||this.withinYRange(d[v+1],i))&&(b=d[v+1].index,x=h(d[v+1].xValue,u.startValues[b],t,i,o,e),c=c.concat("M "+x.x+" "+x.y+" ")),m=v+1}if("PolarRadar"===e.chart.chartAreaType&&1<d.length&&(g=this.getFirstLastVisiblePoint(e.points),F=this.chart,c+="L "+(a=h((x={x:g.first.xValue,y:u.endValues[g.first.index]}).x,x.y,t,i,o,e)).x+" "+a.y+" ",1===this.chart.visible)&&(t.isAxisInverse||i.isAxisInverse)&&(this.chart.enableAnimation=!1,c="Polar"===e.type?F.polarSeriesModule.getPolarIsInversedPath(t,c):F.radarSeriesModule.getRadarIsInversedPath(t,c)),!f||e.index!==this.getFirstSeriesIndex(e.chart.visibleSeries))for(S=p-1;m<=S;S--){var C,w=d[S].index;f&&!d[S].visible||"Drop"===(C=this.getPreviousSeries(e)).emptyPointSettings.mode&&C.points[S].isEmpty||(a=h(d[S].xValue,(!e.visible&&e.isLegendClicked&&0<e.index&&void 0!==l?this.chart.visibleSeries[l].stackedValues.endValues:u.startValues)[w],t,i,o,e),u.startValues[w]===u.endValues[w]&&(a.y=Math.floor(a.y)),c=c.concat((S===p-1&&s?"M":"L")+" "+a.x+" "+a.y+" "))}var F,g=new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,c);this[r?"addAreaPath":"appendLinePath"](g,e,""),0!==e.border.width&&e.visible&&(y=this.removeEmptyPointsBorder(this.getBorderDirection(c)),F=new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",e.visible?e.border.width:0,e.border.color||e.interior,1,e.dashArray,y),this[r?"addAreaPath":"appendLinePath"](F,e,"")),!n&&e.visible&&this.renderMarker(e)},Rl.prototype.updateDirection=function(e,t){for(var i=0;i<e.xAxis.series.length;i++){var o=e.xAxis.series[i];this.render(o,o.xAxis,o.yAxis,o.chart.requireInvertedAxis,!1,!0);for(var r=0;r<t.length;r++)if(o.marker&&o.marker.visible&&o.chart.markerRender.renderMarker(o,o.points[t[r]],o.points[t[r]].symbolLocations[0],null,!0),o.marker.dataLabel.visible&&o.chart.dataLabelModule){o.chart.dataLabelModule.commonId=o.chart.element.id+"_Series_"+o.index+"_Point_";for(var n=o.chart.dataLabelModule.renderDataLabel(o,o.points[t[r]],null,o.marker.dataLabel),a=0;a<n.length;a++)o.chart.dataLabelModule.doDataLabelAnimation(o,n[a])}}},Rl.prototype.addAreaPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=o.length;l<r.length;l++)r.length!==o.length&&o.splice((o.length+1)/2,0,o.slice((o.length-1)/2)[0],o.slice((o.length-1)/2)[1]);Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(r.splice(1,0,r[1]),r.splice(r.length-1,0,r[r.length-1]));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Rl.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},Rl.prototype.destroy=function(){},Rl.prototype.getModuleName=function(){return"StackingAreaSeries"},Rl.prototype.getPreviousSeries=function(e){for(var t=e.chart.visibleSeries,i=0,o=t.length;i<o;i++)if(e.index===t[i].index&&0!==i)return t[i-1];return t[0]},Rl.prototype.getFirstSeriesIndex=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o.visible)return o.index}return 0};var Ml,Dl,kl=Rl;function Rl(){return null!==Dl&&Dl.apply(this,arguments)||this}Tl=function(e,t){return(Tl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Tl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Il,_l=Aa),Il.prototype.render=function(e,t,i,o,r,n){for(var a,l,s,h,c,d,p,u=null,g="",m="",y=e.stackedValues,f=this.enableComplexProperty(e),v=Math.max(e.yAxis.visibleRange.min,y.startValues[0]),b=f.length,x=null,S=0,C="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0,w=0;w<b;w++)if(d=(h=f[w]).xValue,h.symbolLocations=[],h.regions=[],p=h.index,h.visible&&Yi(f[w-1],h,f[w+1],e)&&(null===u&&(u=new ee(d,0),g=(g+="M "+(a=A(d-C,v,t,i,o)).x+" "+a.y+" ")+"L "+(a=A(d-C,y.endValues[p],t,i,o)).x+" "+a.y+" ",m+="M "+a.x+" "+a.y+" "),null!=x?(a=A(h.xValue,y.endValues[p],t,i,o),l=A(x.xValue,y.endValues[x.index],t,i,o),g+=this.GetStepLineDirection(a,l,e.step),m+=this.GetStepLineDirection(a,l,e.step)):"Gap"===e.emptyPointSettings.mode&&(g+="L "+(a=A(h.xValue,y.endValues[p],t,i,o)).x+" "+a.y+" ",m+="L "+a.x+" "+a.y+" "),f[w].symbolLocations.push(A(f[w].xValue,y.endValues[p],t,i,o)),f[w].regions.push(new $.Rect(f[w].symbolLocations[0].x-e.marker.width,f[w].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height)),x=h),f[w+1]&&!f[w+1].visible&&null!==u&&"Drop"!==e.emptyPointSettings.mode){for(var F,L=w;S<=L;L--)p=f[L].index,F=0===L?0:f[L-1].index,a=A(f[p].xValue,y.startValues[p],t,i,o),l=0!==L&&(y.startValues[p]<y.startValues[F]||y.startValues[p]>y.startValues[F])?(g=g.concat("L "+a.x+" "+a.y+" "),A(f[F].xValue,y.startValues[F],t,i,o)):A(f[p].xValue,y.startValues[p],t,i,o),f[F].visible&&(g=g.concat(this.GetStepLineDirection(l,a,this.prevStep)));S=w+2,x=u=null}if(""!==g){1<b&&(p=f[b-1].index,g+="L "+(l=A((u={x:f[b-1].xValue+C,y:y.endValues[p]}).x,u.y,t,i,o)).x+" "+l.y+" ",m+="L "+l.x+" "+l.y+" ",g+="L "+(l=A((u={x:f[b-1].xValue+C,y:y.startValues[p]}).x,u.y,t,i,o)).x+" "+l.y+" ");for(L=b-1;S<=L;L--){var P=void 0;f[L].visible&&(p=f[L].index,c=A(f[L].xValue,y.startValues[p],t,i,o),g=g.concat("L "+c.x+" "+c.y+" ")),0===L||f[L-1].visible||(P=this.getNextVisiblePointIndex(f,L)),0!==L&&(p=(P?f[P]:f[L-1]).index,P=A(f[P||L-1].xValue,y.startValues[p],t,i,o),0!==L&&!f[L-1].visible||(g=g.concat(this.GetStepLineDirection(P,c,this.prevStep))))}this.prevStep="Right"===e.step?"Left":"Left"===e.step?"Right":e.step,s=new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,g),this[r?"addPath":"appendLinePath"](s,e,""),0!==e.border.width&&(s=new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",e.border.width,e.border.color||e.interior,1,e.dashArray,m),this[r?"addPath":"appendLinePath"](s,e,"")),n||this.renderMarker(e)}},Il.prototype.updateDirection=function(e,t){for(var i=0;i<e.xAxis.series.length;i++){var o=e.xAxis.series[i];this.render(o,o.xAxis,o.yAxis,o.chart.requireInvertedAxis,!1,!0);for(var r=0;r<t.length;r++)if(o.marker&&o.marker.visible&&o.chart.markerRender.renderMarker(o,o.points[t[r]],o.points[t[r]].symbolLocations[0],null,!0),o.marker.dataLabel.visible&&o.chart.dataLabelModule){o.chart.dataLabelModule.commonId=o.chart.element.id+"_Series_"+o.index+"_Point_";for(var n=o.chart.dataLabelModule.renderDataLabel(o,o.points[t[r]],null,o.marker.dataLabel),a=0;a<n.length;a++)o.chart.dataLabelModule.doDataLabelAnimation(o,n[a])}}},Il.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=o.length;l<r.length;l++)r.length!==o.length&&(o.splice(Math.floor(o.length/2)-1,0,o[Math.floor(o.length/2)-1],o[Math.floor(o.length/2)-1]),o.splice(Math.floor(o.length/2)+2,0,o[Math.floor(o.length/2)+2],o[Math.floor(o.length/2)+2],o[Math.floor(o.length/2)+2]));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(r.splice(2,0,r[2]),r.splice(r.length-3,0,r[r.length-3]));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Il.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},Il.prototype.destroy=function(){},Il.prototype.getModuleName=function(){return"StackingStepAreaSeries"},Il.prototype.getNextVisiblePointIndex=function(e,t){for(var i=t-1;0<=i;i--)if(e[i].visible)return i;return 0};var Tl,_l,El=Il;function Il(){return null!==_l&&_l.apply(this,arguments)||this}Ol=function(e,t){return(Ol=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ol(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Nl,zl=Aa),Nl.prototype.render=function(e,t,i,o,r,n){for(var a,l,s="PolarRadar"===e.chart.chartAreaType?no:A,h="",c=this.enableComplexProperty(e),d=c.length,p=e.stackedValues,u=0;u<d;u++)c[u].regions=[],c[u].symbolLocations=[],a=c[u].index,c[u].visible&&Yi(c[u-1],c[u],c[u+1],e)?(l=s(c[u].xValue,p.endValues[a],t,i,o,e),h=h.concat((u?"L":"M")+" "+l.x+" "+l.y+" "),c[u].symbolLocations.push(s(c[u].xValue,p.endValues[a],t,i,o,e)),c[u].regions.push(new $.Rect(c[u].symbolLocations[0].x-e.marker.width,c[u].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))):"Drop"!==e.emptyPointSettings.mode&&c[u+1]&&c[u+1].visible&&(a=c[u+1].index,l=s(c[u+1].xValue,p.endValues[a],t,i,o,e),h=h.concat("M "+l.x+" "+l.y+" "));"PolarRadar"===e.chart.chartAreaType&&1<c.length&&(h+="L "+(g=s((l={y:p.endValues[0],x:e.points[0].xValue}).x,l.y,t,i,o,e)).x+" "+g.y+" ");var g=new $.PathOption(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.interior,e.opacity,e.dashArray,h);this[r?"addPath":"appendLinePath"](g,e,""),n||this.renderMarker(e)},Nl.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Nl.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},Nl.prototype.destroy=function(){},Nl.prototype.getModuleName=function(){return"StackingLineSeries"};var Ol,zl,Bl=Nl;function Nl(){return null!==zl&&zl.apply(this,arguments)||this}Hl.prototype.render=function(e,t,i,o){e.isRectSeries=!1;for(var r=e.marker,n=this.enableComplexProperty(e),a="PolarRadar"===e.chart.chartAreaType?no:A,l={width:(this.isLineShapeMarker(r.shape)?e:e.border).width,color:this.isLineShapeMarker(r.shape)?e.interior:e.border.color},s=0,h=n;s<h.length;s++){var c=h[s];this.renderPoint(e,c,o,a,l,n)}},Hl.prototype.renderPoint=function(e,t,i,o,r,n){var a=e.chart.redraw&&t.symbolLocations?t.symbolLocations[0]:null;t.symbolLocations=[],t.regions=[],t.visible&&Yi(n[t.index-1],t,n[t.index+1],e)&&(n={cancel:!1,name:lt,series:e,point:t,fill:e.setPointColor(t,e.interior),border:e.setBorderColor(t,r),height:e.marker.height,width:e.marker.width,shape:e.marker.shape},e.chart.trigger(lt,n),n.cancel?t.marker={visible:!0}:(t.symbolLocations.push(o(t.xValue,t.yValue,e.xAxis,e.yAxis,i,e)),t.color=n.fill,this.refresh(e,t,n,a)))},Hl.prototype.updateDirection=function(e,t,i){for(var o=e.marker,r=this.enableComplexProperty(e),n="PolarRadar"===e.chart.chartAreaType?no:A,a={width:(this.isLineShapeMarker(o.shape)?e:e.border).width,color:this.isLineShapeMarker(o.shape)?e.interior:e.border.color},l=0;l<t.length;l++)if(this.renderPoint(e,e.points[t[l]],i,n,a,r),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var s=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[l]],null,e.marker.dataLabel),h=0;h<s.length;h++)e.chart.dataLabelModule.doDataLabelAnimation(e,s[h])}},Hl.prototype.isLineShapeMarker=function(e){return"HorizontalLine"===e||"VerticalLine"===e||"Cross"===e},Hl.prototype.enableComplexProperty=function(e){for(var t,i,o,r=[],n=[],a=e.yAxis.visibleRange,l=e.xAxis.visibleRange,s=e.clipRect,e=e.points,h=Math.abs(a.delta/s.height),c=Math.abs(l.delta/s.width),d=e[0]&&e[0].y>h?0:h,p=e[0]&&e[0].x>c?0:c,u=0,g=e;u<g.length;u++){var m=g[u];m.symbolLocations||(m.symbolLocations=[]),t=m.yValue||a.min,i=m.xValue||l.min,(Math.abs(d-t)>=h||Math.abs(p-i)>=c)&&(n.push(m),d=t,p=i)}for(var y=0;y<n.length;y++)K.isNullOrUndefined((o=n[y]).x)||""===o.x||r.push(o);return r},Hl.prototype.refresh=function(e,t,i,o){var r,n,a=e.chart,l=e.marker,s=i.point.marker.imageUrl||l.imageUrl,h=new $.PathOption(a.element.id+"_Series_"+e.index+"_Point_"+t.index,i.fill,i.border.width,e.chart.enableCanvas&&!i.border.color?i.fill:i.border.color,e.opacity,null),h=(a.redraw&&J(h.id)&&(r="Circle"===i.shape?"c":"",n=J(h.id).getAttribute("d")),Eo(t.symbolLocations[0],i.shape,new $.Size(i.width,i.height),s,h,(t.x.toString(),t.yValue.toString()),e.chart.renderer,e.clipRect));q(e.chart.enableCanvas,e.seriesElement,h,a.redraw,!0,r+"x",r+"y",o,n,!1,!1,null,a.duration,!0),t.regions.push(new $.Rect(t.symbolLocations[0].x-l.width,t.symbolLocations[0].y-l.height,2*l.width,2*l.height)),t.marker={border:i.border,fill:i.fill,height:i.height,visible:!0,width:i.width,shape:i.shape,imageUrl:s}},Hl.prototype.doAnimation=function(e){for(var t=e.animation.duration,i=e.animation.delay,o=e.seriesElement.childNodes,r=1,n=0,a=e.points;n<a.length;n++){var l=a[n];l.symbolLocations.length&&o[r]&&(Fo(o[r],i,t,e,l.index,l.symbolLocations[0],!1),r++)}},Hl.prototype.getModuleName=function(){return"ScatterSeries"},Hl.prototype.destroy=function(){};var Vl=Hl;function Hl(){}jl=function(e,t){return(jl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}jl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Xl,Wl=_a),Xl.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=0,i=e.points;t<i.length;t++){var o=i[t];this.renderPoint(e,o,this.sideBySideInfo[e.index])}this.renderMarker(e)},Xl.prototype.renderPoint=function(e,t,i){var o;t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&((i=this.getRectangle(t.xValue+i.start,t.high,t.xValue+i.end,t.low,e)).width=e.columnWidthInPixel||i.width,i.x=e.columnWidthInPixel?i.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):i.x,(o=this.triggerEvent(e,t,e.interior,{width:e.border.width,color:e.border.color})).cancel||(this.updateSymbolLocation(t,i,e),this.drawRectangle(e,t,i,o)))},Xl.prototype.updateDirection=function(o,r){for(var n=this,e=0;e<r.length;e++)!function(i){if(n.renderPoint(o,o.points[r[i]],n.sideBySideInfo[o.index]),o.marker&&o.marker.visible&&o.points[r[i]].symbolLocations.map(function(e,t){o.chart.markerRender.renderMarker(o,o.points[r[i]],e,t,!0)}),o.marker.dataLabel.visible&&o.chart.dataLabelModule){o.chart.dataLabelModule.commonId=o.chart.element.id+"_Series_"+o.index+"_Point_";for(var e=o.chart.dataLabelModule.renderDataLabel(o,o.points[r[i]],null,o.marker.dataLabel),t=0;t<e.length;t++)o.chart.dataLabelModule.doDataLabelAnimation(o,e[t])}}(e)},Xl.prototype.getModuleName=function(){return"RangeColumnSeries"},Xl.prototype.doAnimation=function(e){this.animate(e)},Xl.prototype.destroy=function(){};var jl,Wl,Ul=Xl;function Xl(){var e=null!==Wl&&Wl.apply(this,arguments)||this;return e.sideBySideInfo=[],e}Gl=function(e,t){return(Gl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Gl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ql,Yl=Aa),ql.prototype.render=function(e,t,i,o,r,n){var a,l=this.prevPoint=null,s="",h=0,c="M",d=void 0,p=e.border.width||0,u=e.border.color||e.interior,g=Math.max(e.yAxis.visibleRange.min,0),m=this.enableComplexProperty(e);"Category"===t.valueType&&"BetweenTicks"===t.labelPlacement&&(h=.5);for(var y=0,f=m.length;y<f;y++){(v=m[y]).symbolLocations=[],v.regions=[],x=Math.min(v.low,v.high),S=Math.max(v.low,v.high),i.isAxisInverse&&(b=x,x=S,S=b);var v,b=A(v.xValue,x,t,i,o),x=A(v.xValue,S,t,i,o),S=(v.symbolLocations.push(x),v.symbolLocations.push(b),new $.Rect(Math.min(b.x,x.x),Math.min(b.y,x.y),Math.max(Math.abs(x.x-b.x),e.marker.width),Math.max(Math.abs(x.y-b.y),e.marker.width)));v.regions.push(S),v.visible&&Yi(m[v.index-1],v,m[v.index+1],e)?(null===l&&(l=new ee(v.xValue,0),s=(s+=c+" "+(a=A(v.xValue-h,g,t,i,o)).x+" "+a.y+" ")+"L "+(a=A(v.xValue-h,v.high>v.low?v.high:v.low,t,i,o)).x+" "+a.y+" ",this.borderDirection+=c+" "+a.x+" "+a.y+" "),null!=this.prevPoint?(a=A(v.xValue,v.high>v.low?v.high:v.low,t,i,o),x=A(this.prevPoint.xValue,this.prevPoint.high>this.prevPoint.low?this.prevPoint.high:this.prevPoint.low,t,i,o),s+=this.GetStepLineDirection(a,x,e.step,c),this.borderDirection+=this.GetStepLineDirection(a,x,e.step,c)):"Gap"===e.emptyPointSettings.mode&&(s+=c+" "+(a=A(v.xValue,v.high>v.low?v.high:v.low,t,i,o)).x+" "+a.y+" ",this.borderDirection+=c+" "+a.x+" "+a.y+" "),d=!1,c=" L",this.prevPoint=v,(y+1<m.length&&!m[y+1].visible||y===m.length-1)&&(c="M",s=(s=this.closeRangeStepAreaPath(m,v,e,s,y,t,i,o)).concat(" Z "),d=!0,l=this.prevPoint=null)):(!1===d&&0!==y&&(s=this.closeRangeStepAreaPath(m,v,e,s,y,t,i,o),d=!0),c="M",v.symbolLocations=[])}var C=new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,s);this[r?"addPath":"appendLinePath"](C,e,""),0!==e.border.width&&(this[r?"addPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",p,u,1,e.dashArray,this.borderDirection),e,""),this.borderDirection=""),n||this.renderMarker(e)},ql.prototype.closeRangeStepAreaPath=function(e,t,i,o,r,n,a,l){for(var s,h,c=r;0<=c&&e[c].visible;c--)t=e[c],Math.min(t.low,t.high),Math.max(t.low,t.high),a.isAxisInverse,null!=this.prevPoint&&(s=A(t.xValue,t.low<t.high?t.low:t.high,n,a,l),h=A(this.prevPoint.xValue,this.prevPoint.low<this.prevPoint.high?this.prevPoint.low:this.prevPoint.high,n,a,l),o+=this.GetStepLineDirection(s,h,i.step),this.borderDirection+=c===r?this.GetStepLineDirection(s,h,i.step,"M"):this.GetStepLineDirection(s,h,i.step,"L")),this.prevPoint=t;return o},ql.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},ql.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=o.length;l<r.length;l++)r.length!==o.length&&(o.splice(Math.floor(o.length/2)-1,0,o[Math.floor(o.length/2)-1],o[Math.floor(o.length/2)-1]),o.splice(Math.floor(o.length/2)+2,0,o[Math.floor(o.length/2)+2],o[Math.floor(o.length/2)+2]));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(r.splice(2,0,r[2]),r.splice(r.length-3,0,r[r.length-3]));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},ql.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},ql.prototype.getModuleName=function(){return"RangeStepAreaSeries"},ql.prototype.destroy=function(){};var Gl,Yl,Zl=ql;function ql(){var e=null!==Yl&&Yl.apply(this,arguments)||this;return e.borderDirection="",e.prevPoint=null,e}Ql=function(e,t){return(Ql=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ql(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Jl,Kl=_a),Jl.prototype.render=function(e){for(var t=this.getSideBySideInfo(e),i=Math.max(e.yAxis.visibleRange.min,0),o=0,r="",n=0,a=null,l=e.chart.requireInvertedAxis,s=0,h=e.chart.redraw,c=0,d=e.points;c<d.length;c++){var p,u,g,m,y,f,v,b,x,S,C=d[c];C.symbolLocations=[],C.regions=[],C.visible&&Yi(e.points[C.index-1],C,e.points[C.index+1],e)&&(u=this.isIntermediateSum(e,C.index),p=this.isSumIndex(e,C.index),n+=u||!0===p?0:C.yValue,p=this.getRectangle(C.xValue+t.start,n,C.xValue+t.end,!0===u?s:null===o||p?i:o,e),u&&(s=n),o=n,(u=this.triggerPointRenderEvent(e,C)).cancel||(this.updateSymbolLocation(C,p,e),this.drawRectangle(e,C,p,u)),u=C.regions[0],null!==a&&(g=l?a.x:a.y,m=l?u.x:u.y,x=y=void 0,f=u.y,v=u.x,b=e.points[C.index-1],x=0===C.yValue?(y=l?a.x+a.width:a.y+a.height,l?C.symbolLocations[0].x:C.symbolLocations[0].y):(y=l?0===b.yValue?b.symbolLocations[0].x:a.x+a.width:0===b.yValue?b.symbolLocations[0].y:a.y+a.height,l?u.x+u.width:u.y+u.height),S=Math.round(g)===Math.round(m)||Math.round(y)===Math.round(m)?(S=l?0===u.x&&0===a.x?x:u.x:u.y,0===C.yValue?l?C.symbolLocations[0].x:C.symbolLocations[0].y:S):x,r=l?(0===b.yValue&&(a.y=a.y+a.height/2+p.height/2-a.height),0===C.yValue&&(f=u.y+u.height/2-p.height/2),r.concat("M "+S+" "+(e.xAxis.isInversed?a.y+a.height:a.y)+" L "+S+" "+(e.xAxis.isInversed?f:f+u.height)+" ")):(0===b.yValue&&(a.x=a.x+a.width/2-p.width/2,v=u.x+u.width/2+p.width/2-u.width),r.concat("M "+(e.xAxis.isInversed?a.x:a.x+a.width)+" "+S+" L "+(e.xAxis.isInversed?v+u.width:v)+" "+S+" "))),a=C.regions[0])}var w=new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Connector_","none",e.connector.width,e.connector.color,e.opacity,e.connector.dashArray,r),w=(h&&J(w.id)&&(r=J(w.id).getAttribute("d")),pr(h,w.id,w,e.chart.renderer)||e.chart.renderer.drawPath(w,new Int32Array([e.clipRect.x,e.clipRect.y])));w.style.visibility=e.chart.enableCanvas?null:(e.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e.chart.animateSeries?"hidden":"visible",q(e.chart.enableCanvas,e.seriesElement,w,h,!0,null,null,null,r,null,null,null,e.chart.duration),this.renderMarker(e)},Jl.prototype.updateDirection=function(e){this.render(e),e.marker.visible&&q(e.chart.enableCanvas,e.chart.seriesElements,e.symbolElement,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule&&(e.chart.dataLabelCollections=[],e.chart.dataLabelModule.render(e,e.chart,e.marker.dataLabel),e.textElement)&&(q(e.chart.enableCanvas,e.chart.dataLabelElements,e.shapeElement,!0),q(e.chart.enableCanvas,e.chart.dataLabelElements,e.textElement,!0))},Jl.prototype.isIntermediateSum=function(e,t){return void 0!==e.intermediateSumIndexes&&-1!==e.intermediateSumIndexes.indexOf(t)},Jl.prototype.isSumIndex=function(e,t){return void 0!==e.sumIndexes&&-1!==e.sumIndexes.indexOf(t)},Jl.prototype.triggerPointRenderEvent=function(e,t){var i=this.isIntermediateSum(e,t.index),o=this.isSumIndex(e,t.index),i=i||o?e.summaryFillColor:t.y<0?e.negativeFillColor:e.interior;return this.triggerEvent(e,t,i,{color:e.border.color,width:e.border.width})},Jl.prototype.processInternalData=function(e,t){var i,o=e,r=0,n=t.intermediateSumIndexes,a=t.sumIndexes;if(void 0!==n&&0<n.length)for(var l=0;l<n.length;l++)for(var s=0;s<o.length;s++)s===n[l]&&(i=qi(o,0===l?-1:n[l-1],n[l],null,t),o[s][t.yName]=i);if(void 0!==a&&0<a.length)for(var h=0;h<a.length;h++)for(s=0;s<o.length;s++)s===a[h]&&(r+=i=void 0!==n?qi(o,n[h]-1,a[h],a,t):qi(o,0===h?-1:a[h-1],a[h],null,t),o[s][t.yName]=r);return o},Jl.prototype.doAnimation=function(e){this.animate(e)},Jl.prototype.getModuleName=function(){return"WaterfallSeries"},Jl.prototype.destroy=function(){};var Ql,Kl,$l=Jl;function Jl(){return null!==Kl&&Kl.apply(this,arguments)||this}es=function(e,t){return(es=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}es(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(os,ts=_a),os.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=0,i=e.points;t<i.length;t++){var o=i[t];this.renderPoint(e,o,this.sideBySideInfo[e.index])}},os.prototype.renderPoint=function(e,t,i){var o;t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(i=this.getRectangle(t.xValue+i.median,t.high,t.xValue+i.median,t.low,e),(o=this.triggerPointRenderEvent(e,t)).cancel||(e.chart.requireInvertedAxis?(i.height=o.border.width,i.y=i.y-i.height/2):(i.width=o.border.width,i.x=i.x-i.width/2),o.border.width=0,this.updateSymbolLocation(t,i,e),this.drawRectangle(e,t,i,o)))},os.prototype.updateDirection=function(e,t){for(var i=0;i<t.length;i++)if(this.renderPoint(e,e.points[t[i]],this.sideBySideInfo[e.index]),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},os.prototype.triggerPointRenderEvent=function(e,t){var i={color:e.fill,width:Math.max(e.border.width,2)};return ts.prototype.triggerEvent.call(this,e,t,e.interior,i)},os.prototype.getModuleName=function(){return"HiloSeries"},os.prototype.doAnimation=function(e){this.animate(e)},os.prototype.destroy=function(){};var es,ts,is=os;function os(){var e=null!==ts&&ts.apply(this,arguments)||this;return e.sideBySideInfo=[],e}rs=function(e,t){return(rs=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}rs(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ls,ns=_a),ls.prototype.render=function(e){this.sideBySideInfo[e.index]=this.getSideBySideInfo(e);for(var t=Math.max(e.border.width,2),i=0,o=e.points;i<o.length;i++){var r=o[i];this.renderPoint(e,r,this.sideBySideInfo[e.index],t)}},ls.prototype.renderPoint=function(e,t,i,o){var r,n,a;t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(r=this.getRectangle(t.xValue+i.start,Math.max(t.high,t.low),t.xValue+i.end,Math.min(t.high,t.low),e),t.regions.push(this.getRectangle(t.xValue+i.median,Math.max(t.high,t.low),t.xValue+i.median,Math.min(t.high,t.low),e)),this.updateTickRegion(!e.chart.requireInvertedAxis,t.regions[0],o),t.regions.push(this.getRectangle(t.xValue+i.start,Math.max(t.open,t.close),t.xValue+i.median,Math.max(t.open,t.close),e)),t.regions.push(this.getRectangle(t.xValue+i.median,Math.min(t.open,t.close),t.xValue+i.end,Math.min(t.open,t.close),e)),(i=this.triggerPointRenderEvent(e,t)).cancel||(this.updateSymbolLocation(t,t.regions[0],e),n=t.open>t.close?1:2,a=t.open>t.close?2:1,n={x:t.regions[n].x,y:t.regions[n].y},a={x:t.regions[a].x,y:t.regions[a].y},this.drawHiloOpenClosePath(e,t,n,a,r,i)),this.updateTickRegion(e.chart.requireInvertedAxis,t.regions[1],o),this.updateTickRegion(e.chart.requireInvertedAxis,t.regions[2],o))},ls.prototype.updateDirection=function(e,t){for(var i=Math.max(e.border.width,2),o=0;o<t.length;o++)if(this.renderPoint(e,e.points[t[o]],this.sideBySideInfo[e.index],i),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var r=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[o]],null,e.marker.dataLabel),n=0;n<r.length;n++)e.chart.dataLabelModule.doDataLabelAnimation(e,r[n])}},ls.prototype.updateTickRegion=function(e,t,i){e?(t.x-=i/2,t.width=i):(t.y-=i/2,t.height=i)},ls.prototype.triggerPointRenderEvent=function(e,t){var i=t.open<=t.close?e.bearFillColor||e.chart.themeStyle.bearFillColor:e.bullFillColor||e.chart.themeStyle.bullFillColor,o={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,o)},ls.prototype.drawHiloOpenClosePath=function(e,t,i,o,r,n){var a=e.chart.requireInvertedAxis?(a="M "+r.x+" "+(r.y+r.height/2)+" L "+(r.x+r.width)+" "+(r.y+r.height/2)+" ",(a+="M "+i.x+" "+(r.y+r.height/2)+" L "+i.x+" "+(r.y+r.height)+" ")+"M "+o.x+" "+(r.y+r.height/2)+" L "+o.x+" "+r.y+" "):(a="M "+(r.x+r.width/2)+" "+(r.y+r.height)+" L "+(r.x+r.width/2)+" "+r.y+" ",(a+="M "+r.x+" "+i.y+" L "+(r.x+r.width/2+n.border.width/2)+" "+i.y+" ")+"M "+(r.x+r.width/2-n.border.width/2)+" "+o.y+" L "+(r.x+r.width)+" "+o.y+" "),i=new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index?t.index+1:t.index),n.fill,n.border.width,n.fill,e.opacity,e.dashArray,a),r=(Po(J(i.id),a,e.chart.redraw,null,e.chart.duration),e.chart.renderer.drawPath(i,new Int32Array([e.clipRect.x,e.clipRect.y])));null!==e.removedPointIndex&&e.removedPointIndex<=t.index&&(r.id=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index),r.setAttribute("role","img"),r.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(r)},ls.prototype.getModuleName=function(){return"HiloOpenCloseSeries"},ls.prototype.doAnimation=function(e){this.animate(e)},ls.prototype.destroy=function(){};var rs,ns,as=ls;function ls(){var e=null!==ns&&ns.apply(this,arguments)||this;return e.sideBySideInfo=[],e}ss=function(e,t){return(ss=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ss(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ds,hs=Aa),ds.prototype.render=function(e,t,i,o,r,n){for(var a,l="",s="M",h=void 0,c=e.border.width||0,d=e.border.color||e.interior,p=this.enableComplexProperty(e),u=0,g=p.length;u<g;u++){(a=p[u]).symbolLocations=[],a.regions=[];var m=Math.min(a.low,a.high),y=Math.max(a.low,a.high),f=(i.isAxisInverse&&(f=m,m=y,y=f),A(a.xValue,m,t,i,o)),m=A(a.xValue,y,t,i,o),y=(a.symbolLocations.push(m),a.symbolLocations.push(f),new $.Rect(Math.min(f.x,m.x),Math.min(f.y,m.y),Math.max(Math.abs(m.x-f.x),e.marker.width),Math.max(Math.abs(m.y-f.y),e.marker.width)));o?y.y-=e.marker.width/2:y.x-=e.marker.width/2,a.regions.push(y),a.visible&&Yi(p[a.index-1],a,p[a.index+1],e)?(l=l.concat(s+" "+f.x+" "+f.y+" "),this.borderDirection+=s+" "+f.x+" "+f.y+" ",h=!1,(u+1<p.length&&!p[u+1].visible||u===p.length-1)&&(s="M",l=(l=this.closeRangeAreaPath(p,a,e,l,u)).concat(" Z"),h=!0),s="L"):(!1===h&&0!==u&&(l=this.closeRangeAreaPath(p,a,e,l,u),h=!0),s="M",a.symbolLocations=[])}var v="Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,v=new $.PathOption(v,e.interior,0,"transparent",e.opacity,e.dashArray,l);this[r?"addPath":"appendLinePath"](v,e,""),0!==e.border.width&&(this[r?"addPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",c,d,1,e.dashArray,this.borderDirection),e,""),this.borderDirection=""),n||this.renderMarker(e)},ds.prototype.closeRangeAreaPath=function(e,t,i,o,r){for(var n=r;0<=n&&(e[n].visible&&e[n].symbolLocations[0]);n--)o+="L "+(t=e[n]).symbolLocations[0].x+" "+t.symbolLocations[0].y+" ",this.borderDirection+=(n===r?"M":"L")+" "+t.symbolLocations[0].x+" "+t.symbolLocations[0].y+" ";return o},ds.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},ds.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=o.length;l<r.length;l++)r.length!==o.length&&o.splice((o.length-1)/2,0,o.slice(0,(o.length-1)/2).pop(),o.slice(0,(o.length-1)/2+1).pop());Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(r.splice(1,0,r[0]),r.splice(r.length-2,0,r[r.length-2]));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},ds.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},ds.prototype.getModuleName=function(){return"RangeAreaSeries"},ds.prototype.destroy=function(){};var ss,hs,cs=ds;function ds(){var e=null!==hs&&hs.apply(this,arguments)||this;return e.borderDirection="",e}ps=function(e,t){return(ps=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ps(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ms,us=Aa),ms.prototype.findSplinePoint=function(e){for(var t,i,o=[],r=0,n=!1,a=this.filterEmptyPoints(e),l=0;l<a.length;l++)null!==(i=a[l]).x&&""!==i.x&&(i.index=r,r++,o.push(i));if(this.splinePoints=this.findSplineCoefficients(o,e,!1),"SplineRangeArea"===e.type&&(this.lowSplinePoints=this.findSplineCoefficients(o,e,!0)),1<o.length){e.drawPoints=[],e.lowDrawPoints=[];for(var s=0,h=o;s<h.length;s++){var c,d=h[s],n=n||d.yValue<0;0!==d.index&&(c=this.getPreviousIndex(o,d.index-1,e),"SplineRangeArea"===e.type&&(o[c].yValue=o[c].high>o[c].low?o[c].high:o[c].low,d.yValue=d.high>d.low?d.high:d.low),t=this.getControlPoints(o[c],d,this.splinePoints[c],this.splinePoints[d.index],e),e.drawPoints.push(t),"SplineRangeArea"===e.type&&(o[c].yValue=o[c].low<o[c].high?o[c].low:o[c].high,d.yValue=d.low<d.high?d.low:d.high,c=this.getControlPoints(o[c],d,this.lowSplinePoints[c],this.lowSplinePoints[d.index],e),e.lowDrawPoints.push(c)),c=e.yMax-e.yMin,d.yValue)&&t.controlPoint1.y&&t.controlPoint2.y&&1<c&&(e.yMin=Math.min(e.yMin,d.yValue,t.controlPoint1.y,t.controlPoint2.y),e.yMax=Math.ceil(Math.max(e.yMax,d.yValue,t.controlPoint1.y,t.controlPoint2.y)),e.yMin="Logarithmic"!==e.yAxis.valueType?Math.floor(e.yMin):e.yMin)}!n&&e.yMin<0&&(e.yMin=0),"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(t=this.getControlPoints({xValue:o[o.length-1].xValue,yValue:o[o.length-1].yValue},{xValue:o[o.length-1].xValue+1,yValue:o[0].yValue},this.splinePoints[0],this.splinePoints[o[o.length-1].index],e),e.drawPoints.push(t))}},ms.prototype.getPreviousIndex=function(e,t,i){if("Drop"===i.emptyPointSettings.mode)for(;K.isNullOrUndefined(e[t])&&-1<t;)t-=1;return t},ms.prototype.getNextIndex=function(e,t,i){if("Drop"===i.emptyPointSettings.mode)for(;K.isNullOrUndefined(e[t])&&t<e.length;)t+=1;return t},ms.prototype.filterEmptyPoints=function(e,t){if("Drop"!==e.emptyPointSettings.mode&&this.isPointInRange(e.points))return t||e.points;for(var i=t||K.extend([],e.points,null,!0),o=0;o<i.length;o++)i[o].index=o,i[o].isEmpty&&(i[o].symbolLocations=[],i[o].regions=[],i.splice(o,1),o--);return i},ms.prototype.isPointInRange=function(e){for(var t=0,i=e;t<i.length;t++)if(!i[t].isPointInRange)return!1;return!0},ms.prototype.findSplineCoefficients=function(e,t,i){var o=[],r=t.cardinalSplineTension||.5;switch(r<0?r=0:1<r&&(r=1),t.splineType){case"Monotonic":o=this.monotonicSplineCoefficients(e,t,i);break;case"Cardinal":o=this.cardinalSplineCofficients(e,t);break;default:"Clamped"===t.splineType?o=this.clampedSplineCofficients(e,t,i):(o[0]=[][0]=0,o[e.length-1]=0),o=this.naturalSplineCoefficients(e,t,i)}return o},ms.prototype.monotonicSplineCoefficients=function(e,t,i){for(var o,r=e.length,n=[],a=[],l=[],s=[],h=0;h<r-1;h++)"SplineRangeArea"===t.type&&(i||(e[h+1].yValue=e[h+1].high>e[h+1].low?e[h+1].high:e[h+1].low,e[h].yValue=e[h].high>e[h].low?e[h].high:e[h].low),i)&&(e[h+1].yValue=e[h+1].low<e[h+1].high?e[h+1].low:e[h+1].high,e[h].yValue=e[h].low<e[h].high?e[h].low:e[h].high),a[h]=e[h+1].xValue-e[h].xValue,l[h]=e[h+1].yValue-e[h].yValue,s[h]=l[h]/a[h];var c=s.length;n[0]=s[0],n[r-1]=s[c-1];for(var d=0;d<a.length;d++)d+1<c&&(n[d+1]=s[d]*s[d+1]<=0?0:3*(o=a[d]+a[d+1])/((o+a[d+1])/s[d]+(o+a[d])/s[d+1]));return n},ms.prototype.cardinalSplineCofficients=function(e,t){for(var i=e.length,o=[],r=(r=t.cardinalSplineTension||.5)<0?0:1<r?1:r,n=0;n<i;n++)o[n]=0===n?2<i?r*(e[n+2].xValue-e[n].xValue):0:n===i-1?2<i?r*(e[i-1].xValue-e[i-3].xValue):0:r*(e[n+1].xValue-e[n-1].xValue);return o},ms.prototype.clampedSplineCofficients=function(e,t,i){for(var o=e.length,r=[],n=0;n<o-1;n++)"SplineRangeArea"===t.type&&(i||(e[1].yValue=e[1].high>e[1].low?e[1].high:e[1].low,e[0].yValue=e[0].high>e[0].low?e[0].high:e[0].low,e[e.length-1].yValue=e[e.length-1].high>e[e.length-1].low?e[e.length-1].high:e[e.length-1].low,e[e.length-2].yValue=e[e.length-2].high>e[e.length-2].low?e[e.length-2].high:e[e.length-2].low),i)&&(e[1].yValue=e[1].low<e[1].high?e[1].low:e[1].high,e[0].yValue=e[0].low<e[0].high?e[0].low:e[0].high,e[e.length-1].yValue=e[e.length-1].low<e[e.length-1].high?e[e.length-1].low:e[e.length-1].high,e[e.length-2].yValue=e[e.length-2].low<e[e.length-2].high?e[e.length-2].low:e[e.length-2].high),r[0]=3*(e[1].yValue-e[0].yValue)/(e[1].xValue-e[0].xValue)-3,0,r[e.length-1]=3*(e[e.length-1].yValue-e[e.length-2].yValue)/(e[e.length-1].xValue-e[e.length-2].xValue),r[0]=(0,Math.abs(r[0])===1/0?0:r[0]),r[e.length-1]=(e.length-1,Math.abs(r[e.length-1])===1/0?0:r[e.length-1]);return r},ms.prototype.naturalSplineCoefficients=function(e,t,i){var o,r,n,a,l=e.length,s=[],h=[];s[0]=h[0]=0,s[e.length-1]=0;for(var c,d=1;d<l-1;d++)"SplineRangeArea"===t.type&&(i||(e[d+1].yValue=e[d+1].low>e[d+1].high?e[d+1].low:e[d+1].high,e[d].yValue=e[d].low>e[d].high?e[d].low:e[d].high,e[d-1].yValue=e[d-1].low>e[d-1].high?e[d-1].low:e[d-1].high),i)&&(e[d+1].yValue=e[d+1].high<e[d+1].low?e[d+1].high:e[d+1].low,e[d].yValue=e[d].high<e[d].low?e[d].high:e[d].low,e[d-1].yValue=e[d-1].high<e[d-1].low?e[d-1].high:e[d-1].low),n=e[d].xValue-e[d-1].xValue,c=e[d+1].xValue-e[d-1].xValue,a=e[d+1].xValue-e[d].xValue,o=e[d+1].yValue-e[d].yValue||null,r=e[d].yValue-e[d-1].yValue||null,0==n||0==c||0==a?h[d]=s[d]=0:(s[d]=-(c=1/(n*s[d-1]+2*c))*a,h[d]=c*(6*(o/a-r/n)-n*h[d-1]));for(var p=l-2;0<=p;p--)s[p]=s[p]*s[p+1]+h[p];return s},ms.prototype.getControlPoints=function(e,t,i,o,r){var n=i,a=o,l=e.xValue,s=e.yValue,h=t.xValue,c=t.yValue;switch(r.splineType){case"Cardinal":"DateTime"===r.xAxis.valueType&&(n=i/this.dateTimeInterval(r),a=o/this.dateTimeInterval(r)),p=new ee(l+i/3,s+n/3),u=new ee(h-o/3,c-a/3),g=new Nr(p,u);break;case"Monotonic":var d=(h-l)/3,p=new ee(l+d,s+i*d),u=new ee(h-d,c-o*d),g=new Nr(p,u);break;default:var d=h-l,m=1/3*(2*s+c-1/3*(d*=d)*(i+.5*o)),d=1/3*(s+2*c-1/3*d*(.5*i+o));p=new ee((2*l+h)*(1/3),m),u=new ee((l+2*h)*(1/3),d),g=new Nr(p,u)}return g},ms.prototype.dateTimeInterval=function(e){e=e.xAxis.actualIntervalType,e="Years"===e?31536e6:"Months"===e?2592e6:"Days"===e?864e5:"Hours"===e?36e5:"Minutes"===e?6e4:"Seconds"===e?1e3:2592e6;return e},ms.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)};var ps,us,gs=ms;function ms(e){e=us.call(this,e)||this;return e.splinePoints=[],e.lowSplinePoints=[],e}ys=function(e,t){return(ys=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ys(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(bs,fs=gs),bs.prototype.render=function(e,t,i,o,r,n){for(var a,l="",s=void 0,h=null,c=[],d=0,p=e.border.width||0,u=e.border.color||e.interior,g="",m=this.filterEmptyPoints(e),y=0;y<m.length;y++)null!==(a=m[y]).x&&""!==a.x&&(a.index=d,d++,c.push(a));for(var f=this.enableComplexProperty(e),v=f.length,y=0;y<v;y++){(a=f[y]).regions=[],a.symbolLocations=[];var b=this.getNextIndex(c,a.index-1,e),x=this.getPreviousIndex(c,a.index-1,e),S=Math.min(a.low,a.high),C=Math.max(a.low,a.high),w=(i.isAxisInverse&&(w=S,S=C,C=w),A(a.xValue,S,t,i,o)),S=A(a.xValue,C,t,i,o),C=(a.symbolLocations.push(S),a.symbolLocations.push(w),new $.Rect(Math.min(w.x,S.x),Math.min(w.y,S.y),Math.max(Math.abs(S.x-w.x),e.marker.width),Math.max(Math.abs(S.y-w.y),e.marker.width)));o?C.y-=e.marker.width/2:C.x-=e.marker.width/2,a.regions.push(C),a.visible&&Yi(f[x],a,f[b],e)?(h?(C=e.drawPoints[x].controlPoint1,b=e.drawPoints[x].controlPoint2,x=A(a.xValue,a.high>a.low?a.high:a.low,t,i,o),C=A(C.x,C.y,t,i,o),b=A(b.x,b.y,t,i,o),l=l.concat("C "+C.x+" "+C.y+" "+b.x+" "+b.y+" "+x.x+" "+x.y+" "),this.borderDirection+="C "+C.x+" "+C.y+" "+b.x+" "+b.y+" "+x.x+" "+x.y+" "):(g=(l=i.isAxisInverse?l.concat("M "+S.x+" "+S.y+" L "+w.x+" "+w.y+" "):l.concat("M "+w.x+" "+w.y+" L "+S.x+" "+S.y+" "),this.borderDirection+="M "+S.x+" "+S.y+" ","L "+w.x+" "+w.y),s=!1),(y+1<f.length&&!f[y+1].visible||y===f.length-1)&&(l=this.closeSplineRangeAreaPath(f,a,e,l,y,t,i,o),this.borderDirection+=g,g="",l=l.concat(" Z"),s=!0),h=a):(!1===s&&0!==y&&(l=this.closeSplineRangeAreaPath(f,a,e,l,y,t,i,o),s=!0),h=null,a.symbolLocations=[])}var F="Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,F=new $.PathOption(F,e.interior,0,"transparent",e.opacity,e.dashArray,l);this[r?"addPath":"appendLinePath"](F,e,""),0!==e.border.width&&(this[r?"addPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",p,u,1,e.dashArray,this.borderDirection),e,""),this.borderDirection=""),n||this.renderMarker(e)},bs.prototype.closeSplineRangeAreaPath=function(e,t,i,o,r,n,a,l){for(var s,h,c=null,d=r;0<d&&e[d].visible;d--){t=e[d];var p=Math.min(t.low,t.high),u=Math.max(t.low,t.high),g=(a.isAxisInverse&&(g=p,p=u,u=g),A(t.xValue,p,n,a,l)),p=A(t.xValue,u,n,a,l);c?(u=i.lowDrawPoints[d].controlPoint1,h=i.lowDrawPoints[d].controlPoint2,s=A(t.xValue,t.low<t.high?t.low:t.high,n,a,l),u=A(u.x,u.y,n,a,l),h=A(h.x,h.y,n,a,l),o=o.concat("C "+h.x+" "+h.y+" "+u.x+" "+u.y+" "+s.x+" "+s.y+" "),this.borderDirection+="C "+h.x+" "+h.y+" "+u.x+" "+u.y+" "+s.x+" "+s.y+" "):a.isAxisInverse?(o=o.concat("L "+p.x+" "+p.y+" "),this.borderDirection+="M "+p.x+" "+p.y+" "):(o=o.concat("L "+g.x+" "+g.y+" "),this.borderDirection+="M "+g.x+" "+g.y+" "),c=t}return o},bs.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},bs.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l=o.length;l<r.length;l++)r.length!==o.length&&(o.splice(o.length/2+1,0,"C "+o[(o.length-1)/2].split(" ").slice(5,7).join(" ")+" "+o[(o.length-1)/2].split(" ").slice(5,7).join(" ")+" "+o[(o.length-1)/2].split(" ").slice(5,7).join(" ")),o.splice(o.length/2+2,0,"C "+o[o.length/2+1].split(" ").slice(1,3).join(" ")+" "+o[o.length/2+1].split(" ").slice(1,3).join(" ")+" "+o[o.length/2+1].split(" ").slice(1,3).join(" ")));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(l=a;l<n;l++)r.length!==o.length&&(r.splice(2,0,"C "+r[1].split(" ").slice(-3).join(" ")+r[1].split(" ").slice(-3).join(" ")+r[1].split(" ").slice(-3).join(" ")),r.splice(r.length-1,0,"C "+r[r.length-2].split(" ").slice(-4).join(" ")+r[r.length-2].split(" ").slice(-4).join(" ")+r[r.length-2].split(" ").slice(-4).join(" ")));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},bs.prototype.doAnimation=function(e){var t=e.animation;this.doLinearAnimation(e,t)},bs.prototype.getModuleName=function(){return"SplineRangeAreaSeries"},bs.prototype.destroy=function(){};var ys,fs,vs=bs;function bs(){var e=null!==fs&&fs.apply(this,arguments)||this;return e.borderDirection="",e}Ss.prototype.render=function(e,t,i,o){var r,n=e.points,a=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),l=a/100,s=e.maxRadius*l,h=e.minRadius*l,c=null;if(null===e.maxRadius||null===e.minRadius){for(var d=0,p=e.chart.visibleSeries;d<p.length;d++){var u=p[d];"Bubble"!==u.type||!0!==u.visible||null!==u.maxRadius&&null!==u.minRadius||(c=u.sizeMax>c?u.sizeMax:c)}h=s=1,r=a/5/2*s}else c=e.sizeMax,r=s-h;for(var g=0,m=n;g<m.length;g++){var y=m[g];this.renderPoint(e,y,o,r,c,h,n)}},Ss.prototype.renderPoint=function(e,t,i,o,r,n,a){var l=e.chart.redraw&&t.symbolLocations?t.symbolLocations[0]:null;t.symbolLocations=[],t.regions=[],t.visible&&Yi(a[t.index-1],t,a[t.index+1],e)&&(a=(a=null===e.maxRadius||null===e.minRadius?o*Math.abs(+t.size/r):n+o*Math.abs(+t.size/r))||n,o={cancel:!1,name:lt,series:e,point:t,fill:e.setPointColor(t,e.interior),border:e.setBorderColor(t,{width:e.border.width,color:e.border.color}),height:2*a,width:2*a},e.chart.trigger(lt,o),o.cancel?t.marker={visible:!1}:(t.symbolLocations.push(A(t.xValue,t.yValue,e.xAxis,e.yAxis,i)),t.color=o.fill,r=new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,o.fill,o.border.width,o.border.color,e.opacity,null),n=Eo(t.symbolLocations[0],"Circle",new $.Size(o.width,o.height),e.marker.imageUrl,r,(t.x.toString(),t.yValue.toString()),e.chart.svgRenderer,e.clipRect),q(e.chart.enableCanvas,e.seriesElement,n,e.chart.redraw,!1,"","",null,"",!1,!1,null,null,!0),t.regions.push(new $.Rect(t.symbolLocations[0].x-a,t.symbolLocations[0].y-a,2*a,2*a)),t.marker={border:o.border,fill:o.fill,height:o.height,visible:!0,shape:"Circle",width:o.width},e.chart.enableCanvas&&e.chart.markerRender.render(e),l=e.chart.redraw&&!l?t.symbolLocations[0]:l,e.chart.redraw&&ur(n,e.chart.duration||300,l,t.symbolLocations[0],"cx","cy")))},Ss.prototype.updateDirection=function(e,t,i){var o,r=e.points,n=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),a=n/100,l=e.maxRadius*a,s=e.minRadius*a,h=null;if(null===e.maxRadius||null===e.minRadius){for(var c=0,d=e.chart.visibleSeries;c<d.length;c++){var p=d[c];"Bubble"!==p.type||!0!==p.visible||null!==p.maxRadius&&null!==p.minRadius||(h=p.sizeMax>h?p.sizeMax:h)}s=l=1,o=n/5/2*l}else h=e.sizeMax,o=l-s;for(var u=0;u<t.length;u++)if(this.renderPoint(e,e.points[t[u]],i,o,h,s,r),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var g=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[u]],null,e.marker.dataLabel),m=0;m<g.length;m++)e.chart.dataLabelModule.doDataLabelAnimation(e,g[m])}},Ss.prototype.destroy=function(){},Ss.prototype.getModuleName=function(){return"BubbleSeries"},Ss.prototype.doAnimation=function(e){for(var t=e.animation.duration,i=e.animation.delay,o=e.seriesElement.childNodes,r=1,n=0,a=e.points;n<a.length;n++){var l=a[n];l.symbolLocations.length&&(Fo(o[r],i,t,e,l.index,l.symbolLocations[0],!1),r++)}};var xs=Ss;function Ss(){}Cs=function(e,t){return(Cs=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ls,ws=gs),Ls.prototype.render=function(e,t,i,o,r,n){for(var a,l=null,s="",h="M",c="TrendLine"===e.category?e.points:this.enableComplexProperty(e),d=this.filterEmptyPoints(e,c),p="PolarRadar"===e.chart.chartAreaType?no:A,u=0,g=d;u<g.length;u++){var m=g[u];1===m.index&&(s=""),a=this.getPreviousIndex(d,m.index-1,e),m.symbolLocations=[],m.regions=[],m.visible?(Yi(d[a],m,d[this.getNextIndex(d,m.index-1,e)],e)&&(null!==l&&(s=this.getSplineDirection(e.drawPoints[a],l,m,t,i,o,e,h,p,s),h="L"),this.storePointLocation(m,e,o,p),""===s)&&(s="M "+m.symbolLocations[0].x+" "+m.symbolLocations[0].y),l=m):(h="M",l=null,m.symbolLocations=[])}0<d.length&&0<e.drawPoints.length&&"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(c=this.getFirstLastVisiblePoint(d),s=this.getSplineDirection(e.drawPoints[e.drawPoints.length-1],c.last,{xValue:c.first.xValue,yValue:c.first.yValue},t,i,o,e,h,p,s),h="L");c="TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+e.index,c=new $.PathOption(c,"transparent",e.width,e.interior,e.opacity,e.dashArray,s);this[r?"addPath":"appendLinePath"](c,e,""),n||this.renderMarker(e)},Ls.prototype.getSplineDirection=function(e,t,i,o,r,n,a,l,s,h){var c=e.controlPoint1,e=e.controlPoint2,t=s(t.xValue,t.yValue,o,r,n,a),i=s(i.xValue,i.yValue,o,r,n,a),c=s(c.x,c.y,o,r,n,a),s=s(e.x,e.y,o,r,n,a);return h.concat(l+" "+t.x+" "+t.y+" C "+c.x+" "+c.y+" "+s.x+" "+s.y+" "+i.x+" "+i.y+" ")},Ls.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Ls.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l,s=o.length;s<r.length;s++)r.length!==o.length&&(0===o[o.length-1].indexOf("C")?o.push("L "+o[o.length-1].split(" ").slice(-3).join(" ")):0===o[o.length-1].indexOf("L")?(l=o[o.length-1].split(" ").slice(-3),o.push("C "+l.join(" ")+l.join(" ")+l.join(" "))):(l=o[o.length-1].replace("M",""),o.push("C"+l+l+l)));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(var h,c,s=a;s<n;s++)t.removedPointIndex===t.points.length&&r.length!==o.length?0===r[r.length-1].indexOf("C")?r.push("L "+r[r.length-1].split(" ").slice(-3).join(" ")):0===r[r.length-1].indexOf("L")?(h=r[r.length-1].split(" ").slice(-3),r.push("C "+h.join(" ")+h.join(" ")+h.join(" "))):(h=r[r.length-1].replace("M",""),r.push("C"+h+h+h)):1===r.length?(c=r[r.length-1].replace("M",""),r.push("C"+c+c+c)):r.length!==o.length&&r.splice(1,0,"C "+r[0].split(" ").slice(-3).join(" ")+r[0].split(" ").slice(-3).join(" ")+r[0].split(" ").slice(-3).join(" "),r[0].replace("M","L"));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Ls.prototype.getModuleName=function(){return"SplineSeries"},Ls.prototype.destroy=function(){};var Cs,ws,Fs=Ls;function Ls(){return null!==ws&&ws.apply(this,arguments)||this}Ps=function(e,t){return(Ps=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ps(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ds,As=za),Ds.prototype.render=function(e){As.prototype.render.call(this,e),e.showNormalDistribution&&this.renderNormalDistribution(e)},Ds.prototype.calculateBinInterval=function(e,t){for(var i=Zi(e)/e.length,o=0,r=0,n=e;r<n.length;r++){var a=n[r];o+=(a-i)*(a-i)}t.histogramValues.mean=i,t.histogramValues.sDValue=Math.sqrt(Math.abs(o/e.length)),t.histogramValues.binWidth=t.binInterval||Math.round(3.5*t.histogramValues.sDValue/Math.pow(e.length,1/3))||1},Ds.prototype.processInternalData=function(e,t){for(var i,o=[],r=[],n=Object.keys(e),a=0;a<n.length;a++){var l=n[a];r.push(e[l][t.yName])}t.histogramValues={yValues:r};for(var s,h=Math.min.apply(Math,t.histogramValues.yValues),c=Math.max.apply(Math,t.histogramValues.yValues),d=(this.calculateBinInterval(t.histogramValues.yValues,t),t.histogramValues.binWidth),p=0;p<e.length;)s=r.filter(function(e){return h<=e&&e<h+d}).length,h+d===c&&(s+=r.filter(function(e){return c<=e}).length),o.push(((i={x:h+d/2})[t.yName]=s,i)),h+=d,p+=s;return o},Ds.prototype.calculateBinValues=function(e){var t,i=e.histogramValues.yValues.length,o=e.histogramValues.binWidth,r=e.histogramValues.mean,n=e.histogramValues.sDValue,a=e.xAxis.minimum?parseInt(e.xAxis.minimum.toString(),10):e.xMin,l=((e.xAxis.maximum?parseInt(e.xAxis.maximum.toString(),10):e.xMax)-a)/499;if(e.points.length)for(var s=0;s<500;s++)t=a+s*l,t=Math.exp(-(t-r)*(t-r)/(2*n*n))/(n*Math.sqrt(2*Math.PI))*o*i,e.yMin=e.yMin>t?t:e.yMin,e.yMax=e.yMax<t?t:e.yMax},Ds.prototype.renderNormalDistribution=function(e){var t,i=e.xAxis.actualRange.min,o=e.xAxis.actualRange.max,r="",n="M",a=e.histogramValues.yValues.length,l=e.histogramValues.binWidth,s=e.histogramValues.mean,h=e.histogramValues.sDValue,c=(o-i)/499;if(e.points.length)for(var d=0;d<500;d++)r+=n+" "+(t=A(t=i+d*c,Math.exp(-(t-s)*(t-s)/(2*h*h))/(h*Math.sqrt(2*Math.PI))*l*a,e.xAxis,e.yAxis,e.chart.requireInvertedAxis)).x+" "+t.y+" ",n="L";o=e.chart.renderer.drawPath(new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_NDLine","transparent",2,e.chart.themeStyle.histogram||e.chart.themeStyle.errorBar,e.opacity,e.dashArray,r),new Int32Array([e.clipRect.x,e.clipRect.y]));o.style.visibility=e.chart.enableCanvas?null:(e.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e.chart.animateSeries?"hidden":"visible",e.chart.enableCanvas||e.seriesElement.appendChild(o)},Ds.prototype.doAnimation=function(e){As.prototype.doAnimation.call(this,e),e.showNormalDistribution&&_o(e.seriesElement.lastElementChild,0===e.animation.duration&&"Enable"===K.animationMode?1e3:e.animation.duration,500,"FadeIn")},Ds.prototype.updateDirection=function(e){this.render(e),e.marker.visible&&q(e.chart.enableCanvas,e.chart.seriesElements,e.symbolElement,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule&&(e.chart.dataLabelCollections=[],e.chart.dataLabelModule.render(e,e.chart,e.marker.dataLabel),e.textElement)&&(q(e.chart.enableCanvas,e.chart.dataLabelElements,e.shapeElement,!0),q(e.chart.enableCanvas,e.chart.dataLabelElements,e.textElement,!0))},Ds.prototype.getModuleName=function(){return"HistogramSeries"},Ds.prototype.destroy=function(){};var Ps,As,Ms=Ds;function Ds(){return null!==As&&As.apply(this,arguments)||this}ks=function(e,t){return(ks=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ks(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ts,Rs=gs),Ts.prototype.render=function(e,t,i,o,r,n){for(var a,l,s,h,c=null,d="",p=null,u=[],g=0,m=this.filterEmptyPoints(e),y=0;y<m.length;y++)null!==(s=m[y]).x&&""!==s.x&&(s.index=g,g++,u.push(s));for(var f,v=u.length,b="PolarRadar"===e.chart.chartAreaType?no:A,x="PolarRadar"===e.chart.chartAreaType?e.points[0].yValue:Math.max(e.yAxis.visibleRange.min,0),y=0;y<v;y++)(s=u[y]).symbolLocations=[],s.regions=[],f=this.getPreviousIndex(u,s.index-1,e),s.visible&&Yi(u[f],s,u[this.getNextIndex(u,s.index-1,e)],e)?(d=c?(l=e.drawPoints[f].controlPoint1,f=e.drawPoints[f].controlPoint2,a=b(s.xValue,s.yValue,t,i,o,e),l=b(l.x,l.y,t,i,o,e),f=b(f.x,f.y,t,i,o,e),d.concat("C "+l.x+" "+l.y+" "+f.x+" "+f.y+" "+a.x+" "+a.y+" ")):(d+="M "+(p=b(s.xValue,x,t,i,o,e)).x+" "+p.y+" ")+"L "+(l=b(s.xValue,s.yValue,t,i,o,e)).x+" "+l.y+" ",this.storePointLocation(s,e,o,b),c=s):(c=null,s.symbolLocations=[]),(y+1<v&&!u[y+1].visible||y===v-1)&&a&&p&&(p=b(s.xValue,x,t,i,o,e),d=d.concat("L "+p.x+" "+p.y+" "));this[r?"addPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_"+e.index,e.interior,0,"transparent",e.opacity,e.dashArray,d),e,""),0!==e.border.width&&(h=this.removeEmptyPointsBorder(this.getBorderDirection(d)),this[r?"addPath":"appendLinePath"](new $.PathOption(e.chart.element.id+"_Series_border_"+e.index,"transparent",e.border.width,e.border.color||e.interior,1,e.dashArray,h),e,"")),n||this.renderMarker(e)},Ts.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},Ts.prototype.addPath=function(e,t,i){i=this.appendPathElement(e,t,i);if(""!==i.previousDirection&&""!==e.d){2===i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g).length&&(i.previousDirection=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g)[0]+"L "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" C "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" L "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]),2===e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g).length&&(e.d=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g)[0]+"L "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" C "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]+" L "+i.previousDirection.split(" ")[1]+" "+i.previousDirection.split(" ")[2]);var o=i.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),r=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),n=Math.max(o.length,r.length),a=Math.min(o.length,r.length);if(o.length<r.length){for(var l,s=o.length;s<r.length;s++)r.length!==o.length&&(l=void 0,l="C "+(l=(4===o[o.length-1].split(" ").length&&-1!==e.id.indexOf("border")?o[o.length-(-1!==e.id.indexOf("border")?1:2)].split(" ").slice(1):o[o.length-(-1!==e.id.indexOf("border")?1:2)].split(" ").slice(5)).join(" "))+l+l,-1!==e.id.indexOf("border")?o.push(l):o.splice(o.length-1,0,l));Ao(i.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>r.length){for(var h,c,s=a;s<n;s++)r.length!==o.length&&(h=void 0,t.removedPointIndex===t.points.length?(c="C "+(h=(4===o[o.length-1].split(" ").length&&-1!==e.id.indexOf("border")?r[r.length-(-1!==e.id.indexOf("border")?1:2)].split(" ").slice(1):r[r.length-(-1!==e.id.indexOf("border")?1:2)].split(" ").slice(5)).join(" "))+h+h,-1!==e.id.indexOf("border")?r.push(c):r.splice(r.length-1,0,c)):(h=4===o[o.length-1].split(" ").length?"C "+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(-3).join(" ")+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(1).join(" ")+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(1).join(" "):"C "+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(-3).join(" ")+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(-3).join(" ")+r[-1!==e.id.indexOf("border")?0:1].split(" ").slice(-3).join(" "),r.splice(-1!==e.id.indexOf("border")?1:2,0,h)));Ao(i.element,r.join(""),t.chart.redraw,i.previousDirection,this.chart.duration,e.d)}else Ao(i.element,e.d,t.chart.redraw,i.previousDirection,this.chart.duration)}},Ts.prototype.getModuleName=function(){return"SplineAreaSeries"},Ts.prototype.destroy=function(){};var ks,Rs,gs=Ts;function Ts(){return null!==Rs&&Rs.apply(this,arguments)||this}_s=function(e,t){return(_s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}_s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Is,Es=Aa),Is.prototype.initSeriesCollection=function(e,t){e.targetSeries=[];var i=new Pn(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)},Is.prototype.setSeriesProperties=function(e,t,i,o,r,n){e.name=i.length<=4?i.toLocaleUpperCase():i,e.xName="x",e.yName="y",e.fill=o||"#606eff",e.dashArray=t.dashArray,e.width=r,e.xAxisName=t.xAxisName,e.animation=t.animation,e.yAxisName=t.yAxisName,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=!0,e.interior=e.fill,e.category="Indicator",e.index=t.index,e.chart=n,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],e.marker.visible=!1,t.targetSeries.push(e)},Is.prototype.createIndicatorElements=function(e,t,i){(t.seriesName||t.dataSource)&&vo(t.targetSeries[0]);var o=new $.Rect(0,0,0,0),r=((t.seriesName||t.dataSource)&&(o=t.targetSeries[0].clipRect),new Pr(e.element.id+"_ChartIndicatorClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:o.width,height:o.height})),n=Mo(e.redraw,r,e.renderer);t.indicatorElement=e.renderer.createGroup({id:e.element.id+"IndicatorGroup"+i,transform:"translate("+o.x+","+o.y+")","clip-path":"url(#"+e.element.id+"_ChartIndicatorClipRect_"+i+")"}),t.indicatorElement.appendChild(n);for(var a=0,l=t.targetSeries;a<l.length;a++){var s=l[a],h=(s.clipRectElement=n,s.chart.renderer.createGroup({id:s.chart.element.id+"_Indicator_"+t.index+"_"+s.name+"_Group"}));t.indicatorElement.appendChild(h),s.seriesElement=h}e.indicatorElements.appendChild(t.indicatorElement)},Is.prototype.getDataPoint=function(e,t,i,o,r,n){void 0===n&&(n=null);var a=new cn;return a.x=e,a.y=t,a.xValue=i.xValue,a.color=o.fill,a.index=r,a.yValue=t,a.visible=!0,o.xMin=Math.min(o.xMin,a.xValue),o.yMin=Math.min(o.yMin,a.yValue),o.xMax=Math.max(o.xMax,a.xValue),o.yMax=Math.max(o.yMax,a.yValue),o.xData.push(a.xValue),n&&"Macd"===n.type&&"Column"===o.type&&(0<=a.y?a.color=n.macdPositiveColor:a.color=n.macdNegativeColor),a},Is.prototype.getRangePoint=function(e,t,i,o,r,n){var a=new cn;return a.x=e,a.high=t,a.low=i,a.xValue=o.xValue,a.color=r.fill,a.index=n,a.visible=!0,r.xData.push(a.xValue),a},Is.prototype.setSeriesRange=function(e,t,i){(i=void 0===i?null:i)?i.points=e:t.targetSeries[0].points=e};var _s,Es,Aa=Is;function Is(){return null!==Es&&Es.apply(this,arguments)||this}Os=function(e,t){return(Os=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Os(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ns,zs=Aa),Ns.prototype.initDataSource=function(e){var t=[],i=e.points;if(i&&i.length){var o=i,r=bo(e.field),n=e.targetSeries[0];if(o&&o.length&&o.length>=e.period){for(var a,l=0,s=0;s<e.period;s++)l+=o[s][r];a=l/e.period,t.push(this.getDataPoint(o[e.period-1].x,a,o[e.period-1],n,t.length));for(var h=e.period;h<o.length;)a=(l=(l-=o[h-e.period][r])+o[h][r])/e.period,t.push(this.getDataPoint(o[h].x,a,o[h],n,t.length)),h++}this.setSeriesRange(t,e)}},Ns.prototype.destroy=function(){},Ns.prototype.getModuleName=function(){return"SmaIndicator"};var Os,zs,Bs=Ns;function Ns(){return null!==zs&&zs.apply(this,arguments)||this}Vs=function(e,t){return(Vs=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Vs(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ws,Hs=Aa),Ws.prototype.initDataSource=function(e){var t=bo(e.field),i=[],o=e.targetSeries[0],r=e.points;if(r&&r.length&&r.length>=e.period){for(var n,a=0,l=2/(e.period+1),s=0;s<e.period;s++)a+=r[s][t];n=a/e.period,i.push(this.getDataPoint(r[e.period-1].x,n,r[e.period-1],o,i.length));for(var h=e.period;h<r.length;){var c=i[h-e.period][o.yName],c=(r[h][t]-c)*l+c;i.push(this.getDataPoint(r[h].x,c,r[h],o,i.length)),h++}}this.setSeriesRange(i,e)},Ws.prototype.destroy=function(){},Ws.prototype.getModuleName=function(){return"EmaIndicator"};var Vs,Hs,js=Ws;function Ws(){return null!==Hs&&Hs.apply(this,arguments)||this}Us=function(e,t){return(Us=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Us(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ys,Xs=Aa),Ys.prototype.initDataSource=function(e){var t=[],i=bo(e.field),o=e.points;if(o&&o.length&&o.length>=e.period){var r=e.targetSeries[0],n=e.points;if(n.length&&n.length>=e.period){for(var a=0,l=[],s=0,h=n.length,c=e.period;c<=h;){for(var a=0,d=s=n.length-h;d<s+c;d++)a+=n[d][i];l.push(a/=c),h--}for(var p=0;p<c-1;p++){for(d=a=0;d<p+1;d++)a+=n[d][i];l.splice(p,0,a/=p+1)}for(s=e.period;s<=l.length;){a=0;for(d=s-e.period;d<s;d++)a+=l[d];a/=e.period,t.push(this.getDataPoint(n[s-1].x,a,n[s-1],r,t.length)),s++}}}this.setSeriesRange(t,e)},Ys.prototype.destroy=function(){},Ys.prototype.getModuleName=function(){return"TmaIndicator"};var Us,Xs,Gs=Ys;function Ys(){return null!==Xs&&Xs.apply(this,arguments)||this}Zs=function(e,t){return(Zs=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Zs(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ks,qs=Aa),Ks.prototype.initDataSource=function(e){var t=[],i=e.points;0<i.length&&i.length>e.period&&(t=this.calculateADPoints(e,i)),this.setSeriesRange(t,e)},Ks.prototype.calculateADPoints=function(e,t){for(var i,o,r,n=[],a=0,l=0,s=e.targetSeries[0],l=0;l<t.length;l++)i=Number(t[l].high),o=Number(t[l].low),a+=((r=Number(t[l].close))-o-(i-r))/(i-o||1)*Number(t[l].volume),n[l]=this.getDataPoint(t[l].x,a,t[l],s,n.length);return n},Ks.prototype.destroy=function(){},Ks.prototype.getModuleName=function(){return"AccumulationDistributionIndicator"};var Zs,qs,Qs=Ks;function Ks(){return null!==qs&&qs.apply(this,arguments)||this}$s=function(e,t){return($s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}$s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(th,Js=Aa),th.prototype.initDataSource=function(e){var t=e.points;0<t.length&&t.length>e.period&&this.calculateATRPoints(e,t)},th.prototype.calculateATRPoints=function(e,t){for(var i,o=0,r=0,n=0,a=[],l=[],s=e.period,h=0,c=e.targetSeries[0],d=0;d<t.length;d++)i=Number(t[d].high)-Number(t[d].low),0<d&&(r=Math.abs(Number(t[d].high)-Number(t[d-1].close)),n=Math.abs(Number(t[d].low)-Number(t[d-1].close))),h+=i=Math.max(i,r,n),s<=d?(o=(Number(l[d-1].y)*(s-1)+i)/s,a.push(this.getDataPoint(t[d].x,o,t[d],c,a.length))):(o=h/s,d===s-1&&a.push(this.getDataPoint(t[d].x,o,t[d],c,a.length))),l[d]={x:t[d].x,y:o};this.setSeriesRange(a,e)},th.prototype.destroy=function(){},th.prototype.getModuleName=function(){return"AtrIndicator"};var $s,Js,eh=th;function th(){return null!==Js&&Js.apply(this,arguments)||this}ih=function(e,t){return(ih=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ih(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(nh,oh=Aa),nh.prototype.initSeriesCollection=function(e,t){oh.prototype.initSeriesCollection.call(this,e,t);var i=new Pn(e,"targetSeries",{},!0);oh.prototype.setSeriesProperties.call(this,i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)},nh.prototype.initDataSource=function(e){var t=[],i=[],o=e.points;if(o&&o.length){var r=e.targetSeries[1],n=e.targetSeries[0],a=e.period;if(o.length>=e.period)for(var l=0;l<o.length;l++)t.push(this.getDataPoint(o[l].x,100,o[l],r,t.length)),l<a||i.push(this.getDataPoint(o[l].x,Number(o[l].close)/Number(o[l-a].close)*100,o[l],n,i.length));this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(t,e,e.targetSeries[1])}},nh.prototype.destroy=function(){},nh.prototype.getModuleName=function(){return"MomentumIndicator"};var ih,oh,rh=nh;function nh(){return null!==oh&&oh.apply(this,arguments)||this}ah=function(e,t){return(ah=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ah(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(hh,lh=Aa),hh.prototype.initSeriesCollection=function(e,t){var i;lh.prototype.initSeriesCollection.call(this,e,t),e.showZones&&(i=new Pn(e,"targetSeries",{},!0),lh.prototype.setSeriesProperties.call(this,i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t),i=new Pn(e,"targetSeries",{},!0),lh.prototype.setSeriesProperties.call(this,i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t))},hh.prototype.initDataSource=function(e){var t=[],i=[],o=[],r=e.targetSeries[0],n=e.points;if(n.length&&n.length>=e.period){if(e.showZones)for(var a=0;a<n.length;a++)o.push(this.getDataPoint(n[a].x,e.overBought,n[a],e.targetSeries[1],o.length)),i.push(this.getDataPoint(n[a].x,e.overSold,n[a],e.targetSeries[2],i.length));for(var l=Number(n[0].close),s=0,h=0,a=1;a<=e.period;a++){var c=Number(n[a].close);l<c?s+=c-l:h+=l-c,l=c}s/=e.period,h/=e.period,t.push(this.getDataPoint(n[e.period].x,100-100/(1+s/h),n[e.period],r,t.length));for(var d=e.period+1;d<n.length;d++){var p=Number(n[d].close);l<p?(s=(s*(e.period-1)+(p-l))/e.period,h=h*(e.period-1)/e.period):p<l&&(h=(h*(e.period-1)+(l-p))/e.period,s=s*(e.period-1)/e.period),l=p,t.push(this.getDataPoint(n[d].x,100-100/(1+s/h),n[d],r,t.length))}}this.setSeriesRange(t,e,e.targetSeries[0]),e.showZones&&(this.setSeriesRange(o,e,e.targetSeries[1]),this.setSeriesRange(i,e,e.targetSeries[2]))},hh.prototype.destroy=function(){},hh.prototype.getModuleName=function(){return"RsiIndicator"};var ah,lh,sh=hh;function hh(){return null!==lh&&lh.apply(this,arguments)||this}ch=function(e,t){return(ch=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}ch(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(uh,dh=Aa),uh.prototype.initSeriesCollection=function(e,t){dh.prototype.initSeriesCollection.call(this,e,t);var i=new Pn(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"PeriodLine",e.periodLine.color,e.periodLine.width,t),e.showZones&&(i=new Pn(e,"targetSeries",{},!0),this.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t),i=new Pn(e,"targetSeries",{},!0),this.setSeriesProperties(i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t))},uh.prototype.initDataSource=function(e){var t,i=[],o=[],r=[],n=[],a=e.points;if(a.length&&a.length>=e.period){if(e.showZones)for(var l=0;l<a.length;l++)o.push(this.getDataPoint(a[l].x,e.overBought,a[l],e.targetSeries[2],o.length)),r.push(this.getDataPoint(a[l].x,e.overSold,a[l],e.targetSeries[3],r.length));t=this.calculatePeriod(e.period,e.kPeriod,a,e.targetSeries[1]),n=this.smaCalculation(e.period,e.kPeriod,t,e.targetSeries[1]),i=this.smaCalculation(e.period+e.kPeriod-1,e.dPeriod,t,e.targetSeries[0])}this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(n,e,e.targetSeries[1]),e.showZones&&(this.setSeriesRange(o,e,e.targetSeries[2]),this.setSeriesRange(r,e,e.targetSeries[3]))},uh.prototype.smaCalculation=function(e,t,i,o){var r=[];if(i.length>=e+t){for(var n=e+(t-1),a=[],l=[],s=0;s<i.length;s++){var h=Number(i[s].y);a.push(h)}for(var c=a.length;n<=c;){for(var d=0,s=e-1;s<e+t-1;s++)d+=a[s];l.push((d/=t).toFixed(2)),a.splice(0,1),c=a.length}for(var p=n-1,s=0;s<i.length;s++)s<p||(r.push(this.getDataPoint(i[s].x,Number(l[s-p]),i[s],o,r.length)),i[s].y=Number(l[s-p]))}return r},uh.prototype.calculatePeriod=function(e,t,i,o){for(var r=[],n=[],a=[],l=[],s=0;s<i.length;s++)r[s]=i[s].low,n[s]=i[s].high,a[s]=i[s].close;if(i.length>e){for(var h=[],c=[],d=0;d<e-1;++d)c.push(0),h.push(0),l.push(this.getDataPoint(i[d].x,i[d].close,i[d],o,l.length));for(d=e-1;d<i.length;++d){for(var p=Number.MAX_VALUE,u=Number.MIN_VALUE,s=0;s<e;++s)p=Math.min(p,r[d-s]),u=Math.max(u,n[d-s]);c.push(u),h.push(p)}for(d=e-1;d<i.length;++d){var g=0,m=0;g+=a[d]-h[d],m+=c[d]-h[d],l.push(this.getDataPoint(i[d].x,g/m*100,i[d],o,l.length))}}return l},uh.prototype.destroy=function(){},uh.prototype.getModuleName=function(){return"StochasticIndicator"};var ch,dh,ph=uh;function uh(){return null!==dh&&dh.apply(this,arguments)||this}gh=function(e,t){return(gh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}gh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(fh,mh=Aa),fh.prototype.initSeriesCollection=function(e,t){e.targetSeries=[];var i=new Pn(e,"targetSeries",{},!0),i=(i.type="RangeArea","transparent"!==e.bandColor&&"none"!==e.bandColor&&this.setSeriesProperties(i,e,"BollingerBand",e.bandColor,0,t),new Pn(e,"targetSeries",{},!0)),i=(this.setSeriesProperties(i,e,"BollingerBand",e.fill,e.width,t),new Pn(e,"targetSeries",{},!0)),i=(this.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t),new Pn(e,"targetSeries",{},!0));this.setSeriesProperties(i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)},fh.prototype.initDataSource=function(e){var t="transparent"!==e.bandColor&&"none"!==e.bandColor,i=t?1:0,o=[],r=[],n=[],a=[],l=e.targetSeries[1+i],s=e.targetSeries[2+i],h=e.targetSeries[i],c=t?e.targetSeries[0]:null,d=e.points;if(d.length&&d.length>=e.period){for(var p=0,u=0,g=e.standardDeviation,m=d.length,y=Math.round(e.period),f=[],v=[],b=[],x=0;x<y;x++)p+=Number(d[x].close);for(var S=p/e.period,C=0;C<m;C++){var w=Number(d[C].close);if(y-1<=C&&C<m){0<=C-e.period?(S=(p+=w-Number(d[C-y].close))/e.period,f[C]=S,v[C]=Math.pow(w-S,2),u+=v[C]-v[C-y]):(f[C]=S,v[C]=Math.pow(w-S,2),u+=v[C]);var F=Math.sqrt(u/e.period),L=f[C]-g*F,P=f[C]+g*F;if(C+1===y)for(var A=0;A<y-1;A++)b[A]={X:d[A].x,mb:f[C],lb:L,ub:P,visible:!0};b[C]={X:d[C].x,mb:f[C],lb:L,ub:P,visible:!0}}else C<e.period-1&&(f[C]=S,v[C]=Math.pow(w-S,2),u+=v[C])}for(var M=-1,D=-1,k=0;k<m;k++)y-1<=k&&(r.push(this.getDataPoint(d[k].x,b[k].ub,d[k],l,r.length)),n.push(this.getDataPoint(d[k].x,b[k].lb,d[k],s,n.length)),o.push(this.getDataPoint(d[k].x,b[k].mb,d[k],h,o.length)),t)&&a.push(this.getRangePoint(d[k].x,r[++M].y,n[++D].y,d[k],c,a.length))}t&&this.setSeriesRange(a,e,e.targetSeries[0]),this.setSeriesRange(o,e,e.targetSeries[i]),this.setSeriesRange(r,e,e.targetSeries[1+i]),this.setSeriesRange(n,e,e.targetSeries[2+i])},fh.prototype.destroy=function(){},fh.prototype.getModuleName=function(){return"BollingerBandsIndicator"};var gh,mh,yh=fh;function fh(){return null!==mh&&mh.apply(this,arguments)||this}vh=function(e,t){return(vh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}vh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(xh,bh=Aa),xh.prototype.initSeriesCollection=function(e,t){var i;bh.prototype.initSeriesCollection.call(this,e,t),"Line"!==e.macdType&&"Both"!==e.macdType||(i=new Pn(e,"targetSeries",{},!0),this.setSeriesProperties(i,e,"MacdLine",e.macdLine.color,e.macdLine.width,t)),"Histogram"!==e.macdType&&"Both"!==e.macdType||((i=new Pn(e,"targetSeries",{},!0)).type="Column",this.setSeriesProperties(i,e,"Histogram",e.macdPositiveColor,e.width,t))},xh.prototype.initDataSource=function(e){var t,i,o=[],r=e.fastPeriod,n=e.slowPeriod,a=e.period,l=r+a,s=[],h=[],c=e.points,d=e.targetSeries[0];"Histogram"===e.macdType?t=e.targetSeries[1]:(i=e.targetSeries[1],"Both"===e.macdType&&(t=e.targetSeries[2])),c&&l<c.length&&n<=r&&0<n&&0<=l-2&&(l=this.calculateEMAValues(n,c,"close"),n=this.calculateEMAValues(r,c,"close"),r=this.getMACDVales(e,l,n),s=this.getMACDPoints(e,r,c,i||d),l=this.calculateEMAValues(a,s,"y"),o=this.getSignalPoints(e,l,c,d),t)&&(h=this.getHistogramPoints(e,r,l,c,t)),this.setSeriesRange(o,e,e.targetSeries[0]),t&&this.setSeriesRange(h,e,t),i&&this.setSeriesRange(s,e,i)},xh.prototype.calculateEMAValues=function(e,t,i){for(var o,r=0,n=[],a=2/(e+1),l=0;l<e;l++)r+=Number(t[l][i]);n.push(o=r/e);for(var s=o,h=e;h<t.length;h++)s=(Number(t[h][i])-s)*a+s,n.push(s);return n},xh.prototype.getMACDPoints=function(e,t,i,o){for(var r=[],n=e.fastPeriod-1,a=0;n<i.length;)r.push(this.getDataPoint(i[n].x,t[a],i[n],o,r.length)),n++,a++;return r},xh.prototype.getSignalPoints=function(e,t,i,o){for(var r=e.fastPeriod+e.period-2,n=0,a=[];r<i.length;)a.push(this.getDataPoint(i[r].x,t[n],i[r],o,a.length)),r++,n++;return a},xh.prototype.getMACDVales=function(e,t,i){for(var o=[],r=e.fastPeriod-e.slowPeriod,n=0;n<i.length;n++)o.push(t[n+r]-i[n]);return o},xh.prototype.getHistogramPoints=function(e,t,i,o,r){for(var n=e.fastPeriod+e.period-2,a=0,l=[];n<o.length;)l.push(this.getDataPoint(o[n].x,t[a+(e.period-1)]-i[a],o[n],r,l.length,e)),n++,a++;return l},xh.prototype.destroy=function(){},xh.prototype.getModuleName=function(){return"MacdIndicator"};var vh,bh,Aa=xh;function xh(){return null!==bh&&bh.apply(this,arguments)||this}Ch.prototype.initSeriesCollection=function(e,t){var i=new Pn(e,"targetSeries",{},!0);"Linear"===e.type||"MovingAverage"===e.type?i.type="Line":i.type="Spline",this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)},Ch.prototype.setSeriesProperties=function(e,t,i,o,r,n){e.name=t.name,e.xName="x",e.yName="y",e.fill=o||"blue",e.width=r,e.dashArray=t.dashArray,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=t.enableTooltip,e.index=t.index,e.sourceIndex=t.sourceIndex,e.interior=e.fill,e.animation=t.animation,e.legendShape="HorizontalLine",e.marker=t.marker,e.category="TrendLine",e.chart=n,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],t.targetSeries=e,n.isBlazor&&(t.targetSeries.border={},t.targetSeries.connector={})},Ch.prototype.createTrendLineElements=function(e,t,i,o,r){t.trendLineElement=o,t.targetSeries.clipRectElement=r,t.targetSeries.seriesElement=o,e.trendLineElements&&e.trendLineElements.appendChild(t.trendLineElement)},Ch.prototype.getDataPoint=function(e,t,i,o){var r=new cn;return r.x="DateTime"===i.xAxis.valueType?new Date(Number(e)):e,r.y=t,r.xValue=Number(e),r.color=i.fill,r.index=o,r.yValue=Number(t),r.visible=!0,i.xMin=Math.min(i.xMin,r.xValue),i.yMin=Math.min(i.yMin,r.yValue),i.xMax=Math.max(i.xMax,r.xValue),i.yMax=Math.max(i.yMax,r.yValue),i.xData.push(r.xValue),r},Ch.prototype.findSlopeIntercept=function(e,t,i,o){for(var r=0,n=0,a=0,l=0,s=0,h=0,c=0;s<o.length;)isNaN(t[s])&&(t[s]=(t[s-1]+t[s+1])/2),r+=e[s],n+=t[s],a+=e[s]*t[s],l+=e[s]*e[s],s++;var d=i.type;if(!i.intercept||"Linear"!==d&&"Exponential"!==d)h=(o.length*a-r*n)/(o.length*l-r*r),h="Linear"===d?h:Math.abs(h),c="Exponential"===d||"Power"===d?Math.exp((n-h*r)/o.length):(n-h*r)/o.length;else switch(c=i.intercept,d){case"Linear":h=(a-i.intercept*r)/l;break;case"Exponential":h=(a-Math.log(Math.abs(i.intercept))*r)/l}return{slope:h,intercept:c}},Ch.prototype.initDataSource=function(e){var t=e.points;if(t&&t.length){var i=e.targetSeries;switch(e.type){case"Linear":this.setLinearRange(t,e,i);break;case"Exponential":this.setExponentialRange(t,e,i);break;case"MovingAverage":this.setMovingAverageRange(t,e,i);break;case"Polynomial":this.setPolynomialRange(t,e,i);break;case"Power":this.setPowerRange(t,e,i);break;case"Logarithmic":this.setLogarithmicRange(t,e,i)}"Linear"!==e.type&&"MovingAverage"!==e.type&&i.chart.splineSeriesModule.findSplinePoint(i)}},Ch.prototype.setExponentialRange=function(e,t,i){for(var o=[],r=[],n=0;n<e.length;){var a=e[n],l=a.yValue?Math.log(a.yValue):0;o.push(a.xValue),r.push(l),n++}var s=this.findSlopeIntercept(o,r,t,e);i.points=this.getExponentialPoints(t,e,o,r,i,s)},Ch.prototype.setLogarithmicRange=function(e,t,i){for(var o=[],r=[],n=[],a=0;a<e.length;){var l=e[a],s=l.xValue?Math.log(l.xValue):0;n.push(l.xValue),o.push(s),r.push(l.yValue),a++}var h=this.findSlopeIntercept(o,r,t,e);i.points=this.getLogarithmicPoints(t,e,n,r,i,h)},Ch.prototype.setPolynomialRange=function(e,t,i){for(var o=[],r=[],n=0;n<e.length;){var a=e[n];o.push(a.xValue),r.push(a.yValue),n++}i.points=this.getPolynomialPoints(t,e,o,r,i)},Ch.prototype.setPowerRange=function(e,t,i){for(var o=[],r=[],n=[],a=0;a<e.length;){var l=e[a],s=l.xValue?Math.log(l.xValue):0,h=l.yValue?Math.log(l.yValue):0;n.push(l.xValue),o.push(s),r.push(h),a++}var c=this.findSlopeIntercept(o,r,t,e);i.points=this.getPowerPoints(t,e,n,r,i,c)},Ch.prototype.setLinearRange=function(e,t,i){for(var o=[],r=[],n=0;n<e.length;){var a=e[n];o.push(a.xValue),r.push(a.yValue),n++}var l=this.findSlopeIntercept(o,r,t,e);i.points=this.getLinearPoints(t,e,o,r,i,l)},Ch.prototype.setMovingAverageRange=function(e,t,i){for(var o=[],r=[],n=0;n<e.length;){var a=e[n];r.push(a.xValue),o.push(a.yValue),n++}i.points=this.getMovingAveragePoints(t,e,r,o,i)},Ch.prototype.getLogarithmicPoints=function(e,t,i,o,r,n){var t=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,s=l?Math.log(l):0,s=n.intercept+n.slope*s,t=i[t-1],h=t?Math.log(t):0,h=n.intercept+n.slope*h,i=i[i.length-1]+e.forwardForecast,e=i?Math.log(i):0,n=n.intercept+n.slope*e;return a.push(this.getDataPoint(l,s,r,a.length)),a.push(this.getDataPoint(t,h,r,a.length)),a.push(this.getDataPoint(i,n,r,a.length)),a},Ch.prototype.getPowerPoints=function(e,t,i,o,r,n){var t=Math.round(t.length/2),a=[],l=-1<(l=i[0]-e.backwardForecast)?l:0,s=n.intercept*Math.pow(l,n.slope),t=i[t-1],h=n.intercept*Math.pow(t,n.slope),i=i[i.length-1]+e.forwardForecast,e=n.intercept*Math.pow(i,n.slope);return a.push(this.getDataPoint(l,s,r,a.length)),a.push(this.getDataPoint(t,h,r,a.length)),a.push(this.getDataPoint(i,e,r,a.length)),a},Ch.prototype.getPolynomialPoints=function(e,t,i,o,r){var n=t.length<=e.polynomialOrder?t.length:e.polynomialOrder,n=Math.max(2,n);n=Math.min(6,n),e.polynomialOrder=n,e.polynomialSlopes=[],e.polynomialSlopes.length=e.polynomialOrder+1;for(var a=0;a<i.length;){for(var l=i[a],s=o[a],h=0;h<=e.polynomialOrder;)e.polynomialSlopes[h]||(e.polynomialSlopes[h]=0),e.polynomialSlopes[h]+=Math.pow(l,h)*s,++h;a++}for(var c=[],d=(c.length=1+2*e.polynomialOrder,[]),p=(d.length=e.polynomialOrder+1,0);p<e.polynomialOrder+1;)d[p]=[],d[p].length=3,p++;for(var u=0;u<i.length;){for(var g=i[u],m=1,y=0;y<c.length;)c[y]||(c[y]=0),c[y]+=m,m*=g,++y;++u}for(var f=0;f<=e.polynomialOrder;){for(var v=0;v<=e.polynomialOrder;)d[f][v]=c[f+v],++v;++f}return this.gaussJordanElimination(d,e.polynomialSlopes)||(e.polynomialSlopes=null),this.getPoints(e,t,i,r)},Ch.prototype.getMovingAveragePoints=function(e,t,i,o,r){for(var n,a,l=[],s=e.period>=t.length?t.length-1:e.period,s=Math.max(2,s),h=0;h<t.length-1;){for(var c=a=0,d=h;a<s;d++)a++,c+=o[d];K.isNullOrUndefined(c=+s<0?null:c&&c/+s)||isNaN(c)||(n=i[s-1+h],l.push(this.getDataPoint(n,c,r,l.length))),h++}return l},Ch.prototype.getLinearPoints=function(e,t,i,o,r,n){var a=[],l=i.indexOf(Math.max.apply(null,i)),s=i.indexOf(Math.min.apply(null,i)),s=i[s]-e.backwardForecast,h=n.slope*s+n.intercept,i=i[l]+e.forwardForecast,l=n.slope*i+n.intercept;return a.push(this.getDataPoint(s,h,r,a.length)),a.push(this.getDataPoint(i,l,r,a.length)),a},Ch.prototype.getExponentialPoints=function(e,t,i,o,r,n){var t=Math.round(t.length/2),a=[],l=i[0]-e.backwardForecast,s=n.intercept*Math.exp(n.slope*l),t=i[t-1],h=n.intercept*Math.exp(n.slope*t),i=i[i.length-1]+e.forwardForecast,e=n.intercept*Math.exp(n.slope*i);return a.push(this.getDataPoint(l,s,r,a.length)),a.push(this.getDataPoint(t,h,r,a.length)),a.push(this.getDataPoint(i,e,r,a.length)),a},Ch.prototype.getPoints=function(e,t,i,o){var r,n,a=e.polynomialSlopes,l=[],s=1,h=1;for(t.sort(function(e,t){return e.xValue-t.xValue}),i.sort(function(e,t){return e-t});null!==a&&h<=a.length;)n=(r=1===h?i[0]-e.backwardForecast:h===a.length?i[t.length-1]+e.forwardForecast:(s+=(t.length+("DateTime"===o.xAxis.valueType?h:e.forwardForecast))/a.length,i[parseInt(s.toString(),10)-1]),this.getPolynomialYValue(a,r)),l.push(this.getDataPoint(r,n,o,l.length)),h++;return l},Ch.prototype.getPolynomialYValue=function(e,t){for(var i=0,o=0;o<e.length;)i+=e[o]*Math.pow(t,o),o++;return i},Ch.prototype.gaussJordanElimination=function(e,t){for(var i=e.length,o=[],r=[],n=[],a=(n.length=r.length=o.length=i,0);a<i;)n[a]=0,++a;for(var l=0;l<i;){for(var s=0,h=0,c=0,d=0;d<i;){if(1!==n[d])for(var p=0;p<i;)0===n[p]&&Math.abs(e[d][p])>=s&&(s=Math.abs(e[d][p]),h=d,c=p),++p;++d}if(++n[c],h!==c){for(var u=0;u<i;){var g=e[h][u];e[h][u]=e[c][u],e[c][u]=g,++u}var m=t[h];t[h]=t[c],t[c]=m}if(r[l]=h,0===e[o[l]=c][c])return!1;for(var y=1/e[c][c],f=(e[c][c]=1,0);f<i;)e[c][f]*=y,++f;t[c]*=y;for(var v=0;v<i;){if(v!==c){for(g=e[v][c],p=e[v][c]=0;p<i;)e[v][p]-=e[c][p]*g,++p;t[v]-=t[c]*g}++v}++l}for(var b=i-1;0<=b;){if(r[b]!==o[b])for(var x=0;x<i;){var S=e[x][r[b]];e[x][r[b]]=e[x][o[b]],e[x][o[b]]=S,++x}--b}return!0},Ch.prototype.getTrendLineElements=function(e,t){vo(e);var i=e.clipRect,o=t.renderer.drawClipPath(new Pr(t.element.id+"_ChartTrendlineClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:i.width,height:i.height})),r=t.renderer.createGroup({id:t.element.id+"TrendlineSeriesGroup"+e.index,transform:"translate("+i.x+","+i.y+")","clip-path":"url(#"+t.element.id+"_ChartTrendlineClipRect_"+e.index+")"});r&&r.appendChild(o);for(var n=0,a=e.trendlines;n<a.length;n++){var l=a[n];this.createTrendLineElements(t,l,l.index,r,o)}},Ch.prototype.destroy=function(){},Ch.prototype.getModuleName=function(){return"TrendLine"};var Sh=Ch;function Ch(){}Fh.prototype.addEventListener=function(){var e;this.chart.isDestroyed||(e=K.Browser.isPointer?"pointerleave":"mouseleave",this.chart.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(K.Browser.touchEndEvent,this.mouseUpHandler,this),this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this))},Fh.prototype.mouseUpHandler=function(){this.chart.startMove&&this.removeCrosshair(2e3)},Fh.prototype.mouseLeaveHandler=function(){this.removeCrosshair(1e3)},Fh.prototype.mouseMoveHandler=function(e){var t=this.chart;t.stockChart&&t.stockChart.onPanning&&(t.mouseY<t.chartAxisLayoutPanel.seriesClipRect.y?t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y:t.mouseY>t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height&&(t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height)),"touchmove"===e.type&&(K.Browser.isIos||K.Browser.isIos7)&&t.startMove&&e.preventDefault&&e.preventDefault(),t.disableTrackTooltip||(mo(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?!t.startMove&&t.isTouch||this.crosshair():this.removeCrosshair(1e3))},Fh.prototype.longPress=function(){var e=this.chart;return mo(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.crosshair(),!1},Fh.prototype.crosshair=function(){var e,t,i=this.chart,o="",r="",n=document.getElementById(this.elementID+"_crosshair_axis"),a=i.crosshair,l=document.getElementById(this.elementID+"_tooltip"),s=i.chartAxisLayoutPanel.seriesClipRect,h=i.enableCanvas?document.getElementById(this.elementID+"_Secondary_Element"):document.getElementById(this.elementID+"_UserInteraction"),c=document.getElementById(this.elementID+"_Crosshair");if(!i.enableCanvas||c||(c=K.createElement("div",{id:this.elementID+"_Crosshair",styles:"position: absolute; pointer-events: none"}),h.appendChild(c)),this.stopAnimation(),i.isCrosshair&&i.tooltip.enable&&i.tooltipModule&&!mo(i.tooltipModule.valueX,i.tooltipModule.valueY,s))return null;this.valueX=i.tooltip.enable&&i.tooltipModule&&i.tooltipModule.valueX?i.tooltipModule.valueX:i.mouseX,this.valueY=i.tooltip.enable&&i.tooltipModule&&i.tooltipModule.valueY?i.tooltipModule.valueY:i.mouseY,i.enableCanvas||h.setAttribute("opacity","1"),"Both"!==a.lineType&&"Horizontal"!==a.lineType||(o+="M "+s.x+" "+this.valueY+" L "+(s.x+s.width)+" "+this.valueY),"Both"!==a.lineType&&"Vertical"!==a.lineType||(r+="M "+this.valueX+" "+s.y+" L "+this.valueX+" "+(s.y+s.height)),i.enableCanvas?(n=n||this.svgRenderer.createGroup({id:this.elementID+"_crosshair_axis"}),t=i.tooltip.enable?i.element.id+"_tooltip_svg":i.element.id+"_svg",t=this.svgRenderer.createSvg({id:t,width:i.availableSize.width,height:i.availableSize.height}),i.tooltip.enable&&((l=l||i.tooltipModule.createElement()).appendChild(t),h.appendChild(l)),e=new $.PathOption(this.elementID+"_HorizontalLine","none",a.line.width,a.horizontalLineColor||a.line.color||i.themeStyle.crosshairLine,a.opacity,a.dashArray,o),this.drawCrosshairLine(e,c,s.x,this.valueY,s.width,0,o),e=new $.PathOption(this.elementID+"_VerticalLine","none",a.line.width,a.verticalLineColor||a.line.color||i.themeStyle.crosshairLine,a.opacity,a.dashArray,r),this.drawCrosshairLine(e,c,this.valueX,s.y,0,s.height,r),this.renderAxisTooltip(i,s,n),t.appendChild(n),i.tooltip.enable||c.appendChild(t)):(0===h.childNodes.length?(n=i.renderer.createGroup({id:this.elementID+"_crosshair_axis"}),e=new $.PathOption(this.elementID+"_HorizontalLine","none",a.line.width,a.horizontalLineColor||a.line.color||i.themeStyle.crosshairLine,a.opacity,a.dashArray,o),this.renderCrosshairLine(e,h),e=new $.PathOption(this.elementID+"_VerticalLine","none",a.line.width,a.verticalLineColor||a.line.color||i.themeStyle.crosshairLine,a.opacity,a.dashArray,r),this.renderCrosshairLine(e,h),h.appendChild(n)):(document.getElementById(this.elementID+"_HorizontalLine").setAttribute("d",o),document.getElementById(this.elementID+"_VerticalLine").setAttribute("d",r)),this.renderAxisTooltip(i,s,h.lastChild))},Fh.prototype.renderCrosshairLine=function(e,t){e=this.chart.renderer.drawPath(e);t.appendChild(e)},Fh.prototype.drawCrosshairLine=function(e,t,i,o,r,n,a){!document.getElementById(e.id)&&a&&(a=K.createElement("div",{id:e.id}),t.appendChild(a)),document.getElementById(e.id)&&(a="top:"+o.toString()+"px;left:"+i.toString()+"px;width:"+r+"px;height:"+n+"px;fill:"+e.stroke+";border: 0.5px solid "+e.stroke+";opacity: "+e.opacity+" ; position: absolute",o=document.getElementById(e.id),i=document.getElementById(this.elementID+"_crosshair_axis"),o.style.cssText=a,t.style.opacity="1",i)&&(i.style.opacity="1")},Fh.prototype.renderAxisTooltip=function(e,t,i){for(var o,r,n,a,l=0,s=e.axisCollections.length;l<s;l++)if(p=(u=e.axisCollections[l]).placeNextToAxisLine?u.updatedRect:u.rect,u.crosshairTooltip.enable)if(p&&(this.valueX<=p.x+p.width&&p.x<=this.valueX||this.valueY<=p.y+p.height&&p.y<=this.valueY)){if(n=document.getElementById(this.elementID+"_axis_tooltip_"+l),a=document.getElementById(this.elementID+"_axis_tooltip_text_"+l),(o=(o=this.getAxisText(u))&&-1<o.indexOf("<br")?this.getAxisText(u).split(/<br.*?>/g):o)&&!((r=this.tooltipLocation(o,u,t,p)).y+r.height/2>e.availableSize.height||r.y<0)){if(null===n&&(n=e.enableCanvas?this.svgRenderer.drawPath({id:this.elementID+"_axis_tooltip_"+l,fill:u.crosshairTooltip.fill||e.themeStyle.crosshairFill}):e.renderer.drawPath({id:this.elementID+"_axis_tooltip_"+l,fill:u.crosshairTooltip.fill||e.themeStyle.crosshairFill},null),i.appendChild(n),p=new $.TextOption(this.elementID+"_axis_tooltip_text_"+l,0,0,e.stockChart&&e.enableRtl?"end":"start",o),a=gr(e.enableCanvas?this.svgRenderer:e.renderer,p,u.crosshairTooltip.textStyle,u.crosshairTooltip.textStyle.color||e.themeStyle.crosshairLabelFont.color,i,null,null,null,null,null,null,0,null,e.enableCanvas,null,this.chart.themeStyle.crosshairLabelFont)),p=go(this.rx,this.ry,r,this.arrowLocation,9,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY),n.setAttribute("d",p),"string"!=typeof o&&1<o.length)for(var h=0;h<o.length;h++)a.childNodes[h].textContent=o[h];else a.textContent=o;a.setAttribute("x",(r.x+5+(e.enableRtl?this.elementSize.width:0)).toString()),a.setAttribute("y",(r.y+5+3*this.elementSize.height/4).toString());var c,d,p,u=this.chart.element.id+"_shadow";if("string"!=typeof o&&1<o.length){var g=0;a.setAttribute("y",(r.y+5+3*this.elementSize.height/(4*o.length)).toString());for(h=0;h<a.children.length;h++)g+=this.elementSize.height/o.length,a.children[h].setAttribute("x",(r.x+5+(e.enableRtl?this.elementSize.width:0)+this.elementSize.width/2).toString()),a.children[h].setAttribute("y",(parseInt(a.getAttribute("y"),10)+g).toString()),a.children[h].setAttribute("style","text-anchor: middle")}"Fluent"===this.chart.theme||"FluentDark"===this.chart.theme||"Fabric"===this.chart.theme||"FabricDark"===this.chart.theme?(d=this.chart.renderer.createDefs(),p="Fluent"===this.chart.theme||"Fabric"===this.chart.theme?"#D2D0CE":null,c="Fluent"===this.chart.theme||"Fabric"===this.chart.theme?1:null,d.setAttribute("id",this.chart.element.id+"SVG_tooltip_definition"),i.appendChild(d),n.setAttribute("stroke",p),n.setAttribute("stroke-width"," "+c)):-1<this.chart.theme.indexOf("Fluent2")&&(n.setAttribute("box-shadow","0px 1.6px 3.6px 0px #00000021, 0px 0.3px 0.9px 0px #0000001A"),n.setAttribute("filter",K.Browser.isIE?"":"url(#"+u+")"),p='<filter id="'+u+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="-1" dy="3.6" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',(d=this.chart.renderer.createDefs()).setAttribute("id",this.chart.element.id+"SVG_tooltip_definition"),n.appendChild(d),d.innerHTML=p)}}else w(this.elementID+"_axis_tooltip_"+l),w(this.elementID+"_axis_tooltip_text_"+l)},Fh.prototype.getAxisText=function(e){this.isBottom=!1,this.isTop=!1,this.isLeft=!1,this.isRight=!1;var t,i="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,o=e.isAxisOpposedPosition;return"Horizontal"===e.orientation?(t=yo(Math.abs(this.valueX-e.rect.x),e.rect.width,e)+i,this.isBottom=!o,this.isTop=o):(t=fo(Math.abs(this.valueY-e.rect.y),e.rect.height,e)+i,this.isRight=o,this.isLeft=!o),"DateTime"===e.valueType?e.format(new Date(t)):"Category"===e.valueType?e.labels[Math.floor(t)]:"DateTimeCategory"===e.valueType?this.chart.dateTimeCategoryModule.getIndexedAxisLabel(e.labels[Math.round(t)],e.format):"Logarithmic"===e.valueType?e.format(Math.pow(e.logBase,t)):e.labelFormat&&null!==e.labelFormat.match("{value}")?e.labelFormat.replace("{value}",e.format(t)):e.format(t)},Fh.prototype.tooltipLocation=function(e,t,i,o){var r=i.x,n=i.y,a="Inside"===t.labelPosition,l=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;if(this.elementSize=$.measureText(e,t.crosshairTooltip.textStyle,this.chart.themeStyle.crosshairLabelFont),"string"!=typeof e&&1<e.length){this.elementSize.width=0;for(var s=this.elementSize.height=0;s<e.length;s++){var h=$.measureText(e[s],t.crosshairTooltip.textStyle,this.chart.themeStyle.crosshairLabelFont);this.elementSize.height+=h.height,this.elementSize.width<h.width&&(this.elementSize.width=h.width)}}var c,d,p=t.isAxisOpposedPosition;return"Horizontal"===t.orientation?(d=a?o.y-this.elementSize.height-19:o.y+l,c=a?o.y-this.elementSize.height-9:o.y+9,this.arrowLocation=new ee(this.valueX,d),d=new $.Rect(this.valueX-this.elementSize.width/2-5,c+(a?0:l),this.elementSize.width+10,this.elementSize.height+10),p&&(d.y=a?o.y:o.y-(this.elementSize.height+10+9)-l),d.x<r&&(d.x=r),d.x+d.width>r+i.width&&(d.x-=d.x+d.width-(r+i.width)),this.arrowLocation.x+4.5>d.x+d.width-this.rx&&(this.arrowLocation.x=d.x+d.width-this.rx-9),this.arrowLocation.x-9<d.x+this.rx&&(this.arrowLocation.x=d.x+this.rx+9)):(l*=p?1:-1,this.arrowLocation=new ee(o.x,this.valueY),c=a?o.x-l:o.x-this.elementSize.width-19,d=new $.Rect(c+l,this.valueY-this.elementSize.height/2-5,this.elementSize.width+10,this.elementSize.height+10),p?(d.x=a?o.x-this.elementSize.width-9:o.x+9+l,d.x+d.width>this.chart.availableSize.width&&(this.arrowLocation.x-=d.x+d.width-this.chart.availableSize.width,d.x-=d.x+d.width-this.chart.availableSize.width)):d.x<0&&(this.arrowLocation.x-=d.x,d.x=0),d.y<n&&(d.y=n),d.y+d.height>=n+i.height&&(d.y-=d.y+d.height-(n+i.height)),this.arrowLocation.y+4.5>d.y+d.height-this.ry&&(this.arrowLocation.y=d.y+d.height-this.ry-4.5),this.arrowLocation.y-4.5<d.y+this.ry&&(this.arrowLocation.y=d.y+this.ry+4.5)),d},Fh.prototype.stopAnimation=function(){qo(this.crosshairInterval)},Fh.prototype.progressAnimation=function(){qo(this.crosshairInterval)},Fh.prototype.removeCrosshair=function(e){var t=this.chart,i=t.enableCanvas?document.getElementById(this.elementID+"_Crosshair"):document.getElementById(this.elementID+"_UserInteraction"),o=t.enableCanvas?document.getElementById(this.elementID+"_crosshair_axis"):null;this.stopAnimation(),i&&"0"!==i.getAttribute("opacity")&&(this.crosshairInterval=+setTimeout(function(){new K.Animation({}).animate(i,{duration:200,progress:function(e){i.style.animation="",t.enableCanvas?(i.style.opacity=(1-e.timeStamp/e.duration).toString(),o.style.opacity=(1-e.timeStamp/e.duration).toString()):i.setAttribute("opacity",(1-e.timeStamp/e.duration).toString())},end:function(){t.enableCanvas?(i.style.opacity="0",o.style.opacity="0"):i.setAttribute("opacity","0"),t.startMove=!1,t.tooltipModule&&(t.tooltipModule.valueX=null,t.tooltipModule.valueY=null)}})},e))},Fh.prototype.getModuleName=function(){return"Crosshair"},Fh.prototype.destroy=function(){};var wh=Fh;function Fh(e){this.arrowLocation=new ee(0,0),this.rx=2,this.ry=2,this.chart=e,this.elementID=this.chart.element.id,this.svgRenderer=new $.SvgRenderer(this.chart.element.id),this.addEventListener()}Lh=function(e,t){return(Lh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Lh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Mh,Ph=Qr),Mh.prototype.getElement=function(e){return document.getElementById(e)},Mh.prototype.getTooltipElement=function(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"${point.x}":"${series.name}":this.control.tooltip.header,this.formattedText=[];var t=document.getElementById(this.chart.element.id+"_tooltip"),i=-1<this.chart.element.id.indexOf("stockChart");return!e&&!t||i?this.createElement():null},Mh.prototype.createElement=function(){var e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.style.pointerEvents="none",e.style.position="absolute",e.style.zIndex="1",e},Mh.prototype.pushData=function(e,t,i,o,r){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element"):document.getElementById(this.element.id+"_Secondary_Element")).appendChild(i),!0)},Mh.prototype.removeHighlight=function(){for(var e,t=0,i=this.previousPoints.length;t<i;t++)(e=this.previousPoints[t]).series.isRectSeries&&e.series.visible&&this.highlightPoint(e.series,e.point.index,!1)},Mh.prototype.highlightPoint=function(e,t,i){var o=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t),r=this.control.accumulationSelectionModule,r=!!(r&&0<r.selectedDataIndexes.length);o&&(!r||o.getAttribute("class")&&-1===o.getAttribute("class").indexOf("_ej2_chart_selection_series_")?""===this.chart.highlightColor||K.isNullOrUndefined(this.chart.highlightColor)?o.setAttribute("opacity",(i&&"transparent"!==this.chart.highlightColor?e.opacity/2:e.opacity).toString()):o.setAttribute("fill",i&&"transparent"!==this.chart.highlightColor?this.chart.highlightColor:""!==e.pointColorMapping?e.points[0].color:e.points[t].color||e.interior):o.setAttribute("opacity",e.opacity.toString()))},Mh.prototype.highlightPoints=function(){for(var e=0,t=this.currentPoints;e<t.length;e++){var i=t[e];i.series.isRectSeries&&"Series"===i.series.category&&this.highlightPoint(i.series,i.point.index,!0)}},Mh.prototype.createTooltip=function(e,t,i,o,r,n,a,l,s,h,c,d){void 0===s&&(s=!1),void 0===h&&(h=null),void 0===c&&(c=null);var p=this.currentPoints[0].series,u=e.tooltipModule||e.tooltip3DModule||e.accumulationTooltipModule;u&&null!==i?(t?(this.svgTooltip=new $.Tooltip({opacity:e.tooltip.opacity||("Material3"===this.chart.theme||"Material3Dark"===this.chart.theme?1:.75),header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:this.control.tooltip.shared,crosshair:s,shapes:n,clipBounds:"PolarRadar"===this.chart.chartAreaType?new ee(0,0):o,areaBounds:l,palette:this.findPalette(),template:d||this.template,data:c,theme:e.theme,offset:a,textStyle:e.tooltip.textStyle,isNegative:p.isRectSeries&&"Waterfall"!==p.type&&r&&r.y<0,inverted:this.chart.requireInvertedAxis&&p.isRectSeries,arrowPadding:1<this.text.length||this.chart.stockChart||null!==this.chart.tooltip.location.x||null!==this.chart.tooltip.location.y?0:7,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isFixed:null!==this.chart.tooltip.location.x||null!==this.chart.tooltip.location.y,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},controlInstance:this.chart,enableRTL:e.enableRtl,controlName:"Chart",allowHighlight:"chart"===e.getModuleName()&&!p.marker.allowHighlight,tooltipRender:function(){u.removeHighlight(),u.highlightPoints(),u.updatePreviousPoint(h)},animationComplete:function(e){e.tooltip.fadeOuted&&u.fadeOut(u.previousPoints)}}),this.svgTooltip.appendTo(this.getElement(this.element.id+"_tooltip"))):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=a,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=n,this.svgTooltip.data=c,this.svgTooltip.template=this.template,this.svgTooltip.controlName="Chart",this.svgTooltip.crosshair=s,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=p.isRectSeries&&"Waterfall"!==p.type&&r&&r.y<0,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new ee(0,0):o,this.svgTooltip.arrowPadding=1<this.text.length||this.chart.stockChart||null!==this.chart.tooltip.location.x||null!==this.chart.tooltip.location.y?0:7,this.svgTooltip.allowHighlight="chart"===e.getModuleName()&&!p.marker.allowHighlight,this.svgTooltip.dataBind()),this.chart.isReact&&this.chart.renderReactTemplates()):w(this.chart.element.id+"_tooltip")},Mh.prototype.findPalette=function(){for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var o=i[t];e.push(this.findColor(o,o.series))}return e},Mh.prototype.findColor=function(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color},Mh.prototype.updatePreviousPoint=function(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=K.extend([],this.currentPoints,null,!0)},Mh.prototype.fadeOut=function(e){var t=this.chart.enableCanvas?this.getElement(this.element.id+"_tooltip_group"):this.getElement(this.element.id+"_tooltip_svg");t&&0<parseInt(t.getAttribute("opacity"),10)||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(),this.removeHighlightedMarker(e,!0),this.svgTooltip=null,this.control.trigger("animationComplete",{}))},Mh.prototype.removeHighlightedMarker=function(e,t){if(this.chart.markerRender)for(var i=0,o=e;i<o.length;i++){var r=o[i];w(this.element.id+"_Series_"+r.series.index+"_Point_"+r.point.index+"_Trackball"),this.chart.markerRender.removeHighlightedMarker(r.series,r.point,t)}this.previousPoints=[]},Mh.prototype.removeText=function(){this.textElements=[];var e=this.getElement(this.element.id+"_tooltip_group");if(e&&0<e.childNodes.length)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)},Mh.prototype.stopAnimation=function(){qo(this.toolTipInterval)},Mh.prototype.removeTooltip=function(e){var t=this,i=this.getElement(this.element.id+"_tooltip");this.stopAnimation(),i&&0<this.previousPoints.length&&(this.toolTipInterval=+setTimeout(function(){t.svgTooltip&&t.svgTooltip.fadeOut()},e))};var Lh,Ph,Ah=Mh;function Mh(e){var t=Ph.call(this,e)||this;return t.element=t.chart.element,t.textStyle=e.tooltip.textStyle,t.control=e,t.template=e.tooltip.template,t}Dh=function(e,t){return(Dh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Dh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Th,kh=Ah),Th.prototype.addEventListener=function(){var e;this.chart.isDestroyed||(e=K.Browser.isPointer?"pointerleave":"mouseleave",this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(K.Browser.touchEndEvent,this.mouseUpHandler,this))},Th.prototype.mouseUpHandler=function(){var e=this.control,t=this.getData();t.lierIndex=this.lierIndex,e.isTouch&&!this.isSelected(e)&&(mo(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)?e.crosshair.enable?e.startMove&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(2e3):(this.tooltip(),"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(e.tooltip.fadeOutDuration)):this.findData(t,this.previousPoints[0])||"Click"!==e.tooltip.fadeOutMode||this.removeTooltip(0)},Th.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)},Th.prototype.mouseMoveHandler=function(){var e=this.chart;e.stockChart&&e.stockChart.onPanning&&(e.mouseY<e.chartAxisLayoutPanel.seriesClipRect.y?e.mouseY=e.chartAxisLayoutPanel.seriesClipRect.y:e.mouseY>e.chartAxisLayoutPanel.seriesClipRect.y+e.chartAxisLayoutPanel.seriesClipRect.height&&(e.mouseY=e.chartAxisLayoutPanel.seriesClipRect.y+e.chartAxisLayoutPanel.seriesClipRect.height)),e.disableTrackTooltip||this.isSelected(e)||(e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip(),mo(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?!e.tooltip.shared||e.isTouch&&!e.startMove||this.tooltip():e.tooltip.shared&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))},Th.prototype.longPress=function(){var e=this.chart;return e.crosshair.enable&&mo(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&(this.tooltip(),e.markerRender.markerMove(!1)),!1},Th.prototype.tooltip=function(){var e=this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg",e=this.getElement(e),t=this.chart.stockChart&&e&&1<e.firstChild.childNodes.length,e=e&&0<parseInt(e.getAttribute("opacity"),10)&&!t,t=this.getTooltipElement(e);this.chart.enableCanvas&&t&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(t),t.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!e,t):this.renderSeriesTooltip(this.chart,!e,t)},Th.prototype.findHeader=function(e){return""!==this.header&&(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())?this.header:""},Th.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker)return[];for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var o=i[t];e.push(o.point.marker.shape||o.series.marker.shape||"Circle")}return e},Th.prototype.renderSeriesTooltip=function(e,t,i){var o=this.getData();if(o.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(o,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&o.point.index===this.previousPoints[0].point.index&&o.series.index===this.previousPoints[0].series.index)return null;this.pushData(o,t,i,!0)&&this.triggerTooltipRender(o,t,this.getTooltipText(o),this.findHeader(o))}else if(!o.point&&this.isRemove&&"Move"===e.tooltip.fadeOutMode)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(var r=this.mergeXvalues(this.chart.visibleSeries),n=0,a=e.visibleSeries;n<a.length;n++){var l=a[n];l.visible&&"TrendLine"!==l.category&&(o=this.getClosestX(e,l,r)||o)}o&&o.point&&this.findMouseValue(o,e)},Th.prototype.triggerTooltipRender=function(i,o,e,t){function r(e){var t;e.cancel?(n.removeHighlight(),K.remove(n.getElement(n.element.id+"_tooltip"))):("BoxAndWhisker"===i.series.type&&(n.removeText(),o=!0),n.headerText=e.headerText,n.formattedText=n.formattedText.concat(e.text),n.text=n.formattedText,(t=(t=n.getSymbolLocation(i))||new ee(null,null)).x=(null!==l.location.x?l.location:t).x,t.y=(null!==l.location.y?l.location:t).y,t=null===t.x&&null===t.y?null:t,n.createTooltip(n.chart,o,t,i.series.clipRect,i.point,n.findShapes(),n.findMarkerHeight(n.currentPoints[0]),new $.Rect(a,a,n.chart.availableSize.width-3-2*a,n.chart.availableSize.height-3-2*a),n.chart.crosshair.enable,null,n.getTemplateText(i),n.template?e.template:"")),n.isRemove=!0}var n=this,e={cancel:!1,name:gt,text:e,headerText:t,template:void 0,series:this.chart.isBlazor?{}:i.series,textStyle:this.textStyle,point:i.point,data:{pointX:i.point.x,pointY:i.point.y,seriesIndex:i.series.index,seriesName:i.series.name,pointIndex:i.point.index,pointText:i.point.text}},a=this.chart.border.width,l=this.chart.tooltip;r.bind(this,i),this.chart.trigger(gt,e,r)},Th.prototype.findMarkerHeight=function(e){e=e.series;return(e.marker.visible||this.chart.tooltip.shared&&(!e.isRectSeries||e.marker.visible)||"Scatter"===e.type||"Scatter"===e.drawType)&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type?(e.marker.height+2)/2+2*e.marker.border.width:0},Th.prototype.findData=function(e,t){return e.point&&(!t||t.point!==e.point||t&&3<t.lierIndex&&t.lierIndex!==this.lierIndex||t.point===e.point)},Th.prototype.getSymbolLocation=function(e){var t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new ee(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"RangeColumn":return this.getRangeArea(e,t);default:return t}},Th.prototype.getRangeArea=function(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2,"RangeStepArea"===e.series.type)&&(t.y=e.point.regions[0].y+e.point.regions[0].height/2+e.point.regions[0].width),t},Th.prototype.getWaterfallRegion=function(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t},Th.prototype.getTooltipText=function(e){var t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)},Th.prototype.getTemplateText=function(e){if(this.template&&this.chart.tooltip.shared){for(var t=[],i=0;i<e.length;i++)t[i]=K.extend({},e[i].point),t[i].x=this.formatPointValue(e[i].point,e[i].series.xAxis,"x",!0,!1),"XY"===e[i].series.seriesType?t[i].y=this.formatPointValue(e[i].point,e[i].series.yAxis,"y",!1,!0):(t[i].low=this.formatPointValue(e[i].point,e[i].series.yAxis,"low",!1,!0),t[i].high=this.formatPointValue(e[i].point,e[i].series.yAxis,"high",!1,!0));return t}return this.template?((t=K.extend({},e.point)).x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t):e.point},Th.prototype.findMouseValue=function(e,t){t.requireInvertedAxis?(this.valueY=(1-ro(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):("PolarRadar"===t.chartAreaType?this.valueX=so(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:this.valueX="TrendLine"===e.series.category&&t.tooltip.shared?this.valueX:ro(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)},Th.prototype.renderGroupedTooltip=function(e,t,i){for(var o,r,n,a,l=[],s="PolarRadar"===e.chartAreaType?this.getData():null,h=(this.stopAnimation(),this.removeHighlight(),this.currentPoints=[],Number.MAX_VALUE),c=Number.MAX_VALUE,d=(t&&(e.stockChart?i&&!$.getElement(i.id)&&document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText(),{text:[],cancel:!1,name:st,data:[],point:[],series:[],headerText:"",textStyle:this.textStyle,template:[]}),p=0,u=0,g=e.visibleSeries;u<g.length;u++){var m=g[u];m.enableTooltip&&m.visible&&("Cartesian"===e.chartAreaType&&m.visible?o=this.getClosestX(e,m,this.commonXValue(this.chart.visibleSeries)):"PolarRadar"===e.chartAreaType&&m.visible&&null!==s.point&&(o=new Or(m.points[s.point.index],m)),(o=e.tooltip.showNearestPoint&&!o?this.getClosestX(e,m,this.commonXValue([m])):o)&&(d.data.push({pointX:o.point.x,pointY:o.point.y,seriesIndex:o.series.index,seriesName:o.series.name,pointIndex:o.point.index,pointText:o.point.text}),d.series[p]=o.series,d.point[p]=o.point,d.headerText=this.findHeader(o),this.currentPoints.push(o),null!=this.template&&d.template.push(this.template.toString()),d.text.push(this.getTooltipText(o)),m=e.requireInvertedAxis?e.mouseY-o.series.clipRect.y:e.mouseX-o.series.clipRect.x,n=e.mouseY-o.series.clipRect.y,o.point.symbolLocations&&o.point.symbolLocations.length&&Math.abs(m-o.point.symbolLocations[0].x)<=h&&Math.abs(o.point.symbolLocations[0].y-n)<Math.abs(c-n)&&(h=Math.abs(m-o.point.symbolLocations[0].x),c=o.point.symbolLocations[0].y,a=o),r="TrendLine"===o.series.category&&e.tooltip.shared?r:a||o,l.push(o)),p++)}if(!e.tooltip.showNearestPoint){var y=[];this.currentPoints=[],d.point=[],d.series=[],d.data=[],d.text=[];for(var f=0,v=l;f<v.length;f++){var b=v[f];b.point.symbolLocations[0].x!==r.point.symbolLocations[0].x&&(-1===b.series.type.indexOf("Column")&&-1===r.series.type.indexOf("Column")||b.point.xValue!==r.point.xValue)||(d.point.push(b.point),d.series.push(b.series),d.text.push(this.getTooltipText(b)),d.headerText=this.findHeader(b),y.push(b),d.data.push({pointX:b.point.x,pointY:b.point.y,seriesIndex:b.series.index,seriesName:b.series.name,pointIndex:b.point.index,pointText:b.point.text}))}this.currentPoints=l=y}0<l.length&&0<this.currentPoints.length?this.triggerSharedTooltip(d,r,[],e,t,l):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")},Th.prototype.triggerSharedTooltip=function(e,r,n,a,l,s){function t(e){if(e.cancel)w(d.element.id+"_tooltip"),n.push(r);else{"BoxAndWhisker"===r.series.type&&(d.removeText(),l=!0);for(var t=0;t<e.text.length;t++)e.text[t]&&g.push(d.currentPoints[t]);d.currentPoints=g,d.formattedText=d.formattedText.concat(e.text),d.text=e.text,d.headerText=e.headerText,"object"!=typeof e.template?(e.template=e.template.split(","),e.template.length>g.length&&(e.template=e.template.splice(e.template.length-1))):e.template.length>g.length&&e.template.splice(e.template.length-1);var i=d.chart.tooltip,o=(d.findMouseValue(r,d.chart),d.findSharedLocation());(o=o||new ee(null,null)).x=(null!==i.location.x?i.location:o).x,o.y=(null!==i.location.y?i.location:o).y,o=null===o.x&&null===o.y?null:o,d.createTooltip(a,l,o,1===d.currentPoints.length?d.currentPoints[0].series.clipRect:null,1===s.length?s[0].point:null,d.findShapes(),d.findMarkerHeight(d.currentPoints[0]),new $.Rect(p,a.stockChart?h+c+p:p,d.chart.availableSize.width-u-2*p,d.chart.availableSize.height-u-2*p),d.chart.crosshair.enable,n,d.template?d.getTemplateText(s):null,d.template?e.template.join(""):""),r=null}}var h,c,d=this,i=e.template,i={cancel:!1,name:st,text:e.text,headerText:e.headerText,textStyle:e.textStyle,template:i,point:e.point,series:e.series,data:e.data},p=this.chart.border.width,u=3,g=[];a.stockChart&&(h=a.stockChart.enablePeriodSelector?a.stockChart.toolbarHeight:0,c=$.measureText(this.chart.stockChart.title,this.chart.stockChart.titleStyle,this.chart.themeStyle.tooltipLabelFont).height+10);t.bind(this,r,n),this.chart.trigger(st,i,t)},Th.prototype.findSharedLocation=function(){var e,t,i=this.chart.stockChart;return i?(1===this.text.length&&this.text.push(""),e=i.enablePeriodSelector?i.toolbarHeight:0,t=document.getElementById(i.element.id+"_ChartTitle"),t=""!==i.title?t.getBoundingClientRect().height+10:0,"Nearest"===i.tooltip.position?new ee(this.valueX,this.valueY+e+t):new ee(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+e+5+t)):1<this.currentPoints.length?new ee(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])},Th.prototype.getBoxLocation=function(e){return 3<this.lierIndex?0<e.point.outliers.length?e.point.symbolLocations[this.lierIndex-4]:null:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2}},Th.prototype.parseTemplate=function(e,t,i,o,r){for(var n,a=RegExp,l=0,s=Object.keys(e);l<s.length;l++){var h=new a("${point."+(c=s[l])+"}","gm");i=i.replace(h.source,this.formatPointValue(e,"${point.x}"===h.source?o:r,c,"${point.x}"===h.source,"${point.high}"===h.source||"${point.open}"===h.source||"${point.close}"===h.source||"${point.low}"===h.source||"${point.y}"===h.source||"${point.minimum}"===h.source||"${point.maximum}"===h.source||"${point.outliers}"===h.source||"${point.upperQuartile}"===h.source||"${point.lowerQuartile}"===h.source||"${point.median}"===h.source))}for(var c,d=0,p=Object.keys(Object.getPrototypeOf(t));d<p.length;d++)h=new a("${series."+(c=p[d])+"}","gm"),n=t[c],i=i.replace(h.source,n);return i},Th.prototype.formatPointValue=function(e,t,i,o,r){var n;return"Category"!==t.valueType&&o?(n=t.labelFormat&&null!==t.labelFormat.match("{value}"))?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i]):r&&!K.isNullOrUndefined(e[i])?(n=t.labelFormat&&null!==t.labelFormat.match("{value}"),o="outliers"===i?t.format(e[i][this.lierIndex-4]):t.format(e[i]),n?t.labelFormat.replace("{value}",o):o):"size"===i&&(r=this.chart.intl.getNumberFormat({format:"",useGrouping:this.chart.useGroupingSeparator}),"number"==typeof e[i])?r(e[i]):e[i]},Th.prototype.getFormat=function(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;var i="Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}",o=e.tooltip.shared?"${series.name}":i;switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),o+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return o+"<br/>"+(3<this.lierIndex?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>");default:return""}},Th.prototype.getIndicatorTooltipFormat=function(e,t,i){e="XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i;return e},Th.prototype.removeHighlightedMarker=function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];w(this.element.id+"_Series_"+r.series.index+"_Point_"+r.point.index+"_Trackball"),this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(r.series,r.point,t)}this.previousPoints=[]},Th.prototype.getModuleName=function(){return"Tooltip"},Th.prototype.destroy=function(){};var Dh,kh,Rh=Th;function Th(e){e=kh.call(this,e)||this;return e.commonXvalues=[],e.addEventListener(),e}Eh.prototype.createPanButton=function(e,t){var i=this.chart.svgRenderer,o=this.chart.zoomModule.isPanning?this.chart.themeStyle.toolkitSelectionColor:this.chart.themeStyle.toolkitFill;this.elementOpacity=!this.chart.zoomModule.isZoomed&&this.chart.zoomSettings.showToolbar?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),e.id=this.elementId+"_Zooming_Pan",e.setAttribute("role","button"),e.setAttribute("aria-label",this.chart.getLocalizedLabel("Pan")),(this.panElements=e).appendChild(i.drawRectangle(new Pr(this.elementId+"_Zooming_Pan_1","transparent",{},1,this.chart.themeStyle.toolkitIconRect,-1<this.chart.theme.indexOf("Fluent2")?4:0,-1<this.chart.theme.indexOf("Fluent2")?4:0))),e.appendChild(i.drawPath(new $.PathOption(this.elementId+"_Zooming_Pan_2",o,null,null,1,null,"M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z"))),t.appendChild(e),this.wireEvents(e,this.pan)},Eh.prototype.createZoomButton=function(e,t){var i=this.chart.svgRenderer,o=this.chart.zoomModule.isPanning||!this.chart.zoomModule.isZoomed&&this.chart.zoomSettings.showToolbar?this.chart.themeStyle.toolkitFill:this.chart.themeStyle.toolkitSelectionColor,r=(this.elementOpacity=this.chart.zoomModule.isPanning||this.chart.zoomModule.isZoomed||!this.chart.zoomSettings.showToolbar?"1":"0.2",this.chart.zoomModule.isPanning?"transparent":this.chart.themeStyle.toolkitIconRectSelectionFill),n=(n="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,")+"5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571"+"L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,";e.id=this.elementId+"_Zooming_Zoom",e.setAttribute("role","button"),e.setAttribute("aria-label",this.chart.getLocalizedLabel("Zoom")),e.setAttribute("opacity",this.elementOpacity),this.zoomElements=e,this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+"_Zooming_Pan_1":this.elementId+"_Zooming_Zoom_1",e.appendChild(i.drawRectangle(new Pr(this.elementId+"_Zooming_Zoom_1",r,{},1,this.chart.themeStyle.toolkitIconRect,-1<this.chart.theme.indexOf("Fluent2")?4:0,-1<this.chart.theme.indexOf("Fluent2")?4:0))),e.appendChild(i.drawPath(new $.PathOption(this.elementId+"_Zooming_Zoom_3",o,null,null,1,null,n+"4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),t.appendChild(e),this.wireEvents(e,this.zoom)},Eh.prototype.createZoomInButton=function(e,t,i){var o=this.chart.svgRenderer,r=this.chart.themeStyle.toolkitFill;e.id=this.elementId+"_Zooming_ZoomIn",e.setAttribute("role","button"),e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomIn"));e.appendChild(o.drawRectangle(new Pr(this.elementId+"_Zooming_ZoomIn_1","transparent",{},1,this.chart.themeStyle.toolkitIconRect,-1<this.chart.theme.indexOf("Fluent2")?4:0,-1<this.chart.theme.indexOf("Fluent2")?4:0))),e.appendChild(o.drawPath(new $.PathOption(this.elementId+"_Zooming_ZoomIn_2",r,null,null,1,null,"M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z"))),e.appendChild(o.drawPolygon(new _r(this.elementId+"_Zooming_ZoomIn_3","12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466",r))),this.zoomInElements=e,this.elementOpacity=i.zoomModule.isPanning||!i.zoomModule.isZoomed&&!i.zoomSettings.showToolbar&&!this.enableZoomButton?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomIn)},Eh.prototype.createZoomOutButton=function(e,t,i){var o=this.chart.svgRenderer,r=this.chart.themeStyle.toolkitFill;e.id=this.elementId+"_Zooming_ZoomOut",e.setAttribute("role","button"),e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomOut")),e.appendChild(o.drawRectangle(new Pr(this.elementId+"_Zooming_ZoomOut_1","transparent",{},1,this.chart.themeStyle.toolkitIconRect,-1<this.chart.theme.indexOf("Fluent2")?4:0,-1<this.chart.theme.indexOf("Fluent2")?4:0))),e.appendChild(o.drawPath(new $.PathOption(this.elementId+"_Zooming_ZoomOut_2",r,null,null,1,null,"M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z"))),this.zoomOutElements=e,this.elementOpacity=i.zoomModule.isPanning||!i.zoomModule.isZoomed&&i.zoomSettings.showToolbar&&!this.enableZoomButton?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomOut)},Eh.prototype.createResetButton=function(e,t,i,o){var r=this.chart.svgRenderer,n=this.chart.themeStyle.toolkitFill;e.id=this.elementId+"_Zooming_Reset",e.setAttribute("role","button"),e.setAttribute("aria-label",this.chart.getLocalizedLabel("Reset")),this.elementOpacity=!i.zoomModule.isZoomed&&i.zoomSettings.showToolbar?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),o?(o=$.measureText(this.chart.getLocalizedLabel("ResetZoom"),{size:"12px"},{size:"12px",fontStyle:"Normal",fontWeight:"400",fontFamily:"Segoe UI"}),e.appendChild(r.drawRectangle(new Pr(this.elementId+"_Zooming_Reset_1","transparent",{},1,new $.Rect(0,0,o.width,o.height)))),gr(i.renderer,new $.TextOption(this.elementId+"_Zooming_Reset_2",0+o.width/2,0+3*o.height/4,"middle",this.chart.getLocalizedLabel("ResetZoom"),"rotate(0,0,0)","auto"),{size:"12px"},"Material3Dark"===this.chart.theme||"Fluent2Dark"===this.chart.theme?"White":"black",e,null,null,null,null,null,null,0,null,i.enableCanvas,null,{size:"12px",fontStyle:"Normal",fontWeight:"400",fontFamily:"Segoe UI"})):(e.appendChild(r.drawRectangle(new Pr(this.elementId+"_Zooming_Reset_1","transparent",{},1,this.chart.themeStyle.toolkitIconRect,-1<this.chart.theme.indexOf("Fluent2")?4:0,-1<this.chart.theme.indexOf("Fluent2")?4:0))),e.appendChild(r.drawPath(new $.PathOption(this.elementId+"_Zooming_Reset_2",n,null,null,1,null,"M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z")))),t.appendChild(e),this.wireEvents(e,this.reset)},Eh.prototype.wireEvents=function(e,t){K.EventHandler.add(e,"mousedown touchstart",t,this),K.EventHandler.add(e,"mouseover",this.showTooltip,this),K.EventHandler.add(e,"mouseout",this.removeTooltip,this)},Eh.prototype.showTooltip=function(e){var t=e.currentTarget.id.split("_Zooming_")[1],i=e.pageX-($.measureText(t,{size:"10px"},{size:"10px",fontStyle:"Normal",fontWeight:"400",fontFamily:"Segoe UI"}).width+5),o=J(e.currentTarget.id+"_1"),r=J(e.currentTarget.id+"_2"),n=J(e.currentTarget.id+"_3");"1"===e.currentTarget.getAttribute("opacity")?e.currentTarget.setAttribute("cursor","pointer"):e.currentTarget.setAttribute("cursor","auto"),o&&(this.hoveredID=o.id,o.setAttribute("fill",this.chart.themeStyle.toolkitIconRectOverFill)),r&&r.setAttribute("fill",this.chart.themeStyle.toolkitSelectionColor),n&&n.setAttribute("fill",this.chart.themeStyle.toolkitSelectionColor),this.chart.isTouch||po("EJ2_Chart_ZoomTip",this.chart.getLocalizedLabel(t),e.pageY+10,i,"10px")},Eh.prototype.removeTooltip=function(){this.hoveredID&&J(this.hoveredID)&&(t=this.chart.zoomModule.isPanning?-1<this.hoveredID.indexOf("_Pan_")?this.chart.themeStyle.toolkitIconRectSelectionFill:"transparent":-1<this.hoveredID.indexOf("_Zoom_")?this.chart.themeStyle.toolkitIconRectSelectionFill:"transparent",J(this.hoveredID).setAttribute("fill",t));var e,t=this.hoveredID?J(this.hoveredID.replace("_1","_2")):null,i=this.hoveredID?J(this.hoveredID.replace("_1","_3")):null;t&&(e=this.chart.zoomModule.isPanning?-1<this.hoveredID.indexOf("_Pan_")?this.chart.themeStyle.toolkitSelectionColor:this.chart.themeStyle.toolkitFill:-1<this.hoveredID.indexOf("_Zoom_")?this.chart.themeStyle.toolkitSelectionColor:this.chart.themeStyle.toolkitFill,t.setAttribute("fill",e)),i&&(e=!(this.chart.zoomModule.isPanning||!this.chart.isZoomed&&this.chart.zoomSettings.showToolbar)&&-1<this.hoveredID.indexOf("_Zoom_")?this.chart.themeStyle.toolkitSelectionColor:this.chart.themeStyle.toolkitFill,i.setAttribute("fill",e)),w("EJ2_Chart_ZoomTip")},Eh.prototype.reset=function(e){var t=this;if(!this.chart.zoomModule.isZoomed)return!1;var i=this.chart,o=(this.enableZoomButton=!1,i.zoomModule.isDevice?"touchstart"===e.type&&e.stopPropagation():K.remove(i.zoomModule.toolkitElements),this.removeTooltip(),i.svgObject.setAttribute("cursor","auto"),[]);this.zoomCompleteEvtCollection=[];for(var r=0,n=i.axisCollections;r<n.length;r++){var a=n[r],l={cancel:!1,name:Ft,axis:a,previousZoomFactor:a.zoomFactor,previousZoomPosition:a.zoomPosition,currentZoomFactor:1,currentZoomPosition:0,previousVisibleRange:a.visibleRange,currentVisibleRange:null};a.zoomFactor=1,a.zoomPosition=0,a.zoomingScrollBar&&(a.zoomingScrollBar.isScrollUI=!1),l.cancel||(a.zoomFactor=l.currentZoomFactor,a.zoomPosition=l.currentZoomPosition,this.zoomCompleteEvtCollection.push(l)),o.push({zoomFactor:a.zoomFactor,zoomPosition:a.zoomFactor,axisName:a.name,axisRange:a.visibleRange}),i.zoomModule.isDevice&&!this.chart.isBlazor&&i.trigger(Ft,l)}e={cancel:!1,axisCollection:o,name:Wt};return!e.cancel&&this.chart.isBlazor?(this.chart.trigger(Wt,e,function(){t.setDefferedZoom(i)}),!1):this.setDefferedZoom(i)},Eh.prototype.setDefferedZoom=function(e){return e.disableTrackTooltip=!1,e.zoomModule.isZoomed=e.zoomModule.isPanning=e.isChartDrag=e.delayRedraw=!1,e.zoomModule.touchMoveList=e.zoomModule.touchStartList=[],e.zoomModule.pinchTarget=null,e.removeSvg(),e.refreshAxis(),e.refreshBound(),!(this.elementOpacity="1")},Eh.prototype.zoomIn=function(){return this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1},Eh.prototype.zoomOut=function(){return this.enableZoomButton=!1,this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1},Eh.prototype.zoom=function(){return this.chart.zoomModule.isPanning=!1,this.elementOpacity="1",this.chart.svgObject.setAttribute("cursor","auto"),this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.elementOpacity=!this.chart.zoomModule.isZoomed&&this.chart.zoomSettings.showToolbar?"0.2":"1",this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.applySelection(this.zoomElements.childNodes,this.chart.themeStyle.toolkitSelectionColor),this.applySelection(this.panElements.childNodes,"#737373"),J(this.selectedID)&&J(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Zoom_1",J(this.selectedID).setAttribute("fill",this.chart.themeStyle.toolkitIconRectSelectionFill),!1},Eh.prototype.pan=function(){return this.chart.zoomModule.isZoomed&&(this.chart.zoomModule.isPanning=!0,this.chart.svgObject.setAttribute("cursor","pointer"),this.elementOpacity="0.2",this.zoomInElements&&this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.zoomOutElements&&this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.panElements&&this.applySelection(this.panElements.childNodes,this.chart.themeStyle.toolkitSelectionColor),this.zoomElements&&this.applySelection(this.zoomElements.childNodes,"#737373"),J(this.selectedID)&&J(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Pan_1",J(this.selectedID).setAttribute("fill",this.chart.themeStyle.toolkitIconRectSelectionFill)),!1},Eh.prototype.zoomInOutCalculation=function(e,t,i,o){var r=this;if(t.zoomSettings.showToolbar&&(this.elementOpacity=this.zoomInElements.getAttribute("opacity")),!t.zoomModule.isPanning&&"0.2"!==this.elementOpacity){t.zoomSettings.showToolbar&&!t.isZoomed&&(t.zoomModule.isZoomed=!0);for(var n,a=void 0,l=(t.disableTrackTooltip=!0,t.delayRedraw=!0,void 0),s=(this.zoomCompleteEvtCollection=[],[]),h=0,c=i;h<c.length;h++){var d=c[h],l={cancel:!1,name:Ft,axis:d,previousZoomFactor:d.zoomFactor,previousZoomPosition:d.zoomPosition,currentZoomFactor:d.zoomFactor,currentZoomPosition:d.zoomPosition,previousVisibleRange:d.visibleRange,currentVisibleRange:null};("Horizontal"===d.orientation&&"Y"!==o||"Vertical"===d.orientation&&"X"!==o)&&(a=1===(n=Math.max(Math.max(1/zo(d.zoomFactor,0,1),1)+.25*e,1))?1:zo(1/n,0,1),n=1===n?0:d.zoomPosition+.5*(d.zoomFactor-a),d.zoomPosition===n&&d.zoomFactor===a||(a=1<n+a?1-n:a),l.currentZoomFactor=a,l.currentZoomPosition=n,l.cancel||(d.zoomFactor=l.currentZoomFactor,d.zoomPosition=l.currentZoomPosition,this.zoomCompleteEvtCollection.push(l)),s.push({zoomFactor:d.zoomFactor,zoomPosition:d.zoomFactor,axisName:d.name,axisRange:d.visibleRange}))}var p={cancel:!1,axisCollection:s,name:Wt};this.chart.trigger(Wt,p,function(){p.cancel&&new Ih(t).zoomCancel(i,r.zoomCompleteEvtCollection)})}},Eh.prototype.applySelection=function(e,t){for(var i=1,o=e.length;i<o;i++)e[i].setAttribute("fill",t)};var _h=Eh;function Eh(e){this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent",this.zoomCompleteEvtCollection=[],this.chart=e,this.elementId=e.element.id,this.chart.svgRenderer=new $.SvgRenderer(this.elementId)}Oh.prototype.renderZooming=function(e,t,i){this.calculateZoomAxesRange(t),!this.zooming.enableSelectionZooming||i&&(!t.isDoubleTap||1!==this.touchStartList.length)||this.isPanning&&!t.isDoubleTap?this.isPanning&&t.isChartDrag&&(i&&1!==this.touchStartList.length||(this.pinchTarget=i?e.target:null,this.doPan(t,t.axisCollections))):(this.isPanning=!!this.isDevice||this.isPanning,this.performedUI=!0,this.drawZoomingRectangle(t))},Oh.prototype.drawZoomingRectangle=function(e){var t=e.chartAxisLayoutPanel.seriesClipRect,i=new ee(e.previousMouseMoveX,e.previousMouseMoveY),o=new ee(e.mouseX,e.mouseY),i=this.zoomingRect=Oo(i,o,t);0<i.width&&0<i.height&&(this.isZoomed=!0,e.disableTrackTooltip=!0,e.svgObject.setAttribute("cursor","crosshair"),"X"===this.zooming.mode?(i.height=t.height,i.y=t.y):"Y"===this.zooming.mode&&(i.width=t.width,i.x=t.x),(e.enableCanvas?document.getElementById(this.elementId+"_tooltip_svg"):e.svgObject).appendChild(e.svgRenderer.drawRectangle(new Pr(this.elementId+"_ZoomArea",e.themeStyle.selectionRectFill,{color:e.themeStyle.selectionRectStroke,width:1},1,i,0,0,"","3"))))},Oh.prototype.doPan=function(e,t,i,o){var r,n=this;if(void 0===i&&(i=0),void 0===o&&(o=0),e.startMove&&e.crosshair.enable)return null;this.isZoomed=!0,this.offset=e.delayRedraw?this.offset:e.chartAxisLayoutPanel.seriesClipRect,e.delayRedraw=!0,this.zoomCompleteEvtCollection=[],e.disableTrackTooltip=!0;for(var a=[],l=0,s=t;l<s.length;l++){var h=s[l],c={cancel:!1,name:Ft,axis:h,previousZoomFactor:h.zoomFactor,previousZoomPosition:h.zoomPosition,currentZoomFactor:h.zoomFactor,currentZoomPosition:h.zoomPosition,previousVisibleRange:h.visibleRange,currentVisibleRange:null},d=Math.max(1/zo(h.zoomFactor,0,1),1);"Horizontal"===h.orientation?(r=(0!==i?i:e.previousMouseMoveX-e.mouseX)/h.rect.width/d,c.currentZoomPosition=zo(h.zoomPosition+r,0,1-h.zoomFactor)):(r=(0!==o?o:e.previousMouseMoveY-e.mouseY)/h.rect.height/d,c.currentZoomPosition=zo(h.zoomPosition-r,0,1-h.zoomFactor)),c.cancel||(h.zoomFactor=c.currentZoomFactor,h.zoomPosition=c.currentZoomPosition,this.zoomCompleteEvtCollection.push(c)),a.push({zoomFactor:h.zoomFactor,zoomPosition:h.zoomFactor,axisName:h.name,axisRange:h.visibleRange})}var p={cancel:!1,axisCollection:a,name:Wt};!p.cancel&&this.chart.isBlazor?this.chart.trigger(Wt,p,function(){p.cancel?n.zoomCancel(t,n.zoomCompleteEvtCollection):n.performDefferedZoom(e)}):this.chart.trigger(Wt,p,function(){p.cancel?n.zoomCancel(t,n.zoomCompleteEvtCollection):(n.performDefferedZoom(e),n.redrawOnZooming(e,!1))})},Oh.prototype.performDefferedZoom=function(e){var t,i;if(this.zooming.enableDeferredZooming){switch(t=e.mouseX-e.mouseDownX,i=e.mouseY-e.mouseDownY,this.zooming.mode){case"X":i=0;break;case"Y":t=0}this.setTransform(t,i,null,null,e,!1),this.refreshAxis(e.chartAxisLayoutPanel,e,e.axisCollections),e.enableCanvas&&this.performZoomRedraw(e)}else this.performZoomRedraw(e);e.previousMouseMoveX=e.mouseX,e.previousMouseMoveY=e.mouseY},Oh.prototype.performZoomRedraw=function(e){var t=this.zoomingRect;e.animateSeries=!1,this.isZoomed&&(0<t.width&&0<t.height?(this.performedUI=!0,e.svgObject.setAttribute("cursor","auto"),this.doZoom(e,e.axisCollections,e.chartAxisLayoutPanel.seriesClipRect),e.isDoubleTap=!1):e.disableTrackTooltip&&(e.disableTrackTooltip=!1,e.delayRedraw=!1,e.enableCanvas?e.createChartSvg():e.removeSvg(),e.refreshAxis(),e.refreshBound()))},Oh.prototype.refreshAxis=function(i,e,t){var o=e.zoomSettings.mode;i.measureAxis(new $.Rect(e.initialClipRect.x,e.initialClipRect.y,e.initialClipRect.width,e.initialClipRect.height)),t.map(function(e,t){"Horizontal"===e.orientation&&"Y"!==o&&i.drawXAxisLabels(e,t,null,e.placeNextToAxisLine?e.updatedRect:e.rect),"Vertical"===e.orientation&&"X"!==o&&i.drawYAxisLabels(e,t,null,e.placeNextToAxisLine?e.updatedRect:e.rect)})},Oh.prototype.doZoom=function(e,t,i){var o=this,r=this.zoomingRect,n=this.zooming.mode,a=(this.isPanning=e.zoomSettings.enablePan||this.isPanning,[]);this.zoomCompleteEvtCollection=[];for(var l=0,s=t;l<s.length;l++){var h=s[l],c={cancel:!1,name:Ft,axis:h,previousZoomFactor:h.zoomFactor,previousZoomPosition:h.zoomPosition,currentZoomFactor:h.zoomFactor,currentZoomPosition:h.zoomPosition,previousVisibleRange:h.visibleRange,currentVisibleRange:null};"Horizontal"===h.orientation?"Y"!==n&&(c.currentZoomPosition+=Math.abs((r.x-i.x)/i.width)*h.zoomFactor,c.currentZoomFactor*=r.width/i.width):"X"!==n&&(c.currentZoomPosition+=(1-Math.abs((r.height+(r.y-i.y))/i.height))*h.zoomFactor,c.currentZoomFactor*=r.height/i.height),parseFloat(c.currentZoomFactor.toFixed(3))<=.001&&(c.currentZoomFactor=c.previousZoomFactor,c.currentZoomPosition=c.previousZoomPosition),c.cancel||(h.zoomFactor=c.currentZoomFactor,h.zoomPosition=c.currentZoomPosition,this.zoomCompleteEvtCollection.push(c)),a.push({zoomFactor:h.zoomFactor,zoomPosition:h.zoomFactor,axisName:h.name,axisRange:h.visibleRange})}var d={cancel:!1,axisCollection:a,name:Wt};!d.cancel&&this.chart.isBlazor?this.chart.trigger(Wt,d,function(){d.cancel?o.zoomCancel(t,o.zoomCompleteEvtCollection):(o.zoomingRect=new $.Rect(0,0,0,0),o.performZoomRedraw(e))}):this.chart.trigger(Wt,d,function(){d.cancel?o.zoomCancel(t,o.zoomCompleteEvtCollection):(o.zoomingRect=new $.Rect(0,0,0,0),o.redrawOnZooming(e))})},Oh.prototype.redrawOnZooming=function(e,t,i){var o,r=((i=void 0===i?!1:i)?this.toolkit:this).zoomCompleteEvtCollection;(t=void 0===t?!0:t)&&this.performZoomRedraw(e);for(var n=0;n<r.length;n++)r[n].cancel||(o={cancel:!1,name:Ft,axis:e.axisCollections[n],previousZoomFactor:r[n].previousZoomFactor,previousZoomPosition:r[n].previousZoomPosition,currentZoomFactor:e.axisCollections[n].zoomFactor,currentZoomPosition:e.axisCollections[n].zoomPosition,currentVisibleRange:e.axisCollections[n].visibleRange,previousVisibleRange:r[n].previousVisibleRange},e.trigger(Ft,o))},Oh.prototype.performMouseWheelZooming=function(e,t,i,o,r){for(var n,a,l,s=this,h="mozilla"!==this.browserName||this.isPointer?0<e.wheelDelta?1:-1:0<-e.detail/3?1:-1,c=this.zooming.mode,d=(this.isZoomed=!0,this.calculateZoomAxesRange(o),o.disableTrackTooltip=!0,this.performedUI=!0,this.isPanning=o.zoomSettings.enablePan||this.isPanning,this.zoomCompleteEvtCollection=[],[]),p=0,u=r;p<u.length;p++){var g=u[p],m={cancel:!1,name:Ft,axis:g,previousZoomFactor:g.zoomFactor,previousZoomPosition:g.zoomPosition,currentZoomFactor:g.zoomFactor,currentZoomPosition:g.zoomPosition,currentVisibleRange:null,previousVisibleRange:g.visibleRange};("Vertical"===g.orientation&&"X"!==c||"Horizontal"===g.orientation&&"Y"!==c)&&(1<=(l=5e10<(l=Math.max(Math.max(1/zo(g.zoomFactor,0,1),1)+.25*h,1))?5e10:l)&&(n="Horizontal"===g.orientation?t/g.rect.width:1-i/g.rect.height,a=1===l?1:zo((0<h?.9:1.1)/l,0,1),l=1===l?0:g.zoomPosition+(g.zoomFactor-a)*(1<n?1:n<0?0:n),g.zoomPosition===l&&g.zoomFactor===a||(a=1<l+a?1-l:a),m.currentZoomFactor=a,m.currentZoomPosition=l),m.currentZoomFactor===m.previousZoomFactor&&m.currentZoomPosition===m.previousZoomPosition&&(o.disableTrackTooltip=!1),m.cancel||(g.zoomFactor=m.currentZoomFactor,g.zoomPosition=m.currentZoomPosition,this.zoomCompleteEvtCollection.push(m))),d.push({zoomFactor:g.zoomFactor,zoomPosition:g.zoomFactor,axisName:g.name,axisRange:g.visibleRange})}var y={cancel:!1,axisCollection:d,name:Wt};!y.cancel&&this.chart.isBlazor?this.chart.trigger(Wt,y,function(){y.cancel?s.zoomCancel(r,s.zoomCompleteEvtCollection):s.performZoomRedraw(o)}):this.chart.trigger(Wt,y,function(){y.cancel?s.zoomCancel(r,s.zoomCompleteEvtCollection):s.redrawOnZooming(o)})},Oh.prototype.performPinchZooming=function(e,t){if(0<this.zoomingRect.width&&0<this.zoomingRect.height||t.startMove&&t.crosshair.enable)return!1;this.calculateZoomAxesRange(t),this.isZoomed=!0,this.isPanning=!0,this.performedUI=!0,this.offset=t.delayRedraw?this.offset:t.chartAxisLayoutPanel.seriesClipRect,t.delayRedraw=!0,t.disableTrackTooltip=!0;var i=t.element.getBoundingClientRect(),o=this.touchStartList,r=this.touchMoveList,n=o[0].pageX-i.left,a=o[0].pageY-i.top,l=r[0].pageX-i.left,s=r[0].pageY-i.top,h=o[1].pageX-i.left,o=o[1].pageY-i.top,c=r[1].pageX-i.left,r=r[1].pageY-i.top,d=Math.abs(l-c)/Math.abs(n-h),p=Math.abs(s-r)/Math.abs(a-o),i=(this.offset.x-l)/d+n,c=(this.offset.y-s)/p+a,h=new $.Rect(i,c,this.offset.width/d,this.offset.height/p),u=l-d*n,g=s-p*a;if(!isNaN(d-d)&&!isNaN(p-p))switch(this.zooming.mode){case"XY":this.setTransform(u,g,d,p,t,!0);break;case"X":this.setTransform(u,0,d,1,t,!0);break;case"Y":this.setTransform(0,g,1,p,t,!0)}return this.calculatePinchZoomFactor(t,h)||(this.refreshAxis(t.chartAxisLayoutPanel,t,t.axisCollections),this.redrawOnZooming(t,!1)),!0},Oh.prototype.calculatePinchZoomFactor=function(e,t){var i,o,r,n,a,l,s,h,c=this.zooming.mode,d=[];this.zoomCompleteEvtCollection=[];for(var p=0;p<e.axisCollections.length;p++){var u=e.axisCollections[p];("Horizontal"===u.orientation&&"Y"!==c||"Vertical"===u.orientation&&"X"!==c)&&(s=u.zoomFactor,h=u.zoomPosition,l={cancel:!1,name:Ft,axis:u,previousZoomFactor:u.zoomFactor,previousZoomPosition:u.zoomPosition,currentZoomFactor:s,currentZoomPosition:h,previousVisibleRange:u.visibleRange,currentVisibleRange:null},r="Horizontal"===u.orientation?(o=(n=t.x-this.offset.x)/(a=u.rect.width/this.zoomAxes[p].delta)+this.zoomAxes[p].min,(n=t.x+t.width-this.offset.x)/a+this.zoomAxes[p].min):(n=t.y-this.offset.y,a=u.rect.height/this.zoomAxes[p].delta,o=(-1*n+u.rect.height)/a+this.zoomAxes[p].min,(-1*(n=t.y+t.height-this.offset.y)+u.rect.height)/a+this.zoomAxes[p].min),i=Math.min(o,r),r=Math.max(o,r),h=(i-this.zoomAxes[p].actualMin)/this.zoomAxes[p].actualDelta,s=(r-i)/this.zoomAxes[p].actualDelta,l.currentZoomPosition=h<0?0:h,l.currentZoomFactor=1<s?1:s<.03?.03:s,l.cancel||(u.zoomFactor=l.currentZoomFactor,u.zoomPosition=l.currentZoomPosition,this.zoomCompleteEvtCollection.push(l)),d.push({zoomFactor:u.zoomFactor,zoomPosition:u.zoomFactor,axisName:u.name,axisRange:u.visibleRange}))}var g={cancel:!1,axisCollection:d,name:Wt};return!(g.cancel||(this.chart.trigger(Wt,g),!g.cancel)||(this.zoomCancel(e.axisCollections,this.zoomCompleteEvtCollection),0))},Oh.prototype.setTransform=function(e,t,i,o,r,n){if(r.enableCanvas||r.seriesElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),r.indicatorElements&&r.indicatorElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),null!==e&&null!==t)for(var a=0,l=r.visibleSeries;a<l.length;a++){var s=l[a],h=(r.requireInvertedAxis?s.yAxis:s.xAxis).rect.x,c=(r.requireInvertedAxis?s.xAxis:s.yAxis).rect.y,h="translate("+(e+(n?i*h:h))+","+(t+(n?o*c:c))+")";h=i||o?h+" scale("+i+" "+o+")":h,s.visible&&("Indicator"===s.category?s.seriesElement.parentNode.setAttribute("transform",h):r.enableCanvas||s.seriesElement.setAttribute("transform",h),c=J(r.element.id+"_Series_"+s.index+"_DataLabelCollections"),s.errorBarElement&&s.errorBarElement.setAttribute("transform",h),s.symbolElement&&s.symbolElement.setAttribute("transform",h),s.textElement&&(s.textElement.setAttribute("visibility","hidden"),s.shapeElement.setAttribute("visibility","hidden")),c)&&(c.style.visibility="hidden")}},Oh.prototype.calculateZoomAxesRange=function(e){for(var t=0;t<e.axisCollections.length;t++){var i=e.axisCollections[t],o=i.visibleRange;this.zoomAxes[t]?e.delayRedraw||(this.zoomAxes[t].min=o.min,this.zoomAxes[t].delta=o.delta):(i={actualMin:i.actualRange.min,actualDelta:i.actualRange.delta,min:o.min,delta:o.delta},this.zoomAxes[t]=i)}},Oh.prototype.showZoomingToolkit=function(e){var t,i=this.zooming.toolbarItems,o=e.chartAxisLayoutPanel.seriesClipRect,r=e.svgRenderer,n=this.isDevice?1:i.length,a=this.isDevice?$.measureText("Reset Zoom",{size:"12px"},{size:"12px",fontStyle:"Normal",fontWeight:"400",fontFamily:"Segoe UI"}).width:16,l=this.isDevice?$.measureText("Reset Zoom",{size:"12px"},{size:"12px",fontStyle:"Normal",fontWeight:"400",fontFamily:"Segoe UI"}).height:-1<e.theme.indexOf("Fluent2")?18:22,s=n*a+10*(n+1)+10*(n-1),h=o.x+o.width-s-10,o=o.y+10,c=10,d=this.toolkit;if(0===n||J(this.elementId+"_Zooming_KitCollection"))return!1;var p=r.createDefs(),i=this.isDevice?["Reset"]:i;p.innerHTML='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/><feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',this.toolkitElements=r.createGroup({id:this.elementId+"_Zooming_KitCollection",transform:"translate("+h+","+o+")"}),this.toolkitElements.appendChild(p);for(var u,h="Tailwind"===this.chart.theme?"#F3F4F6":"Fluent"===this.chart.theme?"#F3F2F1":"Material3"===this.chart.theme?"#FFFFFF":"Material3Dark"===this.chart.theme?"#1C1B1F":"Fluent2"===this.chart.theme?"#F5F5F5":"Fluent2Dark"===this.chart.theme?"#141414":"#fafafa",o=(this.toolkitElements.appendChild(r.drawRectangle(new Pr(this.elementId+"_Zooming_Rect",h,{color:"transparent",width:1},1,new $.Rect(0,0,s,l+20),4,4))),r.drawRectangle(new Pr(this.elementId+"_Zooming_Rect",h,{color:"transparent",width:1},.1,new $.Rect(0,0,s,l+20),4,4))),g=("Tailwind"===this.chart.theme||"TailwindDark"===this.chart.theme?o.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):"Material3"===this.chart.theme||"Material3Dark"===this.chart.theme||"Fluent2"===this.chart.theme||"Fluent2Dark"===this.chart.theme?(o.setAttribute("filter","drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.15)) drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3))"),o.setAttribute("fill","Material3"===this.chart.theme?"#FFFFFF":"Fluent2"===this.chart.theme?"#F5F5F5":"#1C1B1F"),o.setAttribute("rx","4px"),o.setAttribute("ry","4px"),o.setAttribute("opacity","1")):o.setAttribute("filter","url(#chart_shadow)"),this.toolkitElements.appendChild(o),!1),m=1;m<=n;m++){switch(u=i[m-1],t=r.createGroup({transform:"translate("+c+","+(this.isDevice?10:-1<e.theme.indexOf("Fluent2")?11:13)+")"}),u){case"Pan":d.createPanButton(t,this.toolkitElements),g=!0;break;case"Zoom":d.createZoomButton(t,this.toolkitElements);break;case"ZoomIn":d.createZoomInButton(t,this.toolkitElements,e);break;case"ZoomOut":d.createZoomOutButton(t,this.toolkitElements,e);break;case"Reset":d.createResetButton(t,this.toolkitElements,e,this.isDevice)}c+=a+20}return this.toolkitElements.setAttribute("opacity",this.isDevice?"1":""+this.zoomkitOpacity),this.toolkitElements.setAttribute("cursor","auto"),e.enableCanvas?((p=document.createElement("div")).id=e.element.id+"_zoom",p.style.cssText="position:absolute; z-index:1",h=e.availableSize.height/2,(s=e.svgRenderer.createSvg({id:e.element.id+"_zoomkit_svg",width:e.availableSize.width,height:h})).style.position="absolute",s.appendChild(this.toolkitElements),p.appendChild(s),document.getElementById(this.elementId+"_Secondary_Element").appendChild(p)):e.svgObject.appendChild(this.toolkitElements),this.isDevice||(K.EventHandler.add(this.toolkitElements,"mousemove touchstart",this.zoomToolkitMove,this),K.EventHandler.add(this.toolkitElements,"mouseleave touchend",this.zoomToolkitLeave,this),this.isPanning&&g&&d.pan()),!0},Oh.prototype.applyZoomToolkit=function(e,t){t=this.isAxisZoomed(t);t?(this.showZoomingToolkit(e),this.isZoomed=!0):e.zoomSettings.showToolbar?(this.isZoomed=t,this.showZoomingToolkit(e)):(this.toolkit.removeTooltip(),this.isPanning=!1,this.isZoomed=!1,e.isZoomed=!1,e.svgObject.setAttribute("cursor","auto"))},Oh.prototype.zoomCancel=function(e,t){for(var i=0,o=t;i<o.length;i++)for(var r=o[i],n=0,a=e;n<a.length;n++){var l=a[n];if(l.name===r.axis.name){l.zoomFactor=r.previousZoomFactor,l.zoomPosition=r.previousZoomPosition,l.visibleRange=r.previousVisibleRange;break}}},Oh.prototype.isAxisZoomed=function(e){for(var t=!1,i=0,o=e;i<o.length;i++)var r=o[i],t=t||1!==r.zoomFactor||0!==r.zoomPosition;return t},Oh.prototype.zoomToolkitMove=function(){var e=this.toolkitElements;return this.zoomkitOpacity=1,e.setAttribute("opacity",""+this.zoomkitOpacity),!1},Oh.prototype.zoomToolkitLeave=function(){var e=this.toolkitElements;return this.zoomkitOpacity=1,e.setAttribute("opacity",""+this.zoomkitOpacity),!1},Oh.prototype.addEventListener=function(){this.chart.isDestroyed||(K.EventHandler.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this),this.chart.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(K.Browser.touchStartEvent,this.mouseDownHandler,this),this.chart.on(K.Browser.touchEndEvent,this.mouseUpHandler,this),this.chart.on(this.cancelEvent,this.mouseCancelHandler,this))},Oh.prototype.removeEventListener=function(){this.chart.isDestroyed||(K.EventHandler.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel),this.chart.off(K.Browser.touchMoveEvent,this.mouseMoveHandler),this.chart.off(K.Browser.touchStartEvent,this.mouseDownHandler),this.chart.off(K.Browser.touchEndEvent,this.mouseUpHandler),this.chart.off(this.cancelEvent,this.mouseCancelHandler))},Oh.prototype.chartMouseWheel=function(e){var t=this.chart,i=t.element.getBoundingClientRect(),o=J(t.svgId).getBoundingClientRect(),r=e.clientX-i.left-Math.max(o.left-i.left,0),o=e.clientY-i.top-Math.max(o.top-i.top,0);return this.zooming.enableMouseWheelZooming&&mo(r,o,t.chartAxisLayoutPanel.seriesClipRect)&&(e.preventDefault(),this.performMouseWheelZooming(e,r,o,t,t.axisCollections)),!1},Oh.prototype.mouseMoveHandler=function(e){var t=this.chart,i=null;"touchmove"===e.type&&(e.preventDefault&&this.isIOS&&(this.isPanning||t.isDoubleTap||this.zooming.enablePinchZooming&&1<this.touchStartList.length)&&e.preventDefault(),i=e.touches),t.isChartDrag&&(t.isTouch&&(this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,i),this.zooming.enablePinchZooming)&&1<this.touchMoveList.length&&1<this.touchStartList.length&&this.performPinchZooming(e,t),this.renderZooming(e,t,t.isTouch))},Oh.prototype.mouseDownHandler=function(e){var t=this.chart,i=null,o=("touchstart"===e.type&&(i=e.touches),e.target);-1===o.id.indexOf(t.element.id+"_Zooming_")&&(t.zoomSettings.enablePinchZooming||t.zoomSettings.enableSelectionZooming)&&mo(t.previousMouseMoveX,t.previousMouseMoveY,t.chartAxisLayoutPanel.seriesClipRect)&&(t.isChartDrag=!0),t.isTouch&&(this.touchStartList=this.addTouchPointer(this.touchStartList,e,i))},Oh.prototype.mouseUpHandler=function(e){var t=this.chart,i=-1===e.target.id.indexOf(t.element.id+"_ZoomOut_")||-1===e.target.id.indexOf(t.element.id+"_ZoomIn_");(t.isChartDrag||i)&&this.redrawOnZooming(t,!0,!0),t.isTouch&&(t.isDoubleTap&&mo(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&1===this.touchStartList.length&&this.isZoomed&&this.toolkit.reset(e),this.touchStartList=[],t.isDoubleTap=!1)},Oh.prototype.mouseCancelHandler=function(){this.isZoomed&&this.performZoomRedraw(this.chart),this.pinchTarget=null,this.touchStartList=[],this.touchMoveList=[]},Oh.prototype.addTouchPointer=function(e,t,i){if(i){e=[];for(var o=0,r=i.length;o<r;o++)e.push({pageX:i[o].clientX,pageY:i[o].clientY,pointerId:null})}else if(0===(e=e||[]).length)e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});else for(var o=0,n=e.length;o<n;o++)e[o].pointerId===t.pointerId?e[o]={pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId}:e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});return e},Oh.prototype.getModuleName=function(){return"Zoom"},Oh.prototype.destroy=function(){this.removeEventListener()};var Ih=Oh;function Oh(e){this.zoomCompleteEvtCollection=[],this.chart=e,this.isPointer=K.Browser.isPointer,this.browserName=K.Browser.info.name,this.wheelEvent="mozilla"!==this.browserName||this.isPointer?"mousewheel":"DOMMouseScroll",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.addEventListener(),this.isDevice=K.Browser.isDevice;var t=e.zoomSettings;this.toolkit=new _h(e),this.zooming=t,this.elementId=e.element.id,this.zoomingRect=new $.Rect(0,0,0,0),this.zoomAxes=[],this.zoomkitOpacity=1,this.isIOS=K.Browser.isIos||K.Browser.isIos7,this.isZoomed=this.performedUI=this.zooming.enablePan||this.chart.primaryXAxis.zoomFactor<1&&0<this.chart.primaryXAxis.zoomPosition||this.chart.primaryYAxis.zoomFactor<1&&0<this.chart.primaryYAxis.zoomPosition||this.isAxisZoomed(this.chart.axes),t.enableScrollbar&&(e.scrollElement=K.createElement("div",{id:e.element.id+"_scrollElement"}))}Bh.prototype.seriesStyles=function(){var e,t,i=document.getElementById(this.styleId),o="{}",r=this.control.selectionPattern,n=this.control.highlightPattern;if(0<this.styleId.indexOf("highlight")&&""!==this.control.highlightColor||K.isNullOrUndefined(i)||"None"!==r||"None"!==n){document.getElementById(this.styleId)&&document.getElementById(this.styleId).remove(),(i=document.createElement("style")).setAttribute("id",this.styleId);for(var a=0,l=this.control.visibleSeries;a<l.length;a++){var s=l[a],h=this.control.visibleSeries[s.index]||this.control.visibleSeries[s.index];if(0<this.styleId.indexOf("highlight")&&""!==this.control.highlightColor||(!K.isNullOrUndefined(r)||!K.isNullOrUndefined(n))&&("None"!==r||"None"!==n)){var c=0<this.styleId.indexOf("highlight")?n:r;if("Pie"!==h.type&&"Funnel"!==h.type&&"Pyramid"!==h.type&&"circularchart3d"!==this.control.getModuleName()||"transparent"===this.control.highlightColor)h.type&&"transparent"!==this.control.highlightColor&&(t=h.opacity,o="{ fill:"+this.pattern(this.control,0<this.styleId.indexOf("highlight")&&""!==this.control.highlightColor?this.control.highlightColor:""!==h.pointColorMapping||this.control.rangeColorSettings&&1<this.control.rangeColorSettings.length?h.points[0].color:h.interior,s.index,c,t)+"}");else for(var d=0;d<h.points.length;d++)t=h.opacity,o="{ fill:"+this.pattern(this.control,0<this.styleId.indexOf("highlight")&&""!==this.control.highlightColor?this.control.highlightColor:h.points[d].color,s.points[d].index,c,t)+"}",e=s.selectionStyle||this.styleId+"_series_"+s.index+"_point_"+s.points[d].index+",."+this.styleId+"_series_"+s.index+"_point_"+s.points[d].index+"> *","None"===this.control.highlightMode&&this.control.legendSettings.enableHighlight&&!s.isRectSeries&&(i.innerText+="."+this.styleId+"_series_"+s.index+"> * { stroke-width:3;} "),o=-1<o.indexOf("None")?"{fill:"+(0<this.styleId.indexOf("highlight")&&""!==this.control.highlightColor?this.control.highlightColor:h.points[d].color)+"!important}":o,i.innerText+=s.selectionStyle?"":"."+e+o}e=s.selectionStyle||this.styleId+"_series_"+s.index+",."+this.styleId+"_series_"+s.index+"> *","None"===this.control.highlightMode&&this.control.legendSettings.enableHighlight&&!s.isRectSeries&&(i.innerText+="."+this.styleId+"_series_"+s.index+"> * { stroke-width:"+(parseFloat(s.width?s.width.toString():"0")+1)+";} "),o=-1<o.indexOf("None")?"{}":o,i.innerText+=s.selectionStyle?"":"."+e+o}var p="transparent"!==this.control.highlightColor?"circularchart3d"===this.control.getModuleName()?.2:.3:t;K.isNullOrUndefined(this.control.selectionModule)&&"None"===this.control.selectionMode&&""!==this.control.highlightColor&&(p=1),i.innerText+="."+this.unselected+" { opacity:"+p+";} ",document.body.appendChild(i)}},Bh.prototype.pattern=function(e,t,i,o,r){var n="#ffffff",a=e.svgObject,l=[],s={id:e.element.id+"_"+o+"_Selection_"+i,patternUnits:"userSpaceOnUse"},h="height",c="width";switch(o){case"Dots":s[h]=s[c]=6,s[c]=6,l[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:n,opacity:r,name:"rect"},l[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":s[h]="18.384",s[c]="17.917",l[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":s[h]=s[c]=10,l[0]={x:0,y:0,width:10,height:10,fill:n,opacity:r,name:"rect"},l[1]={x:0,y:0,width:5,height:5,fill:t,opacity:r,name:"rect"},l[2]={x:5,y:5,width:5,height:5,fill:t,opacity:r,name:"rect"};break;case"Crosshatch":s[h]=s[c]="8",l[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:n,opacity:r,name:"rect"},l[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":s[h]=s[c]=6,l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:n,opacity:r,name:"rect"},l[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":s[h]=s[c]=6,l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:n,opacity:r,name:"rect"},l[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":s[h]=s[c]=6,l[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":s[h]=s[c]=17,l[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},l[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t};break;case"Star":s[h]=s[c]=21,l[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":s[h]=s[c]=10,l[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":s[h]=s[c]=9,l[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":s[h]=s[c]=18,l[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:t,fill:t},l[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:t,fill:t},l[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:t,fill:t},l[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:t,fill:t};break;case"HorizontalDash":s[h]=s[c]=12,l[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":s[h]=s[c]=12,l[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":s[h]=s[c]=12,l[0]={name:"rect",width:12,height:12,fill:n,opacity:r},l[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:r},l[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:r};break;case"Box":s[h]=s[c]=10,l[0]={name:"rect",width:13,height:13,fill:n,opacity:r},l[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:t,opacity:r};break;case"HorizontalStripe":s[h]=12,l[0]={name:"rect",x:0,y:0,width:s[c]=10,height:12,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":s[h]=10,l[0]={name:"rect",x:0,y:0,width:s[c]=12,height:10,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":s[h]=s[c]=20,l[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:n,opacity:r},l[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},l[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},l[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}var d=e.svgRenderer||e.renderer,p=d.createPattern(s,"pattern");return this.loadPattern(e,l,p,d),a.appendChild(p),"url(#"+e.element.id+"_"+o+"_Selection_"+i+")"},Bh.prototype.loadPattern=function(e,t,i,o){for(var r=0;r<t.length;r++){var n=o.createPattern(t[r],t[r].name);i.appendChild(n)}},Bh.prototype.concatIndexes=function(e,t){return e.concat(t)},Bh.prototype.checkVisibility=function(e,t){if(void 0===t&&(t=null),!e)return!1;for(var i=!1,o=[],r=0,n=e;r<n.length;r++){var a=n[r];-1===o.indexOf(a.series)&&o.push(a.series)}for(var l=0,s=o;l<s.length;l++){a=s[l];if(null!=t&&t.rangeColorSettings&&0<t.rangeColorSettings.length&&0<t.rangeColorSettings[0].colors.length){if(this.control.series[0].visible){i=!0;break}}else if(this.control.visibleSeries[a].visible){i=!0;break}}return i},Bh.prototype.addSvgClass=function(e,t){var i=e.getAttribute("class")||"";-1===(i+=""!==i?" ":"").indexOf(t)&&e.setAttribute("class",i+t)},Bh.prototype.removeSvgClass=function(e,t){var i=e.getAttribute("class")||"";-1<i.indexOf(t)&&e.setAttribute("class",i.replace(t,""))},Bh.prototype.getChildren=function(e){for(var t=[],i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t};var zh=Bh;function Bh(e){this.control=e}Nh=function(e,t){return(Nh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Nh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(h,Vh=zh),h.prototype.addEventListener=function(){var e;this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||(e=K.Browser.isPointer?"pointerleave":"mouseleave",this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.mouseLeave,this),this.chart.on("click",this.mouseClick,this),this.chart.on(K.Browser.touchStartEvent,this.mousedown,this),this.chart.on(K.Browser.touchEndEvent,this.mouseLeave,this))},h.prototype.mousedown=function(e){var t=this.chart;t.isPointMouseDown||"None"===t.selectionMode||t.isChartDrag||!t.isDoubleTap&&t.isTouch&&!this.rectPoints||this.dragStart(t,t.chartAxisLayoutPanel.seriesClipRect,t.mouseDownX,t.mouseDownY,e)},h.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.mouseLeave),this.chart.off("click",this.mouseClick),this.chart.off(K.Browser.touchStartEvent,this.mousedown),this.chart.off(K.Browser.touchEndEvent,this.mouseLeave))},h.prototype.initPrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.closeIconId=e.element.id+"_ej2_drag_close",this.draggedRectGroup=e.element.id+"_ej2_drag_group",this.multiRectGroup=e.element.id+"_ej2_drag_multi_group",this.draggedRect=e.element.id+"_ej2_drag_rect",this.lassoPath=e.element.id+"_ej2_drag_path",this.selectedDataIndexes=[],this.rectPoints=null,this.isSeriesMode="Series"===e.selectionMode},h.prototype.invokeSelection=function(e){this.initPrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,-1<e.selectionMode.indexOf("Drag")||this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))},h.prototype.generateStyle=function(e){return e?(1<this.styleId.indexOf("selection")&&"None"!==this.chart.selectionMode&&(this.unselected=e.unSelectedStyle||this.unselected),0<this.styleId.indexOf("highlight")&&("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight)&&(this.unselected=e.nonHighlightStyle||this.unselected),e.selectionStyle||this.styleId+"_series_"+e.index):"undefined"},h.prototype.selectDataIndex=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.performSelection(r,e,this.getElementByIndex(e,r,"",this.series[r.series].marker.visible)[0])}},h.prototype.getElementByIndex=function(e,t,i,o){void 0===i&&(i="");var r=e.element.id+"_Series_"+t.series+"_Point_"+t.point,e=e.series[t.series];return[J(r="Scatter"!==e.type&&"Bubble"!==e.type&&o?r+"_Symbol"+i:r),"RangeArea"!==e.type&&"SplineRangeArea"!==e.type&&"RangeStepArea"!==e.type||!e.marker.visible?null:J(r+"1")]},h.prototype.getClusterElements=function(e,t){for(var i,o,r=[],n=0,a=e.visibleSeries;n<a.length;n++){var l=a[n];l.visible&&(t=new ke(l.index,t.point),l.isRectSeries&&r.push(this.getElementByIndex(e,t)[0]),r.push(this.getElementByIndex(e,t,"",l.marker.visible)[0]),i=this.generateStyle(e.visibleSeries[t.series]),o=document.querySelectorAll("."+i),this.findTrackballElements(o,i),l=l.marker.visible&&l.isRectSeries?2:1,!e.isMultiSelect)&&0<o.length&&o[0].id!==(r[r.length-l]?r[r.length-l].id:"")&&this.removeSelection(e,t.series,o,i,!0)}return r},h.prototype.findTrackballElements=function(e,t){for(var i,o=0;o<e.length;o++)if(!K.isNullOrUndefined(e[o])&&0<(i=K.isNullOrUndefined(e[o].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t))).length){for(var r=[],n=0;n<i.length;n++)-1<i[n].id.indexOf("Trackball")&&r.push(i[n]);this.removeStyles(r)}},h.prototype.findElements=function(e,t,i,o,r){return void 0===o&&(o=""),this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i,o,r)},h.prototype.isAlreadySelected=function(e,t){if("click"===t?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"!==t&&"pointermove"!==t||(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===t)return!1;if(("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight)&&this.previousSelectedEle&&this.previousSelectedEle[0]){var i=e.parentNode.id,o=void 0;e.parentNode&&(o=0<i.indexOf("SeriesGroup")||0<i.indexOf("SymbolGroup"));for(var r=0;r<this.previousSelectedEle.length;r++)if(this.previousSelectedEle[r]&&this.previousSelectedEle[r].hasAttribute("class"))if(-1<this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")&&(o||"click"===t)){if(this.previousSelectedEle[r].removeAttribute("class"),""!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&"None"===this.chart.highlightPattern)if(0<this.previousSelectedEle[r].id.indexOf("Group"))for(var n=0;n<this.previousSelectedEle[r].children.length;n++)this.previousSelectedEle[r].children[n].setAttribute("fill",this.control.visibleSeries[this.indexFinder(this.previousSelectedEle[r].id).series].interior);else this.previousSelectedEle[r].setAttribute("fill",this.control.visibleSeries[this.indexFinder(this.previousSelectedEle[r].id).series].interior);this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[r].id))}else!o&&-1<this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")&&this.performSelection(this.indexFinder(this.previousSelectedEle[r].id),this.chart,this.previousSelectedEle[r])}return!0},h.prototype.mouseClick=function(e){this.calculateSelectedElements(e.target,e.type),this.chart.isTouch&&K.Browser.isDevice&&this.chart.highlightModule&&this.chart.highlightModule.highlightDataIndexes&&0<this.chart.highlightModule.highlightDataIndexes.length&&-1===e.target.id.indexOf("_chart_legend_")&&-1===e.target.id.indexOf("_Series_")&&this.removeLegendHighlightStyles()},h.prototype.calculateSelectedElements=function(e,t){if(!K.isNullOrUndefined(e)&&!("None"===this.chart.selectionMode&&"None"===this.chart.highlightMode||e.id&&-1===e.id.indexOf(this.chart.element.id+"_"))){if("mousemove"===t||"pointermove"===t){if(e.hasAttribute("class")&&(-1<e.getAttribute("class").indexOf("highlight")||-1<e.getAttribute("class").indexOf("selection")))return;if(!K.isNullOrUndefined(e.parentNode)&&e.parentNode.hasAttribute("class")&&(0<e.parentNode.getAttribute("class").indexOf("highlight")||0<e.parentNode.getAttribute("class").indexOf("selection")))return}if(this.isAlreadySelected(e,t),e.id&&-1<e.id.indexOf("_Series_")&&-1===e.id.indexOf("_Text_")){t=void 0;if(-1<e.id.indexOf("_Trackball_1"))t=J(e.id.split("_Trackball_")[0]+"_Symbol"),t=K.isNullOrUndefined(t)?J(e.id.split("_Trackball_")[0]):t;else if(-1<e.id.indexOf("_Trackball_0"))return null;this.performSelection(this.indexFinder(e.id),this.chart,t||e)}}},h.prototype.performSelection=function(e,t,i){var o,r,n;switch(this.isSeriesMode="Series"===this.currentMode,"BoxAndWhisker"===t.visibleSeries[e.series].type&&i&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"!==t.visibleSeries[e.series].type||"Point"!==this.currentMode&&"Cluster"!==this.currentMode||!i||i.id!==this.chart.element.id+"_Series_"+e.series||(o=this.generateStyle(t.series[e.series]),r=document.querySelectorAll("."+o),this.findTrackballElements(r,o),this.blurEffect(t.element.id,t.visibleSeries,!1,e.point)),this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries,!1,e.point);break;case"Point":!isNaN(e.point)&&i&&((n=[]).push(i),null===n[0]||!t.series[e.series].marker.visible||-1===t.series[e.series].type.indexOf("Column")&&-1===t.series[e.series].type.indexOf("Bar")||(-1===i.id.indexOf("_Symbol")&&J(i.id+"_Symbol")?n.push(J(i.id+"_Symbol")):-1!==i.id.indexOf("_Symbol")&&J(i.id.replace("_Symbol",""))&&n.push(J(i.id.replace("_Symbol","")))),this.selection(t,e,n),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries,!1,e.point));break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries,!1,e.point))}},h.prototype.selectionComplete=function(e,t,i){var o,r,n=[];if("Cluster"===i){for(var a=0,l=e.visibleSeries;a<l.length;a++)if((c=l[a]).visible)for(var s=0;s<this.selectedDataIndexes.length;s++)d=(e.isMultiSelect?this.selectedDataIndexes[s]:t).point,p=c.index,u=c.points,!isNaN(d)&&d<u.length&&(o="RangeArea"!==c.type||-1<c.type.indexOf("SplineRangeArea")||-1<c.type.indexOf("RangeStepArea")?u[d].yValue:u[d].regions[0].y,r=u[d].xValue,"Category"===e.primaryXAxis.valueType?r=u[d].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(r=new Date(u[d].xValue)),"Indicator"!==c.category&&n.push({x:r,y:o,seriesIndex:p,pointIndex:d}),"RangeArea"!==c.type&&"SplineRangeArea"!==c.type&&"RangeStepArea"!==c.type||n.push({x:r,y:u[d].regions[0].y,seriesIndex:p,pointIndex:d}))}else if("Series"===i)if(e.isMultiSelect)for(s=0;s<this.selectedDataIndexes.length;s++)p=this.selectedDataIndexes[s].series,0<this.selectedDataIndexes.length&&n.push({seriesIndex:p});else p=0<this.selectedDataIndexes.length?this.selectedDataIndexes[0].series:this.highlightDataIndexes&&0<this.highlightDataIndexes.length?this.highlightDataIndexes[0].series:0,(0<this.selectedDataIndexes.length||this.highlightDataIndexes&&0<this.highlightDataIndexes.length)&&n.push({seriesIndex:p});else if("Point"===i)for(var h=[],h=-1<this.styleId.indexOf("highlight")?this.highlightDataIndexes:this.selectedDataIndexes,s=0;s<h.length;s++){var c,d=h[s].point,p=h[s].series,u=(c=e.series[p]).points;isNaN(d)||(r=u[d].xValue,o="RangeArea"!==c.type||-1<c.type.indexOf("SplineRangeArea")||-1<c.type.indexOf("RangeStepArea")?u[d].yValue:u[d].regions[0].y,"Category"===e.primaryXAxis.valueType?r=u[d].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(r=new Date(u[d].xValue)),n.push({x:r,y:o,seriesIndex:p,pointIndex:d}))}e.trigger(Pt,{name:Pt,selectedDataValues:n,cancel:!1,chart:e})},h.prototype.selection=function(e,t,i){"Lasso"===this.currentMode||e.isMultiSelect||-1!==this.currentMode.indexOf("Drag")||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series);var o,r,n=this.rangeColorMappingEnabled()?0:t.series;K.isNullOrUndefined(i[0])||(e.visibleSeries[n].isRectSeries&&i[0].id&&(document.getElementById(i[0].id+"_Symbol")?i.push(J(i[0].id+"_Symbol")):-1!==i[0].id.indexOf("SeriesGroup")&&document.getElementById(i[0].id.replace("SeriesGroup","SymbolGroup"))&&i.push(J(i[0].id.replace("SeriesGroup","SymbolGroup")))),n=void 0,o=i[0]&&(i[0].getAttribute("class")||""),r=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||""),""!==o&&"Cluster"!==this.currentMode&&this.findTrackballElements(i,o),i[0]&&-1<o.indexOf(this.getSelectionClass(i[0].id))?this.removeStyles(i):i[0].parentNode&&-1<r.indexOf(this.getSelectionClass(i[0].id))?this.removeStyles([i[0].parentNode]):(this.previousSelectedEle="None"!==e.highlightMode||e.legendSettings.enableHighlight?i:[],this.applyStyles(i),n=!0),0<this.styleId.indexOf("highlight")&&("None"!==e.highlightMode||e.legendSettings.enableHighlight)?this.addOrRemoveIndex(this.highlightDataIndexes,t,n):this.addOrRemoveIndex(this.selectedDataIndexes,t,n))},h.prototype.clusterSelection=function(e,t){this.selection(e,t,this.getClusterElements(e,new ke(t.series,t.point)))},h.prototype.removeMultiSelectElements=function(e,t,i,o){for(var r,n=0;n<t.length;n++)r=o[t[n].series],(this.isSeriesMode&&!this.toEquals(t[n],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[n],i,!1)||!this.isSeriesMode&&this.toEquals(t[n],i,!0)&&!this.toEquals(t[n],i,!1))&&(this.removeStyles(this.findElements(e,r,t[n],"",!1)),r.marker.visible&&this.removeStyles(this.findElements(e,r,t[n],"",!0)),t.splice(n,1),n--)},h.prototype.blurEffect=function(e,t,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);for(var r=this.checkVisibility(this.highlightDataIndexes,this.chart)||this.checkVisibility(this.selectedDataIndexes,this.chart),n=0,a=t;n<a.length;n++){var l=a[n],s=void 0,h=void 0,h=this.rangeColorMappingEnabled()?!1===i?(s=Object.keys(l.rangeColorPoints).indexOf(l.points[o].interior),l.points[o].interior):(s=o,document.getElementById(e+"_chart_legend_shape_"+o).getAttribute("fill")):(s=l.index,this.chart.visibleSeries[l.index].interior);l.visible&&(this.checkSelectionElements(J(e+"SeriesGroup"+l.index),this.generateStyle(l),r,i,s,h),K.isNullOrUndefined(J(e+"SymbolGroup"+l.index))||this.checkSelectionElements(J(e+"SymbolGroup"+l.index),this.generateStyle(l),r,i,s,h))}},h.prototype.checkSelectionElements=function(e,t,i,o,r,n){void 0===o&&(o=!0),void 0===r&&(r=0),void 0===n&&(n="#D3D3D3");for(var a,l,s,h=this.isSeriesMode?e.childNodes||[e]:e.childNodes||e,c=("None"===this.chart.selectionMode||"None"===this.chart.highlightMode&&!this.chart.legendSettings.enableHighlight||(h=e.childNodes||e),e),d=0;d<h.length;d++)a=h[d].getAttribute("class")||"",l=h[d].parentNode.getAttribute("class")||"","None"===this.chart.selectionMode||"None"===this.chart.highlightMode&&!this.chart.legendSettings.enableHighlight||(t=0<a.indexOf("selection")||0<a.indexOf("highlight")?a:t,t=0<l.indexOf("selection")||0<l.indexOf("highlight")?l:t),-1===a.indexOf(t)&&-1===l.indexOf(t)&&i?this.addSvgClass(h[d],this.unselected):(c=h[d],this.removeSvgClass(h[d],this.unselected),this.removeSvgClass(h[d].parentNode,this.unselected),""!==h[d].id&&-1!==a.indexOf(this.unselected)&&-1===l.indexOf(t)&&this.highlightAnimation(h[d],1===this.chart.series.length?0:this.indexFinder(h[d].id).series,700,.3)),0<h[d].id.indexOf("Trackball")&&c.classList[0]===t&&(this.removeSvgClass(h[d],this.unselected),this.removeSvgClass(h[d].parentNode,this.unselected),this.addSvgClass(h[d],t));if(-1<e.id.indexOf("Symbol")&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t&&-1<((e=J(this.control.element.id+"_Series_"+e.id[e.id.length-1]))&&e.hasAttribute("class")?e.getAttribute("class"):"").indexOf(this.unselected)&&this.removeSvgClass(e,this.unselected),this.control.legendModule&&this.control.legendSettings.visible&&(s=J(this.control.element.id+"_chart_legend_shape_"+r))){s.hasAttribute("class")&&(this.removeSvgClass(s,s.getAttribute("class")),K.isNullOrUndefined(this.chart.highlightColor&&""!==this.chart.highlightColor)||this.chart.legendSettings.enableHighlight||(s.setAttribute("stroke",n),"None"===this.chart.highlightPattern&&s.setAttribute("fill",n))),a=c.getAttribute("class")||"",l=c.parentNode.getAttribute("class")||"",-1===a.indexOf(t)&&-1===l.indexOf(t)&&i?(this.addSvgClass(s,"None"===this.chart.highlightMode&&this.chart.legendSettings.enableHighlight?t:this.unselected),this.removeSvgClass(s,t),""===this.chart.highlightColor||K.isNullOrUndefined(this.chart.highlightColor)||(s.setAttribute("stroke",this.control.visibleSeries[r].interior),"None"===this.chart.highlightPattern&&s.setAttribute("fill",this.control.visibleSeries[r].interior))):(this.removeSvgClass(s,this.unselected),K.isNullOrUndefined(this.chart.highlightColor)||""===this.chart.highlightColor||(s.setAttribute("stroke",this.control.visibleSeries[r].interior),"None"===this.chart.highlightPattern&&s.setAttribute("fill",this.control.visibleSeries[r].interior)),""===a&&""===l||"EJ2-Trackball"===a.trim()?this.removeSvgClass(s,t):(this.addSvgClass(s,t),0<t.indexOf("highlight")&&""!==this.chart.highlightColor&&"transparent"!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&(s.setAttribute("stroke",this.chart.highlightColor),0<this.styleId.indexOf("highlight"))&&"None"===this.chart.highlightPattern&&s.setAttribute("fill",this.chart.highlightColor)));var p;if(this.rangeColorMappingEnabled())for(d=0;d<this.chart.rangeColorSettings.length;d++)s!==(p=document.getElementById(this.chart.element.id+"_chart_legend_shape_"+d))?this.addSvgClass(p,this.unselected):!0===o&&this.addSvgClass(p,t),-1===a.indexOf(t)&&!1===o&&this.removeSvgClass(p,this.unselected);o&&-1<l.indexOf(t)&&this.addSvgClass(s,t)}},h.prototype.applyStyles=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o){if(this.removeSvgClass(o.parentNode,this.unselected),this.removeSvgClass(o,this.unselected),"fill"===this.chart.series[0].pointColorMapping||this.rangeColorMappingEnabled()){var r=this.getSelectionClass(o.id),n=-1<r.indexOf("highlight")?parseInt(r.split(this.chart.element.id+"_ej2_chart_highlight_series_")[1],10):parseInt(r.split(this.chart.element.id+"_ej2_chart_selection_series_")[1],10),a=0<this.styleId.indexOf("highlight")?this.chart.highlightPattern:this.chart.selectionPattern,l=void 0;if((-1<r.indexOf("highlight")||-1<r.indexOf("selection"))&&(l=document.getElementById(this.chart.element.id+"_"+a+"_Selection_"+n)),-1===o.id.indexOf("legend")&&-1===o.id.indexOf("Group")&&null!=l)for(var s=1;s<l.children.length;s++)l.children[s].setAttribute("fill",o.getAttribute("fill")),l.children[s].setAttribute("stroke",o.getAttribute("fill"))}if(this.addSvgClass(o,this.getSelectionClass(o.id)),0<o.id.indexOf("Group"))for(var h=this.indexFinder(o.id),s=0;s<o.children.length;s++)"defs"!==o.children[s].nodeName&&this.stopElementAnimation(o.children[s],h.series);if(0<this.styleId.indexOf("highlight")&&""!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&"None"===this.chart.highlightPattern&&"transparent"!==this.chart.highlightColor)if(0<o.id.indexOf("Group"))for(s=0;s<o.children.length;s++)o.children[s].setAttribute("fill",this.chart.highlightColor);else o.setAttribute("fill",this.chart.highlightColor)}}},h.prototype.getSelectionClass=function(e){return this.generateStyle(this.control.visibleSeries[this.indexFinder(e).series])},h.prototype.removeStyles=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o&&(this.removeSvgClass(o,this.getSelectionClass(o.id)),"None"===this.chart.highlightPattern)&&""!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&"transparent"!==this.chart.highlightColor)if(0<o.id.indexOf("Group"))for(var r=0;r<o.children.length;r++)o.children[r].setAttribute("fill",this.control.visibleSeries[this.indexFinder(o.id).series].interior);else o.setAttribute("fill",this.control.visibleSeries[this.indexFinder(o.id).series].interior)}},h.prototype.addOrRemoveIndex=function(e,t,i){for(var o=0;o<e.length;o++)this.toEquals(e[o],t,this.isSeriesMode)&&(e.splice(o,1),o--);i&&e.push(t)},h.prototype.toEquals=function(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)},h.prototype.redrawSelection=function(e,t,i){this.isSeriesMode="Series"===t,K.isNullOrUndefined(t)||(-1!==t.indexOf("Drag")||"Lasso"===t||i?e.isRedrawSelection=!1:e.isRedrawSelection=!0);t=K.extend([],this.selectedDataIndexes,null,!0),i=K.extend([],this.highlightDataIndexes,null,!0);0<this.styleId.indexOf("highlight")&&0<i.length?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),t=i):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries,!1),this.selectDataIndex(e,t)},h.prototype.legendSelection=function(e,t,i,o){if("mousemove"===o){if((i=1<(i=1<(i=1<i.id.indexOf("text")?J(i.id.replace("text","shape")):i).id.indexOf("marker")?J(i.id.replace("_marker","")):i).id.indexOf("g")?J(i.id.replace("_g_","_shape_")):i).hasAttribute("class")&&(-1<i.getAttribute("class").indexOf("highlight")||-1<i.getAttribute("class").indexOf("selection")))return;this.currentMode=this.chart.highlightMode}if(this.isAlreadySelected(i,o)){var r=this.generateStyle(e.visibleSeries[t]),n=document.querySelectorAll("."+r);this.isSeriesMode="Series"===this.currentMode;if(0<n.length)this.removeSelection(e,t,n,r,!0);else{for(var a=0,l=e.visibleSeries;a<l.length;a++)(g=l[a]).index===t||e.isMultiSelect||(r=this.generateStyle(e.visibleSeries[g.index]),n=document.querySelectorAll("."+r),this.removeSelection(e,t,n,r,!0));var s=[];if(this.rangeColorMappingEnabled()){for(var h=0,c=e.visibleSeries[0].seriesElement.children;h<c.length;h++){var d=c[h];i.getAttribute("fill")===d.getAttribute("fill")&&s.push(d)}for(var p=0,u=s;p<u.length;p++){var g=u[p];if(K.isNullOrUndefined(g))return;this.checkSelectionElements(g,r,!1,!0,t)}}else for(var m=0,y=s=this.getSeriesElements(e.visibleSeries[t]);m<y.length;m++){var f=y[m];if(K.isNullOrUndefined(f))return;this.checkSelectionElements(f,r,!1,!0,t)}this.isSeriesMode=!0,this.selection(e,new ke(t,NaN),s),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries,!0,t)}}},h.prototype.rangeColorMappingEnabled=function(){return!(!(this.chart.rangeColorSettings&&0<this.chart.rangeColorSettings.length&&1===this.chart.visibleSeries.length&&0<this.chart.rangeColorSettings[0].colors.length)||"Column"!==this.chart.series[0].type&&"Bar"!==this.chart.series[0].type&&"Scatter"!==this.chart.series[0].type&&"Bubble"!==this.chart.series[0].type)},h.prototype.removeSelection=function(e,t,i,o,r){if(0<i.length){for(var n=[],a=0;a<i.length;a++)n.push(i[a]);this.removeStyles(n),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new ke(t,NaN));for(var l=0,s=e.visibleSeries;l<s.length;l++){var h=s[l];if(o=this.generateStyle(h),0<document.querySelectorAll("."+o).length){for(var c=0,d=n;c<d.length;c++)this.checkSelectionElements(d[c],o,!0,!0,t);r=!1;break}}r&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}},h.prototype.getSeriesElements=function(e){var t=[e.seriesElement];return(e.marker.visible&&"Scatter"!==e.type&&"Bubble"!==e.type&&!e.isRectSeries||e.marker.visible&&e.isRectSeries)&&t.push(e.symbolElement),t},h.prototype.indexFinder=function(e){var t=["NaN","NaN"];return-1<e.indexOf("SeriesGroup")?(t=e.split("SeriesGroup"))[0]=t[1]:-1<e.indexOf("SymbolGroup")?(t=e.split("SymbolGroup"))[0]=t[1]:-1<e.indexOf("_Point_")?t=e.split("_Series_")[1].split("_Point_"):-1<e.indexOf("_border_")?t[0]=e.split("_border_")[1]:-1<e.indexOf("_Series_")?t[0]=e.split("_Series_")[1]:-1<e.indexOf("_chart_legend_shape_")&&((t=e.split("_chart_legend_shape_"))[0]=t[1]),new ke(parseInt(t[0],10),parseInt(t[1],10))},h.prototype.calculateDragSelectedElements=function(l,e,t){this.removeSelectedElements(l,this.selectedDataIndexes,l.series);for(var s,h,i="Lasso"===l.selectionMode,c=new $.Rect(e.x,e.y,e.width,e.height),d=new ee(l.chartAxisLayoutPanel.seriesClipRect.x,l.chartAxisLayoutPanel.seriesClipRect.y),p=(this.removeOffset(c,d),[]),u=[],o=(this.isSeriesMode=!1,l.allowMultiSelection&&(this.rectGrabbing||this.resizing)),g=(this.rectPoints=this.dragRectArray[o?this.targetIndex:this.count]=new $.Rect(e.x,e.y,e.width,e.height),e.width&&e.height&&!t&&(a=new $.Rect(e.x,e.y,e.width,e.height),this.removeOffset(a,d),this.filterArray[o?this.targetIndex:this.count]=a),this),r=0,n=l.visibleSeries;r<n.length;r++)!function(e){if(e.visible){var t;s=e.points,p=[];for(var i=!l.isTransposed&&-1===e.type.indexOf("Bar")||l.isTransposed&&-1!==e.type.indexOf("Bar")?(t=e.xAxis.rect.x-d.x,e.yAxis.rect.y-d.y):(t=e.xAxis.rect.y-d.y,e.yAxis.rect.x-d.x),o=0;o<s.length;o++){var r="RangeArea"!==e.type||-1<e.type.indexOf("SplineRangeArea")||-1<e.type.indexOf("RangeStepArea")?s[o].yValue:s[o].regions[0].y,n=void 0,a=s[o].xValue;"Category"===l.primaryXAxis.valueType?a=s[o].x.toLocaleString():"DateTime"===l.primaryXAxis.valueType&&(a=new Date(s[o].xValue)),(n="BoxAndWhisker"===e.type?s[o].regions.some(function(e){return mo(e.x+t,e.y+i,c)}):"Lasso"===l.selectionMode?s[o].isSelect:l.allowMultiSelection?g.isPointSelect(s[o],t,i,g.filterArray):s[o].symbolLocations.some(function(e){return e&&mo(e.x+t,e.y+i,c)}))&&"Indicator"!==e.category&&(h=new ke(e.index,s[o].index),g.selection(l,h,g.findElements(l,e,h,"",!e.isRectSeries&&e.marker.visible)),p.push({x:a,y:r})),!n||"RangeArea"!==e.type&&"SplineRangeArea"!==e.type&&"RangeStepArea"!==e.type||p.push({x:a,y:s[o].regions[0].y})}u.push(p)}}(n[r]);this.blurEffect(l.element.id,l.visibleSeries);var o=i?l.mouseDownX:e.x+e.width,a=i?l.mouseDownY:e.y;t||this.createCloseButton(o,a),l.trigger(Lt,{name:Lt,selectedDataValues:u,cancel:!1})},h.prototype.removeOffset=function(e,t){e.x-=t.x,e.y-=t.y},h.prototype.isPointSelect=function(e,t,i,o){for(var r=e.symbolLocations[0],n=0,a=o;n<a.length;n++){var l=a[n];if(l&&r&&mo(r.x+t,r.y+i,l))return!0}return!1},h.prototype.drawDraggingRect=function(e,t){var i=e.chartAxisLayoutPanel.seriesClipRect,o=e.chartArea.border.width,r=e.themeStyle.selectionRectFill,n=e.themeStyle.selectionRectStroke,a="Lasso"===e.selectionMode;switch(this.isdrawRect&&(i.x=i.x-o/2,i.y=i.y-o/2,i.width=i.width+o,i.height=i.height+o,this.isdrawRect=!1),e.selectionMode){case"DragX":t.y=i.y,t.height=i.height;break;case"DragY":t.x=i.x,t.width=i.width}if((t.width<5||t.height<5)&&!a)return null;var l,s,h,c,o=-1<e.selectionMode.indexOf("Drag")||"Lasso"===e.selectionMode;e.allowMultiSelection&&o?(h=s=void 0,(o=J(this.multiRectGroup))||(o=e.svgRenderer.createGroup({id:this.multiRectGroup}),e.svgObject.appendChild(o)),this.rectGrabbing||this.resizing?((l=J(this.draggedRect+this.targetIndex)).nextSibling&&K.remove(l.nextSibling),this.setAttributes(l,t)):J(this.draggedRectGroup+this.count)||(h=e.svgRenderer.createGroup({id:this.draggedRectGroup+this.count}),c=document.getElementById(e.element.id+"_series_svg"),(e.enableCanvas?c:o).appendChild(h)),"Lasso"!==e.selectionMode?(s=e.svgRenderer.drawRectangle(new Pr(this.draggedRect+this.count,r,{color:n,width:1},1,t,0,0,"",e.theme.indexOf("Fluent2")<1?"3":""))).style.cursor="move":s=e.svgRenderer.drawPath(new $.PathOption(this.lassoPath+this.count,r,3,n,1,"",this.path)),h||this.rectGrabbing||this.resizing?this.rectGrabbing||this.resizing||h.appendChild(s):J(this.draggedRectGroup+this.count).appendChild(s)):(s=J(a?this.lassoPath:this.draggedRect),this.closeIcon&&w(this.closeIconId),s?a?s.setAttribute("d",this.path):this.setAttributes(s,t):(h=e.svgRenderer.createGroup({id:this.draggedRectGroup}),c=document.getElementById(e.element.id+"_series_svg"),(e.enableCanvas?c:e.svgObject).appendChild(h),s="Lasso"!==e.selectionMode?e.svgRenderer.drawRectangle(new Pr(this.draggedRect,r,{color:n,width:1},1,t,0,0,"",e.theme.indexOf("Fluent2")<1?"3":"")):e.svgRenderer.drawPath(new $.PathOption(this.lassoPath,r,3,n,1,"",this.path)),h.appendChild(s)))},h.prototype.getIndex=function(e){for(var t=e.length-1;0<t;t--){var i=Number(e[t]);if(isNaN(i))break}return+e.substr(t+1,e.length-1)},h.prototype.createCloseButton=function(e,t){var i=this.chart.allowMultiSelection,o=this.chart.themeStyle.selectionCircleStroke,r=this.rectGrabbing||this.resizing,n=this.chart.svgRenderer.createGroup({id:this.closeIconId+(i?r?this.targetIndex:this.count:""),style:"cursor:pointer; visibility: visible;"}),e=(n.appendChild(this.chart.svgRenderer.drawCircle(new kr(this.closeIconId+"_circle"+(i?r?this.targetIndex:this.count:""),"#FFFFFF",{color:o,width:1},1,e,t,10))),"M "+(e-4)+" "+(t-4)+" L "+(e+4)+" "+(t+4)+" M "+(e-4)+" "+(t+4)+" L "+(e+4)+" "+(t-4)),t=(n.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+"_cross"+(i?r?this.targetIndex:this.count:""),d:e,stroke:o,"stroke-width":2,fill:o})),this.closeIcon=n,J(this.draggedRectGroup+(i?r?this.targetIndex:this.count:"")));t&&t.appendChild(n)},h.prototype.removeDraggedElements=function(e,t,i){if(t.id&&-1<t.id.indexOf(this.closeIconId)&&-1===i.indexOf("move")){var o=!0;if(e.allowMultiSelection){var r=this.getIndex(t.id),i=J(this.multiRectGroup);if(K.remove(J(this.draggedRectGroup+r)),this.dragRectArray[r]=null,this.filterArray[r]=null,this.totalSelectedPoints[r]=null,i&&0===i.childElementCount&&(w(i),this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[]),"Lasso"===this.currentMode){if(null!=this.multiDataIndexes[r])for(var n=0;n<this.multiDataIndexes[r].length;n++)this.multiDataIndexes[r][n].isSelect=!1;this.multiDataIndexes[r]=null;for(var a=0;a<this.multiDataIndexes.length;a++)if(null!=this.multiDataIndexes[a])for(var o=!1,l=0;l<this.multiDataIndexes[a].length;l++)this.multiDataIndexes[a][l].isSelect=!0;this.calculateDragSelectedElements(e,this.dragRect,!0)}else if(this.filterArray.length)for(n=0;n<this.filterArray.length;n++)this.filterArray[n]&&this.calculateDragSelectedElements(e,this.filterArray[n],!(o=!1));else this.calculateDragSelectedElements(e,new $.Rect(0,0,0,0),!0)}else K.remove(J(this.draggedRectGroup)),this.removeSelectedElements(e,this.selectedDataIndexes,e.series);this.blurEffect(e.element.id,e.visibleSeries),this.changeCursorStyle(!1,e.svgObject,"auto"),e.allowMultiSelection&&!o||(this.rectPoints=null)}},h.prototype.resizingSelectionRect=function(e,t,i,o){var r;(e.allowMultiSelection&&-1<o.id.indexOf("_ej2_drag_rect")||this.dragRectArray[this.targetIndex])&&(-1<o.id.indexOf("_ej2_drag_rect")&&(this.targetIndex=this.getIndex(o.id)),o=this.dragRectArray[this.targetIndex],r=new $.Rect(o.x,o.y,o.width,o.height)),(r=e.allowMultiSelection?r:new $.Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height))&&(o=this.findResizeMode(e.svgObject,r,t),this.resizing&&(r=Go(r.x,r.y,r.x+r.width,r.y+r.height,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,r),this.dragRect=r),i)&&(this.resizing=o)},h.prototype.findResizeMode=function(e,t,i){var o="se-resize",r=!1;if(this.resizing){var n=t.x,a=t.y,l=i.x-n,s=i.y-a;switch(this.resizeMode){case 0:s=Math.abs(t.height+t.y-i.y),t.y=Math.min(t.height+t.y,i.y),t.height=s;break;case 1:l=Math.abs(t.width+t.x-i.x),t.x=Math.min(t.width+t.x,i.x),t.width=l;break;case 2:t.height=Math.abs(s),t.y=Math.min(i.y,a);break;case 3:t.width=Math.abs(l),t.x=Math.min(i.x,n);break;case 4:t.width=Math.abs(l),t.height=Math.abs(s),t.x=Math.min(i.x,n),t.y=Math.min(i.y,a)}}else for(var h=[new $.Rect(t.x,t.y,t.width-5,5),new $.Rect(t.x,t.y,5,t.height),new $.Rect(t.x,t.y+t.height-5,t.width-5,5),new $.Rect(t.x+t.width-5,t.y+5,5,t.height-15),new $.Rect(t.x+t.width-10,t.y+t.height-10,10,10)],c=0;c<h.length;c++)if(mo(i.x,i.y,h[c])){o=4===c?o:c%2==0?"ns-resize":"ew-resize",r=!0,this.resizeMode=c;break}return"Lasso"!==this.currentMode&&this.changeCursorStyle(r,J(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),o),this.changeCursorStyle(r,e,o),r},h.prototype.changeCursorStyle=function(e,t,i){i=e?i:this.control.svgObject===t?"auto":"move",t&&(t.style.cursor=i)},h.prototype.removeSelectedElements=function(e,t,i){t=e.isRedrawSelection?t:t.splice(0,t.length);for(var o=0,r=i;o<r.length;o++){var n=r[o];if(n.visible){n=this.getSeriesElements(n),this.removeStyles(n);for(var a=0,l=n;a<l.length;a++){var s=l[a];this.removeStyles(this.getChildren(s))}}}},h.prototype.setAttributes=function(e,t){for(var i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];e.setAttribute(r,t[r])}},h.prototype.draggedRectMoved=function(e,t,i){var o;(o=(this.resizing||this.rectGrabbing)&&e.allowMultiSelection?(o=this.dragRectArray[this.targetIndex],new $.Rect(o.x,o.y,o.width,o.height)):new $.Rect(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height)).x-=t.x-e.mouseX,o.y-=t.y-e.mouseY,o=Go(o.x,o.y,o.x+o.width,o.height+o.y,e.chartAxisLayoutPanel.seriesClipRect),i?this.drawDraggingRect(e,o):this.calculateDragSelectedElements(e,o)},h.prototype.mouseLeave=function(e){this.completeSelection(e.target,e.type)},h.prototype.completeSelection=function(e,t){var i=this.chart;"None"!==i.selectionMode&&(this.currentMode=i.selectionMode,(this.dragging||this.resizing)&&5<this.dragRect.width&&5<this.dragRect.height?this.calculateDragSelectedElements(i,this.dragRect):(!i.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height||this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height)&&this.draggedRectMoved(i,this.dragRect),"Lasso"===i.selectionMode&&this.dragging&&this.path&&-1!==this.path.indexOf("L")&&(i.allowMultiSelection?J(this.lassoPath+this.count)&&(J(this.lassoPath+this.count).setAttribute("d",this.path+"Z"),this.pointChecking(J(this.lassoPath+this.count))):(J(this.lassoPath).setAttribute("d",this.path+"Z"),this.pointChecking(J(this.lassoPath))),this.dragging||this.resizing)&&this.calculateDragSelectedElements(i,this.dragRect),this.dragging=!1,this.rectGrabbing=!1,this.resizing=!1,this.removeDraggedElements(i,e,t))},h.prototype.getDragRect=function(e,t){return Go(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY,t)},h.prototype.dragStart=function(e,t,i,o,r){var n=e.selectionMode,r=(this.currentMode=e.selectionMode,this.dragging=(-1<n.indexOf("Drag")||"Lasso"===n)&&(e.isDoubleTap||!e.isTouch)&&"PolarRadar"!==e.chartAreaType,r.target);if(this.path=void 0,this.dragging&&(this.count=J(this.multiRectGroup)?this.count+1:0,this.dragRect=new $.Rect(e.mouseDownX,e.mouseDownY,0,0),e.mouseDownX<t.x||e.mouseDownX>t.x+t.width||e.mouseDownY<t.y||e.mouseDownY>t.y+t.height)&&(this.dragging=!1),"Lasso"===n)for(var a=0,l=e.visibleSeries;a<l.length;a++){var s=l[a];if(s.visible)for(var h=0,c=s.points;h<c.length;h++){var d=c[h];e.allowMultiSelection||(d.isSelect=!1)}}"Lasso"!==n&&(this.rectPoints&&!e.allowMultiSelection&&(this.dragRect=new $.Rect(e.mouseDownX,e.mouseDownY,0,0),this.resizingSelectionRect(e,new ee(i,o),!0),this.rectGrabbing=mo(i,o,this.rectPoints)),e.allowMultiSelection)&&(t=this.getIndex(r.id),this.targetIndex=this.isDragRect(r.id)?t:void 0,this.dragRectArray.length)&&this.isDragRect(r.id)&&(this.resizingSelectionRect(e,new ee(i,o),!0,r),this.rectGrabbing=mo(i,o,this.dragRectArray[t]))},h.prototype.isDragRect=function(e){return-1<e.indexOf("_ej2_drag_rect")},h.prototype.mouseMove=function(e){var t=this.chart,i=e.target,o=e.type;this.highlightChart(i,o),"None"!==t.selectionMode&&("touchmove"===o&&(K.Browser.isIos||K.Browser.isIos7)&&this.dragging&&e.preventDefault&&e.preventDefault(),this.selectionAndDrag(t,i,o))},h.prototype.highlightChart=function(e,t){if(("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight)&&!K.isNullOrUndefined(e)){if((e=1<e.id.indexOf("_legend_text")?J(e.id.replace("text","shape")):e).hasAttribute("class")&&(-1<e.getAttribute("class").indexOf("highlight")||-1<e.getAttribute("class").indexOf("selection")))return;this.calculateSelectedElements(e,t),this.chart.highlightModule.highlightDataIndexes&&0<this.chart.highlightModule.highlightDataIndexes.length&&-1===e.id.indexOf("_chart_legend_")&&-1===e.id.indexOf("_Series_")&&this.removeLegendHighlightStyles()}},h.prototype.selectionAndDrag=function(e,t,i){mo(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&!this.chart.enableCanvas?(this.rectGrabbing&&!this.resizing?this.draggedRectMoved(e,this.dragRect,!0):this.dragging&&!this.resizing&&("Lasso"===e.selectionMode?this.getPath(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY):this.dragRect=this.getDragRect(e,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,this.dragRect)),(this.rectPoints&&!e.allowMultiSelection||e.allowMultiSelection&&!this.dragging||this.resizing)&&this.resizingSelectionRect(e,new ee(e.mouseX,e.mouseY),null,t)):this.completeSelection(t,i)},h.prototype.removeLegendHighlightStyles=function(){var e;this.chart.highlightModule.highlightDataIndexes=[];for(var t=0;t<this.chart.visibleSeries.length;t++)if(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[t])),0===this.selectedDataIndexes.length){for(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[t]));0<e.length;){var i=e[0];if(i&&(this.removeSvgClass(i,i.getAttribute("class")),0<i.id.indexOf("Group"))&&!this.chart.visibleSeries[t].isRectSeries)for(var o=this.indexFinder(i.id),r=0;r<i.children.length;r++)"defs"!==i.children[r].nodeName&&this.highlightAnimation(i.children[r],o.series,700,.3,!0)}for(e=document.getElementsByClassName(this.unselected);0<e.length;)(i=e[0])&&(this.removeSvgClass(i,i.getAttribute("class")),""!==i.id)&&this.highlightAnimation(i,1===this.chart.series.length?0:this.indexFinder(i.id).series,700,.3)}else for(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[t]));0<e.length;)(i=e[0])&&(this.removeSvgClass(i,i.getAttribute("class")),this.addSvgClass(i,this.unselected))},h.prototype.getPath=function(e,t,i,o){this.dragging&&(this.path?this.path=this.path+" L"+i+" "+o:this.path="M "+e+" "+t)},h.prototype.highlightAnimation=function(i,e,t,o,r){var n,a,l=parseFloat(this.chart.visibleSeries[e].width.toString())+1;r?a=-1!==i.id.indexOf("border")&&this.chart.visibleSeries[e].border.width?parseFloat(this.chart.visibleSeries[e].border.width.toString()):-1!==i.id.indexOf("Symbol")&&this.chart.visibleSeries[e].marker.border.width?parseFloat(this.chart.visibleSeries[e].marker.border.width.toString()):parseFloat(this.chart.visibleSeries[e].width.toString()):(n=-1!==i.id.indexOf("border")?1:-1!==i.id.indexOf("Symbol")?parseFloat(this.chart.visibleSeries[e].marker.opacity.toString()):parseFloat(this.chart.visibleSeries[e].opacity.toString()),K.isNullOrUndefined(this.chart.selectionModule)&&"None"===this.chart.selectionMode&&""!==this.chart.highlightColor&&(o=1)),(n||r&&a&&l)&&new K.Animation({}).animate(i,{duration:t,progress:function(e){i.style.animation="";var t,e=e.timeStamp/e.duration;r?(t=l+(a-l)*e,i.setAttribute("stroke-width",t.toString())):(t=o+(n-o)*e,i.setAttribute("opacity",t.toString()))},end:function(){r?i.setAttribute("stroke-width",a.toString()):i.setAttribute("opacity",n.toString())}})},h.prototype.stopElementAnimation=function(e,t){t=-1!==e.id.indexOf("border")?1:-1!==e.id.indexOf("Symbol")?parseFloat(this.chart.visibleSeries[t].marker.opacity.toString()):parseFloat(this.chart.visibleSeries[t].opacity.toString());e.getAttribute("e-animate")&&K.Animation.stop(e),e.setAttribute("opacity",t.toString())},h.prototype.pointChecking=function(t){var i,o=this,r=this.chart,e=J(r.svgId).getBoundingClientRect(),n=r.chartAxisLayoutPanel.seriesClipRect.x+Math.max(e.left,0),a=r.chartAxisLayoutPanel.seriesClipRect.y+Math.max(e.top,0);this.multiDataIndexes[this.count]=[];for(var l=0,s=r.visibleSeries;l<s.length;l++)s[l].points.filter(function(e){(i=e.symbolLocations&&e.symbolLocations.length?document.elementFromPoint(e.symbolLocations[0].x+n,e.symbolLocations[0].y+a):i)===t?(e.isSelect=!0,o.chart.allowMultiSelection&&"Lasso"===o.currentMode&&(o.multiDataIndexes[o.count][o.seriesIndex]=e,o.seriesIndex++)):r.allowMultiSelection||(e.isSelect=!1)});this.seriesIndex=0},h.prototype.getModuleName=function(){return"Selection"},h.prototype.destroy=function(){this.removeEventListener()};var Nh,Vh,Hh=h;function h(e){var t=Vh.call(this,e)||this,i=(t.isdrawRect=!0,t.multiDataIndexes=[],t.pathIndex=0,t.seriesIndex=0,t.count=-1,t.dragRectArray=[],t.filterArray=[],t.totalSelectedPoints=[],t.chart=e,t.renderer=e.renderer,e.selectionMode);return t.isMultiDrag=e.isMultiSelect&&-1<i.indexOf("Drag"),t.addEventListener(),t}Wh.prototype.pointMouseDown=function(){var e=this.chart,t=new Qr(e),i=t.getData(),o=e.zoomSettings.enableSelectionZooming||e.zoomSettings.enablePinchZooming;!i.point||!t.insideRegion&&i.series.isRectSeries||(this.seriesIndex=i.series.index,this.pointIndex=i.point.index,e.series[this.seriesIndex].dragSettings.enable&&!o&&(e.trigger(Ot,{series:i.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:i.point,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.isPointMouseDown=!0,e.zoomSettings.enableDeferredZooming=!1))},Wh.prototype.pointMouseMove=function(e){var t=this.chart,e=("touchmove"===e.type&&e.preventDefault&&e.preventDefault(),new Qr(t)),i=e.getData();i.series.dragSettings.enable&&i.point&&(e.insideRegion||!i.series.isRectSeries)?this.getCursorStyle(i):t.svgObject.style.cursor="null",t.isPointMouseDown&&(-1<(e=t.series[this.seriesIndex]).type.indexOf("Spline")&&t[bo(e.type)+"SeriesModule"].findSplinePoint(e),this.pointDragging(this.seriesIndex,this.pointIndex))},Wh.prototype.getCursorStyle=function(e){var t=this.chart;-1<e.series.type.indexOf("Stacking")?t.svgObject.style.cursor="":("Bar"!==e.series.type||!t.isTransposed)&&(t.isTransposed||"Bar"===e.series.type)?t.svgObject.style.cursor="ew-resize":t.svgObject.style.cursor="ns-resize"},Wh.prototype.pointDragging=function(e,t){var i=this.chart,o=[],r=i.visibleSeries[e],n=r.dragSettings,a=r.xAxis,l=r.yAxis,s=r.isRectSeries?1:0,a=xo(a,l,i.requireInvertedAxis),a="Bar"===r.type?(h=i.isTransposed?a.y+a.height-i.mouseY:i.mouseX-a.x,i.isTransposed?a.height:a.width):(h=i.isTransposed?i.mouseX-a.x:a.y+a.height-i.mouseY,i.isTransposed?a.width:a.height),h=l.isAxisInverse?1-h/a:h/a,a=(h=h*l.visibleRange.delta+l.visibleRange.min,null!==l.minimum?l.visibleRange.min+s:K.isNullOrUndefined(n.minY)?h:n.minY);if(h<=(null!==l.maximum?l.visibleRange.max+s:K.isNullOrUndefined(n.maxY)?h:n.maxY)&&a<=h){r.points[t].yValue=r.points[t].y=i.dragY="Logarithmic"===l.valueType?Math.pow(l.logBase,h):parseFloat(h.toFixed(2)),r.points[t].interior=n.fill;for(var c=0;c<r.points.length;c++)o[c]=r.points[c].yValue;r.yMin=Math.min.apply(null,o),r.yMax=Math.max.apply(null,o),this.isPointDragging=!0,i.refreshBound(),i.trigger("drag",{seriesIndex:e,pointIndex:t,series:r,point:r.points[t],oldValue:i.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:r.points[t].yValue})}},Wh.prototype.pointMouseUp=function(){var e=this.chart;e.isPointMouseDown&&e.series[this.seriesIndex].dragSettings.enable&&(e.trigger(zt,{series:e.series[this.seriesIndex],point:e.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.visibleSeries[this.seriesIndex].points[this.pointIndex].y=e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue,e.isPointMouseDown=!1,this.isPointDragging=!1,this.seriesIndex=this.pointIndex=void 0)},Wh.prototype.getModuleName=function(){return"DataEditing"},Wh.prototype.destroy=function(){};var jh=Wh;function Wh(e){this.isPointDragging=!1,this.chart=e}Uh=function(e,t){return(Uh=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Uh(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Yh,Xh=Hh),Yh.prototype.wireEvents=function(){this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this)},Yh.prototype.unWireEvents=function(){this.chart.isDestroyed||this.chart.off(K.Browser.touchMoveEvent,this.mouseMove)},Yh.prototype.declarePrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode},Yh.prototype.invokeHighlight=function(e){this.declarePrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode},Yh.prototype.getModuleName=function(){return"Highlight"},Yh.prototype.destroy=function(){this.unWireEvents()};var Uh,Xh,Gh=Yh;function Yh(e){var t=Xh.call(this,e)||this;return t.chart=e,t.renderer=e.renderer,t.wireEvents(),t}qh.prototype.initPrivateVariables=function(e,t){var i="",o="",r=e.chart.renderer,n=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",o="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+n+")"),t.dataLabel.visible&&!this.chart.enableCanvas&&(e.shapeElement=r.createGroup({id:this.chart.element.id+"ShapeGroup"+n,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+n+")"}),e.textElement=r.createGroup({id:this.chart.element.id+"TextGroup"+n,transform:i,"clip-path":o}),e.textElement.setAttribute("aria-hidden","true")),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+n+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background},qh.prototype.calculateErrorHeight=function(e,t){if(!e.errorBar.visible)return null;var i,o,r;e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType?(i=e.errorBar.direction,o=this.chart.errorBarModule.positiveHeight,r=this.chart.errorBarModule.negativeHeight,this.isRectSeries(e)?("Top"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0),"Outer"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Plus"===i?o:0)):("Top"!==t&&"Outer"!==t&&"Auto"!==t||("Both"!==i&&"Plus"!==i||e.chart.isTransposed?this.errorHeight=0:this.errorHeight=o),"Bottom"!==t&&"Auto"!==t||(this.errorHeight="Both"===i||"Minus"===i?r:0))):this.errorHeight=0},qh.prototype.isRectSeries=function(e){return e.isRectSeries||"RangeArea"===e.type||"SplineRangeArea"===e.type||"RangeStepArea"===e.type},qh.prototype.render=function(e,t,i){this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isAxisInverse;var o=t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections",r=K.createElement("div",{id:o}),n=Vi(e);if(e.visible)for(var a=0;a<n.length;a++)this.renderDataLabel(e,n[a],r,i);r.childElementCount&&(t.enableCanvas?J(t.element.id+"_Secondary_Element").appendChild(r):q(t.enableCanvas,J(t.element.id+"_Secondary_Element"),r,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))},qh.prototype.renderDataLabel=function(e,t,i,o){if(!o.showZero&&(0===t.y||0===t.y&&"Zero"===e.emptyPointSettings.mode))return null;this.margin=o.margin;var r,n,a,l=!0,s={x:0,y:0},h=e.clipRect,c=!1,d=[],p=(o.angle="Rotate90"===o.labelIntersectAction?90:o.angle,o.enableRotation="Rotate90"===o.labelIntersectAction||o.enableRotation,a=o.angle),u={width:o.border.width,color:o.border.color},g=K.extend({},K.getValue("properties",o.font),null,!0);if(t.symbolLocations.length&&t.symbolLocations[0]||"BoxAndWhisker"===e.type&&t.regions.length)for(var m,y=(m=null!==t.text?Zo(t,e,this.chart):[]).length,f=0;f<y;f++){var v={cancel:!1,name:at,series:e,point:t,text:m[f],border:u,color:o.fill,template:o.template,font:g,location:s,textSize:$.measureText(m[f],o.font,this.chart.themeStyle.datalabelFont)};if(this.chart.trigger(at,v),!v.cancel)if(this.fontBackground=v.color,this.isDataLabelShape(v),this.markerHeight="Bubble"===e.type?t.regions[0].height/2:this.markerHeight,null!==v.template)this.createDataLabelTemplate(i,e,o,t,v,f,this.chart.redraw);else{var b=o.enableRotation?Hi(o.font,v.text,o.angle,this.chart,this.chart.themeStyle.datalabelFont):$.measureText(v.text,o.font,this.chart.themeStyle.datalabelFont),x=this.calculateTextPosition(t,e,b,o,f);if("PolarRadar"===this.chart.chartAreaType)for(var S=0,C=this.chart.chartAxisLayoutPanel.visibleAxisLabelRect;S<C.length;S++){var w=C[S];if(Ko(new $.Rect(x.x,x.y,x.width,x.height),w)){l=!1;break}}var F,L,P=new $.Rect(x.x+h.x,x.y+h.y,x.width,x.height);if(o.enableRotation){var A=this.getRectanglePoints(x),M=x.x+x.width/2,D=x.y+x.height/2;if(!(c="Rotate90"!==o.labelIntersectAction&&-90!==p&&this.isDataLabelOverlapWithChartBound(A,this.chart,h))){this.chart.rotatedDataLabelCollections.push(A);for(var k=this.chart.rotatedDataLabelCollections.length-1,R=k;0<=R;R--)if(this.chart.rotatedDataLabelCollections[k]&&this.chart.rotatedDataLabelCollections[R-1]&&to(this.chart.rotatedDataLabelCollections[k],this.chart.rotatedDataLabelCollections[R-1])){c=!0,this.chart.rotatedDataLabelCollections[k]=null;break}}}else c=Qo(x,this.chart.dataLabelCollections,h);c&&"None"!==o.labelIntersectAction||!l||(this.chart.dataLabelCollections.push(P),this.isShape&&(A=this.chart.renderer.drawRectangle(new Pr(this.commonId+t.index+"_TextShape_"+f,v.color,v.border,o.opacity,x,o.rx,o.ry,"",o.border.dashArray),new Int32Array([h.x,h.y])),e.shapeElement)&&e.shapeElement.appendChild(A),P=ir(or("transparent"===this.fontBackground?-1<this.chart.theme.indexOf("Dark")||-1<this.chart.theme.indexOf("HighContrast")?"black":"white":this.fontBackground)),P=Math.round((299*P.r+587*P.g+114*P.b)/1e3),F=x.x+this.margin.left+b.width/2+s.x,L=o.enableRotation&&"PolarRadar"!==this.chart.chartAreaType?x.y+this.margin.top+b.height/2+b.width/4+("Auto"===o.position?t.regions[0].width/10:0)+s.y:x.y+this.margin.top+3*b.height/4+s.y,s={x:0,y:0},0!==p&&o.enableRotation?(r=M,n=D,a=360<p?p-360:p<-360?p+360:p):(a=0,r=x.x,n=x.y,F-="Cartesian"===this.chart.chartAreaType&&F+b.width/2>h.width?F+b.width/2-h.width:0,L-=L+b.height>h.y+h.height&&!(-1<e.type.indexOf("Bar"))?L+b.height-(h.y+h.height):0),b="Rotate90"===o.labelIntersectAction?"Top"===o.position?"start":"Middle"===o.position?"middle":"end":-90===p&&o.enableRotation?"Top"===o.position?"end":"Middle"===o.position?"middle":"start":"middle",d.push(gr(this.chart.renderer,new $.TextOption(this.commonId+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index?t.index+1:t.index)+"_Text_"+f,F,L,b,v.text,"rotate("+a+","+r+","+n+")","auto",a),v.font,v.font.color||(128<=P||"Hilo"===e.type||"HiloOpenClose"===e.type?"black":"white"),e.textElement,!1,this.chart.redraw,!0,!1,e.chart.duration,e.clipRect,0,null,this.chart.enableCanvas,null,this.chart.themeStyle.datalabelFont,new ee(r,n))),null!==e.removedPointIndex&&e.removedPointIndex<=t.index&&(e.textElement.lastChild.id=this.commonId+t.index+"_Text_"+f))}}return d},qh.prototype.getRectanglePoints=function(e){return[new ee(e.x,e.y),new ee(e.x+e.width,e.y),new ee(e.x+e.width,e.y+e.height),new ee(e.x,e.y+e.height)]},qh.prototype.isDataLabelOverlapWithChartBound=function(e,t,i){for(var o=0;o<e.length;o++)if(!mo(e[o].x+i.x,e[o].y+i.y,t.initialClipRect))return!0;return!1},qh.prototype.createDataLabelTemplate=function(e,t,i,o,r,n,a){this.margin={left:0,right:0,bottom:0,top:0};var l=t.clipRect,r=Ho(K.createElement("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+o.index+(n?"_"+n:""),styles:"position: absolute;background-color:"+r.color+";"+jo(i.font,this.chart.themeStyle.datalabelFont)+";border:"+r.border.width+"px solid "+r.border.color+";"}),o.index,r.template,this.chart,o,t,this.chart.element.id+"_DataLabel",n);this.calculateTemplateLabelSize(e,r,o,t,i,n,l,a)},qh.prototype.calculateTemplateLabelSize=function(e,t,i,o,r,n,a,l,s){var h=Wo(t,l,s),n=this.calculateTextPosition(i,o,{width:h.width,height:h.height},r,n),c=!1;s&&(c=0===h.width||0===h.height),t.style.left=+(("PolarRadar"===this.chart.chartAreaType?0:o.clipRect.x)+n.x)+"px",t.style.top=("PolarRadar"===this.chart.chartAreaType?0:o.clipRect.y)+n.y+0+"px";var s=ir(or("transparent"===this.fontBackground?-1<this.chart.theme.indexOf("Dark")?"black":"white":this.fontBackground)),h=o.chart.requireInvertedAxis?o.xAxis:o.yAxis,d=o.chart.requireInvertedAxis?o.yAxis:o.xAxis;t.style.color=r.font.color||(128<=Math.round((299*s.r+587*s.g+114*s.b)/1e3)?"black":"white"),t.childElementCount&&!c&&(!Qo(n,this.chart.dataLabelCollections,a)||"None"===r.labelIntersectAction)&&("XY"!==o.seriesType||void 0===i.yValue||Xi(i.yValue,o.yAxis.visibleRange)||-1<o.type.indexOf("Stacking")||-1<o.type.indexOf("100")&&Xi(o.stackedValues.endValues[i.index],o.yAxis.visibleRange))&&Xi(i.xValue,o.xAxis.visibleRange)&&parseFloat(t.style.top)>=h.rect.y&&parseFloat(t.style.left)>=d.rect.x&&parseFloat(t.style.top)<=h.rect.y+h.rect.height&&parseFloat(t.style.left)<=d.rect.x+d.rect.width&&(this.chart.dataLabelCollections.push(new $.Rect(n.x+a.x,n.y+a.y,n.width,n.height)),q(this.chart.enableCanvas,e,t,l,!0,"left","top"),o.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(o,t):this.chart.enableCanvas&&e.appendChild(t))},qh.prototype.calculateTextPosition=function(e,t,i,o,r){var n,a,l,s=1<r&&"Candle"===t.type?e.regions[1]:e.regions[0],h=(1<r&&"HiloOpenClose"===t.type&&(s=2===r?e.regions[1]:e.regions[2]),n=this.getLabelLocation(e,t,i,r),t.clipRect),e=(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?(this.locationY=n.y,a=i.width+this.borderWidth+this.margin.left+this.margin.right-5,n.x="Auto"===o.position?n.x:this.calculateAlignment(a,n.x,o.alignment,e.yValue<0),n.x=this.calculateRectPosition(n.x,s,e.yValue<0!==this.yAxisInversed,o.position,t,i,r,e)):(this.locationX=n.x,a=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5,n.x="Auto"===o.position?n.x:this.calculateAlignment(a,n.x,o.alignment,!!this.isRectSeries(t)&&e.yValue<0),n.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(n.y,s,e.yValue<0!==this.yAxisInversed,o.position,t,i,r,e):this.calculatePathPosition(n.y,o.position,t,e,i,r),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(n=this.calculatePolarRectPosition(n,o.position,t,e,i,r,o.alignment,a))),Jo(n,i,this.margin));return!0===o.enableRotation&&0!==o.angle||e.y>h.y+h.height||e.x>h.x+h.width||e.x+e.width<0||e.y+e.height<0||(e.x=e.x<0?5:e.x,e.y=e.y<0&&"None"!==o.labelIntersectAction?5:e.y,e.x-=e.x+e.width>h.x+h.width?e.x+e.width-(h.x+h.width)+5:0,e.y-=e.y+e.height>h.y+h.height?e.y+e.height-(h.y+h.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),this.inverted&&t.isRectSeries&&e.x+e.width>s.x+s.width&&(l=!0),this.fontBackground=l?this.chartBackground:this.fontBackground,e},qh.prototype.calculatePolarRectPosition=function(e,t,i,o,r,n,a,l){var s=this.chart.availableSize.width,a="Center"===a?0:"Far"===a?1:-1,h=o.regionData.startAngle-.5*Math.PI+(o.regionData.endAngle-o.regionData.startAngle)/2,c=0===n?o.regionData.radius<o.regionData.innerRadius?o.regionData.innerRadius:o.regionData.radius:o.regionData.radius>o.regionData.innerRadius?o.regionData.innerRadius:o.regionData.radius;return this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,-1<i.drawType.indexOf("Stacking")?t="Outer"===t?"Top":t:-1<i.drawType.indexOf("Range")&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?c=0===n?c+10+this.markerHeight:c-10-this.markerHeight:"Middle"===t?(c=c/2+5,"StackingColumn"===i.drawType&&(c=o.regionData.innerRadius+(o.regionData.radius-o.regionData.innerRadius)/2+5-r.height/2)):"Top"===t?c=0===n?c-10-this.markerHeight:c+10+this.markerHeight:"Bottom"===t?(c=10,c+="StackingColumn"===i.drawType?o.regionData.innerRadius+this.markerHeight:0):c=0===n?c>=i.chart.radius?c-5:"StackingColumn"===i.drawType?c-10:c+10:c>=i.chart.radius?c+5:c-10,e.x=i.clipRect.width/2+i.clipRect.x+(c+=l*a)*Math.cos(h),"StackingColumn"===i.drawType?e.x=e.x<s/2?e.x+r.width/2:e.x>s/2?e.x-r.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<s/2?e.x-r.width/2:e.x>s/2?e.x+r.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+c*Math.sin(h),e},qh.prototype.getLabelLocation=function(e,t,i,o){var r,n=new ee(0,0),a="Candle"===t.type&&1<o?e.regions[1]:e.regions[0],l=("HiloOpenClose"===t.type&&(a=2===o?e.regions[1]:e.regions[2]),t.xAxis),s=t.yAxis,h=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(o){case this.markerHeight=0:n=A(e.xValue,e.median,l,s,h);break;case 1:n=A(e.xValue,e.maximum,l,s,h);break;case 2:n=A(e.xValue,e.minimum,l,s,h);break;case 3:n=A(e.xValue,e.upperQuartile,l,s,h);break;case 4:n=A(e.xValue,e.lowerQuartile,l,s,h);break;default:n=A(e.xValue,e.outliers[o-5],l,s,h),this.markerHeight=t.marker.height/2}h?n.y=e.regions[0].y+e.regions[0].height/2:n.x=e.regions[0].x+e.regions[0].width/2}else n=0===o||1===o?new ee(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==o&&3!==o||"Candle"!==t.type?h?{x:a.x+a.width/2,y:a.y}:{x:a.x+a.width,y:a.y+a.height/2}:new ee(e.symbolLocations[1].x,e.symbolLocations[1].y);return 1<o&&"HiloOpenClose"===t.type&&(t.chart.requireInvertedAxis?(r=a.height,n.y=a.y+r/2+2*(2===o?1:-1)):(r=a.width,n.x=a.x+r/2+2*(2===o?1:-1))),n},qh.prototype.calculateRectPosition=function(e,t,i,o,r,n,a,l){if("PolarRadar"===r.chart.chartAreaType)return null;var s=this.margin,h=r.marker.dataLabel.enableRotation||this.inverted?n.width:n.height;switch(this.extraSpace=this.borderWidth+h/2+("Outer"!==o&&-1<r.type.indexOf("Column")&&Math.abs(t.height-n.height)<5?0:5),"StackingColumn100"===r.type||"StackingBar100"===r.type?o="Outer"===o?"Top":o:-1<r.type.indexOf("Range")?o="Outer"===o||"Top"===o?o:"Auto":"Waterfall"===r.type&&(o="Auto"===o?"Middle":o),o){case"Bottom":e=this.inverted?i?e+("Waterfall"===r.type?+this.extraSpace+s.left+this.markerHeight:+t.width-this.extraSpace-s.left):e-t.width+this.extraSpace+s.right:i?e+("Waterfall"===r.type?-this.extraSpace-s.top-this.markerHeight:-t.height+this.extraSpace+s.top):e+t.height-this.extraSpace-s.bottom;break;case"Middle":e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,r,n,a,l);break;default:this.extraSpace+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,o,r,a,this.extraSpace,i,l)}var h=this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height,c=(this.fontBackground=h?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?l.color||r.interior:this.fontBackground,r.chart.series.length);if("Outer"===o&&-1<r.type.indexOf("Stacking")&&c-1>r.index)for(var d,p=void 0,u=r.index+1;u<c;u++)if(d=(p=r.chart.series[u]).points[l.index],-1<p.type.indexOf("Stacking")&&-1===p.type.indexOf("100")){this.fontBackground=d&&(d.yValue<0&&l.yValue<0||0<d.yValue&&0<l.yValue)?d?d.color:p.interior:this.fontBackground;break}return e},qh.prototype.calculatePathPosition=function(e,t,i,o,r,n){switch(-1<i.type.indexOf("Area")&&"RangeArea"!==i.type&&"SplineRangeArea"!==i.type&&"RangeStepArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-r.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+r.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,o,r,n)}return e},qh.prototype.isDataLabelShape=function(e){this.isShape="transparent"!==e.color||0<e.border.width,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})},qh.prototype.calculateRectActualPosition=function(e,t,i,o,r,n,a){for(var l,s,h=!0,c=0,d=this.chart.dataLabelCollections,p=-1!==o.type.indexOf("Range")||"Hilo"===o.type?2:4;h&&c<p;){var u=this.getPosition(c);-1<o.type.indexOf("Stacking")&&"Outer"===u&&(u="Top",c++),l=this.calculateRectPosition(e,t,i,u,o,r,n,a),this.inverted?h=(s=Jo(new ee(l,this.locationY),r,this.margin)).x<0||Qo(s,d,o.clipRect)||s.x+s.width>o.clipRect.width:(o.marker.dataLabel.enableRotation&&(r.width=r.width-a.regions[0].width/10),h=(s=Jo(new ee(this.locationX,l),r,this.margin)).y<0||Qo(s,d,o.clipRect)||s.y>o.clipRect.height,null===o.marker.dataLabel.template&&!0!==h&&(h=s.y/2+r.height+("Outer"===u?a.regions[0].height+this.extraSpace:a.regions[0].height-2*this.extraSpace)>o.clipRect.height)),c++}return l},qh.prototype.calculateAlignment=function(e,t,i,o){switch(i){case"Far":t=this.inverted?o?t-e:t+e:o?t+e:t-e;break;case"Near":t=this.inverted?o?t+e:t-e:o?t-e:t+e}return t},qh.prototype.calculateTopAndOuterPosition=function(e,t,i,o,r,n,a,l){var s,h=this.margin;switch(o.type){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":s=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,n,h,t,s);break;case"Candle":s=(0===r||2===r)&&!this.yAxisInversed||(1===r||3===r)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,n,h,t,s,1<r);break;case"HiloOpenClose":e=r<=1?(s=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,this.updateLabelLocation(i,e,n,h,t,s)):this.yAxisInversed?this.inverted?e-n-h.right:e+n+h.top:this.inverted?e+n+h.left:e-n-h.bottom;break;default:e=a&&"Top"===i||!a&&"Outer"===i||"Top"===i&&0===o.visiblePoints[l.index].yValue?this.inverted?e+(a&&"Waterfall"===o.type?+t.width-n-h.left:+n+h.left+this.markerHeight):e+(a&&"Waterfall"===o.type?-t.height+n+h.bottom:-n-h.bottom-this.markerHeight):this.inverted?e+(a&&"Waterfall"===o.type?+t.width+n+h.top:-n-h.right-this.markerHeight):e+(a&&"Waterfall"===o.type?-t.height-n-h.top:+n+h.top+this.markerHeight)}return e},qh.prototype.updateLabelLocation=function(e,t,i,o,r,n,a){return void 0===a&&(a=!1),t=this.inverted?n?"Outer"!==e||a?t-i-o.right-this.markerHeight:t+i+o.left+this.markerHeight:"Outer"!==e||a?t-r.width+i+o.left+this.markerHeight:t-r.width-i-o.right-this.markerHeight:n?"Outer"!==e||a?t+i+o.top+this.markerHeight:t-i-o.bottom-this.markerHeight:"Outer"!==e||a?t+r.height-i-o.bottom-this.markerHeight:t+r.height+i+o.top+this.markerHeight},qh.prototype.calculatePathActualPosition=function(e,t,i,o,r,n){var a,l,s,h,c,d=i.points,p=o.index,u=d[p].yValue,g=d.length-1>p?d[p+1]:null,m=0<p?d[p-1]:null,y=!0,f=this.chart.dataLabelCollections;for("Bubble"===i.type?c="Top":-1<i.type.indexOf("Step")?(c="Top",p&&(c=m&&m.visible&&u>m.yValue===this.yAxisInversed&&u!==m.yValue?"Bottom":"Top")):"BoxAndWhisker"===i.type?1===n||3===n||4<n?c=i.yAxis.isAxisInverse?"Bottom":"Top":2===n||4===n?c=i.yAxis.isAxisInverse?"Top":"Bottom":(y=!1,a=this.calculatePathPosition(e,c="Middle",i,o,r,n)):c=0===p?!g||!g.visible||u>g.yValue||u<g.yValue&&this.yAxisInversed?"Top":"Bottom":p===d.length-1?!m||!m.visible||u>m.yValue||u<m.yValue&&this.yAxisInversed?"Top":"Bottom":g.visible||m&&m.visible?g.visible&&m?(d=(d=(g.yValue-m.yValue)/2)*p+(g.yValue-d*(p+1)),this.yAxisInversed?d<u?"Bottom":"Top":d<u?"Top":"Bottom"):g.yValue>u||m&&m.yValue>u?"Bottom":"Top":"Top",s="Bottom"===c,h=["Outer","Top","Bottom","Middle","Auto"].indexOf(c);y&&h<4;)a=this.calculatePathPosition(e,this.getPosition(h),i,o,r,n),y=(l=Jo(new ee(this.locationX,a),r,this.margin)).y<0||Qo(l,f,i.clipRect)||l.y+l.height>i.clipRect.height,h=s?h-1:h+1,s=!1;return a},qh.prototype.doDataLabelAnimation=function(e,t){for(var i,o,r=e.shapeElement.childNodes,n=e.textElement.childNodes,a=e.animation.delay+e.animation.duration,l=e.chart.animated?e.chart.duration:200,s=t?1:n.length,h=0;h<s;h++)o=n[h],t?(t.style.visibility="hidden",_o(t,a,l,"ZoomIn")):(i=new ee(+o.getAttribute("x")+ +o.getAttribute("width")/2,+o.getAttribute("y")+ +o.getAttribute("height")/2),Fo(o,a,l,e,null,i,!0),r[h]&&(o=r[h],i=new ee(+o.getAttribute("x")+ +o.getAttribute("width")/2,+o.getAttribute("y")+ +o.getAttribute("height")/2),Fo(o,a,l,e,null,i,!0)))},qh.prototype.getPosition=function(e){return["Outer","Top","Bottom","Middle","Auto"][e]},qh.prototype.getModuleName=function(){return"DataLabel"},qh.prototype.destroy=function(){};var Zh=qh;function qh(e){this.errorHeight=0,this.chart=e}Kh.prototype.render=function(e){if("PolarRadar"===this.chart.chartAreaType)return null;this.createElement(e,this.chart),this.renderErrorBar(e)},Kh.prototype.renderErrorBar=function(e){for(var t=e.index,i=e.errorBar,o=e.errorBar.errorBarCap,r=e.chart.redraw,n=0,a=e.points;n<a.length;n++){var l=a[n];if(l.visible&&l.symbolLocations[0]){var s=0,h=0;switch(i.mode){case"Vertical":h=l.verticalError;break;case"Horizontal":s=l.horizontalError;break;case"Both":s=l.horizontalError,h=l.verticalError}var c=this["calculate"+i.type+"Value"](l,e,this.chart.requireInvertedAxis,s,h),d=this.chart.element.id+"_Series__ErrorBarGroup_"+t+"_Point_"+l.index,p=this.chart.element.id+"_Series__ErrorBarCap_"+t+"_Point_"+l.index,d=new $.PathOption(d,"",i.width,i.errorBarColorMapping?l.errorBarColor:i.color||this.chart.themeStyle.errorBar,null,"",c[0]),u=J(d.id),g=u?u.getAttribute("d"):null,d=(e.errorBarElement.appendChild(this.chart.renderer.drawPath(d)),Po(u,c[0],r,g),new $.PathOption(p,"",o.width,i.errorBarCap.color?o.color:i.errorBarColorMapping?l.errorBarColor:i.color||this.chart.themeStyle.errorBar,null,"",c[1])),g=(u=J(d.id))?u.getAttribute("d"):null;q(this.chart.enableCanvas,e.errorBarElement,this.chart.renderer.drawPath(d),r),Po(u,c[1],r,g)}}},Kh.prototype.findLocation=function(e,t,i,o,r){var n=t.errorBar,a=n.direction,l=[],s=-1<t.type.indexOf("Stacking")?t.stackedValues.endValues[e.index]:"HighLow"===t.seriesType||"HighLowOpenClose"===t.seriesType?t.points[e.index].high:e.yValue,h=A(e.xValue+("Plus"===a||"Both"===a?"Custom"!==n.type||"Horizontal"!==n.mode&&"Both"!==n.mode?o:o=e.horizontalPositiveError:0),s+("Plus"===a||"Both"===a?"Custom"!==n.type||"Vertical"!==n.mode&&"Both"!==n.mode?r:r=e.verticalPositiveError:0),t.xAxis,t.yAxis,i),h=(l.push(h),h=t.isRectSeries?e.symbolLocations[0]:A(e.xValue,e.yValue,t.xAxis,t.yAxis,i),l.push(h),A(e.xValue-("Minus"===a||"Both"===a?"Custom"!==n.type||"Horizontal"!==n.mode&&"Both"!==n.mode?o:o=e.horizontalNegativeError:0),s-("Minus"===a||"Both"===a?"Custom"!==n.type||"Vertical"!==n.mode&&"Both"!==n.mode?r:r=e.verticalNegativeError:0),t.xAxis,t.yAxis,i));return l.push(h),e.error="Vertical"===n.mode?n.verticalError:n.horizontalError,this.negativeHeight="Vertical"===n.mode||"Both"===n.mode?i?l[1].x-l[2].x:l[2].y-l[1].y:0,this.positiveHeight="Vertical"===n.mode||"Both"===n.mode?i?l[0].x-l[1].x:l[1].y-l[0].y:0,this.getErrorDirection(l[0],l[1],l[2],t,i)},Kh.prototype.calculateFixedValue=function(e,t,i,o,r){return this.findLocation(e,t,i,o,r)},Kh.prototype.calculatePercentageValue=function(e,t,i,o,r){return o=o/100*e.xValue,r=r/100*e.yValue,this.findLocation(e,t,i,o,r)},Kh.prototype.calculateStandardDeviationValue=function(e,t,i,o,r){var n=this.meanCalculation(t,t.errorBar.mode);return o*=n.horizontalSquareRoot+n.horizontalMean,r*=n.verticalSquareRoot+n.verticalMean,this.findLocation(e,t,i,o,r)},Kh.prototype.calculateStandardErrorValue=function(e,t,i,o,r){var n=t.points.length,a=this.meanCalculation(t,t.errorBar.mode);return o=o*a.horizontalSquareRoot/Math.sqrt(n),r=r*a.verticalSquareRoot/Math.sqrt(n),this.findLocation(e,t,i,o,r)},Kh.prototype.calculateCustomValue=function(e,t,i,o,r){return this.findLocation(e,t,i,o,r)},Kh.prototype.getHorizontalDirection=function(e,t,i,o,r,n){var a="",l="";return[a+="M "+e.x+" "+t.y+" L "+i.x+" "+t.y,(l+="Plus"===o||"Both"===o?"M "+e.x+" "+(t.y-n)+" L "+e.x+" "+(t.y+n):"")+("Minus"===o||"Both"===o?"M "+i.x+" "+(t.y-n)+" L "+i.x+" "+(t.y+n):" ")]},Kh.prototype.getVerticalDirection=function(e,t,i,o,r,n){var a="",l="";return[a+="M "+t.x+" "+e.y+" L "+t.x+" "+i.y,(l+="Plus"===o||"Both"===o?"M "+(t.x-n)+" "+e.y+" L "+(t.x+n)+" "+e.y:"")+("Minus"===o||"Both"===o?"M "+(t.x-n)+" "+i.y+" L "+(t.x+n)+" "+i.y:"")]},Kh.prototype.getBothDirection=function(e,t,i,o,r,n){var a=this.getHorizontalDirection(e,t,i,o,r,n),e=this.getVerticalDirection(e,t,i,o,r,n);return[a[0].concat(e[0]),a[1].concat(e[1])]},Kh.prototype.getErrorDirection=function(e,t,i,o,r){var n,a=o.errorBar.direction,l=o.errorBar.mode,s=o.errorBar.errorBarCap.length,h=l;switch(l){case"Both":h=l;break;case"Horizontal":h=r?"Vertical":l;break;case"Vertical":h=r?"Horizontal":l}switch(h){case"Horizontal":n=this.getHorizontalDirection(e,t,i,a,h,s);break;case"Vertical":n=this.getVerticalDirection(e,t,i,a,h,s);break;case"Both":n=this.getBothDirection(e,t,i,a,h,s)}return[n[0],n[1]]},Kh.prototype.meanCalculation=function(e,t){var i=0,o=0,r=0,n=0,a=e.points.length;switch(t){case"Vertical":r=(o=Zi(e.yData))/a;break;case"Horizontal":n=(i=Zi(e.xData))/a;break;case"Both":r=(o=Zi(e.yData))/a,n=(i=Zi(e.xData))/a}for(var l=0,s=e.points;l<s.length;l++){var h=s[l];"Vertical"===t?o+=Math.pow(h.yValue-r,2):("Horizontal"!==t&&(o+=Math.pow(h.yValue-r,2)),i+=Math.pow(h.xValue-n,2))}var c=o/(a-1),d=Math.sqrt(o/(a-1)),p=i/(a-1),u=Math.sqrt(i/(a-1));return new ho(c,d,p,u,r,n)},Kh.prototype.createElement=function(e,t){var i="Cartesian"===t.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",o=e.marker.height/2,r=e.marker.width/2;"Cartesian"===t.chartAreaType&&(r=new Pr(t.element.id+"_ChartErrorBarClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:-r,y:-o,width:e.clipRect.width+2*r,height:e.clipRect.height+2*o}),e.errorBarElement=t.renderer.createGroup({id:t.element.id+"ErrorBarGroup"+e.index,transform:i,"clip-path":"url(#"+t.element.id+"_ChartErrorBarClipRect_"+e.index+")"}),e.errorBarElement.appendChild(Mo(t.redraw,r,t.renderer)))},Kh.prototype.doErrorBarAnimation=function(e){var t=e.errorBarElement.childNodes;if(!t)return null;for(var i=e.animation.delay+(0===e.animation.duration&&"Enable"===K.animationMode?1e3:e.animation.duration),o=1;o<t.length;){for(var r=0;r<e.points.length;r++)e.points[r].symbolLocations[0]&&(t[o].style.visibility="hidden",_o(t[o],i,350,e.chart.requireInvertedAxis?"SlideLeftIn":"SlideBottomIn",!1));o++}},Kh.prototype.getModuleName=function(){return"ErrorBar"},Kh.prototype.destroy=function(){};var Qh=Kh;function Kh(e){this.chart=e}$h=function(e,t){return($h=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}$h(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(tc,Jh=i),tc.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this))},tc.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd))},tc.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule)&&("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight))for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],i=e.target.id,o=0,r=t;o<r.length;o++){var n=r[o];if(-1<i.indexOf(n)){n=parseInt(i.split(n)[1],10),this.chart.highlightModule.legendSelection(this.chart,n,e.target,e.type);break}}},tc.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},tc.prototype.getLegendOptions=function(e,t){this.legendCollections=[];var i=[];this.isRtlEnable=t.enableRtl,this.isReverse=!this.isRtlEnable&&t.legendSettings.reverse,1<e.length&&(this.legend.mode="Series");for(var o=0,r=e;o<r.length;o++){var n,a,l=r[o];if("Series"===this.legend.mode)"Indicator"!==l.category&&(d="PolarRadar"===t.chartAreaType?l.drawType:l.type,n=!l.marker.visible&&-1<d.indexOf("Line")&&-1===d.indexOf("Area")?l.dashArray:"",p=l.pointColorMapping&&0<l.points.length&&l.points[0].interior||l.interior,this.legendCollections.push(new Hn(l.name,p,l.legendShape,("TrendLine"===l.category?this.chart.series[l.sourceIndex].trendlines[l.index]:l).visible,d,l.legendImageUrl||("Scatter"===l.type&&"Image"===l.marker.shape?l.marker.imageUrl:""),l.marker.shape,l.marker.visible,null,null,n)));else if("Point"===this.legend.mode)for(var s=0,h=l.points;s<h.length;s++){var c=h[s],d="PolarRadar"===t.chartAreaType?l.drawType:l.type,p=c.interior||l.interior;this.legendCollections.push(new Hn(c.x.toString(),p,l.legendShape,("TrendLine"===l.category?this.chart.series[l.sourceIndex].trendlines[l.index]:c).visible,d,"Scatter"===l.type&&"Image"===l.marker.shape?l.marker.imageUrl:"",l.marker.shape,l.marker.visible))}else if("Range"===this.legend.mode)for(var u=0,g=l.points;u<g.length;u++){var c=g[u],m=(d="PolarRadar"===t.chartAreaType?l.drawType:l.type,p=c.interior||l.interior,"Others");if(i.indexOf(p)<0&&(i.push(p),1<=t.rangeColorSettings.length)&&1===t.rangeColorSettings[0].colors.length){for(var y=0,f=t.rangeColorSettings;y<f.length;y++){var v=f[y];v.colors[0]===p&&(m=v.label)}this.legendCollections.push(new Hn(m,p,l.legendShape,("TrendLine"===l.category?this.chart.series[l.sourceIndex].trendlines[l.index]:c).visible,d,"Scatter"===l.type&&"Image"===l.marker.shape?l.marker.imageUrl:"",l.marker.shape,l.marker.visible))}}else 0===this.legendCollections.length&&0<t.rangeColorSettings.length&&(n=t.rangeColorSettings[0].start.toString(),a=t.rangeColorSettings[t.rangeColorSettings.length-1].end.toString(),this.legendCollections.push(new Hn(n,l.interior,"Rectangle",!0,d,"",l.marker.shape,l.marker.visible)),this.legendCollections.push(new Hn(a,l.interior,"Rectangle",!0,d,"",l.marker.shape,l.marker.visible)))}this.isReverse&&"Gradient"!==t.legendSettings.mode&&this.legendCollections.reverse()},tc.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title,this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var o,r=i.padding,n=i.titlePosition,a=0,l=0,s=this.arrowWidth,h=this.arrowHeight,c=this.isVertical&&!i.enablePages?h:0,h=this.isTitle&&"Top"===n?this.legendTitleSize.height+this.fivePixel:0,h=this.isTitle&&this.isVertical&&"Top"!==n?this.legendTitleSize.height+this.fivePixel:h,d=(this.isVertical?l=i.width?0:e.width/100*5:a=i.height?0:e.height/100*5,t.height+=a,t.width+=l,i.shapeWidth,i.shapePadding,0),p=0,u=0,g=0,m=0,y=0,f=!1;this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight);for(var v=0;v<this.legendCollections.length;v++){var b,x=this.legendCollections[v];Bt.test(x.text)&&(x.text=Sr(x.text,Bt)),Nt.test(x.text)&&(x.text=Sr(x.text,Nt)),o={fill:x.fill,text:x.text,shape:x.shape,markerShape:x.markerShape,name:nt,cancel:!1},this.chart.trigger(nt,o),x.render=!o.cancel,x.text=o.text,x.fill=o.fill,x.shape=o.shape,x.markerShape=o.markerShape,x.textSize=$.measureText(x.text,i.textStyle,this.chart.themeStyle.legendLabelFont),o=x.text?i.shapeWidth:0,b=x.text?i.shapePadding:0,x.render&&x.text&&(f=!0,p+=o=o+b+(i.maximumLabelWidth||x.textSize.width)+(this.isVertical||0===v?r:this.itemPadding),i.enablePages||this.isVertical||(y=this.isTitle&&"Top"!==n?this.legendTitleSize.width+this.fivePixel:0,y+=s),this.getLegendHeight(x,i,t,p,this.maxItemHeight,r),(t.width<r+p+y||this.isVertical)&&(d=Math.max(d,p+r+y-(this.isVertical?0:o)),0===m&&o!==p&&(m=1),p=this.isVertical?0:o,m++,g=0,u=c),this.rowHeights[b=0<m?m-1:0]=Math.max(this.rowHeights[b]||0,x.textSize.height),this.columnHeights[g]=(this.columnHeights[g]||0)+x.textSize.height+(!this.isVertical||0===v?r:this.itemPadding),g++)}u=Math.max.apply(null,this.columnHeights)+r+h,u=Math.max(u,this.maxItemHeight+r+r+h),this.isPaging=t.height<u,!this.isPaging||i.enablePages||this.isVertical||(u=this.maxItemHeight+r+r+("Top"===n?h:0)),this.totalPages=m,this.isPaging||this.isVertical||(p+=this.isTitle&&"Top"!==n?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),f?this.setBounds(Math.max(p+r,d),u,i,t):this.setBounds(0,0,i,t)},tc.prototype.getLegendHeight=function(e,t,i,o,r,n){var a=e.textSize.width,l=t.shapePadding+2*n+t.shapeWidth;switch(t.textWrap){case"Wrap":case"AnyWhere":a>t.maximumLabelWidth||a+o>i.width?e.textCollection=br(e.text,t.maximumLabelWidth?Math.min(t.maximumLabelWidth,i.width-l):i.width-l,t.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):e.textCollection.push(e.text),e.textSize.height=r*e.textCollection.length}},tc.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=this.legend.padding,s=i+(this.legend.maximumLabelWidth||o.textSize.width),s=o.location.x+(this.isRtlEnable?-s:s),r=(this.isWithinBounds(s,(this.legend.maximumLabelWidth||e.textSize.width)+i-this.itemPadding,r)||this.isVertical?(e.location.x=t.x,n!==a&&this.chartRowCount++,e.location.y=n===a?o.location.y:o.location.y+(this.isVertical?o.textSize.height:this.rowHeights[this.chartRowCount-2])+(this.isVertical?this.itemPadding:l)):(e.location.x=n===a?o.location.x:s,e.location.y=o.location.y),this.isRtlEnable?e.location.x-i+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.itemPadding-this.legend.shapeWidth/2));this.isVertical||!this.isPaging||this.legend.enablePages||(r=this.legendBounds.width-e.location.x-this.fivePixel),r=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,r):r,"Ellipsis"===this.legend.textOverflow&&"Normal"===this.legend.textWrap&&(e.text=hr(+r.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},tc.prototype.isWithinBounds=function(e,t,i){return this.isRtlEnable?e-t<i.x-this.legend.shapeWidth/2:e+t>i.x+i.width+this.legend.shapeWidth/2},tc.prototype.LegendClick=function(e,t){var i=this.chart,o="Series"===i.legendSettings.mode?e:0,r=this.isReverse?this.legendCollections.length-1-e:e,n=i.visibleSeries[o],o=this.legendCollections[r],r="isProtectedOnChange";if("Series"===i.legendSettings.mode){var a={legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:n,points:n.points,name:it,cancel:!1};this.chart.trigger(it,a),n.legendShape=a.legendShape,a.cancel||(null!==n.fill&&(i.visibleSeries[e].interior=n.fill),i.legendSettings.toggleVisibility?(n.chart[r]=!0,"TrendLine"===n.category?!i.series[n.sourceIndex].trendlines[n.index].visible&&i.series[n.sourceIndex].visible?i.series[n.sourceIndex].trendlines[n.index].visible=!0:i.series[n.sourceIndex].trendlines[n.index].visible=!1:this.changeSeriesVisiblity(n,n.visible),o.visible=("TrendLine"===n.category?i.series[n.sourceIndex].trendlines[n.index]:n).visible,this.refreshLegendToggle(i,n),i.highlightModule&&i.legendSettings.enableHighlight&&i.highlightModule.legendSelection(i,e,t.target,"mousemove")):i.highlightModule?i.highlightModule.legendSelection(i,e,t.target,t.type):i.selectionModule&&i.selectionModule.legendSelection(i,e,t.target,t.type),n.chart[r]=!1)}else if("Point"===i.legendSettings.mode){var l=n.points[e],a={legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:n,points:[l],name:it,cancel:!1};this.chart.trigger(it,a),i.legendSettings.toggleVisibility&&!a.cancel&&(l.visible=!l.visible,(h=this.legendCollections[e]).visible=l.visible,this.refreshLegendToggle(i,n))}else if("Range"===i.legendSettings.mode){for(var s=[],h=this.legendCollections[e],c=0,d=n.points;c<d.length;c++){l=d[c];h.fill===(l.interior||n.interior)&&s.push(l)}a={legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:n,points:s,name:it,cancel:!1};if(this.chart.trigger(it,a),i.legendSettings.toggleVisibility&&!a.cancel){h.visible=!h.visible;for(var p=0,u=s;p<u.length;p++)(l=u[p]).visible=!l.visible;this.refreshLegendToggle(i,n)}}},tc.prototype.refreshLegendToggle=function(e,t){var i=[];if(e.selectionModule&&(i=K.extend([],e.selectionModule.selectedDataIndexes,null,!0)),0<e.svgObject.childNodes.length&&!e.enableAnimation&&!e.enableCanvas){for(;e.svgObject.lastChild;)e.svgObject.removeChild(e.svgObject.lastChild);K.remove(e.svgObject)}e.animateSeries=!1,e.redraw=e.enableAnimation,t.isLegendClicked=!0,e.rotatedDataLabelCollections=[],w($.getElement(e.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),Cr(e),this.redrawSeriesElements(t,e),e.removeSvg(),e.refreshAxis(),t.refreshAxisLabel(),this.refreshSeries(e.visibleSeries);for(var o=0,r=e.visibleSeries;o<r.length;o++){var n=r[o];K.isNullOrUndefined(n)||e.markerRender.removeHighlightedMarker(n,null,!0)}e.refreshBound(),e.trigger("loaded",{chart:e}),0<i.length&&(e.selectionModule.selectedDataIndexes=i,e.selectionModule.redrawSelection(e,e.selectionMode)),(e.highlightModule&&"None"!==e.highlightMode||e.legendSettings.enableHighlight)&&e.highlightModule.redrawSelection(e,e.highlightMode),e.redraw=!1,t.isLegendClicked=!1},tc.prototype.changeSeriesVisiblity=function(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(function(e){return e.visible})),(this.isSecondaryAxis(e.yAxis)||"Pareto"===e.category&&"Line"===e.type)&&(e.yAxis.internalVisibility=e.yAxis.series.some(function(e){return e.visible})),e.trendlines.length&&e.visible&&e.trendlines.forEach(function(e){e.visible=!0})},tc.prototype.isSecondaryAxis=function(e){return-1<this.chart.axes.indexOf(e)},tc.prototype.redrawSeriesElements=function(e,t){if(!t.redraw)return null;w(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")},tc.prototype.refreshSeries=function(e){for(var t=0,i=e;t<i.length;t++){var o,r,n=i[t];-1<n.type.indexOf("Spline")&&(o=-1<n.type.indexOf("Area")||-1<n.drawType.indexOf("Area"),r=-1<n.type.indexOf("Range"),this.chart["spline"+(o?r?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(n)),n.visible&&(n.position=void 0)}},tc.prototype.click=function(e){var t=this;if(this.chart.legendSettings.visible){for(var i,o=this.chart.mouseX,r=this.chart.mouseY,n=(-1<e.target.id.indexOf("_chart_legend_g_")?e.target.firstChild:e.target).id,a=0,l=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];a<l.length;a++){var s=l[a];if(-1<n.indexOf(s)){s=parseInt(n.split(s)[1],10),this.LegendClick(s,e);break}}-1<n.indexOf(this.legendID+"_pageup")?this.changePage(e,!0):-1<n.indexOf(this.legendID+"_pagedown")&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(o,r),(i=this.legendRegions.filter(function(e){return mo(o,r+(t.isPaging?(t.currentPageNumber-1)*t.translatePage(t.chart.enableCanvas,null,1,2):0),e.rect)})).length&&this.chart.enableCanvas&&this.LegendClick(i[0].index,e)}},tc.prototype.checkWithinBounds=function(e,t){var i=this.chart.renderer,o=this.legendBounds,r=this.chart.legendSettings.border.width,n=new $.Rect(o.x,o.y,o.width,o.height);return n.x=n.x-r/2,n.y=n.y-r/2,n.width=n.width+r,n.height=n.height+r,mo(e,t,this.pagingRegions[0])?(this.isRtlEnable?this.canvasPageUp(i,n,o):this.canvasPageDown(i,n,o),null):mo(e,t,this.pagingRegions[1])?(this.isRtlEnable?this.canvasPageDown(i,n,o):this.canvasPageUp(i,n,o),null):void 0},tc.prototype.canvasPageDown=function(e,t,i){0<--this.currentPageNumber?(this.legendRegions=[],e.clearRect(t),e.canvasClip(new Pr("legendClipPath","transparent",{width:0,color:""},null,t)),this.renderLegend(this.chart,this.legend,i),e.canvasRestore()):++this.currentPageNumber},tc.prototype.canvasPageUp=function(e,t,i){0<++this.currentPageNumber&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],e.clearRect(t),e.canvasClip(new Pr("legendClipPath","transpaent",{width:0,color:""},null,t)),this.renderLegend(this.chart,this.legend,i),e.canvasRestore()):--this.currentPageNumber},tc.prototype.getModuleName=function(){return"Legend"},tc.prototype.destroy=function(){this.removeEventListener()};var $h,Jh,ec=tc;function tc(e){e=Jh.call(this,e)||this;return(e.library=e).addEventListener(),e}oc.prototype.render=function(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,Ho(K.createElement("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),t,e.content,this.control)},oc.prototype.setAnnotationPixelValue=function(e){var t="Chart"===this.annotation.region?new $.Rect(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound;return e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:dr(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:dr(this.annotation.y,t.height))+t.y,!0},oc.prototype.setAnnotationPointValue=function(e){var t;new ee(0,0);if(this.isChart){for(var i=this.control,o=this.annotation,r=o.xAxisName,n=o.yAxisName,a=i.requireInvertedAxis,l=this.control.stockChart,s=void 0,h=void 0,c=void 0,d=0,p=i.axisCollections;d<p.length;d++){var u=p[d];if(r===u.name||null==r&&"primaryXAxis"===u.name)if((s=u).isIndexed)c=Number(o.x);else if(-1<s.valueType.indexOf("Category")){var g="DateTimeCategory"===s.valueType?o.x.getTime().toString():o.x;if("object"==typeof g)for(var m=0;m<s.labels.length;m++)s.labels[m].toString()===o.x.toString()&&(c=m);if(s.labels.indexOf(g)<0)return!1;c=s.labels.indexOf(g)}else c="DateTime"===s.valueType?(g={skeleton:"full",type:"dateTime"},"object"==typeof this.annotation.x||"object"==typeof new Date(this.annotation.x)?Date.parse(i.intl.getDateParser(g)(i.intl.getDateFormat(g)(new Date(R.DataUtil.parse.parseJson({val:o.x}).val)))):0):+o.x;else(n===u.name||null==n&&"primaryYAxis"===u.name)&&(h=u)}return s&&h&&Xi("Logarithmic"===s.valueType?ji(c,s.logBase):c,s.visibleRange)&&Xi("Logarithmic"===h.valueType?ji(+o.y,h.logBase):+o.y,h.visibleRange)?(t=A(c,+o.y,s,h,a),e.x=t.x+(a?h:s).rect.x,e.y=t.y+(a?s:h).rect.y+(l&&l.enablePeriodSelector?l.toolbarHeight+l.titleSize.height:0),!0):!1}return this.setAccumulationPointValue(e)},oc.prototype.processAnnotation=function(e,t,i){function o(){a.style.transform="translate(-50%, -50%)"}var r=this.control,n=new ee(0,0),a=this.render(e,t);o.bind(n,this),this["setAnnotation"+e.coordinateUnits+"Value"](n)?this.setElementStyle(n,a,i):this.control.redraw&&w(a.id),K.updateBlazorTemplate((this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate",(r.stockChart||this.control).annotations[t],void 0,o)},oc.prototype.setAccumulationPointValue=function(e){for(var t,i=0,o=this.control.visibleSeries[0].points;i<o.length;i++){var r=o[i];if("object"==typeof r.x){if(Date.parse(r.x)===Date.parse(this.annotation.x)&&r.y===this.annotation.y){t=r;break}}else if(r.x===this.annotation.x&&r.y===this.annotation.y){t=r;break}}return!(!t||!t.visible||(e.x=t.symbolLocation.x,e.y=t.symbolLocation.y,0))},oc.prototype.setElementStyle=function(e,t,i){var o=Wo(t,this.control.redraw),t={cancel:!1,name:kt,content:t,location:e};this.control.trigger(kt,t),t.cancel||(t.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,o.width,t.location.x)+"px",t.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,o.height,t.location.y)+"px",t.content.setAttribute("aria-label",this.annotation.description||"Annotation"),t.content.setAttribute("role","img"),Xo(t.content,i,this.control.redraw,!0,"left","top",this.control.duration))},oc.prototype.setAlignmentValue=function(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i};var ic=oc;function oc(e){this.control=e}rc=function(e,t){return(rc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}rc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(lc,nc=ic),lc.prototype.renderAnnotations=function(e){var i=this;this.annotations=this.chart.annotations,this.parentElement=pr(this.chart.redraw,this.chart.element.id+"_Annotation_Collections")||K.createElement("div",{id:this.chart.element.id+"_Annotation_Collections"}),this.annotations.map(function(e,t){i.processAnnotation(e,t,i.parentElement)}),Xo(this.parentElement,e,this.chart.redraw)},lc.prototype.destroy=function(){},lc.prototype.getModuleName=function(){return"Annotation"};var rc,nc,ac=lc;function lc(e,t){var i=nc.call(this,e)||this;return i.chart=e,i.annotations=t,i}sc=function(e,t){return(sc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}sc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(dc,hc=_a),dc.prototype.render=function(e,t,i,o){this.sideBySideInfo=this.getSideBySideInfo(e);for(var r=0,n=e.points;r<n.length;r++){var a=n[r];this.renderPoint(e,a,this.sideBySideInfo,void 0,t,i,o)}e.marker.visible&&e.chart.markerRender.render(e)},dc.prototype.updateTipRegion=function(e,t,i){i=this.getRectangle(t.xValue+i.median,t.maximum,t.xValue+i.median,t.minimum,e);this.updateTipSize(e,t,i,e.chart.requireInvertedAxis)},dc.prototype.updateTipSize=function(e,t,i,o){e=e.border.width||1;o?(i.y-=e/2,i.height=i.height||e):(i.x-=e/2,i.width=i.width||e),t.regions.push(i)},dc.prototype.renderPoint=function(e,t,i,o,r,n,a){var l;t.symbolLocations=[],t.regions=[],t.visible&&Yi(e.points[t.index-1],t,e.points[t.index+1],e)&&(this.findBoxPlotValues(t.y,t,e.boxPlotMode),this.updateTipRegion(e,t,i),l=this.getRectangle(t.xValue+i.start,t.upperQuartile,t.xValue+i.end,t.lowerQuartile,e),t.regions.push(l),(o=this.triggerEvent(e,t,e.interior,{color:K.isNullOrUndefined(e.border.color)||"transparent"===e.border.color?nr(e.interior,-.6):e.border.color,width:e.border.width||1})).cancel||this.renderBoxAndWhisker(e,t,o,this.getPathString(t,e,A(t.xValue,t.median,r,n,a),A(t.xValue+i.median,t.average,r,n,a)),i.median))},dc.prototype.updateDirection=function(e,t,i){for(var o=0;o<t.length;o++){var r=e.points[t[o]];if(this.renderPoint(e,r,this.sideBySideInfo,void 0,e.xAxis,e.yAxis,i),r.symbolLocations&&r.symbolLocations.length&&e.marker.visible&&e.chart.markerRender.renderMarker(e,r,r.symbolLocations[0],r.symbolLocations.length-1,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelCollections=[],e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_",0===r.outliers.length&&(n=J(e.chart.dataLabelModule.commonId+r.index+"_Text_5"))&&n.remove();for(var n,a=e.chart.dataLabelModule.renderDataLabel(e,r,null,e.marker.dataLabel),l=0;l<a.length;l++)e.chart.dataLabelModule.doDataLabelAnimation(e,a[l])}}},dc.prototype.getPathString=function(e,t,i,o){var r=e.regions[0],n=e.regions[1],a="",l=t.chart.requireInvertedAxis?r.y+r.height/2:r.x+r.width/2,s=n.x+n.width,h=n.y+n.height,c=r.x+r.width,d=r.y+r.height;return a=t.chart.requireInvertedAxis?(this.updateTipSize(t,e,{x:r.x,y:n.y,width:0,height:h-n.y},!1),this.updateTipSize(t,e,{x:c,y:n.y,width:0,height:h-n.y},!0),(a=(a=(a=(a=(a+="M "+r.x+" "+n.y+" L "+r.x+" "+h)+"M "+r.x+" "+l+"  L "+n.x+" "+l)+" M "+n.x+" "+n.y+"  L "+s+" "+n.y+" L "+s+" "+h+" L "+n.x+" "+h+" Z")+" M "+s+" "+l+" L "+c+" "+l+" M "+c+" "+n.y+" L "+c+" "+h)+" M "+i.x+" "+n.y+"  L "+i.x+" "+h)+(t.showMean?"M "+(o.x+5)+" "+(o.y-5)+" L "+(o.x-5)+" "+(o.y+5)+"M "+(o.x-5)+" "+(o.y-5)+" L "+(o.x+5)+" "+(o.y+5):"")):(this.updateTipSize(t,e,{x:n.x,y:r.y,width:s-n.x,height:0},!0),this.updateTipSize(t,e,{x:n.x,y:d,width:s-n.x,height:0},!0),(a=(a=(a=(a=(a+="M "+n.x+" "+r.y+"  L "+s+" "+r.y)+" M "+l+" "+r.y+"  L "+l+" "+n.y)+" M "+n.x+" "+n.y+"  L "+s+" "+n.y+" L "+s+" "+h+" L "+n.x+" "+h+" Z")+" M "+l+" "+h+" L "+l+" "+d+" M "+n.x+" "+d+" L "+s+" "+d)+" M "+n.x+" "+i.y+" L "+s+" "+i.y)+(t.showMean?" M "+(o.x-5)+" "+(o.y-5)+" L "+(o.x+5)+" "+(o.y+5)+" M "+(o.x+5)+" "+(o.y-5)+" L "+(o.x-5)+" "+(o.y+5):""))},dc.prototype.renderBoxAndWhisker=function(e,t,i,o,r){var n,a,l=e.chart.element.id+"_Series_"+e.index+"_Point_"+(null!==e.removedPointIndex&&e.removedPointIndex<=t.index?t.index+1:t.index),s=J(l+"_BoxPath")?J(l+"_BoxPath").getAttribute("d"):"",i=e.chart.renderer.drawPath(new $.PathOption(l+"_BoxPath",i.fill,i.border.width,i.border.color,e.opacity,e.dashArray,o)),o=(i.setAttribute("role","img"),i.setAttribute("aria-label",t.x.toString()+":"+t.maximum.toString()+":"+t.minimum.toString()+":"+t.lowerQuartile.toString()+":"+t.upperQuartile.toString()),e.chart.renderer.createGroup({id:l}));q(e.chart.enableCanvas,o,i,e.chart.redraw,!0,null,null,null,s),null!==e.removedPointIndex&&e.removedPointIndex<=t.index&&(o.id=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,i.id=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index+"_BoxPath");for(var h=0;h<t.outliers.length;h++)n=A(t.xValue+r,t.outliers[h],e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a=new $.Size(e.marker.width,e.marker.height),t.symbolLocations.push(n),this.updateTipSize(e,t,{x:n.x-a.width/2,y:n.y-a.height/2,width:a.width,height:a.height},!0);q(e.chart.enableCanvas,e.seriesElement,o,e.chart.redraw)},dc.prototype.findBoxPlotValues=function(e,t,i){var o=e.length,r={average:Zi(e)/o,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};"Exclusive"===i?(r.lowerQuartile=this.getExclusiveQuartileValue(e,o,.25),r.upperQuartile=this.getExclusiveQuartileValue(e,o,.75),r.median=this.getExclusiveQuartileValue(e,o,.5)):"Inclusive"===i?(r.lowerQuartile=this.getInclusiveQuartileValue(e,o,.25),r.upperQuartile=this.getInclusiveQuartileValue(e,o,.75),r.median=this.getInclusiveQuartileValue(e,o,.5)):(r.median=lr(e),this.getQuartileValues(e,o,r)),this.getMinMaxOutlier(e,o,r),t.minimum=r.minimum,t.maximum=r.maximum,t.lowerQuartile=r.lowerQuartile,t.upperQuartile=r.upperQuartile,t.median=r.median,t.outliers=r.outliers,t.average=r.average},dc.prototype.getExclusiveQuartileValue=function(e,t,i){var o;return 0===t?0:1===t||(i=i*(t+1),0===(o=Math.floor(Math.abs(i))))?e[0]:t-1<o?e[t-1]:(i-o)*(e[o]-e[o-1])+e[o-1]},dc.prototype.getInclusiveQuartileValue=function(e,t,i){return 0===t?0:1===t?e[0]:((i=i*(t-1))-(t=Math.floor(Math.abs(i))))*(e[t+1]-e[t])+e[t]},dc.prototype.getQuartileValues=function(e,t,i){if(1===t)return i.lowerQuartile=e[0],i.upperQuartile=e[0],null;var o=t%2==0,r=t/2,n=e.slice(0,r),e=e.slice(o?r:1+r,t);i.lowerQuartile=lr(n),i.upperQuartile=lr(e)},dc.prototype.getMinMaxOutlier=function(e,t,i){for(var o=1.5*(i.upperQuartile-i.lowerQuartile),r=0;r<t;r++){if(!(e[r]<i.lowerQuartile-o)){i.minimum=e[r];break}i.outliers.push(e[r])}for(r=t-1;0<=r;r--){if(!(e[r]>i.upperQuartile+o)){i.maximum=e[r];break}i.outliers.push(e[r])}},dc.prototype.doAnimation=function(e){this.animate(e)},dc.prototype.getModuleName=function(){return"BoxAndWhiskerSeries"},dc.prototype.destroy=function(){};var sc,hc,cc=dc;function dc(){return null!==hc&&hc.apply(this,arguments)||this}pc=function(e,t){return(pc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}pc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(mc,uc=Ha),mc.prototype.render=function(o,r,n,a,e,t){var l,s,h,c,i,d=this,p=null,u="",g=Math.max(o.yAxis.visibleRange.min,0),m=[],y=this.sortSegments(o,o.segments);this.enableComplexProperty(o).map(function(e,t,i){e.symbolLocations=[],e.regions=[],c=!1,e.visible&&Yi(i[t-1],e,i[t+1],o)&&(u+=d.getAreaPathDirection(e.xValue,g,o,a,A,p,"M"),p=p||new ee(e.xValue,g),l=A(e.xValue,e.yValue,r,n,a),h&&d.setPointColor(e,h,o,"X"===o.segmentAxis,y)?(c=!0,s=A(p.x,g,r,n,a),u=(u+="L "+l.x+" "+l.y+" ")+"L "+l.x+" "+s.y+" ",d.generatePathOption(m,o,h,u,"_Point_"+h.index),u="M "+l.x+" "+s.y+" L "+l.x+" "+l.y+" "):(u+="L "+l.x+" "+l.y+" ",d.setPointColor(e,null,o,"X"===o.segmentAxis,y)),i[t+1]&&!i[t+1].visible&&"Drop"!==o.emptyPointSettings.mode&&(u+=d.getAreaEmptyDirection({x:e.xValue,y:g},p,o,a,A),p=null),h=e,d.storePointLocation(e,o,a,A))}),K.isNullOrUndefined(c)||c||(u=1<o.points.length?u+this.getAreaPathDirection(h.xValue,g,o,a,A,null,"L"):"",this.generatePathOption(m,o,h,u,"")),0!==o.border.width&&(i=this.removeEmptyPointsBorder(this.getBorderDirection(u)),this.generateBorderPathOption(m,o,h,i,"")),this.applySegmentAxis(o,m,y,e),t||this.renderMarker(o)},mc.prototype.generatePathOption=function(e,t,i,o,r){e.push(new $.PathOption(t.chart.element.id+"_Series_"+t.index+r,t.setPointColor(i,t.interior),0,"transparent",t.opacity,t.dashArray,o))},mc.prototype.generateBorderPathOption=function(e,t,i,o,r){e.push(new $.PathOption(t.chart.element.id+"_Series_border_"+t.index+r,"transparent",t.border.width,t.border.color||t.interior,1,t.dashArray,o))},mc.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},mc.prototype.destroy=function(){},mc.prototype.getModuleName=function(){return"MultiColoredAreaSeries"},mc.prototype.doAnimation=function(e){this.doLinearAnimation(e,e.animation)};var pc,uc,gc=mc;function mc(){return null!==uc&&uc.apply(this,arguments)||this}yc=function(e,t){return(yc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}yc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(bc,fc=Ha),bc.prototype.render=function(e,t,i,o,r,n){for(var a,l=null,s="M",h=this.enableComplexProperty(e),c=[],d="",p=null,u=this.sortSegments(e,e.segments),g=0,m=h;g<m.length;g++){var y=m[g];y.regions=[],y.visible&&Yi(h[y.index-1],y,h[y.index+1],e)?(d+=this.getLineDirection(l,a=y,e,o,A,s),null!=l?this.setPointColor(y,l,e,"X"===e.segmentAxis,u)?(c.push(new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+l.index,"none",e.width,e.setPointColor(l,e.interior),e.opacity,e.dashArray,d)),s="M",d=""):s="L":this.setPointColor(y,p,e,"X"===e.segmentAxis,u)&&""!==d&&(c.push(new $.PathOption(e.chart.element.id+"_Series_"+e.index+"_Point_"+p.index,"none",e.width,e.setPointColor(p,e.interior),e.opacity,e.dashArray,d)),s="M",d=""),this.storePointLocation(p=l=y,e,o,A)):(l="Drop"===e.emptyPointSettings.mode?l:null,s="Drop"===e.emptyPointSettings.mode?s:"M",y.symbolLocations=[])}""!==d&&c.push(new $.PathOption(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.setPointColor(a,e.interior),e.opacity,e.dashArray,d)),this.applySegmentAxis(e,c,u,r),n||this.renderMarker(e)},bc.prototype.updateDirection=function(e,t){this.render(e,e.xAxis,e.yAxis,e.chart.requireInvertedAxis,!1,!0);for(var i=0;i<t.length;i++)if(e.marker&&e.marker.visible&&e.chart.markerRender.renderMarker(e,e.points[t[i]],e.points[t[i]].symbolLocations[0],null,!0),e.marker.dataLabel.visible&&e.chart.dataLabelModule){e.chart.dataLabelModule.commonId=e.chart.element.id+"_Series_"+e.index+"_Point_";for(var o=e.chart.dataLabelModule.renderDataLabel(e,e.points[t[i]],null,e.marker.dataLabel),r=0;r<o.length;r++)e.chart.dataLabelModule.doDataLabelAnimation(e,o[r])}},bc.prototype.doAnimation=function(e){this.doLinearAnimation(e,e.animation)},bc.prototype.getModuleName=function(){return"MultiColoredLineSeries"},bc.prototype.destroy=function(){};var yc,fc,vc=bc;function bc(){return null!==fc&&fc.apply(this,arguments)||this}Sc.prototype.addEventListener=function(){this.chart.isDestroyed||this.chart.on("click",this.click,this)},Sc.prototype.getMultilevelLabelsHeight=function(n){var a,l,s,h=this,e=0,c=[],t=[],d="Vertical"===n.orientation,p=d?n.rect.height:n.rect.width;n.multiLevelLabels.map(function(o,r){o.categories.map(function(e,t){var i;""!==e.text&&null!==e.start&&null!==e.end&&(a=$.measureText(e.text,o.textStyle,h.chart.themeStyle.axisLabelFont),l=d?a.width:a.height,l+=2*o.border.width+("CurlyBrace"===o.border.type?10:0),s=null!==e.maximumTextWidth?e.maximumTextWidth:ro("string"==typeof e.end?Number(new Date(e.end)):e.end,n)*p-ro("string"==typeof e.start?Number(new Date(e.start)):e.start,n)*p,i=n.multiLevelLabels[r].categories.length,s=0!==t&&t!==i-1||"OnTicks"!==n.labelPlacement||"Shift"!==n.edgeLabelPlacement?s:s/2,a.width>s-10&&0<s&&"Wrap"===o.overflow&&!d&&(l*=br(e.text,s-10,o.textStyle,h.chart.enableRtl,null,null,h.chart.themeStyle.axisLabelFont).length),c[r]=!c[r]||c[r]<l?l:c[r])}),t[r]=e,e+=c[r]?c[r]+10:0}),n.multiLevelLabelHeight=e+(""!==n.title||this.chart.legendModule&&this.chart.legendSettings.visible?5:0),d?(this.yAxisMultiLabelHeight=c,this.yAxisPrevHeight=t):(this.xAxisMultiLabelHeight=c,this.xAxisPrevHeight=t)},Sc.prototype.renderXAxisMultiLevelLabels=function(n,a,e,l){var s,h,c,d,p,u,g,m,y,f,v=this,b=(n.labelPosition===n.tickPosition?n.majorTickLines.height:0)+n.maxLabelSize.height+10,x="",S="Outside"===n.labelPosition,C=n.isAxisInverse,w=n.isAxisOpposedPosition,F=n.scrollbarSettings.enable||S&&K.isNullOrUndefined(n.crossesAt)?n.scrollBarHeight:0,t=w&&!S||!w&&S?l.y+b-n.majorTickLines.width:l.y-b-n.multiLevelLabelHeight;this.createClipRect(l.x-n.majorTickLines.width,t+F,n.multiLevelLabelHeight+10,l.width+2*n.majorTickLines.width,this.chart.element.id+"_XAxis_Clippath_"+a,this.chart.element.id+"XAxisMultiLevelLabel"+a),n.multiLevelLabels.map(function(o,r){c=0,v.labelElement=v.chart.renderer.createGroup({id:v.chart.element.id+a+"_MultiLevelLabel"+r}),o.categories.map(function(e,t){if(f=o.categories.length,x="",d="string"==typeof e.start?Number(new Date(e.start)):e.start,p="string"==typeof e.end?Number(new Date(e.end)):e.end,!(y=v.triggerMultiLabelRender(n,e.text,n.multiLevelLabels[r].textStyle,n.multiLevelLabels[r].alignment,e.customAttributes)).cancel){d=ro(d,n)*l.width,p=ro(p,n)*l.width,p=C?[d,d=p][0]:p,u=$.measureText(y.text,y.textStyle,v.chart.themeStyle.axisLabelFont),g=(null===e.maximumTextWidth?p-d:e.maximumTextWidth)-10,s=d+l.x+10,h=(w&&!S||!w&&S?b+l.y+u.height/2+10+v.xAxisPrevHeight[r]:l.y-b+u.height/2-v.xAxisMultiLabelHeight[r]-v.xAxisPrevHeight[r])+F,"Center"===y.alignment?(s+=(p-d-10)/2,m="middle"):"Far"===y.alignment?(s=s+(p-d-10)-o.border.width/2,"OnTicks"!==n.labelPlacement||0!==t&&t!==f-1||(s=(s+=(p-d-10)/2)-u.width/2),m="end"):(m="start",s+=o.border.width/2),h="CurlyBrace"===o.border.type?!w&&S||w&&!S?h+10:h-5:h;var i=new $.TextOption(v.chart.element.id+a+"_Axis_MultiLevelLabel_Level_"+r+"_Text_"+t,s,h,m,y.text);if("None"!==o.overflow){if(n.edgeLabelPlacement&&"OnTicks"===n.labelPlacement)switch(n.edgeLabelPlacement){case"None":break;case"Shift":0===t||C&&t===f-1?("Center"===y.alignment&&(i.x<l.x+10||i.x-u.width/2)<n.rect.x?(i.x+=l.x/2,i.x/2<l.x&&(i.x=l.x+5,i.anchor="start")):"Far"===y.alignment&&(i.x<l.x+10||i.x>l.x+10)?i.x+=u.width/2-g/2:"Near"===y.alignment&&(i.x<l.x+10||i.x>l.x+10)&&(i.x=l.x+10),g/=2):(t===f-1||C&&0===t)&&("Center"===y.alignment&&i.x>l.x+l.width?(i.x-=10,i.x>l.width&&(i.x=l.width+l.x,i.anchor="end")):"Far"===y.alignment&&(i.x=l.width+l.x),g/=2)}i.text="Wrap"===o.overflow?br(y.text,g,y.textStyle,v.chart.enableRtl,null,null,v.chart.themeStyle.axisLabelFont):hr(g,y.text,y.textStyle,v.chart.enableRtl,v.chart.themeStyle.axisLabelFont),i.x=i.x-5}gr(v.chart.renderer,i,y.textStyle,y.textStyle.color||v.chart.themeStyle.axisLabelFont.color,v.labelElement,!1,v.chart.redraw,!0,null,null,null,0,null,v.chart.enableCanvas,null,v.chart.themeStyle.axisLabelFont),v.chart.enableCanvas&&(e=$.measureText(y.text,y.textStyle,v.chart.themeStyle.axisLabelFont),v.multiLevelLabelRectXRegion.push(new $.Rect(i.x,i.y,e.width,e.height)),v.xLabelCollection.push(i)),0<o.border.width&&"WithoutBorder"!==o.border.type&&""!==(x=v.renderXAxisLabelBorder(r,p-d-10,n,d,b,u,i,l,y.alignment,x,S,w,c))&&(v.createBorderElement(r,a,n,x,c),c++),v.chart.enableCanvas||v.multiElements.appendChild(v.labelElement)}})}),this.chart.enableCanvas||e.appendChild(this.multiElements)},Sc.prototype.renderXAxisLabelBorder=function(e,t,i,o,r,n,a,l,s,h,c,d,p){var u,g,m=10,y=i.multiLevelLabels[e],f=y.categories[p].type,v=t+m,b=this.xAxisMultiLabelHeight[e]+m,t="Outside"===i.labelPosition?i.scrollBarHeight:0,x=o+l.x,S=!d&&c||d&&!c?r+l.y+this.xAxisPrevHeight[e]+t:l.y-r-this.xAxisPrevHeight[e]-t,C=f||y.border.type;switch(C){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":var w=p===i.multiLevelLabels[e].categories.length-1&&x+v>l.width?l.width+l.x:x+v,F=0===p&&i.multiLevelLabels[e].categories[0].start<=0?l.x:x;h=(h+="M "+F+" "+S+" L "+F+" "+(S+(b=!d&&c||d&&!c?b:-b))+" M "+w+" "+S+" L "+w+" "+(S+b))+("WithoutTopandBottomBorder"!==C?" L "+F+" "+(S+b)+" ":" ")+("Rectangle"===C?"M "+F+" "+S+" L "+w+" "+S:" ");break;case"Brace":F="Near"===s?(g=a.x,a.x+n.width+2):"Center"===s?(g=a.x-n.width/2-2,a.x+n.width/2+2):(g=a.x-n.width-2,a.x),h+="M "+x+" "+S+" L "+x+" "+(S+(b=!d&&c||d&&!c?b:-b)/2)+" M "+x+" "+(S+b/2)+" L "+(g-2)+" "+(S+b/2)+" M "+F+" "+(S+b/2)+" L "+(x+v)+" "+(S+b/2)+" M "+(x+v)+" "+(S+b/2)+" L "+(x+v)+" "+S;break;case"CurlyBrace":w=!d&&c||d&&!c?(m=10,u=15,5):(m=-10,u=-15,-5),h+="Center"===s?"M "+x+" "+S+" C "+x+" "+S+" "+(x+5)+" "+(S+m)+" "+(x+10)+" "+(S+m)+" L "+(x+v/2-5)+" "+(S+m)+" L "+(x+v/2)+" "+(S+u)+" L "+(x+v/2+5)+" "+(S+m)+" L "+(x+v-10)+" "+(S+m)+" C "+(x+v-10)+" "+(S+m)+" "+(x+v)+" "+(S+w)+" "+(x+v)+" "+S:"Near"===s?"M "+x+" "+S+" C "+x+" "+S+" "+(x+5)+" "+(S+m)+" "+(x+10)+" "+(S+m)+" L "+(x+15)+" "+(S+u)+" L "+(x+20)+" "+(S+m)+" L "+(x+v-10)+" "+(S+m)+" C "+(x+v-10)+" "+(S+m)+" "+(x+v)+" "+(S+w)+" "+(x+v)+" "+S:"M "+x+" "+S+" C "+x+" "+S+" "+(x+5)+" "+(S+m)+" "+(x+10)+" "+(S+m)+" L "+(x+v-20)+" "+(S+m)+" L "+(x+v-15)+" "+(S+u)+" L "+(x+v-10)+" "+(S+m)+" L "+(x+v-10)+" "+(S+m)+" C "+(x+v-10)+" "+(S+m)+" "+(x+v)+" "+(S+w)+" "+(x+v)+" "+S}return h},Sc.prototype.renderYAxisMultiLevelLabels=function(n,a,e,l){var s,h,c,d,p,u,g,m,y=this,f="Outside"===n.labelPosition,v=(n.tickPosition===n.labelPosition?n.majorTickLines.height:0)+n.maxLabelSize.width+10,b="",x=n.isAxisInverse,S=n.isAxisOpposedPosition,C=f&&K.isNullOrUndefined(n.crossesAt)?n.scrollBarHeight:0,t=S&&!f||!S&&f?l.x-n.multiLevelLabelHeight-v-10:l.x+v;this.createClipRect(t+(C*=S?1:-1),l.y-n.majorTickLines.width,l.height+2*n.majorTickLines.width,n.multiLevelLabelHeight+10,this.chart.element.id+"_YAxis_Clippath_"+a,this.chart.element.id+"YAxisMultiLevelLabel"+a),n.multiLevelLabels.map(function(o,r){y.labelElement=y.chart.renderer.createGroup({id:y.chart.element.id+a+"_MultiLevelLabel"+r}),p=0,o.categories.map(function(e,t){var i;b="",g="string"==typeof e.end?Number(new Date(e.end)):e.end,u="string"==typeof e.start?Number(new Date(e.start)):e.start,u=ro(u,n)*l.height,g=ro(g,n)*l.height,g=x?[u,u=g][0]:g,(d=y.triggerMultiLabelRender(n,e.text,o.textStyle,o.alignment,e.customAttributes)).cancel||(i=null===e.maximumTextWidth?y.yAxisMultiLabelHeight[r]/2:e.maximumTextWidth/2,s=$.measureText(d.text,d.textStyle,y.chart.themeStyle.axisLabelFont),m=g-u,h=l.x-v-y.yAxisPrevHeight[r]-i-5,c=l.height+l.y-u-m/2,h=S?f?l.x+v+5+i+y.yAxisPrevHeight[r]+C:l.x-v-i-y.yAxisPrevHeight[r]-5:f?h+C:l.x+v+5+i+y.yAxisPrevHeight[r],"Center"===d.alignment?c+=s.height/4:"Far"===d.alignment?c+=m/2-s.height/2:c=c-m/2+s.height,h="CurlyBrace"===o.border.type?!S&&f||S&&!f?h-10:h+10:h,(i=new $.TextOption(y.chart.element.id+a+"_Axis_MultiLevelLabel_Level_"+r+"_Text_"+t,h,c,"middle",d.text)).text="Trim"===o.overflow?hr(null===e.maximumTextWidth?y.yAxisMultiLabelHeight[r]:e.maximumTextWidth,d.text,d.textStyle,y.chart.enableRtl,y.chart.themeStyle.axisLabelFont):i.text,i.text="Wrap"===o.overflow?br(d.text,null===e.maximumTextWidth?y.yAxisMultiLabelHeight[r]:e.maximumTextWidth,d.textStyle,y.chart.enableRtl,null,null,y.chart.themeStyle.axisLabelFont):i.text,"string"!=typeof i.text&&1<i.text.length&&(i.y-=10*i.text.length/2),gr(y.chart.renderer,i,d.textStyle,d.textStyle.color||y.chart.themeStyle.axisLabelFont.color,y.labelElement,y.chart.redraw,!0,null,null,null,null,0,null,y.chart.enableCanvas,null,y.chart.themeStyle.axisLabelFont),0<o.border.width&&"WithoutBorder"!==o.border.type&&""!==(b=y.renderYAxisLabelBorder(r,m,n,g,v,u,s,i,l,d.alignment,b,f,S,p))&&(y.createBorderElement(r,a,n,b,p),p++),y.chart.enableCanvas)||y.multiElements.appendChild(y.labelElement)})}),this.chart.enableCanvas||e.appendChild(this.multiElements)},Sc.prototype.renderYAxisLabelBorder=function(e,t,i,o,r,n,a,l,s,h,c,d,p,u){var g,m,y=o-n,f=10,n=i.multiLevelLabels[e],v=n.categories[u].type,b=s.y+s.height-o,o=d&&K.isNullOrUndefined(i.crossesAt)?i.scrollBarHeight:0,x=(null===n.categories[u].maximumTextWidth?this.yAxisMultiLabelHeight[e]:n.categories[u].maximumTextWidth)+f,S=(!p&&d||p&&!d?s.x-r-this.yAxisPrevHeight[e]:s.x+r+this.yAxisPrevHeight[e])+(o*=p?1:-1),C=v||n.border.type;switch(C){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":c=(c+="M "+S+" "+b+" L "+(S+(x=!p&&d||p&&!d?-x:x))+" "+b+" M "+S+" "+(b+y)+" L "+(S+x)+" "+(b+y))+("WithoutTopandBottomBorder"!==C?" L "+(S+x)+" "+b+" ":" ")+("Rectangle"===C?"M "+S+" "+(b+y)+"L "+S+" "+b+" ":" ");break;case"Brace":c+="M "+S+" "+b+" L "+(S-(x=!p&&d||p&&!d?x:-x)/2)+" "+b+" L "+(S-x/2)+" "+(l.y-a.height/2-4)+" M "+(S-x/2)+" "+(l.y+a.height/4+2)+" L "+(S-x/2)+" "+(b+y)+" L "+S+" "+(b+y);break;case"CurlyBrace":m=!p&&d||p&&!d?(f=-10,g=-15,-5):(f=10,g=15,5),c+="Center"===h?"M "+S+" "+b+" C "+S+" "+b+" "+(S+f)+" "+b+" "+(S+f)+" "+(10+b)+" L "+(S+f)+" "+(b+(y-10)/2)+" L "+(S+g)+" "+(b+(y-10)/2+5)+" L "+(S+f)+" "+(b+(y-10)/2+10)+" L "+(S+f)+" "+(y-10+b)+" C "+(S+f)+" "+(y-10+b)+" "+(S+m)+" "+(b+y)+" "+S+" "+(b+y):"Far"===h?"M "+S+" "+b+" C "+S+" "+b+" "+(S+f)+" "+b+" "+(S+f)+" "+(10+b)+" L "+(S+f)+" "+(b+y-20)+"  L "+(S+g)+" "+(y-15+b)+" L "+(S+f)+" "+(y-10+b)+" L "+(S+f)+" "+(y-10+b)+" C "+(S+f)+" "+(y-10+b)+" "+(S+f)+" "+(b+y)+" "+S+" "+(b+y):"M "+S+" "+b+" C "+S+" "+b+" "+(S+f)+" "+b+" "+(S+f)+" "+(10+b)+" L "+(S+g)+" "+(15+b)+" L "+(S+f)+" "+(20+b)+" L "+(S+f)+" "+(y-10+b)+" C "+(S+f)+" "+(y-10+b)+" "+(S+m)+" "+(b+y)+" "+S+" "+(b+y)}return c},Sc.prototype.createClipRect=function(e,t,i,o,r,n){this.multiElements=this.chart.renderer.createGroup({id:n,"clip-path":"url(#"+r+")"}),this.chart.enableCanvas||this.multiElements.appendChild(Mo(this.chart.redraw,{id:r,x:e,y:t,width:o,height:i,fill:"white","stroke-width":1,stroke:"Gray"},this.chart.renderer))},Sc.prototype.createBorderElement=function(e,t,i,o,r){var n=o,t=this.chart.renderer.drawPath(new $.PathOption(this.chart.element.id+t+"_Axis_MultiLevelLabel_Rect_"+e+"_"+r,"Transparent",i.multiLevelLabels[e].border.width,i.multiLevelLabels[e].border.color||this.chart.themeStyle.axisLine,1,"",o));t.style.pointerEvents="none",q(this.chart.enableCanvas,this.labelElement,t,this.chart.redraw,!0,"x","y",null,n)},Sc.prototype.triggerMultiLabelRender=function(e,t,i,o,r){e={cancel:!1,name:ut,axis:e,text:t,textStyle:i,alignment:o,customAttributes:r};return this.chart.trigger(ut,e),e},Sc.prototype.MultiLevelLabelClick=function(e,t){var i=parseInt(e.substr(0,1),10),e=parseInt(e.substr(7),10),t=this.chart.axisCollections[t],o=t.multiLevelLabels[i].categories,r=o[e].text,n=o[e].start,a=o[e].end,t={axis:t,level:i,text:r,customAttributes:o[e].customAttributes,start:n,end:a,name:It,cancel:!1};return this.chart.trigger(It,t),t},Sc.prototype.click=function(e){var t,i=e.target.id,o="_Axis_MultiLevelLabel_Level_";if(this.chart.enableCanvas)for(var r=0;r<this.multiLevelLabelRectXRegion.length;r++)mo(e.x,e.y,this.multiLevelLabelRectXRegion[r],this.multiLevelLabelRectXRegion[r].width,this.multiLevelLabelRectXRegion[r].height)&&(i=this.xLabelCollection[r].id);-1<i.indexOf(o)&&(t=i.split(o)[1],o=i.split(o)[0],o=parseInt(o.charAt(o.length-1),10),this.MultiLevelLabelClick(t,o))},Sc.prototype.getModuleName=function(){return"MultiLevelLabel"},Sc.prototype.destroy=function(){};var xc=Sc;function Sc(e){this.xAxisPrevHeight=[],this.xAxisMultiLabelHeight=[],this.yAxisPrevHeight=[],this.yAxisMultiLabelHeight=[],this.multiLevelLabelRectXRegion=[],this.xLabelCollection=[],this.chart=e,this.addEventListener()}wc.prototype.renderElements=function(e,t){var i=e.axis.isAxisInverse,o=e.axis.scrollbarSettings,i=t.createGroup({id:this.chartId+"scrollBar_"+e.axis.name,transform:"translate("+(e.isVertical&&i?e.height:i?e.width:"0")+","+(e.isVertical&&i?"0":i?e.height:e.isVertical?e.width:"0")+") rotate("+(e.isVertical&&i?"90":e.isVertical?"270":i?"180":"0")+")"}),r=t.createGroup({id:this.chartId+"scrollBar_backRect_"+e.axis.name}),n=t.createGroup({id:this.chartId+"scrollBar_thumb_"+e.axis.name,transform:"translate(0,0)"});return this.backRect(e,t,r,o),this.thumb(e,t,n,o),this.renderCircle(e,t,n,o),this.arrows(e,t,n,o),this.thumbGrip(e,t,n,o),i.appendChild(r),i.appendChild(n),i},wc.prototype.backRect=function(e,t,i,o){var r=e.scrollbarThemeStyle,t=t.drawRectangle(new Pr(this.chartId+"scrollBarBackRect_"+e.axis.name,o.trackColor||r.backRect,{width:1,color:o.trackColor||r.backRect},1,new $.Rect(0,0,e.width,e.height),o.trackRadius,o.trackRadius));i.appendChild(t)},wc.prototype.arrows=function(e,t,i,o){var r=e.scrollbarThemeStyle,r=new $.PathOption(this.chartId+"scrollBar_leftArrow_"+e.axis.name,r.arrow,1,r.arrow,1,"","");this.leftArrowEle=t.drawPath(r),r.id=this.chartId+"scrollBar_rightArrow_"+e.axis.name,this.rightArrowEle=t.drawPath(r),this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,e.height),o.enableZoom&&(i.appendChild(this.leftArrowEle),i.appendChild(this.rightArrowEle))},wc.prototype.setArrowDirection=function(e,t,i){var o=i/2,t="M "+(e+t+o/2)+" "+i/2+" L "+(e+t+o/2-(i/2-o/4))+" "+(i-o/2)+" L "+(e+t+o/2-(i/2-o/4))+" "+o/2+" Z";this.leftArrowEle.setAttribute("d","M "+(e-o/2)+" "+i/2+" L "+(e-o/2+(i/2-o/4))+" "+(i-o/2)+" L "+(e-o/2+(i/2-o/4))+" "+o/2+" Z"),this.rightArrowEle.setAttribute("d",t)},wc.prototype.thumb=function(e,t,i,o){e.startX=this.thumbRectX;var r=e.scrollbarThemeStyle;this.slider=t.drawRectangle(new Pr(this.chartId+"scrollBarThumb_"+e.axis.name,o.scrollbarColor||r.thumb,{width:1,color:o.scrollbarColor||r.thumb},1,new $.Rect(o.enableZoom?this.thumbRectX:this.thumbRectX-e.height/2,0,o.enableZoom?this.thumbRectWidth:this.thumbRectWidth+e.height/2,e.height),o.scrollbarRadius,o.scrollbarRadius)),i.appendChild(this.slider)},wc.prototype.renderCircle=function(e,t,i,o){var r=e.scrollbarThemeStyle,r=new kr(this.chartId+"scrollBar_leftCircle_"+e.axis.name,r.circle,{width:1,color:r.circle},1,this.thumbRectX,e.height/2,e.height/2),n=t.createDefs(),a=t.createGroup({id:this.chartId+e.axis.name+"_thumb_shadow"});n.innerText='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>',a.innerText='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',this.leftCircleEle=t.drawCircle(r),r.id=this.chartId+"scrollBar_rightCircle_"+e.axis.name,r.cx=this.thumbRectX+this.thumbRectWidth,this.rightCircleEle=t.drawCircle(r),i.appendChild(n),o.enableZoom&&(i.appendChild(this.leftCircleEle),i.appendChild(this.rightCircleEle)),i.appendChild(a)},wc.prototype.thumbGrip=function(e,t,i,o){var r=0,n=0,a=e.scrollbarThemeStyle,l=new kr(this.chartId+"scrollBar_gripCircle0_"+e.axis.name,o.gripColor||a.grip,{width:1,color:o.gripColor||a.grip},1,0,0,1);this.gripCircle=t.createGroup({id:this.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(o.enableZoom?this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?1:-1):this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?2:0)-o.height/2)+","+(e.isVertical?e.height/2+2.5-.5:e.height/2-2.5-.5)+") rotate("+(e.isVertical?"180":"0")+")"});for(var s=1;s<=(-1<e.component.theme.indexOf("Fluent2")?10:6);s++)l.id=this.chartId+"scrollBar_gripCircle"+s+"_"+e.axis.name,l.cx=r,l.cy=n,this.gripCircle.appendChild(t.drawCircle(l)),r=s===(-1<e.component.theme.indexOf("Fluent2")?5:3)?0:r+5,n=s>=(-1<e.component.theme.indexOf("Fluent2")?5:3)?5:0;12<=o.height&&i.appendChild(this.gripCircle)};var Cc=wc;function wc(e){this.chartId=e.element.id+"_"}Lc.prototype.getMouseXY=function(e){var t,e=(-1<e.type.indexOf("touch")?(t=e.changedTouches[0].clientX,e.changedTouches[0]):(t=e.clientX,e)).clientY,i=J(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=t-Math.max(i.left,0),this.mouseY=e-Math.max(i.top,0)},Lc.prototype.wireEvents=function(e){K.EventHandler.add(e,K.Browser.touchStartEvent,this.scrollMouseDown,this),K.EventHandler.add(e,K.Browser.touchMoveEvent,this.scrollMouseMove,this),K.EventHandler.add(e,K.Browser.touchEndEvent,this.scrollMouseUp,this),K.EventHandler.add(e,"mousewheel",this.scrollMouseWheel,this),window.addEventListener("mousemove",this.mouseMoveListener,!1),window.addEventListener("mouseup",this.mouseUpListener,!1)},Lc.prototype.unWireEvents=function(e){K.EventHandler.remove(e,K.Browser.touchStartEvent,this.scrollMouseDown),K.EventHandler.remove(e,K.Browser.touchMoveEvent,this.scrollMouseMove),K.EventHandler.remove(e,K.Browser.touchEndEvent,this.scrollMouseUp),K.EventHandler.remove(e,"mousewheel",this.scrollMouseWheel),window.removeEventListener("mousemove",this.mouseMoveListener,!1),window.removeEventListener("mouseup",this.mouseUpListener,!1)},Lc.prototype.scrollMouseDown=function(e){var t=e.target.id,i=this.scrollElements,o=this.axis.isAxisInverse;this.getMouseXY(e),this.isResizeLeft=this.isExist(t,"_leftCircle_")||this.isExist(t,"_leftArrow_"),this.isResizeRight=this.isExist(t,"_rightCircle_")||this.isExist(t,"_rightArrow_"),this.previousXY=this.isVertical&&o?this.mouseY:this.isVertical?this.width-this.mouseY:o?this.width-this.mouseX:this.mouseX,this.previousWidth=i.thumbRectWidth,this.previousRectX=i.thumbRectX,this.startZoomPosition=this.axis.zoomPosition,this.startZoomFactor=this.axis.zoomFactor,this.startRange=this.axis.visibleRange,this.scrollStarted=!0,this.component.trigger(Rt,this.getArgs(Rt)),this.isExist(t,"scrollBarThumb_")||this.isExist(t,"gripCircle")?(this.isThumbDrag=!0,12<=this.axis.scrollbarSettings.height&&(this.svgObject.style.cursor="-webkit-grabbing")):this.isExist(t,"scrollBarBackRect_")&&(e=this.moveLength(this.previousXY,this.previousRectX),i.thumbRectX=this.isWithIn(e)?e:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth),this.axis.zoomPosition=this.zoomPosition<0?0:.9<this.zoomPosition?1:this.zoomPosition,this.isLazyLoad)&&(o=i.thumbRectX>this.previousRectX?"RightMove":"LeftMove",t=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,o))&&this.component.trigger(Tt,t),""===this.component.element.style.height&&(this.isCustomHeight=!0,this.component.element.style.height=this.component.availableSize.height+"px")},Lc.prototype.isExist=function(e,t){return-1<e.indexOf(t)},Lc.prototype.isWithIn=function(e){var t=this.axis.scrollbarSettings.height/2;return 0<=e-t&&e+this.scrollElements.thumbRectWidth+t<=this.width},Lc.prototype.moveLength=function(e,t,i){void 0===i&&(i=this.axis.scrollbarSettings.height/2);var o=.1*(this.width-2*i);return o=e<t?t-(i<t-o?o:i):t+(t+this.scrollElements.thumbRectWidth+o<this.width-i?o:i)},Lc.prototype.setZoomFactorPosition=function(e,t){this.isScrollUI=!0;var i=this.axis,o=this.axis.scrollbarSettings.height/2,r=e+t+o+1,n=.5+o,a=this.isVertical?i.rect.height:this.width;this.zoomFactor=(t+(r>=this.width?1+o:0))/a,this.zoomPosition=a<r?1-i.zoomFactor:e<1+o?0:(e-(e-n<=0?n:0))/a,this.zoomPosition=this.component.enableRtl&&!this.isVertical&&!i.isInversed||i.isInversed&&(!this.component.enableRtl||this.isVertical)?1-(this.zoomPosition+i.zoomFactor):this.zoomPosition},Lc.prototype.scrollMouseMove=function(e){var t=e.target,i=this.scrollElements,o=this.axis.isAxisInverse;if(!J(this.svgObject.id))return null;this.getMouseXY(e),K.isNullOrUndefined(t.id)||(this.setCursor(t),this.setTheme(t));var r,e=this.isVertical&&o?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX,n=this.axis.visibleRange,a=this.zoomPosition,l=this.zoomFactor,s=this.previousRectX-i.thumbRectX,s=(r=this.isLazyLoad&&(this.isThumbDrag||this.isResizeLeft||this.isResizeRight)?this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,s<0?"RightMove":"LeftMove"):r)?r.currentRange:null;this.isThumbDrag?(this.component.isScrolling=this.isThumbDrag,(e=this.isVertical||o?this.width-e:e)>=(r=i.thumbRectX+(e-this.previousXY))+i.thumbRectWidth?this.setCursor(t):12<=this.axis.scrollbarSettings.height&&(this.svgObject.style.cursor="-webkit-grabbing"),0<=e&&e<=r+i.thumbRectWidth&&(i.thumbRectX=this.isWithIn(r)?r:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.previousXY=e,this.setZoomFactorPosition(r,i.thumbRectWidth),this.axis.zoomPosition=this.zoomPosition<0?0:.9<this.zoomPosition?1:this.zoomPosition),this.component.trigger(_t,this.getArgs(_t,n,a,l,s))):(this.isResizeLeft||this.isResizeRight)&&this.resizeThumb()},Lc.prototype.scrollMouseWheel=function(e){if(!this.axis.scrollbarSettings.enableZoom)return null;var t,i=J(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect(),i=(this.mouseX=e.clientX-Math.max(i.left,0),this.mouseY=e.clientY-Math.max(i.top,0),this.scrollElements),o=this.axis,e="mozilla"!==this.browserName||this.isPointer?0<e.wheelDelta/120?1:-1:0<-e.detail/3?1:-1,e=Math.max(Math.max(1/zo(o.zoomFactor,0,1),1)+.25*e,1),r=this.axis.visibleRange,n=this.zoomPosition,a=this.zoomFactor;1<=e&&(t=1<(t="Horizontal"===o.orientation?this.mouseX/o.rect.width:1-this.mouseY/o.rect.height)?1:t<0?0:t,this.zoomFactor=1===e?1:zo(1/e,0,1),this.zoomPosition=1===e?0:o.zoomPosition+(o.zoomFactor-this.zoomFactor)*t),i.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:i.thumbRectX,this.isScrollUI=!0,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.isLazyLoad&&(this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth),this.axis.zoomFactor=this.zoomFactor,this.axis.zoomPosition=this.zoomPosition<0?0:.9<this.zoomPosition?1:this.zoomPosition),o.zoomFactor=this.zoomFactor,o.zoomPosition=this.zoomPosition,this.isLazyLoad&&(e=this.calculateMouseWheelRange(i.thumbRectX,i.thumbRectWidth))&&e.currentRange.minimum!==e.previousAxisRange.minimum&&e.currentRange.maximum!==e.previousAxisRange.maximum&&(this.component.trigger(Tt,e),this.isScrollEnd=!1),this.isLazyLoad||this.component.trigger(_t,this.getArgs(_t,r,n,a))},Lc.prototype.scrollMouseUp=function(){this.startX=this.scrollElements.thumbRectX;var e,t=this.axis.scrollbarSettings.height/2,i=this.startX+this.scrollElements.thumbRectWidth+t+1;!this.isResizeLeft&&!this.isResizeRight||this.isLazyLoad||(this.axis.zoomFactor=i>=this.width-1&&this.startX-(.5+t)<=0?1:this.zoomFactor),this.isLazyLoad&&((0<(i=this.previousRectX-this.startX)||i<0)&&this.isThumbDrag&&(this.startX="RightMove"==(e=i<0?"RightMove":"LeftMove")?this.startX+Math.abs(i)<this.width-t?this.startX:this.width-t-this.scrollElements.thumbRectWidth:this.startX+this.scrollElements.thumbRectWidth-Math.abs(i)>t?this.startX:t,e=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,e))&&(this.component.trigger(Tt,e),this.scrollStarted=!1),this.isResizeLeft||this.isResizeRight)&&(e=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth))&&(this.component.trigger(Tt,e),this.scrollStarted=!1),this.isThumbDrag=!1,this.isResizeLeft=!1,this.isResizeRight=!1,this.isScrollEnd=!1,this.component.isScrolling=!1,this.scrollStarted&&!this.isLazyLoad&&(this.component.trigger(Tt,this.getArgs(_t,this.startRange,this.startZoomPosition,this.startZoomFactor)),this.scrollStarted=!1),this.isCustomHeight&&(this.component.element.style.height=null)},Lc.prototype.calculateMouseWheelRange=function(e,t){var i,o,r,n=this.scrollRange,a=this.getStartEnd(this.previousStart,this.previousEnd,!1),l=this.axis.scrollbarSettings.height/2,e=(e+t+l<=this.width&&(o=(e-l)/this.width,i=t/this.width),n.min+o*n.delta),l=e+i*n.delta;return r=l?{axis:this.axis,currentRange:this.getStartEnd(e,l,!0),previousAxisRange:a}:r},Lc.prototype.calculateLazyRange=function(e,t,i){var o,r,n,a,l,s=this.scrollRange,h=this.getStartEnd(this.previousStart,this.previousEnd,!1),c=this.axis.scrollbarSettings.height/2;return this.isResizeRight||"RightMove"===i?(o=(t=this.isResizeRight?t+16:t)/this.width,r="RightMove"===i?(e+c)/this.width:this.axis.zoomPosition,a=(n="RightMove"===i?s.min+r*s.delta:this.previousStart)+o*s.delta):this.isResizeLeft||"LeftMove"===i?(r=(e-c)/this.width,o=t/this.width,n=(n=s.min+r*s.delta)>=s.min?n:s.min,a="LeftMove"===i?n+o*s.delta:this.previousEnd):this.isThumbDrag&&(r="RightMove"===i?(e+c)/this.width:(e-c)/this.width,o=this.scrollElements.thumbRectWidth/this.width,a=(n=(n=s.min+r*s.delta)>=s.min?n:s.min)+o*s.delta),l=a?{axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(n,a,!0),previousAxisRange:h}:l},Lc.prototype.getStartEnd=function(e,t,i){var o,r=this.valueType;switch("DateTime"!==r&&"DateTimeCategory"!==r||!i?i&&(i=Math.round(e),o=Math.ceil(t),"Category"===this.axis.valueType&&(o-=!this.axis.scrollbarSettings.enableZoom&&o-i>this.previousEnd-this.previousStart?o-i-(this.previousEnd-this.previousStart):0),this.previousStart=e=i,this.previousEnd=t=o):(this.previousStart=e,this.previousEnd=t),r){case"Double":case"Category":case"Logarithmic":e=Math.round(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=new Date(e),t=new Date(t)}return{minimum:e,maximum:t}},Lc.prototype.render=function(e){(this.component.zoomModule||e&&this.axis.scrollbarSettings.enable)&&this.getDefaults(),this.getTheme(),this.removeScrollSvg();for(var t,e=this,i=this.component.svgRenderer,o=e.axis.rect,r="Horizontal"===e.axis.orientation,n=!1,a=0,l=0,s=e.axis.series;l<s.length;l++)(h=s[l]).marker.visible&&h.marker.height>a&&(a=h.marker.height);for(var h,c=0,d=e.axis.series;c<d.length;c++)if((h=d[c]).visible&&(t=h.yMin.toString(),n=h.yData.some(function(e){return e===t})),n)break;return e.svgObject=i.createSvg({id:e.component.element.id+"_scrollBar_svg"+e.axis.name,width:e.isVertical?e.height:e.width,height:e.isVertical?e.width:e.height,style:"position: absolute;top: "+((e.axis.isAxisOpposedPosition&&r?-16:n?a:0)+o.y+Math.max(.5,e.axis.lineStyle.width/2))+"px;left: "+((e.axis.isAxisOpposedPosition&&!r?16:0)+o.x-(e.isVertical?e.height:0))+"px;cursor:auto;"}),e.elements.push(e.svgObject),this.wireEvents(this.svgObject),this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer)),this.svgObject},Lc.prototype.getTheme=function(){this.scrollbarThemeStyle=Yr(this.component.theme)},Lc.prototype.removeScrollSvg=function(){document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name)&&K.remove(document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name))},Lc.prototype.setCursor=function(e){e=e.id;this.svgObject.style.cursor=(-1<e.indexOf("scrollBarThumb_")||-1<e.indexOf("_gripCircle"))&&12<=this.axis.scrollbarSettings.height?"-webkit-grab":-1<e.indexOf("Circle_")||-1<e.indexOf("Arrow_")?this.isVertical?"ns-resize":"ew-resize":"auto"},Lc.prototype.setTheme=function(e){var t=e.id,i=-1<t.indexOf("_leftCircle_")||-1<t.indexOf("_leftArrow_"),t=-1<t.indexOf("_rightCircle_")||-1<t.indexOf("_rightArrow_"),o=this.scrollbarThemeStyle,r=this.scrollElements.leftArrowEle,n=this.scrollElements.rightArrowEle,a=this.scrollElements.leftCircleEle,l=this.scrollElements.rightCircleEle,e=this.isCurrentAxis(e,r);a.style.fill=i&&e?o.circleHover:o.circle,l.style.fill=t&&e?o.circleHover:o.circle,a.style.stroke=i&&e?o.circleHover:o.circle,l.style.stroke=t&&e?o.circleHover:o.circle,"HighContrastLight"===this.component.theme&&(r.style.fill=i&&e?o.arrowHover:o.arrow,r.style.stroke=i&&e?o.arrowHover:o.arrow,n.style.fill=t&&e?o.arrowHover:o.arrow,n.style.stroke=t&&e?o.arrowHover:o.arrow,a.style.stroke=i&&e?o.circleHover:o.circle,l.style.stroke=t&&e?o.circleHover:o.circle)},Lc.prototype.isCurrentAxis=function(e,t){return e.id.split("_")[2]===t.id.split("_")[2]},Lc.prototype.resizeThumb=function(){var e,t,i,o=this.axis.scrollbarSettings.height/2,r=2*o+10+14,n=this.previousRectX,a=this.axis.isAxisInverse,a=this.isVertical&&a?this.mouseY:this.isVertical?this.width-this.mouseY:a?this.width-this.mouseX:this.mouseX,l=Math.abs(this.previousXY-a);this.isResizeLeft&&0<=a?(e=0<=(t=n+(a>this.previousXY?l:-l))-o?this.previousWidth+(a>this.previousXY?-l:l):this.previousWidth,t=0<=t-o?t:n,r<=e&&a<t+e&&(this.scrollElements.thumbRectX=this.previousRectX=t,this.scrollElements.thumbRectWidth=this.previousWidth=e,this.previousXY=a,this.setZoomFactorPosition(t,e),i={axis:this.component.isBlazor?{}:this.axis,name:_t,range:this.axis.visibleRange,zoomFactor:this.zoomFactor,zoomPosition:this.zoomPosition,previousRange:this.axis.visibleRange,previousZoomFactor:this.axis.zoomFactor,previousZoomPosition:this.axis.zoomPosition,currentRange:null,cancel:!1},this.component.trigger(_t,i),i.cancel?(this.zoomFactor=i.previousZoomFactor,this.zoomPosition=i.previousZoomPosition):(this.positionThumb(t,e),this.axis.zoomFactor=i.zoomFactor,this.axis.zoomPosition=i.zoomPosition))):this.isResizeRight&&(e=a>=r+this.scrollElements.thumbRectX&&a<=this.width-o?a-this.scrollElements.thumbRectX:this.previousWidth,this.scrollElements.thumbRectWidth=this.previousWidth=e,this.previousXY=a,this.setZoomFactorPosition(this.startX,e),this.isLazyLoad||this.setZoomFactorPosition(this.startX,e),i={axis:this.component.isBlazor?{}:this.axis,name:_t,range:this.axis.visibleRange,zoomFactor:this.zoomFactor,zoomPosition:this.zoomPosition,previousRange:this.axis.visibleRange,previousZoomFactor:this.axis.zoomFactor,previousZoomPosition:this.axis.zoomPosition,currentRange:null,cancel:!1},this.component.trigger(_t,i),i.cancel?(this.zoomFactor=i.previousZoomFactor,this.zoomPosition=i.previousZoomPosition):(this.positionThumb(this.startX,e),this.axis.zoomFactor=i.zoomFactor,this.axis.zoomPosition=i.zoomPosition))},Lc.prototype.positionThumb=function(e,t){var i=this.scrollElements;i.slider.setAttribute("x",(this.axis.scrollbarSettings.enableZoom?e:e-this.axis.scrollbarSettings.height/2).toString()),i.slider.setAttribute("width",(this.axis.scrollbarSettings.enableZoom?t:t+this.axis.scrollbarSettings.height).toString()),i.leftCircleEle.setAttribute("cx",e.toString()),i.rightCircleEle.setAttribute("cx",(e+t).toString()),i.setArrowDirection(e,t,this.height),i.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(this.isVertical?1:-1))+","+(this.isVertical?this.axis.scrollbarSettings.height/2+2.5-.5:this.axis.scrollbarSettings.height/2-2.5-.5)+") rotate("+(this.isVertical?"180":"0")+")")},Lc.prototype.getDefaults=function(){var e=this.axis,t=this.axis.scrollbarSettings.height/2,i=2*t+10+14,o=(this.axis.scrollbarSettings.enable&&(this.isLazyLoad=!0,this.getLazyDefaults(e)),this.isVertical="Vertical"===e.orientation,this.component.enableRtl&&!this.isVertical&&!e.isInversed||e.isInversed&&!(this.component.enableRtl&&!this.isVertical)),o=(this.zoomFactor=(this.isLazyLoad?this:e).zoomFactor,this.zoomPosition=this.isLazyLoad?o?1-(this.zoomPosition+this.zoomFactor):this.zoomPosition:o?1-(e.zoomPosition+e.zoomFactor):e.zoomPosition,this.zoomFactor*(this.isVertical?e.rect.height:e.rect.width)),o=this.isLazyLoad&&!this.axis.scrollbarSettings.enableZoom||i<o?o:i,e=(this.scrollX=e.rect.x,this.scrollY=e.rect.y,this.width=this.isVertical?e.rect.height:e.rect.width,this.height=this.axis.scrollbarSettings.height,this.zoomPosition*(this.isVertical?e.rect.height:this.width)),i=this.width-i-t;this.scrollElements.thumbRectX=i<e?i:e<t?t:e,this.scrollElements.thumbRectWidth=this.isThumbDrag?this.scrollElements.thumbRectWidth:o+this.scrollElements.thumbRectX<this.width-2*t?o:this.width-this.scrollElements.thumbRectX-t},Lc.prototype.getLazyDefaults=function(e){var t=e.valueType,i=e.scrollbarSettings,o=e.scrollbarSettings.range,r=e.visibleRange,n=e.scrollbarSettings.pointsLength,i=(this.valueType=t=i.range.minimum&&i.range.maximum||!i.pointsLength?t:"Double",{skeleton:"full",type:"dateTime"}),a=this.component.intl.getDateParser(i),l=this.component.intl.getDateFormat(i);switch(t){case"Double":case"Category":case"Logarithmic":s=o.minimum||(n?0:r.min),h=o.maximum||(n?n-1:r.max);break;case"DateTime":case"DateTimeCategory":s=o.minimum?Date.parse(a(l(o.minimum))):r.min,h=o.maximum?Date.parse(a(l(o.maximum))):r.max}var s=Math.min(s,r.min),h=Math.max(h,r.max),i=(r.max-r.min)/(h-s),t=(r.min-s)/(h-s);this.zoomFactor=o.minimum||o.maximum?i:this.axis.maxPointLength/e.scrollbarSettings.pointsLength,this.zoomPosition=o.minimum||o.maximum?t:e.zoomPosition,this.zoomPosition=this.component.enableRtl&&"Horizontal"===e.orientation&&!e.isInversed||e.isInversed&&(!this.component.enableRtl||"Horizontal"!==e.orientation)?1-(this.zoomPosition+this.zoomFactor):this.zoomPosition,this.scrollRange.min=s,this.scrollRange.max=h,this.scrollRange.delta=h-s,this.previousStart=r.min,this.previousEnd=r.max},Lc.prototype.getLogRange=function(e){var t=e.scrollbarSettings.range,i=ji(t.minimum,e.logBase),e=ji(t.maximum,e.logBase),i=isFinite(i)?i:t.minimum,e=isFinite(i)?e:t.maximum;return{minimum:Math.floor(+i),maximum:Math.ceil(+e)}},Lc.prototype.injectTo=function(e,t){e.zoomingScrollBar=new Lc(t,e)},Lc.prototype.destroy=function(){var t=this;this.axes?this.axes.map(function(e){e.zoomingScrollBar.destroy()}):(this.elements.map(function(e){t.unWireEvents(e),K.remove(e.firstChild)}),this.elements=[])},Lc.prototype.getModuleName=function(){return"ScrollBar"},Lc.prototype.getArgs=function(e,t,i,o,r){return{axis:this.component.isBlazor?{}:this.axis,name:e,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:t,previousZoomFactor:o,previousZoomPosition:i,currentRange:r}};var Fc=Lc;function Lc(e,t){this.scrollRange={max:null,min:null,interval:null,delta:null},this.component=e,this.elements=[],this.scrollElements=new Cc(e),this.axis=t,this.mouseMoveListener=this.scrollMouseMove.bind(this),this.mouseUpListener=this.scrollMouseUp.bind(this),this.animateDuration=500,this.isPointer=K.Browser.isPointer,this.browserName=K.Browser.info.name}Pc=function(e,t){return(Pc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Pc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Mc,Ac=_a),Mc.prototype.initSeries=function(e,t){var i=new Pn(t,"series",e.properties,!0),o=t.palettes.length?t.palettes:Xr(t.theme),r=o.length;i.name="Pareto",i.yAxisName=e.yAxisName+"_CumulativeAxis",i.category="Pareto",e.category="Pareto",i.index=e.index+t.series.length,i.type="Line",i.interior=i.fill=i.paretoOptions.fill||o[i.index%r],i.width=i.paretoOptions.width,i.dashArray=i.paretoOptions.dashArray,i.marker=i.paretoOptions.marker,i.marker&&i.marker.visible&&(i.marker.shape=i.marker.shape||En[t.markerIndex%10],t.markerIndex++),t.visibleSeries.push(i),this.initAxis(e,i,t)},Mc.prototype.initAxis=function(t,i,e){var o;this.paretoAxes.some(function(e){return e.name===i.yAxisName})||(o=t.yAxisName?e.axes.filter(function(e){return e.name===t.yAxisName})[0]:e.primaryYAxis,e=new Ii(e,"axes",{name:i.yAxisName,majorGridLines:{width:0},majorTickLines:o.majorTickLines,lineStyle:o.lineStyle,minimum:0,maximum:100,interval:20,rowIndex:o.rowIndex,opposedPosition:!0,labelFormat:"{value}%"}),this.paretoAxes.push(e))},Mc.prototype.render=function(e){e.chart.columnSeriesModule.render(e)},Mc.prototype.performCumulativeCalculation=function(e,t){for(var i=e,o=0,r=0,n=i.length,a=0;a<n;a++)o+=i[a][t.yName];for(a=0;a<n;a++)r+=i[a][t.yName],i[a][t.yName]=Math.round(r/o*100);return i},Mc.prototype.doAnimation=function(e){this.animate(e)},Mc.prototype.getModuleName=function(){return"ParetoSeries"},Mc.prototype.destroy=function(){};var Pc,Ac,_a=Mc;function Mc(){var e=null!==Ac&&Ac.apply(this,arguments)||this;return e.paretoAxes=[],e}kc.prototype.export=function(s,h,c,d,p,u,e,g,m,t){for(var y=this,f=this.getControlsValue(d,e,t&&"PDF"===s,s),v=[],b=[],x=[],S=!(-1<K.Browser.userAgent.toString().indexOf("HeadlessChrome")),C=(c=K.isNullOrUndefined(c)?T.PdfPageOrientation.Landscape:c,this),i=0;i<f.length;i++)!function(e){b.push(p||f[e].width),x.push(u||f[e].height);var t,i,o=d[e].svgObject,r=d[e].enableCanvas,n=void 0,a=(r||(o=K.createElement("canvas",{id:"ej2-canvas",attrs:{width:b[e].toString(),height:x[e].toString()}})),'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+f[e].svg.outerHTML+"</svg>"),l=window.URL.createObjectURL(new Blob("SVG"===s?[a]:[(new XMLSerializer).serializeToString(f[e].svg)],{type:"image/svg+xml"}));"SVG"===s?"msie"===K.Browser.info.name?(a=new Blob([(new XMLSerializer).serializeToString(f[e].svg)],{type:"application/octet-stream"}),window.navigator.msSaveOrOpenBlob(a,h+"."+s.toLocaleLowerCase())):C.triggerDownload(h,s,l,S):"msie"===K.Browser.info.name?(n=(r?o:C.createCanvas()).toDataURL(),v.push(o),"PDF"===s?v.length===f.length&&C.exportPdf(v,c,b,x,S,h,g,m):C.doexport(s,n,h)):(t=new Image,i=o.getContext("2d"),t.onload=function(){i.drawImage(t,0,0),window.URL.revokeObjectURL(l),v.push(o),"PDF"===s?v.length===f.length&&y.exportPdf(v,c,b,x,S,h,g,m):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o.toBlob(null),h+"."+s.toLocaleLowerCase()):y.triggerDownload(h,s,o.toDataURL("image/"+s.toLowerCase()),S)},t.src=l),r||w(document.getElementById(d[e].element.id+"_canvas"))}(i)},kc.prototype.getDataUrl=function(t){var i,o,e=this.getControlsValue([t]),r=this.control.svgObject,n=this.control.enableCanvas,a=(n||(r=K.createElement("canvas",{id:"ej2-canvas",attrs:{width:e[0].width.toString(),height:e[0].height.toString()}})),window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(e[0].svg)],{type:"image/svg+xml"})));return"msie"===K.Browser.info.name?(e=r,n||(e=this.createCanvas()),n={name:Ht,cancel:!1,dataUrl:r.toDataURL("image/png")},t.trigger(Ht,n),{element:e,dataUrl:e.toDataURL()}):(i=new Image,o=r.getContext("2d"),i.onload=function(){o.drawImage(i,0,0),window.URL.revokeObjectURL(a);var e={name:Ht,cancel:!1,dataUrl:r.toDataURL("image/png")};return t.trigger(Ht,e),e.dataUrl},i.src=a,{element:r,blobUrl:a})},kc.prototype.triggerDownload=function(e,t,i,o){K.createElement("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(o?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},kc.prototype.getControlsValue=function(e,t,i,o){for(var r=0,n=0,a=new $.SvgRenderer("").createSvg({id:"Svg_Export_Element",width:200,height:200}),l=[],s=0;s<e.length;s++){var h,c=e[s],d=c.enableCanvas,p=c.svgObject.cloneNode(!0),u=c.renderer.createGroup({style:K.isNullOrUndefined(t)||t?"transform: translateY("+n+"px)":"transform: translateX("+r+"px)"});if("transparent"===(h=p.childNodes[0]?p.childNodes[0].getAttribute("fill"):"transparent")&&(h=-1<c.theme.indexOf("Dark")||-1<c.theme.indexOf("HighContrast")?"rgba(0, 0, 0, 1)":"rgba(255, 255, 255, 1)"),!d){if("stockChart"===c.getModuleName()){p.childNodes[0].firstChild.setAttribute("fill",h);for(var g=1;g<p.childNodes.length;g++)p.childNodes[g].childNodes[0].setAttribute("fill",h)}else"SVG"===o&&p.childNodes[0].setAttribute("fill",h);u.appendChild(p)}var m=0,y=0;c.stockLegendModule&&c.legendSettings.visible&&("Bottom"===c.legendSettings.position||"Top"===c.legendSettings.position||"Auto"===c.legendSettings.position?m+=c.stockLegendModule.legendBounds.height:"Left"!==c.legendSettings.position&&"Right"!==c.legendSettings.position||(y+=c.stockLegendModule.legendBounds.width)),r=K.isNullOrUndefined(t)||t?Math.max(c.availableSize.width+y,r):r+c.availableSize.width+y,n=K.isNullOrUndefined(t)||t?n+c.availableSize.height+m:Math.max(c.availableSize.height+m,n),d||a.appendChild(u),!i&&s!==e.length-1||((!i&&!this.control.enableCanvas||i&&!d)&&(a.setAttribute("width",r+""),a.setAttribute("height",n+""),a.setAttribute("style","background-color: "+h+";")),l.push({width:r,height:n,svg:a})),i&&s<e.length&&(n=r=0,a=new $.SvgRenderer("").createSvg({id:"Svg_Export_Element",width:200,height:200}))}return l},kc.prototype.createCanvas=function(){var e=this.control,t=(this.canvasRender(!0,e),e.svgObject);return this.canvasRender(!1,e),t},kc.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},kc.prototype.exportPdf=function(e,t,i,o,r,n,a,l){for(var s=new T.PdfDocument,h=s.pageSettings.margins,c=s.pageSettings.width,d=s.pageSettings.height,p=0;e.length>p;p++){var u,g,m=e[p].toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),y=(s.pageSettings.orientation=t,c<i[p]?i[p]+h.left+h.right:c),f=0===t?i[p]+h.left+h.right:d<o[p]?o[p]+h.top+h.bottom:d;void 0!==a&&(u=new T.PdfStandardFont(1,a.fontSize||15),(g=new T.PdfPageTemplateElement(y,40)).graphics.drawString(a.content+"",u,null,new T.PdfSolidBrush(new T.PdfColor(0,0,0)),a.x,a.y,null),s.template.top=g),void 0!==l&&(u=new T.PdfStandardFont(1,l.fontSize||15),(g=new T.PdfPageTemplateElement(y,40)).graphics.drawString(l.content+"",u,null,new T.PdfSolidBrush(new T.PdfColor(0,0,0)),l.x,l.y,null),s.template.bottom=g),s.pageSettings.size=new T.SizeF(y,f),m=m.slice(m.indexOf(",")+1),s.pages.add().graphics.drawImage(new T.PdfBitmap(m),0,0,i[p],o[p])}r&&(s.save(n+".pdf"),s.destroy())},kc.prototype.doexport=function(e,t,i){this.exportImage([t],i,e||"JPG",t)},kc.prototype.exportImage=function(e,t,i,o){for(var r=[],n=e instanceof HTMLElement?0:e.length,a=0;a<n;a++){for(var l=e[a].replace(/^data:[a-z]*;,/,"").split(","),s=atob(l[1]),l=new ArrayBuffer(s.length),h=new Uint8Array(l),c=0;c<s.length;c++)h[c]=s.charCodeAt(c);r.push(l)}for(var d=0;d<r.length;d++){var p=new Blob([r[d]],{type:"application/octet-stream"});"msie"===K.Browser.info.name&&window.navigator.msSaveOrOpenBlob(p,t+"."+i.toLocaleLowerCase())}};var Dc=kc;function kc(e){this.control=e}Tc.prototype.export=function(e,t,i,o,r,n,a,l,s,h){var c=new Dc(this.chart),d=(o=o||[this.chart],{cancel:!1,name:Vt,width:r,height:n});this.chart.trigger(Vt,d),d.cancel||("CSV"===e||"XLSX"===e?this.excelExport(o,t,e):c.export(e,t,i,o,r=d.width,n=d.height,a,l,s,h))},Tc.prototype.excelExport=function(e,t,i){this.rows=[],this.actualRowCount=1;var o,r,n=[],a={bold:!0,hAlign:"Center",vAlign:"Center",wrapText:!0},l="rangeNavigator"===e[0].getModuleName(),s="accumulationchart"===e[0].getModuleName();if(this.series=l?e[0].series:e[0].visibleSeries,l&&0===this.series.length)e[0].dataSource&&this.createRangeNavigatorExcelSheet(e[0],a,i);else{if(this.histogramSeriesCount=0,this.requiredValuesLength=0,this.axisCollection=[],s||l?this.axisCollection.push(null):this.axisCollection=("stockChart"===e[0].getModuleName()?e[0].chart:e[0]).horizontalAxes,o=this.getRequiredValues(l),0===this.requiredValuesLength&&this.series.length===this.histogramSeriesCount)return;r=this.getXValue(o,e,l,s),this.getTitle(o,a,e,l,s,i,r[0].length),this.createExcelSheet(l,s,r,i,o,a,e)}var h=[];this.requiredValuesLength=0===this.requiredValuesLength?1:this.requiredValuesLength;for(var c=0;c<this.requiredValuesLength;c++)h.push({index:c+1,width:100});n.push({columns:h,rows:this.rows}),new _.Workbook({worksheets:n},"XLSX"===i?"xlsx":"csv").save((t=t||("XLSX"===i?"XLSX":"CSV"))+("XLSX"===i?".xlsx":".csv"))},Tc.prototype.createRangeNavigatorExcelSheet=function(e,t,i){for(var o=e.xName,r=e.yName,n=(this.rows.push({index:this.actualRowCount,cells:[{index:1,value:-1<e.valueType.indexOf("DateTime")?e.valueType:"Category",colSpan:1,rowSpan:1,style:t},{index:2,value:r,colSpan:1,rowSpan:1,style:t}]}),this.actualRowCount++,e.dataSource),a=0;a<n.length;a++)this.rows.push({index:this.actualRowCount,cells:[{index:1,value:"CSV"===i&&null===n[a][o]?"":n[a][o],colSpan:1,rowSpan:1,style:t},{index:2,value:"CSV"===i&&null===n[a][r]?"":n[a][r],colSpan:1,rowSpan:1,style:{}}]}),this.actualRowCount++;this.requiredValuesLength=2},Tc.prototype.getRequiredValues=function(o){for(var r=[],n=this,e=0;e<this.series.length;e++)!function(t){var i,e=n.series[t].type;if(!o&&!n.series[t].visible||"TrendLine"===n.series[t].category)return r.push([]);"Histogram"===e?(r.push([]),n.histogramSeriesCount++):"Pareto"===n.series[t].category?r.push([n.series[t].xName,"y"]):-1!==e.indexOf("Range")||"Hilo"===e?r.push([n.series[t].xName,n.series[t].high,n.series[t].low]):"HiloOpenClose"===e||"Candle"===e?(r.push([n.series[t].xName,n.series[t].high,n.series[t].low,n.series[t].open,n.series[t].close]),"Candle"===e&&""!==n.series[t].volume&&r[t].push(n.series[t].volume)):"BoxAndWhisker"===e?r.push([n.series[t].xName,"maximum","upperQuartile","median","lowerQuartile","minimum","outliers"]):"Bubble"===e?(r.push([n.series[t].xName,n.series[t].yName]),""!==n.series[t].size&&r[t].push(n.series[t].size)):"Pie"===e?(r.push([n.series[t].xName,n.series[t].yName]),n.series[t].radius.match(/[a-zA-Z]/)&&r[t].push(n.series[t].radius)):r.push([n.series[t].xName,n.series[t].yName]),n.series[t].errorBar&&n.series[t].errorBar.visible&&(i=n.series[t].errorBar,["verticalError","horizontalError","verticalNegativeError","horizontalNegativeError","verticalPositiveError","horizontalPositiveError"].forEach(function(e){"string"==typeof i[e]&&r[t].push(i[e])})),n.requiredValuesLength+=r[t].length}(e);return r},Tc.prototype.getTitle=function(e,t,i,o,r,n,a){var l=[],s=[],h=1,c=!1;!o&&"XLSX"===n&&i[0].title&&(this.rows.push({}),this.actualRowCount++,c=!0);for(var d=0;d<this.axisCollection.length&&(!r||0!==a);d++){for(var p=!1,u="",g=h,m=!1,y=0;y<this.series.length;y++){var f=null!==this.axisCollection[d]?"primaryXAxis"===this.axisCollection[d].name||"primaryYAxis"===this.axisCollection[d].name&&-1<this.series[y].type.indexOf("Bar")?null:this.axisCollection[d].name:"";if(o||(r||f===this.series[y].xAxisName)&&this.series[y].visible&&"TrendLine"!==this.series[y].category&&"Histogram"!==this.series[y].type){m||(l.push({}),h++);var m=!0,v=this.series[y].name,b="BoxAndWhisker"===this.series[y].type?e[y].length-1:e[y].length;if(e[y][1]===this.series[y].yName)for(var x=1;x<b;x++)l.push({index:h,value:1===x?v||"Series-"+(y+1):e[y][x],colSpan:1,rowSpan:1,style:t}),h++;else{l.push({index:h,value:v||"Series-"+(y+1),colSpan:b-1,rowSpan:1,style:t});for(var S=h,x=1;x<b;x++)s.push({index:S,value:e[y][x],colSpan:1,rowSpan:1,style:t}),S++;"BoxAndWhisker"===this.series[y].type&&(l.push({index:S,value:e[y][b],colSpan:1,rowSpan:2,style:t}),S++),h=S,p=!0}u=r?e[0][0]:(o?i[0]:this.axisCollection[d]).valueType,u=r||-1<u.indexOf("DateTime")?u:"Category"}}m&&(l[g-1]={index:g,value:u,colSpan:1,rowSpan:p?2:1,style:t})}l.length&&(this.rows.push({index:this.actualRowCount,cells:l}),this.actualRowCount++),s.length&&(this.rows.push({index:this.actualRowCount,cells:s}),this.actualRowCount++),c&&((l=[]).push({index:1,value:i[0].title,colSpan:1===h?h:h-1,rowSpan:1,style:t}),this.rows[0]={index:1,cells:l}),this.requiredValuesLength=h-1},Tc.prototype.getXValue=function(e,t,i,o){for(var r=[],n=0;n<this.axisCollection.length;n++){for(var a=[],l=o?"":(i?t[0]:this.axisCollection[n]).valueType,s=0;s<this.series.length;s++){var h=null!==this.axisCollection[n]?"primaryXAxis"===this.axisCollection[n].name||"primaryYAxis"===this.axisCollection[n].name&&-1<this.series[s].type.indexOf("Bar")?null:this.axisCollection[n].name:"";if((i||(o||h===this.series[s].xAxisName)&&this.series[s].visible)&&"TrendLine"!==this.series[s].category&&"Histogram"!==this.series[s].type)for(var c=0;c<this.series[s].dataSource.length;c++)o&&!this.series[s].points[c].visible||a.push(-1<l.indexOf("DateTime")?new Date(this.series[s].dataSource[c][e[s][0]]).getTime():this.series[s].dataSource[c][e[s][0]])}r.push(a)}for(var d=0;d<r.length;d++)!function(i){r[i]=r[i].filter(function(e,t){return r[i].indexOf(e)===t})}(d);return r},Tc.prototype.createExcelSheet=function(e,t,i,o,r,n,a){for(var l=0,s=0,h=0;h<this.axisCollection.length;h++){for(var c=t?"":(e?a[0]:this.axisCollection[h]).valueType,d=0;d<i[h].length;d++){for(var s=l||1,p=[],u=!0,g=0;g<this.series.length;g++){var m=null!==this.axisCollection[h]?"primaryXAxis"===this.axisCollection[h].name||"primaryYAxis"===this.axisCollection[h].name&&-1<this.series[g].type.indexOf("Bar")?null:this.axisCollection[h].name:"";if((e||(t||this.series[g].xAxisName===m)&&this.series[g].visible)&&"TrendLine"!==this.series[g].category&&"Histogram"!==this.series[g].type){for(var y=!1,f=this.series[g].dataSource,v=0;v<f.length;v++){var b=-1<c.indexOf("DateTime")?("Pareto"===this.series[g].category?new Date(this.series[g].points[v][r[g][0]]):new Date(f[v][r[g][0]])).getTime():("Pareto"===this.series[g].category?this.series[g].points:f)[v][r[g][0]];if(i[h][d]===b){for(var x=u?0:1,S="BoxAndWhisker"===this.series[g].type?r[g].length-1:r[g].length;x<S;x++){var C=(0===x||"BoxAndWhisker"!==this.series[g].type&&"Pareto"!==this.series[g].category?f:this.series[g].points)[v][r[g][x]];p.push({index:0===x?0===l?1:l:s,value:C=null===C&&"CSV"===o?"":C,colSpan:1,rowSpan:1,style:0===x?n:{}}),s++}"BoxAndWhisker"===this.series[g].type&&(p.push({index:s,value:this.series[g].points[v].outliers[0],colSpan:1,rowSpan:1,style:{}}),s++),y=!(u=!1);break}}y||(s+=r[g].length-1)}}this.rows.push({index:this.actualRowCount,cells:p}),this.actualRowCount++}l=s}},Tc.prototype.getDataUrl=function(e){return new Dc(e).getDataUrl(e)},Tc.prototype.getModuleName=function(){return"Export"},Tc.prototype.destroy=function(){};var Rc=Tc;function Tc(e){this.actualRowCount=0,this.series=[],this.axisCollection=[],this.requiredValuesLength=0,this.histogramSeriesCount=0,this.chart=e}_c=function(e,t){return(_c=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var _c,Ec,Ic=function(e,t){function i(){this.constructor=e}_c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},c=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Oc=(Ec=K.ChildProperty,Ic(zc,Ec),c([K.Property(null)],zc.prototype,"content",void 0),c([K.Property("0")],zc.prototype,"x",void 0),c([K.Property("0")],zc.prototype,"y",void 0),c([K.Property("Pixel")],zc.prototype,"coordinateUnits",void 0),c([K.Property("Chart")],zc.prototype,"region",void 0),c([K.Property("Middle")],zc.prototype,"verticalAlignment",void 0),c([K.Property("Center")],zc.prototype,"horizontalAlignment",void 0),c([K.Property(null)],zc.prototype,"description",void 0),zc);function zc(){return null!==Ec&&Ec.apply(this,arguments)||this}Bc=K.ChildProperty,Ic(Vc,Bc),c([K.Property(!1)],Vc.prototype,"visible",void 0),c([K.Property(!0)],Vc.prototype,"showZero",void 0),c([K.Property(null)],Vc.prototype,"name",void 0),c([K.Property("transparent")],Vc.prototype,"fill",void 0),c([K.Property("Inside")],Vc.prototype,"position",void 0),c([K.Property(5)],Vc.prototype,"rx",void 0),c([K.Property(5)],Vc.prototype,"ry",void 0),c([K.Property(0)],Vc.prototype,"angle",void 0),c([K.Property(!1)],Vc.prototype,"enableRotation",void 0),c([K.Complex({width:null,color:null},ae)],Vc.prototype,"border",void 0),c([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Vc.prototype,"font",void 0),c([K.Complex({},V)],Vc.prototype,"connectorStyle",void 0),c([K.Property(null)],Vc.prototype,"template",void 0),c([K.Property("")],Vc.prototype,"format",void 0),c([K.Property(null)],Vc.prototype,"maxWidth",void 0),c([K.Property("Ellipsis")],Vc.prototype,"textOverflow",void 0),c([K.Property("Normal")],Vc.prototype,"textWrap",void 0);var Bc,Nc=Vc;function Vc(){return null!==Bc&&Bc.apply(this,arguments)||this}Hc=K.ChildProperty,Ic(Wc,Hc),c([K.Property("50%")],Wc.prototype,"x",void 0),c([K.Property("50%")],Wc.prototype,"y",void 0);var Hc,jc=Wc;function Wc(){return null!==Hc&&Hc.apply(this,arguments)||this}var Uc,Xc=function(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1,this.argsData=null,this.isLabelUpdated=null,this.initialLabelRegion=null},Ic=(Uc=K.ChildProperty,Ic(d,Uc),d.prototype.refreshDataManager=function(t,e){var i=this,o=(this.radius=this.radius||(K.Browser.isDevice&&"Outside"===this.dataLabel.position?"40%":"80%"),this.dataSource||t.dataSource);o instanceof R.DataManager||!K.isNullOrUndefined(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(function(e){return i.dataManagerSuccess(e,t)}):this.dataManagerSuccess({result:o,count:o.length},t,e)},d.prototype.dataManagerSuccess=function(e,t,i){void 0===i&&(i=!0);var o={name:ht,series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger(ht,o),this.resultData=""!==e.result?e.result:[],t.isBlazor||i||this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&1===t.seriesCounts)&&(this.getPoints(this.resultData,t),t.refreshChart())},d.prototype.getPoints=function(e,t){var i,o=Object.keys(e).length;if((this.sumOfPoints=0)===o)return this.points=[],null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;for(var r,n,a=this.palettes.length?this.palettes:Xr(t.theme),l=dr(this.groupTo,this.sumOfPoints),s=0;s<o;s++)i=this.setPoints(e,s,a,t),this.isClub(i,l,s)?(i.index=this.clubbedPoints.length,i.isExplode=!0,this.clubbedPoints.push(i),i.isSliced=!0):(K.isNullOrUndefined(i.y)&&(i.visible=!1),this.pushPoints(i,a));this.lastGroupTo=this.groupTo,0<this.sumOfClub&&(r=this.generateClubPoint(),this.pushPoints(r,a),n=this.points.length-1,this.clubbedPoints.map(function(e){e.index+=n,e.color=r.color})),this.clubbedPoints.length&&this.explode&&"Pie"===this.type&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))},d.prototype.generateClubPoint=function(){var e=new Xc;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e},d.prototype.pushPoints=function(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)},d.prototype.isClub=function(e,t,i){if(!K.isNullOrUndefined(t)){if("Value"===this.groupMode&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if("Point"===this.groupMode&&t<=i)return this.sumOfClub+=Math.abs(e.y),!0}return!1},d.prototype.findSumOfPoints=function(e){for(var t=Object.keys(e).length,i=0;i<t;i++)K.isNullOrUndefined(e[i])||K.isNullOrUndefined(e[i][this.yName])||isNaN(e[i][this.yName])||(this.sumOfPoints+=Math.abs(e[i][this.yName]))},d.prototype.setPoints=function(e,t,i,o){var r=new Xc;return r.x=K.getValue(this.xName,e[t]),r.y=K.getValue(this.yName,e[t]),r.percentage=+(r.y/this.sumOfPoints*100).toFixed(2),r.legendImageUrl=K.getValue(this.legendImageUrl,e[t]),r.color=K.getValue(this.pointColorMapping,e[t]),r.text=r.originalText=K.getValue(this.dataLabel.name||"",e[t]),r.tooltip=K.getValue(this.tooltipMappingName||"",e[t]),r.sliceRadius=K.getValue(this.radius,e[t]),r.sliceRadius=K.isNullOrUndefined(r.sliceRadius)?"80%":r.sliceRadius,r.separatorY=o.intl.formatNumber(r.y,{useGrouping:o.useGroupingSeparator}),this.setAccEmptyPoint(r,t,e),r},d.prototype.renderSeries=function(e,t){var i,o=t?J(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,o,t),e.accumulationDataLabelModule&&this.dataLabel.visible&&((i=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index})).style.visibility=(this.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e.animateSeries&&"Pie"===this.type?"hidden":"visible",this.renderDataLabel(e,i,t)),"Pie"===this.type&&(this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,o)),e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)},d.prototype.renderPoints=function(e,t,i){for(var o=e.element.id+"_Series_"+this.index+"_Point_",r=0,n=this.points;r<n.length;r++){var a=n[r],l={cancel:!1,name:lt,series:this,point:a,fill:a.color,border:this.isEmpty(a)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};e.trigger(lt,l),a.color=l.fill,l=new $.PathOption(o+a.index,a.color,l.border.width||1,l.border.color||a.color,this.opacity,l.series.dashArray,""),e[bo(this.type)+"SeriesModule"].renderPoint(a,this,e,l,t,i)}q(!1,e.getSeriesElement(),t,i)},d.prototype.renderDataLabel=function(e,t,i){e.accumulationDataLabelModule.findAreaRect();for(var o,r=K.createElement("div",{id:e.element.id+"_Series_0_DataLabelCollections"}),n=(this.leftSidePoints=[],this.rightSidePoints=[],[]),a=[],l=0,s=this.points;l<s.length;l++){var h=s[l];h.visible&&(this.dataLabel.showZero||!this.dataLabel.showZero&&(0!==h.y||0===h.y&&"Zero"===this.emptyPointSettings.mode))&&e.accumulationDataLabelModule.renderDataLabel(h,this.dataLabel,t,this.points,this.index,r,i),(90<=h.midAngle&&h.midAngle<=270?this.leftSidePoints:0<=h.midAngle&&h.midAngle<=90?a:n).push(h)}n.sort(function(e,t){return e.midAngle-t.midAngle}),a.sort(function(e,t){return e.midAngle-t.midAngle}),this.leftSidePoints.sort(function(e,t){return e.midAngle-t.midAngle}),this.rightSidePoints=n.concat(a),e.accumulationDataLabelModule.drawDataLabels(this,this.dataLabel,t,r,i),null!==this.dataLabel.template&&r.childElementCount&&(o=e.accumulationDataLabelModule.drawDataLabels.bind(e.accumulationDataLabelModule,this,this.dataLabel,t,r,i),e.isReact&&e.renderReactTemplates(o),q(!1,J(e.element.id+"_Secondary_Element"),r,i)),q(!1,e.getSeriesElement(),t,i)},d.prototype.findMaxBounds=function(e,t){e.x=(t.x<e.x?t:e).x,e.y=(t.y<e.y?t:e).y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width},d.prototype.setAccEmptyPoint=function(e,t,i){if(!K.isNullOrUndefined(e.y)&&!isNaN(e.y))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":var o=i[t-1]&&i[t-1][this.yName]||0,r=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(o)+Math.abs(r))/2,this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}},d.prototype.isEmpty=function(e){return e.color===this.emptyPointSettings.fill},c([K.Property("")],d.prototype,"dataSource",void 0),c([K.Property()],d.prototype,"query",void 0),c([K.Property("")],d.prototype,"xName",void 0),c([K.Property("")],d.prototype,"name",void 0),c([K.Property("")],d.prototype,"tooltipMappingName",void 0),c([K.Property("")],d.prototype,"yName",void 0),c([K.Property(!0)],d.prototype,"visible",void 0),c([K.Complex({color:null,width:0},ae)],d.prototype,"border",void 0),c([K.Complex(null,Se)],d.prototype,"animation",void 0),c([K.Property("SeriesType")],d.prototype,"legendShape",void 0),c([K.Property("")],d.prototype,"legendImageUrl",void 0),c([K.Property("")],d.prototype,"pointColorMapping",void 0),c([K.Property(null)],d.prototype,"selectionStyle",void 0),c([K.Property(null)],d.prototype,"groupTo",void 0),c([K.Property("Value")],d.prototype,"groupMode",void 0),c([K.Complex({},Nc)],d.prototype,"dataLabel",void 0),c([K.Property([])],d.prototype,"palettes",void 0),c([K.Property(0)],d.prototype,"startAngle",void 0),c([K.Property(null)],d.prototype,"endAngle",void 0),c([K.Property(null)],d.prototype,"radius",void 0),c([K.Property("0")],d.prototype,"innerRadius",void 0),c([K.Property("Pie")],d.prototype,"type",void 0),c([K.Property(!0)],d.prototype,"enableTooltip",void 0),c([K.Property(!1)],d.prototype,"explode",void 0),c([K.Property("30%")],d.prototype,"explodeOffset",void 0),c([K.Property(!1)],d.prototype,"explodeAll",void 0),c([K.Property(null)],d.prototype,"explodeIndex",void 0),c([K.Complex({mode:"Drop"},Re)],d.prototype,"emptyPointSettings",void 0),c([K.Property(0)],d.prototype,"gapRatio",void 0),c([K.Property("80%")],d.prototype,"width",void 0),c([K.Property("80%")],d.prototype,"height",void 0),c([K.Property("20%")],d.prototype,"neckWidth",void 0),c([K.Property("20%")],d.prototype,"neckHeight",void 0),c([K.Property("Linear")],d.prototype,"pyramidMode",void 0),c([K.Property(1)],d.prototype,"opacity",void 0),c([K.Property("0")],d.prototype,"dashArray",void 0),d);function d(){var e=null!==Uc&&Uc.apply(this,arguments)||this;return e.points=[],e.clubbedPoints=[],e.sumOfPoints=0,e.isRectSeries=!0,e.clipRect=new $.Rect(0,0,0,0),e.category="Series",e.rightSidePoints=[],e.leftSidePoints=[],e}function Gc(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(e===r.index)return r}return t[0]}function Yc(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(r.index===e)return r}return null}Object.defineProperty(qc.prototype,"center",{get:function(){return this.pieCenter||("Pie"===this.accumulation.visibleSeries[0].type?this.accumulation.pieSeriesModule.pieBaseCenter:null)},set:function(e){this.pieCenter=e},enumerable:!0,configurable:!0}),Object.defineProperty(qc.prototype,"radius",{get:function(){return void 0!==this.pieRadius?this.pieRadius:this.accumulation.pieSeriesModule.pieBaseRadius},set:function(e){this.pieRadius=e},enumerable:!0,configurable:!0}),Object.defineProperty(qc.prototype,"labelRadius",{get:function(){return void 0!==this.pieLabelRadius?this.pieLabelRadius:this.accumulation.pieSeriesModule.pieBaseLabelRadius},set:function(e){this.pieLabelRadius=e},enumerable:!0,configurable:!0}),qc.prototype.isCircular=function(){return"Pie"===this.accumulation.type},qc.prototype.isVariousRadius=function(){return this.accumulation.pieSeriesModule.isRadiusMapped},qc.prototype.processExplode=function(e){if(-1<e.target.id.indexOf("_Series_")||-1<e.target.id.indexOf("_datalabel_")){var t=ao(e.target.id).point;if(isNaN(t)||-1<e.target.id.indexOf("_datalabel_")&&"Outside"===this.accumulation.visibleSeries[0].points[t].labelPosition)return null;this.explodePoints(t,this.accumulation),this.deExplodeAll(t,this.accumulation.enableAnimation?300:0)}},qc.prototype.invokeExplode=function(){for(var e=this.accumulation.visibleSeries[0],t=this.accumulation.enableAnimation?300:0,i=0,o=e.points;i<o.length;i++){var r=o[i];r.isExplode&&0!==r.y&&this.pointExplode(r.index,r,t)}if(this.accumulation.accumulationSelectionModule&&"None"!==this.accumulation.selectionMode&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(var n=0,a=this.accumulation.accumulationSelectionModule.selectedDataIndexes;n<a.length;n++){var l=a[n];this.explodePoints(l.point,this.accumulation,!0),this.deExplodeAll(l.point,t)}},qc.prototype.deExplodeAll=function(e,t){for(var i=this.accumulation.element.id+"_Series_0_Point_",o=0,r=this.accumulation.visibleSeries[0].points;o<r.length;o++){var n=r[o];(e!==n.index&&!n.isSliced||n.isClubbed)&&(n.isExplode=!1,this.deExplodeSlice(n.index,i,t))}},qc.prototype.explodePoints=function(e,t,i){void 0===i&&(i=!1);var o=t.visibleSeries[0],r=o.points,n=Yc(e,r),a=!0,l=this.accumulation.enableAnimation?300:0;if(K.isNullOrUndefined(n))return null;var s=!i&&(n.isSliced||o.clubbedPoints.length&&r[r.length-1].index===o.clubbedPoints[o.clubbedPoints.length-1].index);(a="Pie"===o.type&&(s||n.isClubbed)?this.clubPointExplode(e,n,o,r,t,l,s):a)&&0!==n.y&&this.pointExplode(e,n,l,i)},qc.prototype.getSum=function(e){var t=0;return e.map(function(e){t+=e.visible?e.y:0}),t},qc.prototype.clubPointExplode=function(e,t,i,o,r,n,a){if(void 0===a&&(a=!1),t.isClubbed)return r.animateSeries=!1,o.splice(o.length-1,1),i.clubbedPoints.map(function(e){e.visible=!0,e.isExplode=!0}),r.visibleSeries[0].points=o.concat(i.clubbedPoints),this.deExplodeAll(e,n),i.sumOfPoints=this.getSum(r.visibleSeries[0].points),r.refreshChart(),!1;if(a||t.isSliced){r.animateSeries=!1,o.splice(o.length-i.clubbedPoints.length,i.clubbedPoints.length);a=i.generateClubPoint();if(a.index=o.length,a.color=i.clubbedPoints[0].color,o.push(a),i.sumOfPoints=this.getSum(o),this.deExplodeAll(e,n),a.isExplode=!1,r.visibleSeries[0].points=o,r.refreshChart(),this.pointExplode(a.index,o[a.index],0,!0),a.isExplode=!1,this.deExplodeSlice(a.index,r.element.id+"_Series_0_Point_",n),t.isSliced)return!1}return!0},qc.prototype.pointExplode=function(e,t,i,o){var r=this.accumulation.element.id+"_Series_0_Point_",n=this.accumulation,n=this.isCircular()?$i(t.midAngle,n.explodeDistance,this.center):{x:t.labelRegion&&t.labelRegion.x<t.region.x?-n.explodeDistance:n.explodeDistance,y:0};this.isExplode(r+e)||o?(t.isExplode=!0,this.explodeSlice(e,n,r,this.center||{x:0,y:0},i)):(t.isExplode=!1,this.deExplodeSlice(e,r,i))},qc.prototype.isExplode=function(e){var e=J(e),t=e?e.getAttribute("transform"):null;return e&&("translate(0, 0)"===t||null===t||"translate(0)"===t)},qc.prototype.deExplodeSlice=function(e,t,i){var o=J(t+e),r=o?o.getAttribute("transform"):null;this.accumulation.enableAnimation&&o&&r&&"translate(0, 0)"!==r&&"translate(0)"!==r?(o=r.split("(")[1].split(")")[0].split(","),this.performAnimation(e,t,0,0,+o[0],+o[1]||0,i,!0)):this.performAnimation(e,t,0,0,0,0,i,!0)},qc.prototype.setTranslate=function(e,t,i,o){this.setElementTransform(t+e,i),this.accumulation.visibleSeries[0].dataLabel.visible&&(t=this.accumulation.element.id+"_datalabel_Series_0_",this.setElementTransform(t+"shape_"+e,i),this.setElementTransform(t+"text_"+e,i+o),this.setElementTransform(t+"connector_"+e,i))},qc.prototype.setElementTransform=function(e,t){e=J(e);e&&e.setAttribute("transform",t)},qc.prototype.explodeSlice=function(e,t,i,o,r){this.performAnimation(e,i,0,0,t.x-o.x,t.y-o.y,r)},qc.prototype.performAnimation=function(t,i,o,r,n,a,e,l){var s,h,c=this,d=this.accumulation,p=i.split("_"),p=parseInt(i.split("_")[p.length-3],10),u=d.visibleSeries[p].points[t];if(e<=0)return this.setTranslate(t,i,"translate("+n+", "+a+")",u.transform),null;new K.Animation({}).animate(K.createElement("div"),{duration:e,progress:function(e){s=wo(e.timeStamp,o,n,e.duration),h=wo(e.timeStamp,r,a,e.duration),c.setTranslate(t,i,"translate("+(l?n-s:s)+", "+(l?a-h:h)+")",u.transform)},end:function(){c.setTranslate(t,i,"translate("+(l?o:n)+", "+(l?o:a)+")",u.transform)}})};var Zc=qc;function qc(e){this.accumulation=e}Qc=function(e,t){return(Qc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Qc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})($c,Kc=Zc),$c.prototype.initProperties=function(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);var i=parseInt(t.radius,10);if(-1===t.radius.indexOf("%")&&"number"!=typeof i||isNaN(i)){var o=[];this.isRadiusMapped=!0;for(var r=0;r<Object.keys(t.points).length;r++)-1!==t.points[r].sliceRadius.indexOf("%")?o[r]=dr(t.points[r].sliceRadius,this.size/2):o[r]=parseInt(t.points[r].sliceRadius,10);var i=Math.min.apply(null,o),n=Math.max.apply(null,o);this.pieBaseRadius=this.seriesRadius=n,this.innerRadius=dr(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>i?this.innerRadius/2:this.innerRadius}else this.isRadiusMapped=!1,this.pieBaseRadius=dr(t.radius,this.size/2),this.innerRadius=dr(t.innerRadius,this.pieBaseRadius),this.pieBaseLabelRadius="Inside"===t.dataLabel.position?(this.pieBaseRadius-this.innerRadius)/2+this.innerRadius:this.pieBaseRadius+dr(t.dataLabel.connectorStyle.length||"4%",this.size/2);this.radius=this.pieBaseRadius,this.labelRadius=this.pieBaseLabelRadius,e.explodeDistance=t.explode?dr(t.explodeOffset,this.pieBaseRadius):0,this.findCenter(e,t),this.center=this.pieBaseCenter,this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001},$c.prototype.getLabelRadius=function(e,t){return"Inside"===e.dataLabel.position?(dr(t.sliceRadius,this.pieBaseRadius)-this.innerRadius)/2+this.innerRadius:dr(t.sliceRadius,this.size/2)+dr(e.dataLabel.connectorStyle.length||"4%",this.size/2)},$c.prototype.findCenter=function(e,t){this.accumulation=e,this.pieBaseCenter={x:dr(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:dr(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};e=this.getSeriesBound(t),t=new ee(e.x+e.width/2,e.y+e.height/2);this.pieBaseCenter.x+=this.pieBaseCenter.x-t.x,this.pieBaseCenter.y+=this.pieBaseCenter.y-t.y,this.accumulation.origin=this.pieBaseCenter},$c.prototype.initAngles=function(e){var t=K.isNullOrUndefined(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360},$c.prototype.defaultLabelBound=function(e,t,i){var o=this.getSeriesBound(e);e.accumulationBound=o,e.labelBound=new $.Rect(o.x,o.y,o.width+o.x,o.height+o.y),t&&"Outside"===i&&(e.labelBound=new $.Rect(1/0,1/0,-1/0,-1/0))},$c.prototype.getSeriesBound=function(e){var t=new $.Rect(1/0,1/0,-1/0,-1/0),i=(this.initAngles(e),this.startAngle),o=this.totalAngle,r=0==(r=(this.startAngle+o)%360)?360:r,n=(e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(r)),e.findMaxBounds(t,new $.Rect(this.pieBaseCenter.x,this.pieBaseCenter.y,0,0)),(90*Math.floor(i/90)+90)%360),a=0==(a=90*Math.floor(r/90)%360)?360:a;(90<=o||a===n)&&(e.findMaxBounds(t,this.getRectFromAngle(n)),e.findMaxBounds(t,this.getRectFromAngle(a))),(0===i||360<=i+o)&&e.findMaxBounds(t,this.getRectFromAngle(0));for(var l=n===a?0:Math.floor(o/90),s=1;s<l;s++)((n+=90)<a||r<i||360===o)&&e.findMaxBounds(t,this.getRectFromAngle(n));return t.width-=t.x,t.height-=t.y,t},$c.prototype.getRectFromAngle=function(e){e=$i(e,this.pieBaseRadius,this.pieBaseCenter);return new $.Rect(e.x,e.y,0,0)},$c.prototype.getPathArc=function(e,t,i,o,r){var n=i-t,n=(n<0?360+n:n)<180?0:1;return r||0!==r?this.getDoughnutPath(e,$i(t,o,e),$i(i,o,e),o,$i(t,r,e),$i(i,r,e),r,n):this.getPiePath(e,$i(t,o,e),$i(i,o,e),o,n)},$c.prototype.getPiePath=function(e,t,i,o,r){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+r+" 1 "+i.x+" "+i.y+" Z"},$c.prototype.getDoughnutPath=function(e,t,i,o,r,n,a,l){return"M "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+l+" 1 "+i.x+" "+i.y+" L "+n.x+" "+n.y+" A "+a+" "+a+" 0 "+l+",0 "+r.x+" "+r.y+" Z"},$c.prototype.doAnimation=function(t,i,o){var r,n=this,a=i.startAngle-90,e=this.accumulation.duration||i.animation.duration,l=(this.pieBaseCenter.x+=1,.75*Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width)),s=(l+=.414*l,Co("Linear"));new K.Animation({}).animate(t,{duration:0===e&&"Enable"===K.animationMode?1e3:e,delay:i.animation.delay,progress:function(e){r=s(e.timeStamp,a,n.totalAngle,e.duration),t.setAttribute("d",n.getPathArc(n.pieBaseCenter,a,r,l,0))},end:function(){--n.pieBaseCenter.x,t.setAttribute("d",n.getPathArc(n.pieBaseCenter,0,359.99999,l,0)),n.accumulation.trigger(rt,n.accumulation.isBlazor?{}:{series:i,accumulation:n.accumulation,chart:n.accumulation});var e=J(n.accumulation.element.id+"_datalabel_Series_"+i.index);e&&(e.style.visibility=n.accumulation.isDestroyed?"hidden":"visible"),o.style.cssText=""}})};var Qc,Kc,c=$c;function $c(){return null!==Kc&&Kc.apply(this,arguments)||this}Jc=function(e,t){return(Jc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Jc(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(id,ed=c),id.prototype.renderPoint=function(e,t,i,o,r,n){var a,l=t.sumOfPoints,s=(e.startAngle=this.startAngle,e.visible?e.y:0),s=l?Math.abs(s)/l*this.totalAngle:null,l=Math.PI/180*(90-(360-this.startAngle)-90);this.radius=this.isRadiusMapped?dr(e.sliceRadius,this.seriesRadius):this.radius,o.d=this.getPathOption(e,s,this.startAngle%360),e.midAngle=(this.startAngle-s/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=$i(e.midAngle,(this.radius+this.innerRadius)/2,this.center),n?((a=i.renderer.drawPath(o)).setAttribute("role","img"),a.setAttribute("tabindex",0===e.index?"0":"-1"),a.setAttribute("aria-label",e.x+": "+e.y+"%. "+t.name),r.appendChild(a),this.refresh(e,s,l,i,o)):((a=i.renderer.drawPath(o)).setAttribute("role","img"),a.setAttribute("tabindex",0===e.index?"0":"-1"),a.setAttribute("aria-label",e.x+": "+e.y+"%. "+t.name),r.appendChild(a),e.degree=s,e.start=l)},id.prototype.findSeries=function(e){var t=0===this.innerRadius?this.radius+3:this.innerRadius-3,i=0===this.innerRadius?t+2:t-2;this.toggleInnerPoint(e,t,i)},id.prototype.toggleInnerPoint=function(e,t,i){var o=ao(e.target.id,!0),r=e.target.id.substring(0,e.target.id.indexOf("Series")-1),n=document.getElementById(this.accumulation.element.id+"PointHover_Border"),a=o.series,l=o.point,s=J(r+"_Series_"+a+"_Point_"+l);!isNaN(o.series)&&s?K.isNullOrUndefined(a)||isNaN(a)||K.isNullOrUndefined(l)||isNaN(l)||(o=this.accumulation.visibleSeries[0].points[l],l=s.getAttribute("class")===r+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1,t=this.getPathArc(this.accumulation.pieSeriesModule.center,o.startAngle%360,(o.startAngle+o.degree)%360,t,i),n&&r===this.accumulation.element.id&&(n.getAttribute("d")!==t||o.isExplode)&&(n.parentNode.removeChild(n),n=null),i=J(r+"_Series_"+a),n)||o.isExplode&&(!o.isExplode||"click"===e.type)||(a=new $.PathOption(r+"PointHover_Border",o.color,1,o.color,l,"",t),(r=this.accumulation.renderer.drawPath(a)).removeAttribute("transform"),"None"!==this.accumulation.selectionMode&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(r,e.target.getAttribute("class")),i.appendChild(r),o.isExplode&&r&&(l=s.getAttribute("transform"))&&r.setAttribute("transform",l)):n&&this.removeBorder(n,1e3)},id.prototype.removeBorder=function(e,t){e&&setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},t)},id.prototype.refresh=function(i,o,r,n,e){var a=this,l=J(e.id),t=n.duration||300;new K.Animation({}).animate(K.createElement("div"),{duration:t,delay:0,progress:function(e){var t=wo(e.timeStamp,i.degree,o-i.degree,e.duration),e=(wo(e.timeStamp,i.start,r-i.start,e.duration)/(Math.PI/180)+360)%360;l.setAttribute("d",a.getPathOption(i,t,e)),i.isExplode&&n.accBaseModule.explodePoints(i.index,n,!0),l.style.visibility="visible"},end:function(){l.style.visibility=i.visible?"visible":"hidden",l.setAttribute("d",e.d),i.degree=o,i.start=r}})},id.prototype.getPathOption=function(e,t,i){return t?(i=this.getPathArc(this.center,i%360,(i+t)%360,this.isRadiusMapped?dr(e.sliceRadius,this.size/2):this.radius,this.innerRadius),this.startAngle+=t,i):""},id.prototype.animateSeries=function(e,t,i,o){var r,n=e.element.id+"SeriesGroup"+i.index;(i.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e.animateSeries&&(r=e.renderer.createClipPath({id:n+"_clipPath"}),n=new $.PathOption(n+"_slice","transparent",1,"transparent",1,"",""),n=e.renderer.drawPath(n),r.appendChild(n),e.svgObject.appendChild(r),o.style.cssText="clip-path:url(#"+r.id+"); -webkit-clip-path:url(#"+r.id+");",this.doAnimation(n,i,o))},id.prototype.getModuleName=function(){return"PieSeries"},id.prototype.destroy=function(){};var Jc,ed,td=id;function id(){return null!==ed&&ed.apply(this,arguments)||this}od=function(e,t){return(od=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var od,rd,c=function(e,t){function i(){this.constructor=e}od(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},p=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},c=(rd=K.Component,c(u,rd),u.prototype.animate=function(e){this.duration=0===e&&"Enable"===K.animationMode?700:e,this.animateselected=!0,this.animateSeries=!1;var i=0,o=[],r=[],n=[],t=this.visibleSeries[0],a=[],a=t.dataSource;if(t.sumOfPoints=0,t.points.length<Object.keys(t.dataSource).length)this.refresh();else{if(t.points.length>Object.keys(t.dataSource).length){for(var l=this.visibleSeries[0],e=(l.points=l.points.filter(function(t){return t.visible=!1,r.push(t.index),o.push(t.color),a.some(function(e){return t.x===e.x&&(t.visible=!0,n.push(t.index),t.index=i,i++),t.x===e.x})}),r.filter(function(e){return n.indexOf(e)<0})),s=r.length-e.length,h=r.length-1;s<=h;h--)w("container_Series_0_Point_"+r[h]);for(h=0;h<l.points.length;h++)l.points[h].y=l.dataSource[h].y,l.points[h].color=o[h],l.sumOfPoints+=l.dataSource[h].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds()}else{for(h=0;h<t.points.length;h++)t.points[h].y=t.dataSource[h][t.yName],t.points[h].color=null!=t.dataSource[h][t.pointColorMapping]?t.dataSource[h][t.pointColorMapping]:t.points[h].color,t.sumOfPoints+=t.dataSource[h][t.yName];this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(t.points)}this.renderElements()}},Object.defineProperty(u.prototype,"type",{get:function(){return this.series&&this.series.length?this.series[0].type:"Pie"},enumerable:!0,configurable:!0}),u.prototype.preRender=function(){var e;this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,""===this.element.id&&(e=document.getElementsByClassName("e-accumulationchart").length,this.element.id="acc_chart_"+this.chartid+"_"+e),this.wireEvents(),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},u.prototype.setTheme=function(){this.themeStyle=Gr(this.theme,!1,this)},u.prototype.render=function(){var e=this,t=(-1===this.element.className.indexOf("e-accumulationchart")&&this.element.classList.add("e-accumulationchart"),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.title+". Syncfusion interactive chart."),this.element.setAttribute("class",this.element.getAttribute("class")+" e-accumulationchart-focused"),{chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:ot,cancel:!1});this.trigger(ot,t,function(){e.theme=(e.isBlazor?t:e).theme,e.setTheme(),e.accBaseModule=new Zc(e),e.pieSeriesModule=new td(e),e.calculateVisibleSeries(),e.processData(),e.renderComplete(),e.allowServerDataBinding=!0})},u.prototype.unWireEvents=function(){var e=K.Browser.isPointer,t=K.Browser.touchStartEvent,i=K.Browser.touchMoveEvent,o=K.Browser.touchEndEvent,e=e?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,i,this.accumulationMouseMove),K.EventHandler.remove(this.element,o,this.accumulationMouseEnd),K.EventHandler.remove(this.element,t,this.accumulationMouseStart),K.EventHandler.remove(this.element,"click",this.accumulationOnMouseClick),K.EventHandler.remove(this.element,"dblclick",this.accumulationOnDoubleClick),K.EventHandler.remove(this.element,"contextmenu",this.accumulationRightClick),K.EventHandler.remove(this.element,e,this.accumulationMouseLeave),K.EventHandler.remove(this.element,"keydown",this.accumulationChartKeyDown),K.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),K.EventHandler.remove(this.element,"keyup",this.accumulationChartKeyUp),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound)},u.prototype.wireEvents=function(){var e,t,i,o;this.element&&(o=K.Browser.isPointer,e=K.Browser.touchStartEvent,t=K.Browser.touchEndEvent,i=K.Browser.touchMoveEvent,o=o?"pointerleave":"mouseleave",K.EventHandler.add(this.element,i,this.accumulationMouseMove,this),K.EventHandler.add(this.element,t,this.accumulationMouseEnd,this),K.EventHandler.add(this.element,e,this.accumulationMouseStart,this),K.EventHandler.add(this.element,"click",this.accumulationOnMouseClick,this),K.EventHandler.add(this.element,"dblclick",this.accumulationOnDoubleClick,this),K.EventHandler.add(this.element,"contextmenu",this.accumulationRightClick,this),K.EventHandler.add(this.element,o,this.accumulationMouseLeave,this),K.EventHandler.add(this.element,"keydown",this.accumulationChartKeyDown,this),K.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),K.EventHandler.add(this.element,"keyup",this.accumulationChartKeyUp,this),this.accumulationResizeBound=this.accumulationResize.bind(this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound),new K.Touch(this.element),this.setStyle(this.element))},u.prototype.setMouseXY=function(e){var t,i,o,r=J(this.element.id+"_svg");r&&this.element&&(r=r.getBoundingClientRect(),t=this.element.getBoundingClientRect(),-1<e.type.indexOf("touch")?(this.isTouch=!0,i=e.changedTouches[0].clientY,o=e.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,o=e.clientX,i=e.clientY),this.mouseY=i-t.top-Math.max(r.top-t.top,0),this.mouseX=o-t.left-Math.max(r.left-t.left,0))},u.prototype.accumulationMouseEnd=function(e){return this.setMouseXY(e),this.trigger(wt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule)&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.centerLabel.hoverTextFormat&&this.updateCenterLabel(e),this.notify(K.Browser.touchEndEvent,e),!1},u.prototype.accumulationMouseStart=function(e){return this.setMouseXY(e),this.trigger(Ct,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},u.prototype.accumulationResize=function(){var e=this,t=(this.animateSeries=!1,{accumulation:this.isBlazor?{}:this,previousSize:new $.Size(this.availableSize.width,this.availableSize.height),name:At,currentSize:new $.Size(0,0),chart:this.isBlazor?{}:this}),i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Mt,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(mr(e),t.currentSize=e.availableSize,e.trigger(At,t),e.refreshSeries(),e.refreshChart())},500)),!1},u.prototype.print=function(e){var t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="",new Yn(this).print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t},u.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport)&&this.exportModule.getDataUrl(this)},u.prototype.setStyle=function(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.height=e.style.height||this.height&&-1===this.height.indexOf("%")?e.style.height:"inherit";var t="";switch(this.theme){case"HighContrastLight":case"HighContrast":t="#969696";break;case"MaterialDark":case"FabricDark":case"Bootstrap":case"Bootstrap4":t="#66afe9";break;case"Tailwind":case"TailwindDark":t="#4f46e5";break;case"Bootstrap5":case"Bootstrap5Dark":t="#0d6efd";break;case"Fluent":case"FluentDark":t="#9e9e9e";break;case"Fluent2":case"Fluent2Dark":t="#0078D4";break;default:t="#9e9e9e"}var i=document.createElement("style");i.setAttribute("id",e.id+"Keyboard_accumulationchart_focus"),i.innerText=".e-accumulationchart-focused:focus,path[id*=_Series_0_Point_]:focus, text[id*=_title]:focus{outline: none} .e-accumulationchart-focused:focus-visible,path[id*=_Series_0_Point_]:focus-visible, text[id*=_title]:focus-visible{outline: 1.5px "+t+" solid}",document.body.appendChild(i)},u.prototype.setAnnotationValue=function(e,t){var i=this.annotations[e],o=J(this.element.id+"_Annotation_Collections");t&&(i.content=t,o?(t=this.createElement("div"),w(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(i,e,t),o.appendChild(t.children[0])):this.annotationModule.renderAnnotations(J(this.element.id+"_Secondary_Element")))},u.prototype.accumulationMouseMove=function(e){return J(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger(mt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(xt,e.target,e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.centerLabel.hoverTextFormat&&this.updateCenterLabel(e),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&"Pie"===this.type&&this.pieSeriesModule&&mo(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e),this.notify(K.Browser.touchMoveEvent,e)),!1},u.prototype.titleTooltip=function(e,t,i,o){var r=e.target.id,n=r===this.element.id+"_title"||r===this.element.id+"_subTitle"||r===this.element.id+"_chart_legend_title";-1<e.target.textContent.indexOf("...")&&n?Wi(r===this.element.id+"_title"?this.title:r===this.element.id+"_subTitle"?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",J(this.element.id+"_Secondary_Element"),o):w(this.element.id+"_EJ2_Title_Tooltip")},u.prototype.accumulationChartKeyDown=function(e){var t="";return this.tooltip.enable&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("Series")||"Escape"===e.code)&&(t="ESC"),-1<e.code.indexOf("Arrow")&&e.preventDefault(),e.ctrlKey&&"p"===e.key&&(e.preventDefault(),t="CtrlP"),""!==t&&this.chartKeyboardNavigations(e,e.target.id,t),!1},u.prototype.accumulationChartKeyUp=function(e){var t,i="",o=e.target.id,r=J(this.element.id+"_chart_legend_translate_g"),n=J(this.element.id+"_chart_legend_pageup");if(r&&((a=(t=r.firstElementChild).getAttribute("class"))&&-1===a.indexOf("e-accumulationchart-focused")?a+=" e-accumulationchart-focused":a=a||"e-accumulationchart-focused",t.setAttribute("class",a)),n&&n.setAttribute("class","e-accumulationchart-focused"),"Tab"===e.code)""!==this.previousTargetId&&(-1<this.previousTargetId.indexOf("_Point_")&&-1===o.indexOf("_Point_")?(t=document.getElementById(this.previousTargetId).parentElement,this.setTabIndex(t.children[this.currentPointIndex],t.firstElementChild),this.currentPointIndex=0):-1<this.previousTargetId.indexOf("_chart_legend_page")&&-1===o.indexOf("_chart_legend_page")&&-1===o.indexOf("_chart_legend_g_")?this.setTabIndex(e.target,n):-1<this.previousTargetId.indexOf("_chart_legend_g_")&&-1===o.indexOf("chart_legend_g_")&&this.setTabIndex(r.children[this.currentLegendIndex],r.firstElementChild)),-1<(this.previousTargetId=o).indexOf("_chart_legend_g_")&&"None"!==this.highlightMode?(o=e.target.lastElementChild.id,i="Tab"):-1<o.indexOf("_Point_")&&("None"!==this.highlightMode||this.tooltip.enable)&&(i="Tab");else if(-1<e.code.indexOf("Arrow")){if(e.preventDefault(),-1<o.indexOf("_chart_legend_page"))e.target.removeAttribute("tabindex"),this.previousTargetId=o=this.element.id+"_chart_legend_page"+("ArrowRight"===e.code?"up":"down"),this.focusTarget(J(o));else if(-1<o.indexOf("_chart_legend_")){e.target.removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,r.children.length);var a=r.children[this.currentLegendIndex];this.focusTarget(a),this.previousTargetId=o=a.lastElementChild.id,i="None"!==this.highlightMode?"ArrowMove":""}else if(-1<o.indexOf("_Point_")){e.target.setAttribute("tabindex","-1"),this.currentPointIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1;for(var l=0,s=0;s<e.target.parentElement.children.length;s++)l=-1<e.target.parentElement.children[s].id.indexOf("_Point_")?l+1:l;this.currentPointIndex=this.getActualIndex(this.currentPointIndex,l),o=this.element.id+"_Series_0_Point_"+this.currentPointIndex,this.focusTarget(J(o)),i=this.tooltip.enable?"ArrowMove":""}}else"Enter"!==e.code&&"Space"!==e.code||!(-1<o.indexOf("_chart_legend_")||-1<o.indexOf("_Point_"))||(o=-1<o.indexOf("_chart_legend_g")?e.target.lastElementChild.id:o,i="Enter");return""!==i&&this.chartKeyboardNavigations(e,o,i),!1},u.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},u.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},u.prototype.focusTarget=function(e){var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&-1===t.indexOf("e-accumulationchart-focused")?t+=" e-accumulationchart-focused":t=t||"e-accumulationchart-focused",e.setAttribute("tabindex","0"),e.setAttribute("class",t),e.focus(),e.id},u.prototype.documentKeyHandler=function(e){e.altKey&&74===e.keyCode&&!K.isNullOrUndefined(this.element)&&this.element.focus()},u.prototype.chartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":if(this.accumulationHighlightModule,-1<t.indexOf("_Point_")){var o=+t.split("_Series_")[1].split("_Point_")[0],r=+t.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],n=this.visibleSeries[o].points[r].symbolLocation;if(this.mouseX=n.x+this.initialClipRect.x,this.mouseY=n.y+this.initialClipRect.y,this.accumulationHighlightModule){var n=J(t);if(!K.isNullOrUndefined(n))return(n=1<n.id.indexOf("text")?J(n.id.replace("text","shape")):n).hasAttribute("class")&&-1<n.getAttribute("class").indexOf("highlight")?void 0:void this.accumulationHighlightModule.calculateSelectedElements(this,n,"mousemove")}this.accumulationTooltipModule&&(n=void 0,(o=this.visibleSeries[o]).enableTooltip&&(n=new zr(o.points[r],o)),this.accumulationTooltipModule.renderSeriesTooltip(this,n))}if(this.accumulationHighlightModule&&"None"!==this.highlightMode){t=-1<t.indexOf("_chart_legend_g_")?document.getElementById(t).firstChild.id:t;for(var r=this.element.id+"_chart_legend",a=[r+"_text_",r+"_shape_marker_",r+"_shape_"],l=0;l<a.length;l++){var s=a[l];if(-1<t.indexOf(s)){document.getElementById(t).setAttribute("class",""),this.accumulationHighlightModule.legendSelection(this,0,parseInt(t.split(s)[1],10),J(t),"mousemove");break}}}break;case"Enter":case"Space":-1<t.indexOf("_chart_legend_")&&this.accumulationLegendModule?(this.isLegendClicked=!0,this.accumulationLegendModule.click(e),this.focusChild(document.getElementById(t).parentElement)):this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,document.getElementById(t),"click");break;case"CtrlP":this.print();break;case"ESC":this.accumulationTooltipModule&&this.accumulationTooltipModule.removeTooltip(1)}},u.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-accumulationchart-focused")?"e-accumulationchart-focused "+t:t||"e-accumulationchart-focused",e.setAttribute("class",t),e.focus(),e.id},u.prototype.accumulationOnDoubleClick=function(e){return this.trigger(ft,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},u.prototype.accumulationOnMouseClick=function(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),"None"!==this.selectionMode&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e.target,e.type),this.visibleSeries[0].explode&&(e.stopPropagation(),this.accBaseModule.processExplode(e)),this.enableBorderOnMouseMove&&this.pieSeriesModule&&"Pie"===this.type&&this.pieSeriesModule.findSeries(e),this.trigger(yt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent(vt,e.target,e),!1},u.prototype.triggerPointEvent=function(e,t,i){t=ao(t.id,!0);0<=t.series&&0<=t.point&&this.trigger(e,{series:this.isBlazor?{}:this.series[t.series],point:this.series[t.series].points[t.point],seriesIndex:t.series,pointIndex:t.point,x:this.mouseX,y:this.mouseY,pageX:i.pageX,pageY:i.pageY})},u.prototype.accumulationRightClick=function(e){return 2!==e.buttons||"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},u.prototype.accumulationMouseLeave=function(e){this.setMouseXY(e),this.trigger(St,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(K.Browser.isPointer?"pointerleave":"mouseleave",e);e=document.getElementById(this.element.id+"PointHover_Border");return e&&(this.pieSeriesModule.removeBorder(e,1e3),0),!1},u.prototype.setCulture=function(){this.intl=new K.Internationalization},u.prototype.createPieSvg=function(){this.removeSvg(),yr(this)},u.prototype.removeSvg=function(){if(this.redraw)return null;if(Cr(this),w(this.element.id+"_Secondary_Element"),this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&K.remove(this.svgObject)}w("EJ2_legend_tooltip"),w("EJ2_datalabel_tooltip"),w(this.element.id+"PointHover_Border")},u.prototype.createSecondaryElement=function(){var e=pr(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});q(!1,this.element,e,this.redraw)},u.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&0===this.visibleSeries.length){this.visibleSeries.push(this.series[e]);break}},u.prototype.processData=function(e){void 0===e&&(e=!0);for(var t=this.seriesCounts=0,i=this.visibleSeries;t<i.length;t++){var o=i[t];o.dataModule=new An(o.dataSource||this.dataSource,o.query),o.refreshDataManager(this,e)}},u.prototype.refreshChart=function(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),w("chartmeasuretext")},u.prototype.doGrouppingProcess=function(){var e=this.visibleSeries[0];K.isNullOrUndefined(e.resultData)||K.isNullOrUndefined(e.lastGroupTo)||e.lastGroupTo===e.groupTo||e.getPoints(e.resultData,this)},u.prototype.calculateBounds=function(){this.initialClipRect=new $.Rect(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];var e,t=0,i=0;if(this.title&&(this.titleCollection=fr(this.title,this.titleStyle,this.initialClipRect.width,this.enableRtl,this.themeStyle.chartTitleFont)),e=this.title?$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length:0,this.subTitle){for(var o=0,r=this.titleCollection;o<r.length;o++)var n=r[o],i=i<(n=$.measureText(n,this.titleStyle,this.themeStyle.chartSubTitleFont).width)?n:i;this.subTitleCollection=fr(this.subTitle,this.subTitleStyle,i,this.enableRtl,this.themeStyle.chartSubTitleFont),t=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length}Ki(this.initialClipRect,new $.Rect(0,t+e,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top)),this.calculateLegendBounds()},u.prototype.calculateLegendBounds=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)},u.prototype.renderElements=function(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderCenterLabel(!0),this.renderLegend(),q(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),K.updateBlazorTemplate(this.element.id+"_DataLabel","Template",this.series[0].dataLabel),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1},u.prototype.setSecondaryElementPosition=function(){var e,t,i=J(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=J(this.element.id+"_svg").getBoundingClientRect(),i.style.left=Math.max(t.left-e.left,0)+"px",i.style.top=Math.max(t.top-e.top,0)+"px")},u.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(J(this.element.id+"_Secondary_Element"))},u.prototype.processExplode=function(){return!this.redraw&&this.visibleSeries[0].explode?void this.accBaseModule.invokeExplode():null},u.prototype.renderSeries=function(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&this[bo(i.type)+"SeriesModule"]&&(this[bo(i.type)+"SeriesModule"].initProperties(this,i),i.renderSeries(this,this.redraw))}},u.prototype.renderBorder=function(){var e=this.border.width,t=new Pr(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new $.Rect(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e),0,0,"",this.border.dashArray),t=this.renderer.drawRectangle(t),t=(t.setAttribute("aria-hidden","true"),q(!1,this.svgObject,t,this.redraw),this.backgroundImage);t&&(e=new Dr(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_background","visible","none"),q(!1,this.svgObject,this.renderer.drawImage(e),this.redraw))},u.prototype.renderLegend=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&("Pie"===this.visibleSeries[0].type&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))},u.prototype.processSelection=function(){var e=[];this.accumulationSelectionModule&&"None"!==this.selectionMode&&(e=K.extend([],this.accumulationSelectionModule.selectedDataIndexes,null,!0),this.accumulationSelectionModule.invokeSelection(this)),this.accumulationHighlightModule&&"None"!==this.highlightMode&&this.accumulationHighlightModule.invokeHighlight(this),0<e.length&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this))},u.prototype.renderTitle=function(){var e=this.margin;if(!this.title)return null;var t=Ur(this.titleStyle.textAlignment,this.enableRtl),i=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont),i=this.margin.top+3*i.height/4,o=void 0!==this.accumulationLegendModule&&"Top"===this.legendSettings.position?this.accumulationLegendModule.legendBounds.height:0,r=0===this.explodeDistance?0:this.explodeDistance,r=0!==o?0:r/2,e=new $.Rect(e.left,0,this.availableSize.width-e.left-e.right,0),e=new $.TextOption(this.element.id+"_title",vr(e,this.titleStyle),i,t,this.titleCollection,"","auto"),t="Pie"===this.series[0].type&&"Outside"===this.visibleSeries[0].dataLabel.position&&this.visibleSeries[0].dataLabel.connectorStyle.length?dr(this.visibleSeries[0].dataLabel.connectorStyle.length,this.accBaseModule.radius):0,i=(this.subTitle||"Funnel"===this.series[0].type||"Pyramid"===this.series[0].type||(e.y=80<=parseInt(this.series[0].radius,10)?e.y:this.accBaseModule.center.y-this.accBaseModule.radius-20-i-o-r-t,"Pie"===this.series[0].type&&(parseInt(this.series[0].radius,10)<80||isNaN(parseInt(this.series[0].radius,10)))&&(e.y=e.y<this.initialClipRect.y-o?this.initialClipRect.y-o:e.y)),gr(this.renderer,e,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,0,null,null,null,this.themeStyle.chartTitleFont));i&&(i.setAttribute("tabindex","0"),i.parentNode.insertBefore(i,this.svgObject.children&&this.svgObject.children[1])),this.subTitle&&this.renderSubTitle(e)},u.prototype.updateCenterLabel=function(e){e=this.getPieData(e);this.format=null==e.point?"":this.parseFormat(e.point,this.visibleSeries[0],this.centerLabel.hoverTextFormat),this.renderCenterLabel()},u.prototype.getPieData=function(e){e=ao(e.target.id,!0);return isNaN(e.series)?new zr(null,null):new zr(this.visibleSeries[0].points[e.point],this.visibleSeries[0])},u.prototype.parseFormat=function(e,t,i){for(var o,r=RegExp,n=0,a=Object.keys(e);n<a.length;n++){var l=new r("${point."+(s=a[n])+"}","gm");i=i.replace(l.source,e[s])}for(var s,h=0,c=Object.keys(Object.getPrototypeOf(t));h<c.length;h++)l=new r("${series."+(s=c[h])+"}","gm"),o=t[s],i=i.replace(l.source,o);return i},u.prototype.renderCenterLabel=function(e){if(!this.centerLabel.text)return null;for(var t,i=this.series[0],o=Ur(this.centerLabel.textStyle.textAlignment,this.enableRtl),r=this.pieSeriesModule.innerRadius?2*this.pieSeriesModule.innerRadius*.7071067:2*this.pieSeriesModule.radius*.7071067,n=(this.format||this.centerLabel.text).split("<br>"),a=$.measureText(n[0],this.centerLabel.textStyle,this.themeStyle.chartTitleFont),l=n.length,s=0;s<l;s++)$.measureText(n[s],this.centerLabel.textStyle,this.themeStyle.chartTitleFont).width>r&&n.splice.apply(n,[s,1].concat(br(n[s],r,this.centerLabel.textStyle,this.enableRtl,null,null,this.themeStyle.chartTitleFont)));a.height*n.length>r?t=this.accBaseModule.center.y+(a.height+10)/2-r/2:i.startAngle&&i.endAngle&&180===Math.abs(i.endAngle-i.startAngle)?(t=this.accBaseModule.center.y-a.height*n.length/2+(a.height+10)/2-this.pieSeriesModule.innerRadius/2+(this.pieSeriesModule.innerRadius?10:0),a.height*n.length+this.pieSeriesModule.innerRadius/2+10>r&&(t=this.accBaseModule.center.y+(a.height+10)/2-r/2)):t=1<n.length?this.accBaseModule.center.y-a.height*n.length/2+(a.height+10)/2:this.accBaseModule.center.y+a.height/4;for(var h=new $.TextOption(this.element.id+"_centerLabel",(this.series[0].animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e?this.pieSeriesModule.center.x-1:this.pieSeriesModule.center.x,t,o,"","","auto"),c=gr(this.renderer,h,this.centerLabel.textStyle,this.centerLabel.textStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,0,null,null,null,this.themeStyle.chartTitleFont),s=0;s<n.length;s++){var d={x:h.x,y:h.y+s*a.height,fill:""},d=this.renderer.createTSpan(d,"");d.style.fontFamily="inherit",d.style.fontStyle="inherit",d.style.fontSize="inherit",d.style.fontWeight=-1<n[s].indexOf("<b>")||-1<n[s].indexOf("</b>")?"bold":"inherit",d.textContent=n[s].replace(/<\/?b>/g,""),c.appendChild(d)}e&&(this.series[0].animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&this.animateSeries&&this.centerLabelDelay(c)},u.prototype.centerLabelDelay=function(e){e.style.visibility="hidden",new K.Animation({}).animate(e,{delay:this.duration||this.series[0].animation.duration,progress:function(e){e.element.style.visibility="visible"}})},u.prototype.renderSubTitle=function(e){for(var t=0,i=this.titleStyle.textAlignment,o=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont),r=0,n=this.titleCollection;r<n.length;r++)var a=n[r],t=t<(a=$.measureText(a,this.titleStyle,this.themeStyle.chartSubTitleFont).width)?a:t;i=new $.Rect("Center"===i?e.x-t/2:"Far"===i?e.x-t:e.x,0,t,0),i=new $.TextOption(this.element.id+"_subTitle",vr(i,this.subTitleStyle),e.y*e.text.length+3*o.height/4+10,Ur(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,"","auto");gr(this.renderer,i,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,0,null,null,null,this.themeStyle.chartSubTitleFont)},u.prototype.getSeriesElement=function(){return this.svgObject.getElementsByTagName("g")[0]},u.prototype.refreshSeries=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];this.refreshPoints(i.points)}},u.prototype.refreshPoints=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];o.labelPosition=null,o.labelRegion=null,o.labelVisible=!0}},u.prototype.getModuleName=function(){return"accumulationchart"},u.prototype.destroy=function(){var e;this.element&&(this.unWireEvents(),rd.prototype.destroy.call(this),this.element.classList.remove("e-accumulationchart"),this.element.classList.remove("e-accumulationchart-focused"),(e=document.getElementById(this.element.id+"Keyboard_accumulationchart_focus"))&&e.remove(),w("chartmeasuretext"),this.removeSvg(),this.svgObject=null)},u.prototype.requiredModules=function(){var e=[];return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),"None"!==this.selectionMode&&e.push({member:"AccumulationSelection",args:[this]}),"None"!==this.highlightMode&&e.push({member:"AccumulationHighlight",args:[this]}),(this.enableExport||this.allowExport)&&e.push({member:"Export",args:[this]}),this.annotations.some(function(e){return null!==e.content})&&e.push({member:"Annotation",args:[this]}),e},u.prototype.findDatalabelVisibility=function(){for(var e=0,t=this.series;e<t.length;e++)if(t[e].dataLabel.visible)return!0;return!1},u.prototype.changeVisibleSeries=function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t===r.index)return r}return null},u.prototype.getPersistData=function(){return""},u.prototype.onPropertyChanged=function(e,t){for(var i={refreshElements:!1,refreshBounds:!1},o=0,r=Object.keys(e);o<r.length;o++)switch(r[o]){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":i.refreshBounds=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"legendSettings":i.refreshBounds=!0,i.refreshElements=!0;break;case"dataSource":this.processData(!1),i.refreshBounds=!0;break;case"series":if(!this.animateselected){for(var n,a=this.series.length,l=!1,s=void 0,h=0;h<a;h++)n=e.series[h],this.isBlazor&&(n.startAngle||n.endAngle||n.explodeOffset||n.neckHeight||n.neckWidth||n.radius||n.innerRadius||n.groupMode||n.emptyPointSettings)&&(s=!0),e.series[h]&&(e.series[h].dataSource||e.series[h].yName||e.series[h].xName||n.type||e.series[h].dataLabel||s)&&(K.extend(this.changeVisibleSeries(this.visibleSeries,h),n,null,!0),l=!0),e.series[h]&&!K.isNullOrUndefined(e.series[h].explodeIndex)&&0<=e.series[h].explodeIndex&&e.series[h].explodeIndex!==t.series[h].explodeIndex?(this.accBaseModule.explodePoints(e.series[h].explodeIndex,this),this.accBaseModule.deExplodeAll(e.series[h].explodeIndex,this.enableAnimation?300:0)):e.series[h].explodeIndex<0&&this.accBaseModule.deExplodeAll(e.series[h].explodeIndex,this.enableAnimation?300:0),this.pieSeriesModule||(this.pieSeriesModule=new td(this));l&&(this.processData(!1),i.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"enableRtl":case"locale":case"currencyCode":rd.prototype.refresh.call(this);break;case"background":case"border":case"annotations":case"enableSmartLabels":i.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(K.isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):(this.accumulationSelectionModule.selectedDataIndexes=this.selectedDataIndexes,this.accumulationSelectionModule.redrawSelection(this)));break;case"tooltip":this.accumulationTooltipModule&&(this.accumulationTooltipModule.previousPoints=[],this.tooltip.template)&&(this.accumulationTooltipModule.template=this.tooltip.template)}!i.refreshBounds&&i.refreshElements?(this.createPieSvg(),this.renderElements()):i.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())},p([K.Property(null)],u.prototype,"width",void 0),p([K.Property(null)],u.prototype,"height",void 0),p([K.Property(null)],u.prototype,"title",void 0),p([K.Property(null)],u.prototype,"backgroundImage",void 0),p([K.Complex({},jc)],u.prototype,"center",void 0),p([K.Property("")],u.prototype,"dataSource",void 0),p([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],u.prototype,"titleStyle",void 0),p([K.Property(null)],u.prototype,"subTitle",void 0),p([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],u.prototype,"subTitleStyle",void 0),p([K.Complex({},n)],u.prototype,"legendSettings",void 0),p([K.Complex({},Ve)],u.prototype,"tooltip",void 0),p([K.Complex({},ze)],u.prototype,"centerLabel",void 0),p([K.Property("None")],u.prototype,"selectionMode",void 0),p([K.Property("")],u.prototype,"highlightColor",void 0),p([K.Property("None")],u.prototype,"highlightMode",void 0),p([K.Property("None")],u.prototype,"selectionPattern",void 0),p([K.Property("None")],u.prototype,"highlightPattern",void 0),p([K.Property(!0)],u.prototype,"enableBorderOnMouseMove",void 0),p([K.Property(!1)],u.prototype,"isMultiSelect",void 0),p([K.Property(!0)],u.prototype,"enableAnimation",void 0),p([K.Collection([],Fe)],u.prototype,"selectedDataIndexes",void 0),p([K.Complex({},me)],u.prototype,"margin",void 0),p([K.Property(!0)],u.prototype,"enableSmartLabels",void 0),p([K.Complex({color:"#DDDDDD",width:0},ae)],u.prototype,"border",void 0),p([K.Property(null)],u.prototype,"background",void 0),p([K.Collection([{}],Ic)],u.prototype,"series",void 0),p([K.Collection([{}],Oc)],u.prototype,"annotations",void 0),p([K.Property("Material")],u.prototype,"theme",void 0),p([K.Property(!1)],u.prototype,"useGroupingSeparator",void 0),p([K.Property(!0)],u.prototype,"enableExport",void 0),p([K.Property(!1)],u.prototype,"allowExport",void 0),p([K.Event()],u.prototype,"loaded",void 0),p([K.Event()],u.prototype,"legendClick",void 0),p([K.Event()],u.prototype,"load",void 0),p([K.Event()],u.prototype,"seriesRender",void 0),p([K.Event()],u.prototype,"legendRender",void 0),p([K.Event()],u.prototype,"textRender",void 0),p([K.Event()],u.prototype,"tooltipRender",void 0),p([K.Event()],u.prototype,"pointRender",void 0),p([K.Event()],u.prototype,"annotationRender",void 0),p([K.Event()],u.prototype,"beforePrint",void 0),p([K.Event()],u.prototype,"chartMouseMove",void 0),p([K.Event()],u.prototype,"chartMouseClick",void 0),p([K.Event()],u.prototype,"chartDoubleClick",void 0),p([K.Event()],u.prototype,"pointClick",void 0),p([K.Event()],u.prototype,"pointMove",void 0),p([K.Event()],u.prototype,"animationComplete",void 0),p([K.Event()],u.prototype,"chartMouseDown",void 0),p([K.Event()],u.prototype,"chartMouseLeave",void 0),p([K.Event()],u.prototype,"chartMouseUp",void 0),p([K.Event()],u.prototype,"beforeResize",void 0),p([K.Event()],u.prototype,"resized",void 0),p([K.Event()],u.prototype,"afterExport",void 0),p([K.Event()],u.prototype,"selectionComplete",void 0),p([K.Property("USD")],u.prototype,"currencyCode",void 0),p([K.NotifyPropertyChanges],u));function u(e,t){e=rd.call(this,e,t)||this;return e.animateselected=!1,e.explodeDistance=0,e.currentLegendIndex=0,e.currentPointIndex=0,e.previousTargetId="",e.isLegendClicked=!1,e.chartid=57724,e}nd=function(e,t){return(nd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}nd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ld,ad=Zc),ld.prototype.initProperties=function(e,t){var i=e.initialClipRect,e=(t.triangleSize=new $.Size(dr(t.width,i.width),dr(t.height,i.height)),t.neckSize=new $.Size(dr(t.neckWidth,i.width),dr(t.neckHeight,i.height)),this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position,e),"30%"===t.explodeOffset&&(t.explodeOffset="25px"),e.explodeDistance=dr(t.explodeOffset,i.width),t.points);this.initializeSizeRatio(e,t)},ld.prototype.initializeSizeRatio=function(e,t,i){void 0===i&&(i=!1);for(var o=t.sumOfPoints,t=Math.min(Math.max(t.gapRatio,0),1),r=0!==o?1/(o*(1+t/(1-t))):0,n=t/(e.length-1),a=0,l=e.length-1;0<=l;l--){var s,h=i?e.length-1-l:l;e[h].visible&&(s=r*e[h].y,e[h].yRatio=a,a+=(e[h].heightRatio=s)+n)}},ld.prototype.setLabelLocation=function(e,t,i){var o=i.length-1,e="Funnel"===e.type?i.length-2:i.length-1,r=(i[0].x+i[e].x)/2,n=(i[1].x+i[e-1].x)/2;t.region=new $.Rect(r,i[0].y,n-r,i[e].y-i[0].y),t.symbolLocation={x:t.region.x+t.region.width/2,y:t.region.y+t.region.height/2},t.labelOffset={x:t.symbolLocation.x-(i[0].x+i[o].x)/2,y:t.symbolLocation.y-(i[0].y+i[o].y)/2}},ld.prototype.findPath=function(e){for(var t="M",i=0;i<e.length;i++)t+=e[i].x+" "+e[i].y,i!==e.length-1&&(t+=" L");return t+" Z"},ld.prototype.defaultLabelBound=function(e,t,i,o){var r=(o.initialClipRect.width-e.triangleSize.width)/2,o=(o.initialClipRect.height-e.triangleSize.height)/2,r=new $.Rect(r,o,e.triangleSize.width,e.triangleSize.height);e.labelBound=new $.Rect(r.x,r.y,r.width+r.x,r.height+r.y),e.accumulationBound=r,t&&"Outside"===i&&(e.labelBound=new $.Rect(1/0,1/0,-1/0,-1/0))};var nd,ad,n=ld;function ld(){return null!==ad&&ad.apply(this,arguments)||this}sd=function(e,t){return(sd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}sd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(cd,hd=n),cd.prototype.getSegmentData=function(e,t,i){var o,r,n,a,l,s=t.triangleSize,h=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,i=i.initialClipRect.y+(i.initialClipRect.height-s.height)/2,c=e.yRatio*s.height,d=c+e.heightRatio*s.height,p=t.neckSize,u=p.width+(s.width-p.width)*((s.height-p.height-c)/(s.height-p.height)),g=s.width/2-u/2,m=g+u,u=(u=d>s.height-p.height||s.height===p.height?p.width:p.width+(s.width-p.width)*((s.height-p.height-d)/(s.height-p.height)),r=(o=s.width/2-u/2)+u,c>=s.height-p.height?(g=o=n=s.width/2-p.width/2,m=r=a=s.width/2+p.width/2):d>s.height-p.height&&(a=r=(n=o=s.width/2-u/2)+u,l=s.height-p.height),{x:h+0+g,y:c+=i}),s={x:h+0+r,y:d+=i},p={x:h+0+o,y:d},g=((l+=i)&&(s={x:h+0+a,y:l},p={x:h+0+n,y:l}),[u,{x:h+0+m,y:c},s,{x:h+0+r,y:d},{x:h+0+o,y:d},p]);return this.setLabelLocation(t,e,g),this.findPath(g)},cd.prototype.renderPoint=function(e,t,i,o,r,n){if(!e.visible)return w(o.id),null;var a=this.getSegmentData(e,t,i),a=(e.midAngle=0,o.d=a,i.renderer.drawPath(o));a.setAttribute("role","img"),a.setAttribute("tabindex",0===e.index?"0":"-1"),a.setAttribute("aria-label",e.x+":"+e.y+"%. "+t.name),q(!1,r,a,n),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)},cd.prototype.getModuleName=function(){return"FunnelSeries"},cd.prototype.destroy=function(){};var sd,hd,p=cd;function cd(){return null!==hd&&hd.apply(this,arguments)||this}dd=function(e,t){return(dd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}dd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ud,pd=n),ud.prototype.getSegmentData=function(e,t,i){var o=t.triangleSize,r=i.initialClipRect.y+(i.initialClipRect.height-o.height)/2,i=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,n=e.yRatio,a=e.yRatio+e.heightRatio,l=.5*(1-e.yRatio),s=.5*(1-a);n+=r/o.height,a+=r/o.height;r=[{x:i+0+l*o.width,y:n*o.height},{x:i+0+(1-l)*o.width,y:n*o.height},{x:i+0+(1-s)*o.width,y:a*o.height},{x:i+0+s*o.width,y:a*o.height}];return this.setLabelLocation(t,e,r),this.findPath(r)},ud.prototype.initializeSizeRatio=function(e,t){"Linear"===t.pyramidMode?pd.prototype.initializeSizeRatio.call(this,e,t,!0):this.calculateSurfaceSegments(t)},ud.prototype.calculateSurfaceSegments=function(e){for(var t=e.points.length,i=e.sumOfPoints,o=[],r=[],n=Math.min(0,Math.max(e.gapRatio,1))/(t-1),a=this.getSurfaceHeight(0,i),l=0,s=0;s<t;s++)e.points[s].visible&&(o[s]=l,r[s]=this.getSurfaceHeight(l,Math.abs(e.points[s].y)),l+=r[s]+n*a);for(var h=1/(l-n*a),s=0;s<t;s++)e.points[s].visible&&(e.points[s].yRatio=h*o[s],e.points[s].heightRatio=h*r[s])},ud.prototype.getSurfaceHeight=function(e,t){return this.solveQuadraticEquation(1,2*e,-t)},ud.prototype.solveQuadraticEquation=function(e,t,i){var i=t*t-4*e*i;return 0<=i?(i=Math.sqrt(i),Math.max((-t-i)/(2*e),(-t+i)/(2*e))):0},ud.prototype.renderPoint=function(e,t,i,o,r,n){if(!e.visible)return $.removeElement(o.id),null;o.d=this.getSegmentData(e,t,i),e.midAngle=0;o=i.renderer.drawPath(o);o.setAttribute("role","img"),o.setAttribute("tabindex",0===e.index?"0":"-1"),o.setAttribute("aria-label",e.x+": "+e.y+"%. "+t.name),q(!1,r,o,n),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)},ud.prototype.getModuleName=function(){return"PyramidSeries"},ud.prototype.destroy=function(){};var dd,pd,n=ud;function ud(){return null!==pd&&pd.apply(this,arguments)||this}gd=function(e,t){return(gd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}gd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(fd,md=i),fd.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this),this.chart.on("click",this.click,this))},fd.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd))},fd.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&this.chart.accumulationHighlightModule&&"None"!==this.chart.highlightMode){this.chart.legendSettings.toggleVisibility||this.click(e);for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],i=e.target.id,o=0,r=t;o<r.length;o++){var n=r[o];if(-1<i.indexOf(n)){n=parseInt(i.split(n)[1],10),this.chart.accumulationHighlightModule.legendSelection(this.chart,0,n,e.target,e.type);break}}}},fd.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},fd.prototype.getLegendOptions=function(e,t){this.legendCollections=[],this.isRtlEnable=e.enableRtl,this.isReverse=!this.isRtlEnable&&e.legendSettings.reverse;for(var i=0;i<1;i++){var o=t[i].type;"Pie"!==o&&"Doughnut"!==o||(o="0"!==t[i].innerRadius&&"0%"!==t[i].innerRadius?"Doughnut":"Pie");for(var r=0,n=t[i].points;r<n.length;r++){var a=n[r];K.isNullOrUndefined(a.x)||K.isNullOrUndefined(a.y)||this.legendCollections.push(new Hn(a.x.toString(),a.color,t[i].legendShape,a.visible,o,a.legendImageUrl,null,null,a.index,t[i].index))}this.isReverse&&this.legendCollections.reverse()}},fd.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;for(var o=0,r=0,n=(this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[],i.padding),a=i.titlePosition,l=0,s=this.arrowWidth,h=i.enablePages?0:this.arrowHeight,c=(this.isVertical?o=i.width?0:e.width/100*5:r=i.height?0:e.height/100*5,t.width+=o,t.height+=r,i.shapePadding),d=i.maximumLabelWidth||0,p=i.shapeWidth,u=0,g=0,m=0,y=[],f=[],v=0,b=0,x=0,S=(this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight),!1),C=0;C<this.legendCollections.length;C++){var w,F={fill:(w=this.legendCollections[C]).fill,text:w.text,shape:w.shape,name:"legendRender",cancel:!1};this.chart.trigger("legendRender",F),w.render=!F.cancel,w.text=-1<F.text.indexOf("&")?this.convertHtmlEntities(F.text):F.text,w.fill=F.fill,w.shape=F.shape,w.textSize=$.measureText(w.text,i.textStyle,this.chart.themeStyle.legendLabelFont),w.render&&""!==w.text&&(S=!0,x=p+c+(i.maximumLabelWidth||w.textSize.width)+(this.isVertical||0===C?n:this.itemPadding),this.getLegendHeight(w,i,t,u,this.maxItemHeight,n),this.isVertical?((b+=w.textSize.height+(0===C?n:this.itemPadding))+this.itemPadding+h/this.pageButtonSize>t.height&&(u+=d,F=this.getPageWidth(f),this.totalPages=Math.max(m,this.totalPages||1),u-F+x>t.width?(f.push(u-F),v=m=this.rowHeights.length):m=v,y.push(d),d=0,b=w.textSize.height+n,g++),this.columnHeights[g]=(this.columnHeights[g]||0)+w.textSize.height+(0===C?n:this.itemPadding),d=Math.max(x,d),this.rowHeights[m]=Math.max(this.rowHeights[m]||0,w.textSize.height),m++):(i.enablePages||(l=this.isTitle&&"Top"!==a?this.legendTitleSize.width+this.fivePixel:0,l+=s),u+=x,t.width<n+u+l&&(d=Math.max(d,u+n+l-x),0===m&&x!==u&&(m=1),u=x,m++,g=0),this.rowHeights[F=m&&m-1]=Math.max(this.rowHeights[F]||0,w.textSize.height),this.columnHeights[g]=(this.columnHeights[g]||0)+w.textSize.height+n,g++))}e="Top"===a?this.legendTitleSize.height:0,this.isVertical?(this.isPaging=t.width<(u+=d)+n,b=Math.max.apply(null,this.columnHeights)+n+h+e,b=Math.max(b,(this.totalPages||1)*(this.maxItemHeight+n)+n+h),this.isPaging=this.isPaging&&1<this.totalPages,y.push(d)):(this.totalPages=this.totalRowCount=m,b=Math.max.apply(null,this.columnHeights)+n+h+e,this.isPaging=t.height<b,b=!i.enablePages&&this.isPaging?this.maxItemHeight+n+n+e:b,b=Math.max(b,this.maxItemHeight+n+n+e),this.isPaging||(u+=this.isTitle&&"Top"!==a?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0)),this.maxColumns=0;o=this.isVertical?this.getMaxColumn(y,t.width,n,u+n):Math.max(u+n,d);S?this.setBounds(o,b,i,t):this.setBounds(0,0,i,t)},fd.prototype.getPageWidth=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},fd.prototype.getLegendHeight=function(e,t,i,o,r,n){var a=e.textSize.width,l=t.shapePadding+2*n+t.shapeWidth;switch(t.textWrap){case"Wrap":case"AnyWhere":a>t.maximumLabelWidth||a+o>i.width?e.textCollection=br(e.text,t.maximumLabelWidth?Math.min(t.maximumLabelWidth,i.width-l):i.width-l,t.textStyle,this.chart.enableRtl,"AnyWhere"===t.textWrap,null,this.chart.themeStyle.legendLabelFont):e.textCollection.push(e.text),e.textSize.height=r*e.textCollection.length}},fd.prototype.convertHtmlEntities=function(e){return e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&nbsp;"," ").replace("&cent;","").replace("&pound;","").replace("&yen;","").replace("&euro;","").replace("&copy;","").replace("&reg;","").replace("&#38;","&").replace("&#60;","<").replace("&#62;",">").replace("&#34;",'"').replace("&#160;"," ").replace("&#162;","").replace("&#163;","").replace("&#165;","").replace("&#8364;","").replace("&#169;","").replace("&#174;","")},fd.prototype.getMaxColumn=function(e,t,i,o){var r=i;this.maxColumnWidth=Math.max.apply(null,e);for(var n=0,a=e;n<a.length;n++){a[n];if(r+=this.maxColumnWidth,this.maxColumns++,t<r+i){r-=this.maxColumnWidth,this.maxColumns--;break}}this.isPaging=r<o&&1<this.totalPages,r===i&&(r=t),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=r;var l=this.maxColumnWidth+i,s=0,h=this.columnHeights.length;if(this.isPaging&&this.isVertical){for(var c=1;c<h;c++)t<(l+=this.maxColumnWidth+i)&&(this.pageHeights.push(s!==c-1?Math.max.apply(null,this.columnHeights.slice(s,c-1)):this.columnHeights[s]),l=this.maxColumnWidth+i,s=c);this.pageHeights.push(s!==h-1?Math.max.apply(null,this.columnHeights.slice(s,h-1)):this.columnHeights[s]),this.totalPages=this.pageHeights.length}return r},fd.prototype.getAvailWidth=function(e,t){if(this.isVertical)t=this.maxWidth;else if(!this.isVertical&&this.isPaging&&!this.legend.enablePages)return t-e-this.fivePixel;return t-(2*this.legend.padding+this.legend.shapeWidth+this.legend.shapePadding)},fd.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=this.legend.padding,s=o.location.y+this.maxItemHeight/4+(0<o.textCollection.length?(o.textCollection.length-1)*this.maxItemHeight:0),i=(this.isVertical?n===a||s+e.textSize.height+l>r.y+r.height?(e.location.x=o.location.x+(n===a?0:this.isRtlEnable?-this.maxColumnWidth:this.maxColumnWidth),e.location.y=t.y,s=this.legend.shapeWidth/2+l,this.pageXCollections.push(e.location.x+(this.isRtlEnable?s:-s))):(e.location.x=o.location.x,e.location.y=o.location.y+o.textSize.height+this.itemPadding):(s=i+(this.legend.maximumLabelWidth||o.textSize.width),s=o.location.x+(this.isRtlEnable?-s:s),this.isWithinBounds(s,(this.legend.maximumLabelWidth||e.textSize.width)+i-this.itemPadding,r,this.legend.shapeWidth/2)?(n!==a&&this.chartRowCount++,e.location.y=n===a?o.location.y:o.location.y+this.rowHeights[this.chartRowCount-2]+l,e.location.x=t.x):(e.location.y=o.location.y,e.location.x=n===a?o.location.x:s)),this.getAvailWidth(e.location.x,this.legendBounds.width)),i=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,i):i;"Ellipsis"===this.legend.textOverflow&&"Normal"===this.legend.textWrap&&(e.text=hr(+i.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},fd.prototype.isWithinBounds=function(e,t,i,o){return this.isRtlEnable?e-t<i.x-o:e+t>i.x+i.width+o},fd.prototype.getSmartLegendLocation=function(e,t,i){var o;switch(this.position){case"Left":o=(e.x-t.width-i.left)/2,t.x=e.x-t.width<i.left?t.x:e.x-t.width-o;break;case"Right":o=(this.chart.availableSize.width-i.right-(e.x+e.width+t.width))/2,t.x=e.x+e.width+t.width>this.chart.availableSize.width-i.right?t.x:e.x+e.width+o;break;case"Top":this.getTitleRect(this.chart),o=(e.y-t.height-(this.titleRect.y+this.titleRect.height))/2,t.y=e.y-t.height<i.top?t.y:e.y-t.height-o;break;case"Bottom":o=(this.chart.availableSize.height-i.bottom-(e.y+e.height+t.height))/2,t.y=e.y+e.height+t.height>this.chart.availableSize.height-i.bottom?t.y:e.y+e.height+o}},fd.prototype.getTitleRect=function(e){if(!e.title)return null;var t=$.measureText(e.title,e.titleStyle,this.chart.themeStyle.legendTitleFont);this.titleRect=new $.Rect(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)},fd.prototype.legendByIndex=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(r.pointIndex===e)return r}return null},fd.prototype.click=function(e){var t=(-1<e.target.id.indexOf("_chart_legend_g_")?e.target.firstChild:e.target).id,i=this.chart,o=[this.legendID+"_text_",this.legendID+"_shape_",this.legendID+"_shape_marker_"];this.chart.animateSeries=!1;for(var r=0,n=o;r<n.length;r++){var a,l,s,h,c=n[r];-1<t.indexOf(c)&&(c=parseInt(t.split(c)[1],10),this.chart.legendSettings.toggleVisibility&&!isNaN(c)?(l=Yc(c,(a=this.chart.visibleSeries[0]).points),h={legendText:(s=this.legendByIndex(c,this.legendCollections)).text,legendShape:s.shape,chart:i.isBlazor?{}:i,series:a,point:l,name:it,cancel:!1},this.chart.trigger(it,h),h.cancel||(l.visible=!l.visible,s.visible=l.visible,a.sumOfPoints+=l.visible?l.y:-l.y,i.redraw=i.enableAnimation,this.sliceVisibility(c,l.visible),i.removeSvg(),Cr(i),this.chart.refreshPoints(a.points),this.chart.calculateBounds(),this.chart.renderElements())):this.chart.accumulationSelectionModule&&!isNaN(c)?this.chart.accumulationSelectionModule.legendSelection(this.chart,0,c,e.target,e.type):this.chart.accumulationHighlightModule&&!isNaN(c)&&this.chart.accumulationHighlightModule.legendSelection(this.chart,0,c,e.target,e.type))}-1<t.indexOf(this.legendID+"_pageup")?this.changePage(e,!0):-1<t.indexOf(this.legendID+"_pagedown")&&this.changePage(e,!1),i.redraw=!1},fd.prototype.sliceVisibility=function(e,t){var i;this.chart.element.id;this.chart.visibleSeries[0].dataLabel.visible&&(i=this.chart.element.id+"_datalabel_Series_0_",this.sliceAnimate(J(i+"g_"+e),t))},fd.prototype.sliceAnimate=function(e,t){if(!e)return null;new K.Animation({}).animate(e,{duration:300,delay:0,name:t?"FadeIn":"FadeOut",end:function(e){e.element.style.visibility=t?"visible":"hidden"}})},fd.prototype.getModuleName=function(){return"AccumulationLegend"},fd.prototype.destroy=function(){this.removeEventListener()};var gd,md,yd=fd;function fd(e){var t=md.call(this,e)||this;return(t.library=t).titleRect=new $.Rect(0,e.margin.top,0,0),t.addEventListener(),t}vd=function(e,t){return(vd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}vd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Sd,bd=Zc),Sd.prototype.getDataLabelPosition=function(e,t,i,o){var r,n=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t);this.accumulation.title&&(r=$.measureText(this.accumulation.title,this.accumulation.titleStyle,this.accumulation.themeStyle.datalabelFont),this.titleRect=new $.Rect(this.accumulation.availableSize.width/2-r.width/2,this.accumulation.margin.top,r.width,r.height)),this.getLabelRegion(e,t.position,i,n,this.marginValue),e.labelAngle=e.midAngle,e.labelPosition=t.position,this.accumulation.enableSmartLabels&&this.getSmartLabel(e,t,i,o)},Sd.prototype.getLabelRegion=function(e,t,i,o,r,n){n=(n=void 0===n?0:n)||e.midAngle,o=$i(n,o,this.isCircular()?this.center:this.getLabelLocation(e,t));o.y="Inside"===t?o.y-i.height/2:o.y,o.x="Inside"===t?o.x-i.width/2:o.x,e.labelRegion=new $.Rect(o.x,o.y,i.width+2*r,i.height+2*r),"Outside"===t&&(e.labelRegion.y-=e.labelRegion.height/2,90<=n&&n<=270?e.labelRegion.x-=e.labelRegion.width+20:e.labelRegion.x+=20)},Sd.prototype.calculateLabelCollection=function(e,t){if(null!==e.argsData.template)return null;var i=e.labelPosition||t.position,o=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t),r=this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.radius-this.accumulation.pieSeriesModule.innerRadius,o=$i(e.midAngle,o,this.isCircular()?this.center:this.getLabelLocation(e,i)),n=(n=t.maxWidth)||("Outside"===i?this.isCircular()?o.x>=this.center.x?this.areaRect.x+this.areaRect.width-o.x:o.x-this.areaRect.x:o.x>=e.region.x?this.areaRect.x+this.areaRect.width-o.x:o.x-this.areaRect.x:this.isCircular()?r-20:e.region.width);-1!==e.label.indexOf("<br>")?e.labelCollection=e.label.split("<br>"):"Normal"===t.textWrap&&"Ellipsis"===t.textOverflow?e.labelCollection[0]=hr(n,e.label,e.argsData.font,this.accumulation.enableRtl,this.accumulation.themeStyle.datalabelFont):"Wrap"===t.textWrap||"AnyWhere"===t.textWrap?e.labelCollection=br(e.label,n,e.argsData.font,this.accumulation.enableRtl,"AnyWhere"===t.textWrap,"Clip"===t.textOverflow,this.accumulation.themeStyle.datalabelFont):e.labelCollection[0]=e.label},Sd.prototype.getTextSize=function(e,t){for(var i,o=0,r=t.font,n=t.maxWidth||0,a=0;a<e.length;a++)i=$.measureText(e[a],r,this.accumulation.themeStyle.datalabelFont),n=Math.max(i.width,n),o+=i.height;return"Clip"===t.textOverflow&&"Normal"!==t.textWrap&&t.maxWidth&&(n=t.maxWidth),new $.Size(n,o)},Sd.prototype.getSmartLabel=function(e,t,i,o){var r=this.isCircular(),n=r?this.radius:this.getLabelDistance(e,t),a=(n+=dr(r?t.connectorStyle.length||"4%":"0px",n),this.findPreviousPoint(o,e.index,e.labelPosition));"Inside"===t.position?(e.labelRegion.height-=4,e.labelRegion.width-=4,(a&&a.labelRegion&&!t.enableRotation&&(Ko(e.labelRegion,a.labelRegion)||this.isOverlapping(e,o))||!r&&!$o(e.region,e.labelRegion))&&(e.labelPosition="Outside",r||(n=this.getLabelDistance(e,t)),this.calculateLabelCollection(e,t),(i=this.getTextSize(e.labelCollection,t)).height+=4,i.width+=4,this.getLabelRegion(e,e.labelPosition,i,n,this.marginValue),a=this.findPreviousPoint(o,e.index,e.labelPosition))&&(Ko(e.labelRegion,a.labelRegion)||this.isConnectorLineOverlapping(e,a))&&this.setOuterSmartLabel(a,e,t.border.width,n,i,this.marginValue)):a&&a.labelRegion&&(Ko(e.labelRegion,a.labelRegion)||this.isOverlapping(e,o)||this.isConnectorLineOverlapping(e,a))&&this.setOuterSmartLabel(a,e,t.border.width,n,i,this.marginValue),!this.isOverlapping(e,o)||"Pyramid"!==this.accumulation.type&&"Funnel"!==this.accumulation.type||(r=$i(e.midAngle||0,-(n=r?this.radius:this.getLabelDistance(e,t)),this.isCircular()?this.center:this.getLabelLocation(e,"OutsideLeft")),e.labelRegion=new $.Rect(r.x,r.y,i.width+2*this.marginValue,i.height+2*this.marginValue),e.labelRegion.y-=e.labelRegion.height/2,e.labelRegion.x=e.labelRegion.x-20-e.labelRegion.width,a&&a.labelRegion&&(Ko(e.labelRegion,a.labelRegion)||this.isOverlapping(e,o)||this.isConnectorLineOverlapping(e,a))&&this.setOuterSmartLabel(a,e,t.border.width,n,i,this.marginValue))},Sd.prototype.move=function(e,t,i,o){var r,n=this;-1<e.target.textContent.indexOf("...")?2===(e=e.target.id.split(this.id)).length&&(r=parseInt(e[1].split("_text_")[0],10),e=parseInt(e[1].split("_text_")[1],10),isNaN(r)||isNaN(e)||(o&&w(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip"),Wi((r=Gc(r,this.accumulation.visibleSeries).points[e]).text||r.y.toString(),t,i,this.areaRect.width,this.accumulation.element.id+"_EJ2_Datalabel_Tooltip",J(this.accumulation.element.id+"_Secondary_Element")))):w(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip"),o&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(function(){w(n.accumulation.element.id+"_EJ2_Datalabel_Tooltip")},1e3))},Sd.prototype.findPreviousPoint=function(e,t,i){e[0];for(var o,r=t-1;0<=r;r--)if((o=e[r]).visible&&o.labelVisible&&o.labelRegion&&o.labelPosition===i)return o;return null},Sd.prototype.isOverlapping=function(e,t){for(var i=e.index-1;0<=i;i--)if(t[i].visible&&t[i].labelVisible&&t[i].labelRegion&&e.labelRegion&&e.labelVisible&&Ko(e.labelRegion,t[i].labelRegion))return!0;return!1},Sd.prototype.textTrimming=function(e,t,i,o,r){if(Ko(e.labelRegion,t)){var n=e.labelRegion.width;if("Right"===o?n=t.x-e.labelRegion.x:"Left"===o?(n=e.labelRegion.x-(t.x+t.width))<0&&(n+=e.labelRegion.width,e.labelRegion.x=t.x+t.width):"InsideRight"===o?n=t.x+t.width-e.labelRegion.x:"InsideLeft"===o?(n=e.labelRegion.x+e.labelRegion.width-t.x)<e.labelRegion.width&&(e.labelRegion.x=t.x):this.accumulation.enableSmartLabels&&this.setPointVisibileFalse(e),e.labelVisible&&e.labelRegion){-1!==e.label.indexOf("<br>")?e.labelCollection=e.label.split("<br>"):n<e.labelRegion.width&&("Normal"===r.textWrap&&"Ellipsis"===r.textOverflow?e.labelCollection[0]=hr(n-2*this.marginValue,e.label,i,this.accumulation.enableRtl,this.accumulation.themeStyle.datalabelFont):"Wrap"!==r.textWrap&&"AnyWhere"!==r.textWrap||(e.labelCollection=br(e.label,n-2*this.marginValue,i,this.accumulation.enableRtl,"AnyWhere"===r.textWrap,"Clip"===r.textOverflow,this.accumulation.themeStyle.datalabelFont)),e.labelRegion.width=n);for(var a=0;a<e.labelCollection.length;a++)if(3===e.labelCollection[a].length&&-1<e.labelCollection[a].indexOf("...")){this.setPointVisibileFalse(e);break}}}},Sd.prototype.setPointVisibileFalse=function(e){e.labelVisible=!1,e.labelRegion=null},Sd.prototype.setPointVisibleTrue=function(e){e.labelVisible=!0},Sd.prototype.setOuterSmartLabel=function(e,t,i,o,r,n){if(this.isCircular()){var a=this.getOverlappedAngle(e.labelRegion,t.labelRegion,t.midAngle,2*i);for(this.getLabelRegion(t,"Outside",r,o,n,a),a>t.endAngle&&(a=t.midAngle),t.labelAngle=a;t.labelVisible&&(Ko(e.labelRegion,t.labelRegion)||a<=e.labelAngle||a<=.9*t.midAngle||this.isConnectorLineOverlapping(t,e))&&!(a>t.endAngle);)t.labelAngle=a,this.getLabelRegion(t,"Outside",r,o,n,a),a+=.1}else this.setSmartLabelForSegments(t,e)},Sd.prototype.setSmartLabelForSegments=function(e,t){var i=e.labelRegion,i="Funnel"===this.accumulation.type?t.labelRegion.y-(i.y+i.height):e.labelRegion.y-(t.labelRegion.y+t.labelRegion.height);i<0&&(e.labelRegion.y+="Funnel"===this.accumulation.type?i:-i)},Sd.prototype.isConnectorLineOverlapping=function(e,t){!this.isCircular()&&e.labelRegion.x<e.region.x&&(i="outsideLeft");var i=this.getLabelLocation(e,i),o=new ee(0,0),r=(this.getEdgeOfLabel(e.labelRegion,e.labelAngle,o,0,e),this.getLabelLocation(t)),n=new ee(0,0);return this.getEdgeOfLabel(t.labelRegion,t.labelAngle,n,0,e),this.isLineRectangleIntersect(i,o,e.labelRegion)||this.isLineRectangleIntersect(i,o,t.labelRegion)||this.isLineRectangleIntersect(r,n,e.labelRegion)},Sd.prototype.isLineRectangleIntersect=function(e,t,i){var o=[new ee(Math.round(i.x),Math.round(i.y)),new ee(Math.round(i.x+i.width),Math.round(i.y)),new ee(Math.round(i.x+i.width),Math.round(i.y+i.height)),new ee(Math.round(i.x),Math.round(i.y+i.height))];e.x=Math.round(e.x),e.y=Math.round(e.y),t.x=Math.round(t.x),t.y=Math.round(t.y);for(var r=0;r<o.length;r++)if(this.isLinesIntersect(e,t,o[r],o[(r+1)%o.length]))return!0;return!1},Sd.prototype.isLinesIntersect=function(e,t,i,o){var r=t.y-e.y,n=e.x-t.x,a=r*e.x+n*e.y,l=o.y-i.y,s=i.x-o.x,h=l*i.x+s*i.y,c=r*s-l*n;return 0!=c&&(s=(s*a-n*h)/c,n=(r*h-l*a)/c,Math.min(e.x,t.x)<=s)&&s<=Math.max(e.x,t.x)&&Math.min(e.y,t.y)<=n&&n<=Math.max(e.y,t.y)&&Math.min(i.x,o.x)<=s&&s<=Math.max(i.x,o.x)&&Math.min(i.y,o.y)<=n&&n<=Math.max(i.y,o.y)},Sd.prototype.getOverlappedAngle=function(e,t,i,o){var r=e.x;return 90<=i&&i<=270?(t.y=e.y-(o+t.height/2),r=e.x+e.width):t.y=e.y+e.height+o,io(this.center,new ee(r,t.y))},Sd.prototype.getConnectorPath=function(e,t,i,o){void 0===o&&(o=0);var r=i.connectorStyle,n=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],t):this.labelRadius:this.getLabelDistance(t,i),a=this.getConnectorStartPoint(t,r),o=!this.accumulation.enableSmartLabels&&o||t.midAngle,l=new ee(0,0),e=this.getEdgeOfLabel(e,o,l,r.width,t);return"Curve"===r.type?this.isCircular()?(r=n-(this.isVariousRadius()?dr(t.sliceRadius,this.accumulation.pieSeriesModule.size/2):this.radius),t.isLabelUpdated?l=this.getPerpendicularDistance(a,t):(l=$i(o,n-r/2,this.center),"Outside"===t.labelPosition&&"Inside"===i.position&&(l=$i(o,n-1.25*r,this.center))),"M "+a.x+" "+a.y+" Q "+l.x+" "+l.y+" "+e.x+" "+e.y):this.getPolyLinePath(a,e):"M "+a.x+" "+a.y+" L "+l.x+" "+l.y+" L "+e.x+" "+e.y},Sd.prototype.getPolyLinePath=function(e,t){var i=[e,t];if(e.y===t.y)return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y;for(var o="M",r=0;r<=16;r++){var n=this.getBezierPoint(r/16,i,0,2);o+=n.x+","+n.y,16!==r&&(o+=" L")}return o},Sd.prototype.getBezierPoint=function(e,t,i,o){var r;return 1===o?t[i]:(r=this.getBezierPoint(e,t,i,o-1),t=this.getBezierPoint(e,t,i+1,o-1),i=r.x||r.x,o=r.y||r.y,i=(1-e)*i+e*(t.x||t.x),o=(1-e)*o+e*(t.y||t.y),r.x,{x:i,y:o})},Sd.prototype.getEdgeOfLabel=function(e,t,i,o,r){void 0===o&&(o=1);var n=new ee(e.x,e.y);return 90<=t&&t<=270?(n.x+=e.width+o/2+10,n.y+=e.height/2,i.x=n.x+10):r&&r.region&&r.region.x>r.labelRegion.x?(n.x+=2*o+e.width+10,n.y+=e.height/2,i.x=n.x+10):(n.x-=10-o/2,n.y+=e.height/2,i.x=n.x-10),i.y=n.y,n},Sd.prototype.getLabelDistance=function(e,t){if(e.labelPosition&&t.position!==e.labelPosition||t.connectorStyle.length&&"Outside"===t.position){var i=dr(t.connectorStyle.length||"70px",this.accumulation.initialClipRect.width);if(i<this.accumulation.initialClipRect.width)return i}var o,i=e.labelPosition||t.position,t=this.accumulation.visibleSeries[0],r=(this.accumulation.initialClipRect.width-t.triangleSize.width)/2;switch(i){case"Inside":return 0;case"Outside":return o=e.symbolLocation.x+e.labelOffset.x,this.accumulation.initialClipRect.width-o-r}},Sd.prototype.getLabelLocation=function(e,t){if(void 0===t&&(t="Outside"),"Pie"===this.accumulation.type)return $i(e.midAngle,this.isVariousRadius()?dr(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius,this.center);t="OutsideLeft"===t?"OutsideLeft":e.labelPosition||t;var i={x:e.symbolLocation.x,y:e.symbolLocation.y-e.labelOffset.y};switch(t){case"Inside":i.y=e.region.y+e.region.height/2;break;case"Outside":i.x+=e.labelOffset.x;break;case"OutsideLeft":i.x-=e.labelOffset.x}return i},Sd.prototype.getConnectorStartPoint=function(e,t){var i;return!this.isCircular()&&e.region.x>e.labelRegion.x&&(i="OutsideLeft"),this.isCircular()?$i(e.midAngle,(this.isVariousRadius()?dr(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius)-t.width,this.center):this.getLabelLocation(e,i)},Sd.prototype.findAreaRect=function(){this.areaRect=new $.Rect(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);var e=this.accumulation.margin;Qi(this.areaRect,new Er(e.left,e.right,e.top,e.bottom))},Sd.prototype.renderDataLabel=function(e,t,i,o,r,n,a){var r=this.accumulation.element.id+"_datalabel_Series_"+r+"_",l=this.accumulation.renderer.createGroup({id:r+"g_"+e.index}),s={width:t.border.width,color:t.border.color},h=K.extend({},K.getValue("properties",t.font),null,!0),s=(e.label=this.getDatalabelText(t.format,this.accumulation,e.originalText||e.y.toString()),{cancel:!1,name:at,series:this.accumulation.visibleSeries[0],point:e,text:e.label,border:s,color:t.fill,template:t.template,font:h}),h=(this.accumulation.trigger(at,s),null!==(e.argsData=s).template),c=(e.labelVisible=!s.cancel,e.text=e.label=s.text,e.labelCollection=[],this.marginValue=s.border.width?5+s.border.width:1,K.createElement("div",{id:this.accumulation.element.id+"_Series_0_DataLabel_"+e.index,styles:"position: absolute;background-color:"+s.color+";"+jo(t.font,this.accumulation.themeStyle.datalabelFont)+";border:"+s.border.width+"px solid "+s.border.color+";"}));this.calculateLabelSize(h,c,e,o,s,l,r,t,a)},Sd.prototype.getDatalabelText=function(e,t,i){var o;return Number(i)&&(o=null!==e.match("{value}"),t=t.intl.getNumberFormat({format:o?"":e,useGrouping:t.useGroupingSeparator}),i=o?e.replace("{value}",t(parseFloat(i))):t(parseFloat(i))),i},Sd.prototype.calculateLabelSize=function(e,t,i,o,r,n,a,l,s,h,c){this.calculateLabelCollection(i,l);c=e?c?{width:h.width,height:h.height}:this.getTemplateSize(t,i,r,s,e,o,n,a,l):this.getTextSize(i.labelCollection,l);c.height+=4,c.width+=4,i.textSize=c,i.templateElement=t,this.getDataLabelPosition(i,l,c,o),i.labelRegion&&this.correctLabelRegion(i.labelRegion,i.textSize)},Sd.prototype.drawDataLabels=function(e,t,i,o,r){var n=e.leftSidePoints.concat(e.rightSidePoints);n.sort(function(e,t){return e.index-t.index}),"Pie"===e.type&&this.accumulation.enableSmartLabels&&this.extendedLabelsCalculation();for(var a=0,l=n;a<l.length;a++){var s,h,c,d,p,u,g,m,y=l[a];K.isNullOrUndefined(y.argsData)||K.isNullOrUndefined(y.y)||(this.finalizeDatalabels(y,n,t),s=this.accumulation.element.id+"_datalabel_Series_0_",(h=this.accumulation.renderer.createGroup({id:s+"g_"+y.index})).setAttribute("aria-hidden","true"),d=c=void 0,y.visible&&y.labelVisible&&(m=p=t.angle,y.argsData.template?this.setTemplateStyle(y.templateElement,y,o,t.font.color,y.color,r):(c=new ee(y.labelRegion.x+this.marginValue,y.labelRegion.y+3*y.textSize.height/(4*y.labelCollection.length)+this.marginValue),g=(d=J(s+"shape_"+y.index))?new ee(+d.getAttribute("x"),+d.getAttribute("y")):null,u=y.textSize.width,m="rotate("+(p=t.enableRotation?0===m?"Outside"===y.labelPosition?0:90<=y.midAngle&&y.midAngle<=260?y.midAngle+180:y.midAngle:360<m?m-360:m<-360?m+360:m:0)+","+(c.x+u/2)+","+c.y+")",y.transform=m,q(!1,h,this.accumulation.renderer.drawRectangle(new Pr(s+"shape_"+y.index,y.argsData.color,y.argsData.border,1,y.labelRegion,t.rx,t.ry,m,e.dataLabel.border.dashArray)),r,!0,"x","y",g,null,!1,!1,null,this.accumulation.duration),gr(this.accumulation.renderer,new $.TextOption(s+"text_"+y.index,c.x,c.y,this.accumulation.enableRtl?"end":"start",y.labelCollection,m,"auto",p),y.argsData.font,y.argsData.font.color||this.getSaturatedColor(y,y.argsData.color),h,!1,r,!0,!1,this.accumulation.duration,null,0,null,null,!0,this.accumulation.themeStyle.datalabelFont),d=null),this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&("Outside"===t.position||this.accumulation.enableSmartLabels)&&this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,y.labelRegion),"Outside"===y.labelPosition&&(g=(u=J(s+"connector_"+y.index))?u.getAttribute("d"):"",q(!1,h,this.accumulation.renderer.drawPath(new $.PathOption(s+"connector_"+y.index,"transparent",t.connectorStyle.width,t.connectorStyle.color||y.color,1,t.connectorStyle.dashArray,this.getConnectorPath(K.extend({},y.labelRegion,null,!0),y,t,y.labelAngle))),r,!0,null,null,null,g,!1,!1,null,this.accumulation.duration)),q(!1,i,h,r)))}"Pie"===this.accumulation.type&&"Normal"===t.textWrap&&"Clip"===t.textOverflow&&this.dataLabelClipPath(t,i)},Sd.prototype.dataLabelClipPath=function(e,t){var i,o,r,n,a,l=this.accumulation.element.id+"_datalabel_Series_0_",s=this.accumulation.renderer.createClipPath({id:l+"clipPath"}),h=this.accumulation.pieSeriesModule.pieBaseRadius;"Inside"===e.position?i=this.accumulation.renderer.drawCircle(new kr(l+"clipPath_rect","transparent",{width:0},0,this.center.x,this.center.y,h)):e.maxWidth&&(o=this.center.x-h-dr(e.connectorStyle.length||"4%",h)-e.maxWidth,r=this.center.y-h-dr(e.connectorStyle.length||"4%",h)-e.maxWidth,n=h=2*(h+dr(e.connectorStyle.length||"4%",h)+e.maxWidth),this.accumulation.legendSettings.visible&&("Left"===(a=this.accumulation.accumulationLegendModule).position?(n=0<a.legendBounds.x+a.legendBounds.width-o?n-(a.legendBounds.width-o):n,o=a.legendBounds.x+a.legendBounds.width<o?o:a.legendBounds.x+a.legendBounds.width):"Right"===a.position&&(n=0<o+n-a.legendBounds.x?n-(o+n-a.legendBounds.x):n)),i=this.accumulation.renderer.drawRectangle(new Pr(l+"clipPath_rect","transparent",{width:0},0,new $.Rect(o,r,h,n),0,0))),"Inside"!==e.position&&!e.maxWidth||(s.appendChild(i),q(!1,this.accumulation.svgObject,s),t.style.cssText="clip-path:url(#"+s.id+")")},Sd.prototype.finalizeDatalabels=function(e,t,i){var o;(this.isOverlapping(e,t)||this.titleRect&&e.labelRegion&&Ko(e.labelRegion,this.titleRect))&&this.isCircular()&&"Outside"===e.labelPosition&&this.accumulation.enableSmartLabels&&this.setPointVisibileFalse(e),this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&e.labelVisible&&e.labelRegion&&!i.maxWidth&&("Clip"!==i.textOverflow||"Normal"!==i.textWrap)&&(t=this.accumulation.accumulationLegendModule.legendBounds,"Pie"!==this.accumulation.visibleSeries[0].type&&"Left"===this.accumulation.legendSettings.position&&"Outside"===i.position&&(e.labelRegion.x=e.labelRegion.x+t.width),o=this.accumulation.legendSettings.border.width/2,this.textTrimming(e,new $.Rect(t.x-o,t.y-o,t.width+2*o,t.height+2*o),i.font,this.accumulation.accumulationLegendModule.position,i)),!e.labelVisible||!e.labelRegion||i.maxWidth||"Clip"===i.textOverflow&&"Normal"===i.textWrap||(t=this.isCircular()?e.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":e.labelRegion.x>=e.region.x?"InsideRight":"InsideLeft",this.textTrimming(e,this.areaRect,i.font,t,i)),e.labelVisible&&e.labelRegion&&!i.maxWidth&&"Clip"!==i.textOverflow&&this.accumulation.enableSmartLabels&&(e.labelRegion.y+e.labelRegion.height/2>this.areaRect.y+this.areaRect.height||e.labelRegion.y<this.areaRect.y||e.labelRegion.x<this.areaRect.x||e.labelRegion.x+e.labelRegion.width>this.areaRect.x+this.areaRect.width)&&this.setPointVisibileFalse(e)},Sd.prototype.getTemplateSize=function(e,t,i,o,r,n,a,l,s){t=Wo(e=Ho(e,t.index,i.template,this.accumulation,t,this.accumulation.visibleSeries[0],this.accumulation.element.id+"_DataLabel",0,i,r,n,a,l,s,o),o);return{width:t.width,height:t.height}},Sd.prototype.setTemplateStyle=function(e,t,i,o,r,n){e.style.left=t.labelRegion.x+"px",e.style.top=t.labelRegion.y+"px",e.style.color=o||this.getSaturatedColor(t,"Inside"===t.labelPosition?r:this.getLabelBackground(t)),this.accumulation.isBlazor&&(o=this.isCircular()?t.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":t.labelRegion.x>=t.region.x?"InsideRight":"InsideLeft",e.style.transform="InsideRight"==o?"translate(0%, -50%)":"translate(-100%, -50%)"),e.childElementCount&&(q(!1,i,e,n,!0,"left","top"),this.doTemplateAnimation(this.accumulation,e))},Sd.prototype.getSaturatedColor=function(e,t){e=!(1<=this.marginValue)||"transparent"===t?this.getLabelBackground(e):t,t=ir(or(e="transparent"===e?-1<this.accumulation.theme.indexOf("Dark")||-1<this.accumulation.theme.indexOf("HighContrast")?"black":"white":e));return 128<=Math.round((299*t.r+587*t.g+114*t.b)/1e3)?"black":"white"},Sd.prototype.doTemplateAnimation=function(e,t){var i=e.visibleSeries[0],o=i.animation.delay+i.animation.duration;(i.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&e.animateSeries&&(t.style.visibility="hidden",_o(t,o,200,"ZoomIn"))},Sd.prototype.getLabelBackground=function(e){return"Outside"===e.labelPosition?this.accumulation.background||this.accumulation.themeStyle.background:e.y?e.color:this.accumulation.theme.indexOf("dark")?"white":"black"},Sd.prototype.correctLabelRegion=function(e,t,i){e.height-=i=void 0===i?4:i,e.width-=i,e.x+=i/2,e.y+=i/2,t.height-=i,t.width-=i},Sd.prototype.getModuleName=function(){return"AccumulationDataLabel"},Sd.prototype.destroy=function(){},Sd.prototype.extendedLabelsCalculation=function(){var o=this,e=this.accumulation.series[0];e.rightSidePoints.forEach(function(e,t,i){e.initialLabelRegion=e.labelRegion,e.isLabelUpdated=0,o.skipPoints(e,i,t)}),e.leftSidePoints.forEach(function(e,t,i){e.initialLabelRegion=e.labelRegion,e.isLabelUpdated=0,o.skipPoints(e,i,t)}),this.arrangeLeftSidePoints(e),this.isIncreaseAngle=!1,this.arrangeRightSidePoints(e)},Sd.prototype.arrangeRightSidePoints=function(e){var t,i,o,r,n=e.rightSidePoints.filter(function(e){return e.labelVisible&&"Outside"===e.labelPosition}),a=(this.rightSideRenderingPoints=n)[n.length-1];a&&90<a.labelAngle&&a.labelAngle<270&&(this.isIncreaseAngle=!0,this.changeLabelAngle(a,89));for(var l=n.length-1;0<=l;l--)if(o=n[l],r=n[l+1],this.isOverlapWithNext(o,n,l)&&o.labelVisible||!(o.labelAngle<=90||270<=o.labelAngle))if(o=a.labelAngle+10,i=!0,t?this.isIncreaseAngle=!1:90<o&&o<270&&r.isLabelUpdated&&(this.isIncreaseAngle=!0),this.isIncreaseAngle)for(s=l+1;0<s;s--)this.decreaseAngle(n[s],n[s-1],e,!0);else for(var s=l+1;s<n.length;s++)this.increaseAngle(n[s-1],n[s],e,!0);else i&&r&&!r.isLabelUpdated&&(t=!0)},Sd.prototype.arrangeLeftSidePoints=function(e){var t,i,o,r,n=this,a=e.leftSidePoints.filter(function(e){return e.labelVisible&&"Outside"===e.labelPosition});this.leftSideRenderingPoints=a;for(var l=0;l<a.length;l++)if(i=a[l],t=a[l-1],this.isOverlapWithPrevious(i,a,l)&&i.labelVisible||!(i.labelAngle<270))if(o=!0,r&&(this.isIncreaseAngle=!1),this.isIncreaseAngle)for(s=l;s<a.length;s++)this.increaseAngle(a[s-1],a[s],e,!1);else for(var s=l;0<s;s--)this.decreaseAngle(a[s],a[s-1],e,!1),a.filter(function(e,t){e.isLabelUpdated&&a[t].labelAngle-10<100&&(n.isIncreaseAngle=!0)});else o&&t&&t.isLabelUpdated&&(r=!0)},Sd.prototype.decreaseAngle=function(e,t,i,o){if(K.isNullOrUndefined(e)||K.isNullOrUndefined(t))return null;var r,n=1;if(o)for(;Ko(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(t.labelRegion.height+t.labelRegion.y<e.labelRegion.y);){if((r=(r=t.midAngle-n)<0?360+r:r)<=270&&90<=r){r=270,this.isIncreaseAngle=!0;break}this.changeLabelAngle(t,r),n++}else for(270<e.labelAngle&&(this.changeLabelAngle(e,270),t.labelAngle=270);Ko(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y+e.labelRegion.height>t.labelRegion.y;){if(!((r=t.midAngle-n)<=270&&90<=r)){r=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,r),Ko(e.labelRegion,t.labelRegion)&&!i.leftSidePoints.indexOf(t)&&r-1<90&&270<r-1){this.changeLabelAngle(e,e.labelAngle+1),this.arrangeLeftSidePoints(i);break}n++}},Sd.prototype.increaseAngle=function(e,t,i,o){if(K.isNullOrUndefined(e)||K.isNullOrUndefined(t))return null;var r,n=1;if(o)for(;Ko(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(e.labelRegion.y+e.labelRegion.height<t.labelRegion.y);){if((r=t.midAngle+n)<270&&90<r){r=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,r),Ko(e.labelRegion,t.labelRegion)&&90<r+1&&r+1<270&&this.rightSideRenderingPoints.indexOf(t)===this.rightSideRenderingPoints.length-1){this.changeLabelAngle(e,e.labelAngle-1),t.labelRegion=t.initialLabelRegion,this.arrangeRightSidePoints(i);break}if(360<n)break;n++}else for(;Ko(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y<t.labelRegion.y+t.labelRegion.height;){if(!((r=t.midAngle+n)<270&&90<r)){this.isIncreaseAngle=!(r=270);break}if(this.changeLabelAngle(t,r),360<n)break;n++}},Sd.prototype.changeLabelAngle=function(e,t){var i=this.accumulation.series[0].dataLabel,i=(this.isVariousRadius()&&(o=this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e)),"Outside"===e.labelPosition&&this.accumulation.enableSmartLabels&&"Inside"===i.position?this.radius+dr(i.connectorStyle.length||"4%",this.accumulation.pieSeriesModule.size/2):this.isVariousRadius()?o:this.accumulation.pieSeriesModule.labelRadius+10),o=this.isVariousRadius()?o:i;this.getLabelRegion(e,"Outside",e.textSize,o,this.marginValue,t),e.isLabelUpdated=1,e.labelAngle=t},Sd.prototype.isOverlapWithPrevious=function(e,t,i){for(var o=0;o<i;o++)if(o!==t.indexOf(e)&&t[o].visible&&t[o].labelVisible&&t[o].labelRegion&&e.labelRegion&&e.labelVisible&&Ko(e.labelRegion,t[o].labelRegion))return!0;return!1},Sd.prototype.isOverlapWithNext=function(e,t,i){for(var o=i;o<t.length;o++)if(o!==t.indexOf(e)&&t[o].visible&&t[o].labelVisible&&t[o].labelRegion&&e.labelRegion&&e.labelVisible&&Ko(e.labelRegion,t[o].labelRegion))return!0;return!1},Sd.prototype.skipPoints=function(e,t,i){var o,r,n;0<i&&(e.midAngle<285&&255<e.midAngle||e.midAngle<105&&75<e.midAngle)?(o=t[i-1],r=e.endAngle%360-e.startAngle%360,(n=o.endAngle%360-o.startAngle%360)<=r&&r<5&&o.labelVisible&&this.setPointVisibleTrue(e)):1<i&&(e.midAngle<300&&240<e.midAngle||e.midAngle<120&&60<e.midAngle)&&(o=t[i-1],t=t[i-2],r=e.endAngle%360-e.startAngle%360,n=o.endAngle%360-o.startAngle%360,i=t.endAngle%360-t.startAngle%360,r<3)&&n<3&&i<3&&o.labelVisible&&e.labelVisible&&this.setPointVisibleTrue(e)},Sd.prototype.getPerpendicularDistance=function(e,t){var i=10+10*Math.sin(t.midAngle*Math.PI/360),e=270<t.midAngle&&t.midAngle<360?new ee(e.x+i*Math.cos((360-t.midAngle)*Math.PI/180),e.y-i*Math.sin((360-t.midAngle)*Math.PI/180)):0<t.midAngle&&t.midAngle<90?new ee(e.x+i*Math.cos(t.midAngle*Math.PI/180),e.y+i*Math.sin(t.midAngle*Math.PI/180)):0<t.midAngle&&t.midAngle<90?new ee(e.x-i*Math.cos((t.midAngle-90)*Math.PI/180),e.y+i*Math.sin((t.midAngle-90)*Math.PI/180)):new ee(e.x-i*Math.cos((t.midAngle-180)*Math.PI/180),e.y-i*Math.sin((t.midAngle-180)*Math.PI/180));return e};var vd,bd,xd=Sd;function Sd(e){var t=bd.call(this,e)||this;return t.rightSideRenderingPoints=[],t.leftSideRenderingPoints=[],t.id=e.element.id+"_datalabel_Series_",t}Cd=function(e,t){return(Cd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Cd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ld,wd=Ah),Ld.prototype.addEventListener=function(){this.accumulation.isDestroyed||(this.accumulation.on(K.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.accumulation.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.accumulation.on(K.Browser.touchEndEvent,this.mouseUpHandler,this))},Ld.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.accumulation.tooltip.fadeOutDuration)},Ld.prototype.mouseUpHandler=function(e){var t=this.accumulation;t.tooltip.enable&&t.isTouch&&mo(t.mouseX,t.mouseY,t.initialClipRect)&&(this.tooltip(e),this.removeTooltip(2e3))},Ld.prototype.mouseMoveHandler=function(e){var t=this.accumulation;e.stopPropagation(),t.tooltip.enable&&mo(t.mouseX,t.mouseY,t.initialClipRect)&&this.tooltip(e)},Ld.prototype.tooltip=function(e){this.renderSeriesTooltip(this.accumulation,this.getPieData(e,this.accumulation))},Ld.prototype.renderSeriesTooltip=function(e,t){var i=this.getElement(this.element.id+"_tooltip_svg"),i=i&&0<parseInt(i.getAttribute("opacity"),10),o=this.getTooltipElement(i),i=!i;if(this.currentPoints=[],!t.point||this.previousPoints[0]&&this.previousPoints[0].point===t.point)!t.point&&this.isRemove&&(this.removeTooltip(this.accumulation.tooltip.fadeOutDuration),this.isRemove=!1);else{if(this.previousPoints[0]&&t.point.index===this.previousPoints[0].point.index&&t.series.index===this.previousPoints[0].series.index)return null;this.pushData(t,i,o,!1)&&this.triggerTooltipRender(t,i,this.getTooltipText(t,e.tooltip),this.findHeader(t))}},Ld.prototype.triggerTooltipRender=function(t,i,e,o){function r(e){e.cancel?(n.removeHighlight(),K.remove(n.getElement(n.element.id+"_tooltip"))):(n.formattedText=n.formattedText.concat(e.text),n.text=n.formattedText,n.headerText=e.headerText,n.createTooltip(n.chart,i,{x:(null!==a.location.x?a.location:t.point.symbolLocation).x,y:(null!==a.location.y?a.location:t.point.symbolLocation).y},t.series.clipRect,t.point,a.enableMarker?["Circle"]:[],0,n.chart.initialClipRect,!1,null,t.point,n.template?e.template:"")),n.isRemove=!0}var n=this,a=this.chart.tooltip,e={cancel:!1,name:gt,text:e,point:t.point,textStyle:this.textStyle,series:this.accumulation.isBlazor?{}:t.series,headerText:o,data:{pointX:t.point.x,pointY:t.point.y,seriesIndex:t.series.index,pointIndex:t.point.index,pointText:t.point.text,seriesName:t.series.name}};r.bind(this,t),this.chart.trigger(gt,e,r)},Ld.prototype.getPieData=function(e,t){e=ao(e.target.id,!0);if(!isNaN(e.series)){var i=e.series,e=e.point;if(!(K.isNullOrUndefined(i)||isNaN(i)||K.isNullOrUndefined(e)||isNaN(e))){i=this.getSeriesFromIndex(i,t.visibleSeries);if(i.enableTooltip)return new zr(i.points[e],i)}}return new zr(null,null)},Ld.prototype.getSeriesFromIndex=function(e,t){return t[0]},Ld.prototype.getTooltipText=function(e,t){var i=e.series,t=t.format||"${point.x} : <b>${point.y}</b>",t=this.accumulation.useGroupingSeparator?t.replace("${point.y}","${point.separatorY}"):t;return this.parseTemplate(e.point,i,t)},Ld.prototype.findHeader=function(e){return""!==this.header&&(this.header=this.parseTemplate(e.point,e.series,this.header),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())?this.header:""},Ld.prototype.parseTemplate=function(e,t,i){for(var o,r=RegExp,n=0,a=Object.keys(e);n<a.length;n++){var l=new r("${point."+(s=a[n])+"}","gm");i=i.replace(l.source,e[s])}for(var s,h=0,c=Object.keys(Object.getPrototypeOf(t));h<c.length;h++)l=new r("${series."+(s=c[h])+"}","gm"),o=t[s],i=i.replace(l.source,o);return i},Ld.prototype.getModuleName=function(){return"AccumulationTooltip"},Ld.prototype.destroy=function(){};var Cd,wd,Fd=Ld;function Ld(e){var t=wd.call(this,e)||this;return t.accumulation=e,t.addEventListener(),t.template=t.accumulation.tooltip.template,t}Pd=function(e,t){return(Pd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Pd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Dd,Ad=zh),Dd.prototype.addEventListener=function(){this.accumulation.isDestroyed||(this.accumulation.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.accumulation.on("click",this.mouseClick,this))},Dd.prototype.removeEventListener=function(){this.accumulation.isDestroyed||(this.accumulation.off(K.Browser.touchMoveEvent,this.mouseMove),this.accumulation.off("click",this.mouseClick))},Dd.prototype.initPrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.rectPoints=null},Dd.prototype.invokeSelection=function(e){this.initPrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,this.selectDataIndex(this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes),e)},Dd.prototype.generateStyle=function(e,t){return e.selectionStyle||this.styleId+"_series_"+e.index+"_point_"+t},Dd.prototype.generateLegendClickStyle=function(e,t){return"mousemove"===t?this.styleId=this.accumulation.element.id+"_ej2_chart_highlight":"click"===t&&(this.styleId=this.accumulation.element.id+"_ej2_chart_selection"),e.selectionStyle||this.styleId+"_series_"+e.index},Dd.prototype.findElements=function(e,t,i){return[this.getElementByIndex(i)]},Dd.prototype.getElementByIndex=function(e){e=this.control.element.id+"_Series_"+e.series+"_Point_"+e.point;return document.getElementById(e)},Dd.prototype.isAlreadySelected=function(e,t){if("mousemove"===t?(this.currentMode=this.accumulation.highlightMode,this.highlightDataIndexes=[],this.styleId=this.accumulation.element.id+"_ej2_chart_highlight"):"click"===t&&(this.currentMode=this.accumulation.selectionMode,this.styleId=this.accumulation.element.id+"_ej2_chart_selection"),"None"!==this.accumulation.highlightMode&&"None"===this.accumulation.selectionMode&&"click"===t)return!1;if("None"!==this.accumulation.highlightMode&&this.previousSelectedElement&&this.previousSelectedElement[0]){var i=e.parentNode.id,o=void 0;e.parentNode&&(o=0<i.indexOf("SeriesGroup")||0<i.indexOf("SymbolGroup"));for(var r=0;r<this.previousSelectedElement.length;r++)this.previousSelectedElement[r].hasAttribute("class")&&(-1<this.previousSelectedElement[r].getAttribute("class").indexOf("highlight")&&(o||"click"===t)?(this.previousSelectedElement[r].removeAttribute("class"),this.addOrRemoveIndex(this.highlightDataIndexes,ao(this.previousSelectedElement[r].id))):!o&&-1<this.previousSelectedElement[r].getAttribute("class").indexOf("highlight")&&this.performSelection(ao(this.previousSelectedElement[r].id),this.accumulation,this.previousSelectedElement[r]))}return!0},Dd.prototype.mouseClick=function(e,t){this.calculateSelectedElements(e,t.target,t.type)},Dd.prototype.calculateSelectedElements=function(e,t,i){K.isNullOrUndefined(t)||"None"===e.highlightMode&&"None"===e.selectionMode||-1===t.id.indexOf(e.element.id+"_")||"mousemove"===i&&!K.isNullOrUndefined(t.parentNode)&&t.parentNode.hasAttribute("class")&&(0<t.parentNode.getAttribute("class").indexOf("highlight")||0<t.parentNode.getAttribute("class").indexOf("selection"))||-1<t.getAttribute("id").indexOf("_connector_")||(this.isAlreadySelected(t,i),(-1<t.id.indexOf("_Series_")||-1<t.id.indexOf("_datalabel_"))&&this.performSelection(ao(t.id),e,t))},Dd.prototype.performSelection=function(e,t,i){i=-1<i.id.indexOf("datalabel")?t.getSeriesElement().childNodes[e.series].childNodes[e.point]:i,"Point"!==this.currentMode||isNaN(e.point)||(this.selection(t,e,[i]),this.selectionComplete(t,t.series[0]),this.blurEffect(t.element.id,t.visibleSeries))},Dd.prototype.selectionComplete=function(e,t){for(var i,o=[],r=0;r<this.selectedDataIndexes.length;r++)i=this.selectedDataIndexes[r].point,isNaN(i)||o.push({x:t.dataSource[i][t.xName],y:t.points[i].y,seriesIndex:this.selectedDataIndexes[r].series,pointIndex:i});e.trigger(Pt,{name:Pt,selectedDataValues:o,cancel:!1})},Dd.prototype.selection=function(e,t,i){e.isMultiSelect||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectEelments(e,this.selectedDataIndexes,t,e.series);var o,r=i[0]&&(i[0].getAttribute("class")||"");i[0]&&-1<r.indexOf(this.getSelectionClass(i[0].id,t.point))?(this.removeStyles(i,t),0<this.styleId.indexOf("highlight")&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t):this.addOrRemoveIndex(this.selectedDataIndexes,t),e.enableBorderOnMouseMove&&(o=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border"),K.isNullOrUndefined(o)||this.removeSvgClass(o,o.getAttribute("class")))):(this.previousSelectedElement="None"!==e.highlightMode?i:[],r.indexOf("selection")<0&&this.applyStyles(i,t),e.enableBorderOnMouseMove&&(o=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border"),K.isNullOrUndefined(o)||(this.removeSvgClass(o,o.getAttribute("class")),this.addSvgClass(o,i[0].getAttribute("class")))),0<this.styleId.indexOf("highlight")&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t,!0):this.addOrRemoveIndex(this.selectedDataIndexes,t,!0))},Dd.prototype.redrawSelection=function(e){var t=K.extend([],this.selectedDataIndexes,null,!0),i=K.extend([],this.highlightDataIndexes,null,!0);0<this.styleId.indexOf("highlight")&&0<i.length?(this.removeSelectedElements(e,this.highlightDataIndexes),t=i):this.removeSelectedElements(e,this.selectedDataIndexes),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(t,e)},Dd.prototype.removeSelectedElements=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.removeStyles([this.getElementByIndex(r)],r)}for(var n=e.visibleSeries[0].points,a=0;a<n.length;a++){r=new ke(0,n[a].index);this.removeStyles([this.getElementByIndex(r)],r)}},Dd.prototype.legendSelection=function(e,t,i,o,r){if("mousemove"===r){if((o=1<o.id.indexOf("text")?J(o.id.replace("text","shape")):o).hasAttribute("class")&&(-1<o.getAttribute("class").indexOf("highlight")||-1<o.getAttribute("class").indexOf("selection")))return;this.currentMode=this.accumulation.highlightMode}this.isAlreadySelected(o,r)&&(o=e.getSeriesElement().childNodes[t].childNodes[i],this.selection(e,new ke(t,i),[o]),this.blurEffect(e.element.id,e.visibleSeries))},Dd.prototype.selectDataIndex=function(e,t){for(var i=0,o=e;i<o.length;i++){var r,n=o[i];(r=this.getElementByIndex(n))&&this.performSelection(n,t,r)}},Dd.prototype.removeMultiSelectEelments=function(e,t,i,o){for(var r,n=0;n<t.length;n++)r=o[t[n].series],this.checkEquals(t[n],i)||(this.removeStyles(this.findElements(e,r,t[n]),t[n]),t.splice(n,1),n--)},Dd.prototype.blurEffect=function(e,t){for(var i=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes),o=0,r=t;o<r.length;o++){var n=r[o];n.visible&&this.checkSelectionElements(document.getElementById(e+"_SeriesCollection"),this.generateStyle(n),i)}},Dd.prototype.checkSelectionElements=function(e,t,i){for(var o,r,n,a=e.childNodes[0].childNodes,l=0;l<a.length;l++)r=a[l].getAttribute("class")||"",n=a[l].parentNode.getAttribute("class")||"","None"===this.accumulation.selectionMode&&"None"===this.accumulation.highlightMode||(t=0<r.indexOf("selection")||0<r.indexOf("highlight")?r:t,t=0<n.indexOf("selection")||0<n.indexOf("highlight")?n:t),-1===r.indexOf(t)&&-1===n.indexOf(t)&&i?this.addSvgClass(a[l],this.unselected):this.removeSvgClass(a[l],this.unselected),-1===r.indexOf(t)&&-1===n.indexOf(t)&&i?this.addSvgClass(a[l],this.unselected):(this.removeSvgClass(a[l],this.unselected),this.removeSvgClass(a[l].parentNode,this.unselected)),this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(o=document.getElementById(this.control.element.id+"_chart_legend_shape_"+l))&&(-1===r.indexOf(t)&&-1===n.indexOf(t)&&i?this.addSvgClass(o,this.unselected):this.removeSvgClass(o,this.unselected))},Dd.prototype.applyStyles=function(e,t){for(var i=this.control.accumulationTooltipModule,o=0,r=e;o<r.length;o++){var n=r[o],a=void 0;n&&(this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(a=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(a,a.getAttribute("class")),this.addSvgClass(a,this.getSelectionClass(a.id,t.point))),this.removeSvgClass(n.parentNode,this.unselected),this.removeSvgClass(n,this.unselected),a=(i&&0<i.previousPoints.length&&i.previousPoints[0].point.index!==t.point?i.svgTooltip:this.series[t.series]).opacity,n.setAttribute("opacity",a.toString()),this.addSvgClass(n,this.getSelectionClass(n.id,t.point)))}},Dd.prototype.getSelectionClass=function(e,t){return this.generateStyle(this.control.series[ao(e).series],t)},Dd.prototype.removeStyles=function(e,t){for(var i=this.control.accumulationTooltipModule,o=0,r=e;o<r.length;o++){var n,a=r[o];a&&(this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(n=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(n,this.getSelectionClass(n.id,t.point))),n=(i&&0<i.previousPoints.length&&i.previousPoints[0].point.index===t.point?i.svgTooltip:this.series[t.series]).opacity,a.setAttribute("opacity",n.toString()),this.removeSvgClass(a,this.getSelectionClass(a.id,t.point)))}},Dd.prototype.addOrRemoveIndex=function(e,t,i){for(var o=0;o<e.length;o++)this.checkEquals(e[o],t)&&(e.splice(o,1),o--);i&&e.push(t)},Dd.prototype.checkEquals=function(e,t){return e.point===t.point&&e.series===t.series},Dd.prototype.mouseMove=function(e){var t=this.accumulation,i=e.target;if("None"!==t.highlightMode&&!K.isNullOrUndefined(i))return(i=1<e.target.id.indexOf("text")?J(e.target.id.replace("text","shape")):i).hasAttribute("class")&&-1<i.getAttribute("class").indexOf("highlight")?void 0:void this.calculateSelectedElements(t,e.target,e.type);t.selectionMode},Dd.prototype.checkPointVisibility=function(e){for(var t=!1,i=0,o=e;i<o.length;i++)if(Yc(o[i].point,this.control.visibleSeries[0].points).visible){t=!0;break}return t},Dd.prototype.getModuleName=function(){return"AccumulationSelection"},Dd.prototype.destroy=function(){this.removeEventListener()};var Pd,Ad,Md=Dd;function Dd(e){var t=Ad.call(this,e)||this;return t.accumulation=e,t.renderer=e.renderer,t.addEventListener(),t}kd=function(e,t){return(kd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}kd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(_d,Rd=Md),_d.prototype.wireEvents=function(){this.accumulation.isDestroyed||this.accumulation.on(K.Browser.touchMoveEvent,this.mouseMove,this)},_d.prototype.unWireEvents=function(){this.accumulation.isDestroyed||this.accumulation.off(K.Browser.touchMoveEvent,this.mouseMove)},_d.prototype.declarePrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[]},_d.prototype.invokeHighlight=function(e){this.declarePrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode},_d.prototype.getModuleName=function(){return"AccumulationHighlight"},_d.prototype.destroy=function(){this.unWireEvents()};var kd,Rd,Td=_d;function _d(e){var t=Rd.call(this,e)||this;return t.accumulation=e,t.renderer=e.renderer,t.wireEvents(),t}Ed=function(e,t){return(Ed=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Ed(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Od,Id=ic),Od.prototype.renderAnnotations=function(e){var i=this,t=(this.annotations=this.pie.annotations,this.pie.redraw);this.parentElement=pr(t,this.pie.element.id+"_Annotation_Collections")||K.createElement("div",{id:this.pie.element.id+"_Annotation_Collections"}),this.annotations.map(function(e,t){i.processAnnotation(e,t,i.parentElement)}),Xo(this.parentElement,e,t)},Od.prototype.getModuleName=function(){return"Annotation"},Od.prototype.destroy=function(){};var Ed,Id,ic=Od;function Od(e){var t=Id.call(this,e)||this;return t.pie=e,t}function zd(e,t,i){e=(e-t.min)/t.delta;return i?1-e:e}function Bd(e,t,i,o){return(e=zd(e,t,o))*i}function Nd(e,t,i,o){return(o?1-e/t:e/t)*i.delta+i.min}function Vd(e,t,i){var o=[];return e.map(function(e){e.xValue>=t&&e.xValue<=i&&o.push({x:e.x,y:e.y})}),o}function Hd(e,i){return e.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})}var jd=function(e,t,i,o,r){void 0===r&&(r=!0),this.x=e,this.y=t,this.xValue=i,this.visible=r};Wd=function(e,t){return(Wd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Wd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Gd,Ud=Un),Gd.prototype.renderChart=function(t){var i,o,r=this;this.seriesLength=0,t.rangeSlider.points=[],t.series.length?t.series.map(function(e){i=e.dataSource||t.dataSource,o=e.query||t.query,e.points=[],r.processDataSource(i,o,t,e)}):this.processDataSource(t.dataSource,t.query,t)},Gd.prototype.processDataSource=function(e,t,i,o){var r=this;e instanceof R.DataManager||K.isNullOrUndefined(e)||!K.isNullOrUndefined(t)?(i.dataModule=new An(e,t),i.dataModule.getData(i.dataModule.generateQuery().requiresCount()).then(function(e){return r.dataManagerSuccess(e,i,o)})):this.dataManagerSuccess({result:e,count:e.length},i,o)},Gd.prototype.dataManagerSuccess=function(e,t,i){e=e.count?e.result:[];t.allowServerDataBinding=!1,this.processJsonData(e,t,Object.keys(e).length,i),this.seriesLength+=i?1:this.seriesLength,i&&this.seriesLength!==t.series.length||(this.processXAxis(t),this.calculateGroupingBounds(t),this.processYAxis(t),t.renderChart())},Gd.prototype.processJsonData=function(e,t,i,o){for(var r,n,a,l=0,s=o&&o.xName||t.xName,h=o&&o.yName||t.yName;l<i;)(a=new jd(K.getValue(s,e[l]),K.getValue(h,e[l]))).yValue=+a.y,-1<t.valueType.indexOf("DateTime")?(r=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),n=t.intl.getDateFormat({skeleton:"full",type:"dateTime"}),a.x=new Date(R.DataUtil.parse.parseJson({val:a.x}).val),a.xValue=Date.parse(r(n(a.x))),"DateTimeCategory"===t.valueType&&(void 0===this.indexLabels[a.xValue.toString()]&&(this.indexLabels[a.xValue.toString()]=this.labels.length,this.labels.push(a.xValue.toString())),a.xValue=this.indexLabels[a.xValue])):a.xValue=+a.x,o&&o.points.push(a),this.xMin=Math.min(this.xMin,a.xValue),this.yMin=Math.min(this.yMin,a.yValue),this.xMax=Math.max(this.xMax,a.xValue),this.yMax=Math.max(this.yMax,a.yValue),t.rangeSlider.points.push(a),l++},Gd.prototype.processXAxis=function(e){var t={minimum:e.minimum,maximum:e.maximum,interval:e.interval,valueType:e.valueType,isInversed:e.enableRtl,labelFormat:e.labelFormat,logBase:e.logBase,skeleton:e.skeleton,skeletonType:e.skeletonType},t=(this.xAxis=t,this.xAxis.intervalType=e.intervalType,this.xAxis.maximumLabels=3,this.xAxis.skeleton=e.skeleton,this.xAxis.intervalDivs=[10,5,2,1],this.xAxis.rect=e.bounds,this.xAxis.visibleLabels=[],this.xAxis.orientation="Horizontal",this.xAxis.labels=this.labels,this.xAxis.indexLabels=this.indexLabels,e[bo(e.valueType)+"Module"]);t.min=this.xMin,t.max=this.xMax,t.getActualRange(this.xAxis,e.bounds),"Double"!==this.xAxis.valueType&&"DateTime"!==this.xAxis.valueType&&"DateTimeCategory"!==this.xAxis.valueType||t.updateActualRange(this.xAxis,this.xAxis.actualRange.min,this.xAxis.actualRange.max,this.xAxis.actualRange.interval),this.xAxis.actualRange.delta=this.xAxis.actualRange.max-this.xAxis.actualRange.min,this.xAxis.visibleRange=this.xAxis.actualRange,t.calculateVisibleLabels(this.xAxis,e),"DateTimeCategory"===this.xAxis.valueType&&e.periodSelectorModule&&(e.periodSelectorModule.isDatetimeCategory=!0,e.periodSelectorModule.sortedData=this.labels.map(function(e){return parseInt(e,10)}))},Gd.prototype.processYAxis=function(e){this.yAxis={majorGridLines:{width:0},rangePadding:"None",majorTickLines:{width:0},labelStyle:{size:"0"},visible:!1,valueType:"Double",minimum:null,maximum:null,interval:null},this.yAxis.rect=e.bounds,this.yAxis.maximumLabels=3,this.yAxis.intervalDivs=[10,5,2,1],this.yAxis.orientation="Vertical",e.doubleModule.min=this.yMin,e.doubleModule.max=this.yMax,e.doubleModule.getActualRange(this.yAxis,e.bounds),e.doubleModule.updateActualRange(this.yAxis,this.yAxis.actualRange.min,this.yAxis.actualRange.max,this.yAxis.actualRange.interval),this.yAxis.actualRange.delta=this.yAxis.actualRange.max-this.yAxis.actualRange.min,this.yAxis.visibleRange=this.yAxis.actualRange},Gd.prototype.renderSeries=function(o){var r=this,n=(this.chartGroup=o.renderer.createGroup({id:o.element.id+"_chart"}),Xr(o.theme));o.series.map(function(e,t){if(!o.stockChart||o.stockChart.series[t].visible){if(e.xAxis=r.xAxis,e.yAxis=r.yAxis,e.chart=o,e.index=t,e.xAxis.isInversed=o.enableRtl,e.interior=e.fill||n[t%n.length],r.createSeriesElement(o,e,t),"DateTimeCategory"===e.xAxis.valueType)for(var i=0;i<e.points.length;i++)e.points[i].xValue=r.xAxis.labels.indexOf(Date.parse(e.points[i].x.toString()).toString());(o[bo(e.type)+"SeriesModule"]?o[bo(e.type)+"SeriesModule"]:o.lineSeriesModule).render(e,r.xAxis,r.yAxis,!1),r.chartGroup.appendChild(e.seriesElement),(e.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&o.animateSeries&&o[bo(e.type)+"SeriesModule"]&&o[bo(e.type)+"SeriesModule"].doAnimation(e)}})},Gd.prototype.appendSeriesElements=function(e){e.svgObject.appendChild(this.chartGroup),e.series.length&&this.drawSeriesBorder(e)},Gd.prototype.createSeriesElement=function(e,t,i){var o=e.element.id;t.clipRect=new $.Rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),t.clipRectElement=e.renderer.drawClipPath(new Pr(o+"_RangeSeriesClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:t.clipRect.width,height:t.clipRect.height})),t.seriesElement=e.renderer.createGroup({id:o+"SeriesGroup"+i,transform:"translate("+t.clipRect.x+","+t.clipRect.y+")","clip-path":"url(#"+o+"_RangeSeriesClipRect_"+i+")"}),t.seriesElement.appendChild(t.clipRectElement)},Gd.prototype.calculateGroupingBounds=function(e){var t=e.margin.bottom,i=$.measureText("string",e.labelStyle,e.themeStyle.axisLabelFont).height,o="DateTimeCategory"===e.valueType?parseInt(this.xAxis.labels[this.xMin],10):this.xMin,r="DateTimeCategory"===e.valueType?parseInt(this.xAxis.labels[this.xMax],10):this.xMax;this.calculateDateTimeNiceInterval(this.xAxis,new $.Size(e.bounds.width,e.bounds.height),o,r,!1),!e.enableGrouping||"DateTime"!==e.valueType&&"DateTimeCategory"!==e.valueType||"Years"===this.xAxis.actualIntervalType&&e.series.length||(e.bounds.height-="Outside"===e.labelPosition||0===e.series.length?t+i:i+2*t),e.series.length||(e.bounds.y+=e.bounds.height/4,e.bounds.height=e.bounds.height/2)},Gd.prototype.drawSeriesBorder=function(e){var t=e.stockChart?"M":"L",i=e.stockChart?"":"Z",t=new $.PathOption(e.element.id+"_SeriesBorder","transparent",e.navigatorBorder.width,e.navigatorBorder.color||(-1<e.theme.indexOf("Dark")?"#49454F":"#DDDDDD"),1,e.navigatorBorder.dashArray,"M "+e.bounds.x+" "+e.bounds.y+" L "+(e.bounds.x+e.bounds.width)+" "+e.bounds.y+t+(e.bounds.x+e.bounds.width)+" "+(e.bounds.y+e.bounds.height)+" L "+e.bounds.x+" "+(e.bounds.y+e.bounds.height)+i),i=e.renderer.drawPath(t);e.svgObject.appendChild(i)};var Wd,Ud,Xd=Gd;function Gd(e){var t=Ud.call(this)||this;return t.dataSource=e.dataSource,t.xName=e.xName,t.yName=e.yName,t.query=e.query,t.xMin=1/0,t.xMax=-1/0,t.yMin=1/0,t.yMax=-1/0,t.labels=[],t.indexLabels={},t}Yd=function(e,t){return(Yd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Yd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Qd,Zd=a),Qd.prototype.renderGridLines=function(){for(var e,t=this.rangeNavigator,i=t.majorGridLines,o=t.majorTickLines,r="",n="",a=t.bounds,l=t.chartSeries.xAxis,s=t.disableRangeSelector?"transparent":null,h=(this.gridLines=t.renderer.createGroup({id:t.element.id+"_GridLines"}),"Outside"===t.tickPosition||0===t.series.length?a.y+a.height+o.height:a.y+a.height-o.height),c=(this.firstLevelLabels=[],l.labelStyle=t.labelStyle,l.skeleton=t.skeleton,l.skeletonType=t.skeletonType,l.isChart=!1,-1<t.valueType.indexOf("DateTime")&&(p=this.calculateDateTimeNiceInterval(l,a,l.doubleRange.start,l.doubleRange.end,l.isChart),"DateTime"===t.valueType&&this.findAxisLabels(l,p),this.actualIntervalType=l.actualIntervalType,"DateTimeCategory"!==t.valueType||"Quarter"!==this.actualIntervalType&&"Weeks"!==this.actualIntervalType||this.findSecondaryAxisLabels(l)),this.firstLevelLabels=l.visibleLabels,this.lowerValues=[],l.visibleLabels.length),d=0;d<c;d++)this.lowerValues.push(this.firstLevelLabels[d].value),(e=ro(this.firstLevelLabels[d].value,l)*a.width+a.x)>=a.x&&a.x+a.width>=e&&(r=r.concat("M "+e+" "+(t.bounds.y+t.bounds.height)+" L "+e+" "+t.bounds.y+" "),n=n.concat("M "+e+" "+(a.y+a.height)+" L "+e+" "+h+" "));var p=new $.PathOption(t.element.id+"_MajorGridLine","transparent",i.width,t.series.length?s||i.color||t.themeStyle.gridLineColor:"transparent",1,i.dashArray,r);this.gridLines.appendChild(t.renderer.drawPath(p)),p=new $.PathOption(t.element.id+"_MajorTickLine","transparent",o.width,s||o.color||t.themeStyle.gridLineColor,1,i.dashArray,n),this.gridLines.appendChild(t.renderer.drawPath(p))},Qd.prototype.renderAxisLabels=function(){var e,t=this.rangeNavigator.chartSeries.xAxis,i=this.rangeNavigator,o=i.renderer.createGroup({id:i.element.id+"_AxisLabels"}),r=i.renderer.createGroup({id:i.element.id+"_FirstLevelAxisLabels"}),n=i.renderer.createGroup({id:i.element.id+"_SecondLevelAxisLabels"}),a=t,l=this.findLabelY(i,!1);this.placeAxisLabels(t,l,"_AxisLabel_",i,r),a.intervalType=a.actualIntervalType=i.groupBy||this.getSecondaryLabelType(t.actualIntervalType),a.labelFormat="",i.enableGrouping&&-1<i.valueType.indexOf("DateTime")&&"Years"!==this.actualIntervalType&&(a.visibleRange.interval=1,a.visibleLabels=[],e=this.calculateDateTimeNiceInterval(a,i.bounds,a.doubleRange.start,a.doubleRange.end,a.isChart),"DateTime"===i.valueType?this.findAxisLabels(a,e):this.findSecondaryAxisLabels(a),this.secondLevelLabels=a.visibleLabels,l=this.findLabelY(i,!0),e=this.placeAxisLabels(a,l,"_SecondaryLabel_",i,n),l=new $.PathOption(i.element.id+"_SecondaryMajorLines","transparent",i.majorTickLines.width,i.majorTickLines.color||i.themeStyle.gridLineColor,1,i.majorGridLines.dashArray,e),this.gridLines.appendChild(i.renderer.drawPath(l))),i.chartSeries.xAxis.visibleLabels=i.chartSeries.xAxis.visibleLabels.concat(a.visibleLabels),o.style.cursor=-1<t.valueType.indexOf("DateTime")?"cursor: pointer":"cursor: default",o.appendChild(r),o.appendChild(n),i.svgObject.appendChild(this.gridLines),i.svgObject.appendChild(o)},Qd.prototype.getSecondaryLabelType=function(e){var t=["Years","Quarter","Months","Weeks","Days","Hours","Minutes","Seconds"];return"Years"===e?"Years":t[t.indexOf(e)-1]},Qd.prototype.findSecondaryAxisLabels=function(e){var t;e.visibleLabels=[],e.visibleRange.interval=Math.max(e.visibleRange.interval,1),this.rangeNavigator.format=this.rangeNavigator.intl.getDateFormat({format:e.labelFormat||"",type:bo(e.skeleton),skeleton:this.getSkeleton(e,null,null)});for(var i,o,r=Math.ceil(e.visibleRange.min);r<=e.visibleRange.max;r+=e.visibleRange.interval)(!this.rangeNavigator.dateTimeCategoryModule.sameInterval(e.labels.map(Number)[r],e.labels.map(Number)[r-e.visibleRange.interval],e.actualIntervalType,r)||e.isIndexed)&&Xi(r,e.visibleRange)&&this.rangeNavigator.dateTimeCategoryModule.isMaximum(r,t,e)&&(i=new Date(e.labels.map(Number)[r]),"Quarter"===e.actualIntervalType&&(o=Math.floor(i.getMonth()/3),i.setMonth([0,3,6,9][o])),e.visibleLabels.push(new zi(this.dateFormats(this.rangeNavigator.format(i),e,e.visibleLabels.length),r,this.rangeNavigator.labelStyle,this.rangeNavigator.format(i))),t=r)},Qd.prototype.findAxisLabels=function(e,t){e.visibleLabels=[];var i,o,r=new Date(e.visibleRange.min);switch(t=this.rangeNavigator.interval||t,e.actualIntervalType){case"Years":r=new Date(r.getFullYear(),0,1);break;case"Quarter":r=r.getMonth()<=2?new Date(r.getFullYear(),0,1):r.getMonth()<=5?new Date(r.getFullYear(),3,1):r.getMonth()<=8?new Date(r.getFullYear(),6,1):new Date(r.getFullYear(),9,1);break;case"Months":r=new Date(r.getFullYear(),r.getMonth());break;case"Weeks":r=new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay());break;case"Days":r=new Date(r.getFullYear(),r.getMonth(),r.getDate());break;case"Hours":r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());break;case"Minutes":r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes());break;case"Seconds":r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds())}for(i=r.getTime(),this.rangeNavigator.format=this.rangeNavigator.intl.getDateFormat({format:e.labelFormat||"",type:bo(e.skeletonType),skeleton:this.getSkeleton(e,null,null)});i<=e.visibleRange.max;)o=this.dateFormats(this.rangeNavigator.format(new Date(i)),e,e.visibleLabels.length),e.visibleLabels.push(new zi(o,i,this.rangeNavigator.labelStyle,o)),i=this.increaseDateTimeInterval(e,i,t).getTime()},Qd.prototype.dateFormats=function(e,t,i){var o=e,r=this.rangeNavigator.enableGrouping&&0===this.firstLevelLabels.length;switch(t.actualIntervalType){case"Quarter":-1<e.indexOf("Jan")?o=r?"Quarter1":e.replace("Jan","Quarter1"):-1<e.indexOf("Apr")?o=r?"Quarter2":e.replace("Apr","Quarter2"):-1<e.indexOf("Jul")?o=r?"Quarter3":e.replace("Jul","Quarter3"):-1<e.indexOf("Oct")&&(o=r?"Quarter4":e.replace("Oct","Quarter4"));break;case"Weeks":o="Week"+ ++i;break;default:o=e}return o},Qd.prototype.findLabelY=function(e,t){var i=e.bounds.y+e.bounds.height,o=e.majorTickLines.height,r=$.measureText("Quarter1 2011",e.labelStyle,e.themeStyle.axisLabelFont).height,n="Inside"===e.labelPosition?3:8,n="Outside"===e.labelPosition&&"Outside"===e.tickPosition||0===e.series.length?i+o+n+.75*r:"Inside"===e.labelPosition&&"Inside"===e.tickPosition?i-o-n:"Inside"===e.labelPosition&&"Outside"===e.tickPosition?i-n:i+n+.75*r;return t&&("Outside"===e.labelPosition||0===e.series.length?n+=15+.75*r:n="Outside"===e.tickPosition||0===e.series.length?i+o+15+.75*r:i+15+.75*r),n},Qd.prototype.placeAxisLabels=function(e,t,i,o,r){var n,a,l,s=e.visibleLabels.length,h=o.bounds,c="",d=o.disableRangeSelector?"transparent":null,p=o.enableRtl?h.x+h.width:h.x,u=e.actualIntervalType,g="Auto"===o.labelPlacement&&"DateTime"===o.valueType||"BetweenTicks"===o.labelPlacement?1<s?e.visibleLabels[1].value-e.visibleLabels[0].value:(e.visibleRange.max-e.visibleLabels[0].value)/2:0;-1<o.valueType.indexOf("DateTime")&&("Quarter"===u||"Weeks"===u)&&this.findSuitableFormat(e,o);for(var m,y=0,f=s;y<f;y++)(n=e.visibleLabels[y]).size=$.measureText(n.text,e.labelStyle,o.themeStyle.axisLabelFont),!("Middle"===o.secondaryLabelAlignment||-1<i.indexOf("_AxisLabel_"))||"Auto"!==o.labelPlacement&&"BetweenTicks"!==o.labelPlacement?-1<i.indexOf("Secondary")&&(l=this.findAlignment(e,y)):l=ro(n.value+g/2,e)*h.width+h.x,"OnTicks"===o.labelPlacement&&"Inside"===o.labelPosition?l=ro(n.value,e)*h.width+h.x+n.size.width/2+2:"OnTicks"===o.labelPlacement&&"Outside"===o.labelPosition&&(l=ro(n.value,e)*h.width+h.x),m=ro(n.value,e)*h.width+h.x,(0===y||y===e.visibleLabels.length-1&&o.enableRtl)&&l<h.x&&(l=h.x+n.size.width/2),(y===e.visibleLabels.length-1||0===y&&o.enableRtl)&&l+n.size.width>h.x+h.width&&(l=h.x+h.width-n.size.width/2),-1<i.indexOf("_SecondaryLabel_")&&l>=h.x&&h.x+h.width>=l&&(c=c.concat("M "+m+" "+t+" L "+m+" "+(t-n.size.height))),"Hide"===o.labelIntersectAction&&0!==y&&this.isIntersect(e,l,n.size.width,p,a.size.width)||("Middle"===o.secondaryLabelAlignment&&1===e.visibleLabels.length&&(l=ro(n.value,e)+(h.x+h.width/2)),m={cancel:!(m={size:(m=o.labelStyle).size,color:d||m.color||o.themeStyle.axisLabelFont.color,fontFamily:m.fontFamily,fontStyle:m.fontStyle||o.labelStyle.fontStyle,fontWeight:m.fontWeight||o.labelStyle.fontWeight,opacity:m.opacity||o.labelStyle.opacity,textAlignment:m.textAlignment||o.labelStyle.textAlignment,textOverflow:m.textOverflow||o.labelStyle.textOverflow}),name:"labelRender",text:n.text,value:n.value,labelStyle:m,region:new $.Rect(l,t,n.size.width,n.size.height)},o.trigger("labelRender",m),m.cancel)||(o.labels.push(m),gr(this.rangeNavigator.renderer,new $.TextOption(this.rangeNavigator.element.id+i+y,l,t,"middle",m.text),m.labelStyle,m.labelStyle.color||o.themeStyle.labelFontColor,r,null,null,null,null,null,null,0,null,null,null,o.themeStyle.axisLabelFont).style.cursor=-1<e.valueType.indexOf("DateTime")?"cursor: pointer":"cursor: default",p=l,a=n);return c},Qd.prototype.isIntersect=function(e,t,i,o,r){return e.isInversed?o-r/2<t+i/2:t-i/2<o+r/2},Qd.prototype.findSuitableFormat=function(e,t){for(var i,o,r=e.visibleLabels,n=r.length,a=t.bounds,l="DateTime"===t.valueType?1<n?r[1].value-r[0].value:e.visibleRange.interval:0,s=0;s<n;s++)o=ro(r[s].value+l/2,e)*a.width+a.x,r[s].size=$.measureText(r[s].text,e.labelStyle,t.themeStyle.axisLabelFont),0===s&&o<a.x&&(o=a.x+r[s].size.width/2),"Quarter"===e.actualIntervalType?0!==s&&(-1<r[s].text.indexOf("Quarter")&&this.isIntersect(e,o,r[s].size.width,i,r[s-1].size.width)?(r.every(function(e){return e.text=e.text.toString().replace("Quarter","QTR"),!0}),e.visibleLabels=r,this.findSuitableFormat(e,t)):this.isIntersect(e,o,r[s].size.width,i,r[s-1].size.width)&&(r.every(function(e){return e.text=e.text.toString().replace("QTR","Q"),!0}),e.visibleLabels=r)):"Weeks"===e.actualIntervalType&&0!==s&&-1<r[s].text.indexOf("Week")&&this.isIntersect(e,o,r[s].size.width,i,r[s-1].size.width)&&(r.every(function(e){return e.text=e.text.toString().replace("Week","W"),!0}),e.visibleLabels=r),i=o},Qd.prototype.findAlignment=function(e,t){var i=e.visibleLabels[t],t=e.visibleLabels[t+1],o=this.rangeNavigator.bounds;return"Near"===this.rangeNavigator.secondaryLabelAlignment?ro(i.value,e)*o.width+o.x+i.size.width/2:ro(t?t.value:e.visibleRange.max,e)*o.width+o.x-i.size.width};var Yd,Zd,qd=Qd;function Qd(e){var t=Zd.call(this)||this;return t.firstLevelLabels=[],t.secondLevelLabels=[],t.rangeNavigator=e,t}Kd=function(e,t){return(Kd=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Kd,$d,Jd=function(e,t){function i(){this.constructor=e}Kd(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},ep=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},tp=($d=K.ChildProperty,Jd(ip,$d),ep([K.Property(null)],ip.prototype,"dataSource",void 0),ep([K.Property(null)],ip.prototype,"xName",void 0),ep([K.Property(null)],ip.prototype,"yName",void 0),ep([K.Property()],ip.prototype,"query",void 0),ep([K.Property("Line")],ip.prototype,"type",void 0),ep([K.Complex({enable:!1},Se)],ip.prototype,"animation",void 0),ep([K.Complex({color:"transparent",width:2},ae)],ip.prototype,"border",void 0),ep([K.Property(null)],ip.prototype,"fill",void 0),ep([K.Property(1)],ip.prototype,"width",void 0),ep([K.Property(1)],ip.prototype,"opacity",void 0),ep([K.Property("0")],ip.prototype,"dashArray",void 0),ip);function ip(){var e=null!==$d&&$d.apply(this,arguments)||this;return e.clipRect=new $.Rect(0,0,0,0),e}op=K.ChildProperty,Jd(np,op),ep([K.Property(null)],np.prototype,"width",void 0),ep([K.Property(null)],np.prototype,"height",void 0),ep([K.Complex({width:1,color:null},ae)],np.prototype,"border",void 0),ep([K.Property(null)],np.prototype,"fill",void 0),ep([K.Property("Circle")],np.prototype,"type",void 0);var op,rp=np;function np(){return null!==op&&op.apply(this,arguments)||this}ap=K.ChildProperty,Jd(sp,ap),ep([K.Complex({},rp)],sp.prototype,"thumb",void 0),ep([K.Property(null)],sp.prototype,"selectedRegionColor",void 0),ep([K.Property(null)],sp.prototype,"unselectedRegionColor",void 0);var ap,lp=sp;function sp(){return null!==ap&&ap.apply(this,arguments)||this}hp=K.ChildProperty,Jd(cp,hp),ep([K.Property(!1)],cp.prototype,"enable",void 0),ep([K.Property(null)],cp.prototype,"opacity",void 0),ep([K.Property(null)],cp.prototype,"fill",void 0),ep([K.Property(null)],cp.prototype,"format",void 0),ep([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},oe)],cp.prototype,"textStyle",void 0),ep([K.Property(null)],cp.prototype,"template",void 0),ep([K.Complex({color:null,width:null},ae)],cp.prototype,"border",void 0),ep([K.Property("OnDemand")],cp.prototype,"displayMode",void 0);var hp,Jd=cp;function cp(){return null!==hp&&hp.apply(this,arguments)||this}pp.prototype.render=function(e){var t=e.renderer,i=e.navigatorStyleSettings,o=e.disableRangeSelector?"transparent":null,r=t.createGroup({id:this.elementId+"_sliders",style:e.disableRangeSelector?"pointer-events:none;":""}),n=new Pr(this.elementId+"_leftUnSelectedArea",o||i.unselectedRegionColor||e.themeStyle.unselectedRectColor,{width:0},1,{x:e.bounds.x,y:e.bounds.y,width:e.bounds.width/3,height:e.bounds.height},0,0,"",i.thumb.border.dashArray);this.leftUnSelectedElement=t.drawRectangle(n),n.id=this.elementId+"_rightUnSelectedArea",this.rightUnSelectedElement=t.drawRectangle(n),n.id=this.elementId+"_SelectedArea",n.fill=o||i.selectedRegionColor||e.themeStyle.selectedRegionColor,this.selectedElement=t.drawRectangle(n),this.selectedElement.setAttribute("role","region"),this.selectedElement.setAttribute("aria-label","Range Slider with "+e.rangeSlider.points.length+" data points"),this.selectedElement.style.cursor="-webkit-grab",this.leftSlider=t.createGroup({id:this.elementId+"_LeftSlider",style:"cursor: ew-resize"}),this.rightSlider=t.createGroup({id:this.elementId+"_RightSlider",style:"cursor: ew-resize"}),this.createThump(t,e.bounds,this.leftSlider,this.elementId+"_LeftSlider",r),this.createThump(t,e.bounds,this.rightSlider,this.elementId+"_RightSlider"),r.appendChild(this.leftUnSelectedElement),r.appendChild(this.rightUnSelectedElement),r.appendChild(this.selectedElement),r.appendChild(this.leftSlider),r.appendChild(this.rightSlider),e.svgObject.appendChild(r)},pp.prototype.createThump=function(e,t,i,o,r){var n=this.control,a=n.navigatorStyleSettings.thumb,l=n.themeStyle,s=t.y+t.height/2,h=this.thumpPadding,c=n.themeStyle.thumbHeight/2-5,d=n.disableRangeSelector?"transparent":null,l=d||a.border.color||l.thumpLineColor;i.appendChild(e.drawPath(new $.PathOption(o+"_ThumpLine","transparent",a.border.width,n.series.length?l:"transparent",1,a.border.dashArray,"M "+h+" "+t.y+" L "+h+" "+(t.y+t.height)+" "))),this.thumpY=s-n.themeStyle.thumbHeight/2,this.sliderY=t.y>this.thumpY?this.thumpY:t.y,r&&!n.disableRangeSelector&&((t=e.createDefs()).innerText='<rect xmlns="http://www.w3.org/2000/svg" id="'+this.control.element.id+'_shadow" x="0" y="'+this.thumpY+'" width="'+n.themeStyle.thumbWidth+'" height="'+n.themeStyle.thumbHeight+'" rx="'+("Circle"===a.type?"50%":"0%")+'"/><filter xmlns="http://www.w3.org/2000/svg" x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="ej2-range-shadow"><feOffset dx="0" dy="1" in="SourceAlpha"result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"/></filter>',r.appendChild(t)),i.innerText+='<use xmlns="http://www.w3.org/2000/svg" fill="black" fill-opacity="1" filter="url(#ej2-range-shadow)" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#path-1"/>',"Circle"===a.type?i.appendChild(Eo({x:h,y:s},"Circle",{width:n.themeStyle.thumbWidth,height:n.themeStyle.thumbHeight},"",new $.PathOption(o+"_ThumpSymbol",d||this.thumbColor,a.border.width,l,1,null))):i.appendChild(e.drawRectangle(new Pr(o+"_ThumpSymbol",d||this.thumbColor,{width:a.border.width,color:l},1,{x:h-n.themeStyle.thumbWidth/2,y:s-n.themeStyle.thumbHeight/2,width:n.themeStyle.thumbWidth,height:n.themeStyle.thumbHeight},2,2,"",a.border.dashArray))),this.thumbVisible&&i.appendChild(e.drawPath(new $.PathOption(o+"_ThumpGrip","transparent",1,d||n.themeStyle.gripColor,1,null,"M "+(h+2)+" "+(s+c)+" L "+(h+2)+" "+(s-c)+" "+(-1<this.control.theme.indexOf("Fluent2")?"":"M "+h+" "+(s+c)+" L "+h+" "+(s-c)+" ")+"M "+(h-2)+" "+(s+c)+" L "+(h-2)+" "+(s-c)+" ")))},pp.prototype.setSlider=function(e,t,i,o,r){void 0===r&&(r=!1);var n=this.control,a=n.bounds.x,l=n.chartSeries.xAxis.actualRange,s=0===n.series.length,h=(isNaN(e)&&isNaN(t)&&(e=0,t=n.bounds.width),e=(e=e<=t?e:[t,t=e][0])<=t?e:[t,t=e][0],e=Math.max(e,l.min),t=Math.min(t,l.max),this.startX=a+Bd(e,l,n.bounds.width,n.enableRtl),this.endX=a+Bd(t,l,n.bounds.width,n.enableRtl),n.enableRtl?this.endX:this.startX),c=n.enableRtl?this.startX:this.endX,h=(this.sliderWidth=Math.abs(this.endX-this.startX),this.selectedElement.setAttribute("x",h+""),this.selectedElement.setAttribute("width",this.sliderWidth+""),this.leftUnSelectedElement.setAttribute("width",h-a+""),this.rightUnSelectedElement.setAttribute("x",c+""),this.rightUnSelectedElement.setAttribute("width",n.bounds.width-(c-a)+""),this.leftSlider.setAttribute("transform","translate("+(this.startX-this.thumpPadding)+", 0)"),this.rightSlider.setAttribute("transform","translate("+(this.endX-this.thumpPadding)+", 0)"),this.control.svgObject.getBoundingClientRect().left-this.control.element.getBoundingClientRect().left),d=this.control.enableRtl?this.endX:this.startX,p=this.control.enableRtl?this.startX:this.endX,c=(this.leftRect={x:s?h+a:a,y:s?0:n.bounds.y,width:s?d-a:d,height:s?this.thumpY:n.bounds.height},this.rightRect={x:s?h+p:p,y:s?0:n.bounds.y,width:n.bounds.width-(c-a),height:s?this.thumpY:n.bounds.height},this.midRect={x:s?d+h:0,y:s?0:n.bounds.y,width:s?Math.abs(this.endX-this.startX):p,height:s?this.thumpY:n.bounds.height},this.currentStart=e,this.currentEnd=t,o&&(this.control.rangeTooltipModule.renderLeftTooltip(this),this.control.rangeTooltipModule.renderRightTooltip(this)),this.control.periodSelectorModule);c&&this.control.redraw&&"rangeNavigator"===this.control.getModuleName()&&(a=c.findSelectedIndex(e,t,c.control.periods),c.setSelectedStyle(a),this.control.redraw=!1),i&&!r&&this.triggerEvent(l)},pp.prototype.triggerEvent=function(e){var t=this.control.chartSeries.xAxis,i=t.valueType,i={cancel:!1,start:"DateTime"===i?new Date(this.currentStart):"DateTimeCategory"!==i&&"Logarithmic"===i?Math.pow(t.logBase,this.currentStart):this.currentStart,end:"DateTime"===i?new Date(this.currentEnd):"DateTimeCategory"!==i&&"Logarithmic"===i?Math.pow(t.logBase,this.currentEnd):this.currentEnd,name:"changed",selectedData:Vd(this.points,this.currentStart,this.currentEnd),zoomPosition:(this.control.enableRtl?e.max-this.currentEnd:this.currentStart-e.min)/e.delta,zoomFactor:(this.currentEnd-this.currentStart)/e.delta,selectedPeriod:this.selectedPeriod||""};this.control.trigger("changed",i)},pp.prototype.addEventListener=function(){this.control.isDestroyed||(this.control.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.control.on(K.Browser.touchStartEvent,this.mouseDownHandler,this),this.control.on(K.Browser.touchEndEvent,this.mouseUpHandler,this),this.control.on(K.Browser.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler,this))},pp.prototype.removeEventListener=function(){this.control.isDestroyed||(this.control.off(K.Browser.touchMoveEvent,this.mouseMoveHandler),this.control.off(K.Browser.touchStartEvent,this.mouseDownHandler),this.control.off(K.Browser.touchEndEvent,this.mouseUpHandler),this.control.off(K.Browser.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler))},pp.prototype.mouseMoveHandler=function(e){var t,i=this.control,o=i.chartSeries.xAxis.actualRange,r=i.bounds;if(this.getCurrentSlider(e.target.id),this.isDrag&&i.mouseX>=r.x){switch(this.currentSlider){case"Left":i.startValue=this.getRangeValue(Math.abs(i.mouseX-r.x));break;case"Right":i.endValue=this.getRangeValue(Math.abs(i.mouseX-r.x));break;case"Middle":var n=Math.max(this.getRangeValue(Math.abs(this.startX-(this.previousMoveX-i.mouseX)-r.x)),o.min),a=Math.min(this.getRangeValue(Math.abs(this.endX-(this.previousMoveX-i.mouseX)-r.x)),o.max);Math.floor(Math.abs(Bd(a,o,i.bounds.width,i.enableRtl)-Bd(n,o,i.bounds.width,i.enableRtl)))===Math.floor(this.sliderWidth)?(i.startValue=n,i.endValue=a):(a===o.max&&(i.endValue=o.max),Math.floor(this.startX)===r.x&&(i.startValue=o.min))}e.preventDefault&&this.isIOS&&e.preventDefault(),"Middle"!==this.currentSlider&&(e=this.control.periodSelectorModule)&&((t=e.control.periods).map(function(e){e.selected=!1}),e.selectedIndex=void 0,t=e.findSelectedIndex(i.startValue,i.endValue,t),e.setSelectedStyle(t)),this.setSlider(i.startValue,i.endValue,!i.enableDeferredUpdate,i.rangeTooltipModule&&i.tooltip.enable),this.previousMoveX=i.mouseX}},pp.prototype.getRangeValue=function(e){var t=this.control,i=t.chartSeries.xAxis.actualRange;return Nd(e,t.bounds.width,i,t.enableRtl)},pp.prototype.mouseDownHandler=function(e){this.currentSlider=this.getCurrentSlider(e.target.id),this.selectedElement.style.cursor="-webkit-grabbing",this.isDrag=!("UnSelectedArea"===this.currentSlider||!this.currentSlider),this.previousMoveX=this.control.mouseDownX},pp.prototype.getCurrentSlider=function(e){var t=this.control.themeStyle.thumbHoverColor;return-1<e.indexOf(this.elementId+"_LeftSlider")?(this.leftSlider.childNodes[2].setAttribute("fill",t),"Left"):-1<e.indexOf(this.elementId+"_RightSlider")?(this.rightSlider.childNodes[2].setAttribute("fill",t),"Right"):-1<e.indexOf(this.elementId+"_SelectedArea")?"Middle":-1<e.indexOf("UnSelectedArea")?(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),"UnSelectedArea"):-1<e.indexOf(this.elementId+"_AxisLabel_")&&("DateTime"===this.control.valueType||"DateTimeCategory"===this.control.valueType)?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"firstLevelLabels"):-1<e.indexOf(this.elementId+"_SecondaryLabel")&&("DateTime"===this.control.valueType||"DateTimeCategory"===this.control.valueType)?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"secondLevelLabels"):(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.control.periodSelectorModule&&(this.control.periodSelectorModule.triggerChange=!0),null)},pp.prototype.mouseUpHandler=function(){var e,t,i,o,r,n=this.control,a=n.chartSeries.xAxis.actualRange,l=n.enableDeferredUpdate,s=n.tooltip.enable;n.stockChart&&(n.stockChart.zoomChange=!1),"UnSelectedArea"===this.currentSlider?(e=r=o=void 0,t=n.enableRtl,i=n.endValue-n.startValue,n.mouseDownX<this.startX?(o=Math.max(this.getRangeValue(n.mouseDownX-this.sliderWidth/2-n.bounds.x),a.min),e=t?o:o+i,r=t?o-i:o):(o=Math.min(this.getRangeValue(n.mouseDownX+this.sliderWidth/2-n.bounds.x),a.max),r=t?o:o-i,e=t?o+i:o),this.performAnimation(r,e,n),l=!1):"firstLevelLabels"===this.currentSlider||"secondLevelLabels"===this.currentSlider?(t=n.rangeAxis[this.currentSlider][this.labelIndex+1],this.selectedPeriod&&(i=this.control.periodSelectorModule)&&((o=i.control.periods).map(function(e){e.selected=!1}),i.selectedIndex=void 0,r=i.findSelectedIndex(n.rangeAxis[this.currentSlider][this.labelIndex].value,t?n.allowIntervalData?t.value-1:t.value:a.max,o),i.setSelectedStyle(r)),this.performAnimation(n.rangeAxis[this.currentSlider][this.labelIndex].value,t?n.allowIntervalData?t.value-1:t.value:a.max,n),l=!1):null===this.currentSlider&&(l=!1),this.isDrag&&n.allowSnapping&&(this.setAllowSnapping(n,this.currentStart,this.currentEnd,!0,s),l=!1),l&&this.setSlider(this.currentStart,this.currentEnd,!0,s),null!==this.currentSlider&&0<this.control.periodSelectorSettings.periods.length&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=this.control.periodSelectorModule.isDatetimeCategory?new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentStart)]):new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=this.control.periodSelectorModule.isDatetimeCategory?new Date(this.control.periodSelectorModule.sortedData[Math.floor(this.currentEnd)]):new Date(this.currentEnd)),this.selectedElement.style.cursor="-webkit-grab",n.startValue=this.currentStart,n.endValue=this.currentEnd,this.isDrag=!1,this.labelIndex=null,this.currentSlider=null},pp.prototype.setAllowSnapping=function(e,t,i,o,r){var n=e.rangeAxis.lowerValues;n.push(e.chartSeries.xAxis.actualRange.max),this.setSlider(Hd(n,t),Hd(n,i),o,r),e.startValue=this.currentStart,e.endValue=this.currentEnd},pp.prototype.performAnimation=function(t,i,e){var o=this,r=this.currentStart,n=this.currentEnd,a=e.enableDeferredUpdate,l=e.tooltip.enable;new K.Animation({}).animate(K.createElement("div"),{duration:0===this.control.animationDuration&&"Enable"===K.animationMode?1e3:this.control.animationDuration,progress:function(e){o.setSlider(wo(e.timeStamp,0,t-r,e.duration)+r,wo(e.timeStamp,0,i-n,e.duration)+n,!a,l)},end:function(){e.allowSnapping?o.setAllowSnapping(e,t,i,!0,l):o.setSlider(t,i,!0,l),o.control.startValue=o.currentStart,o.control.endValue=o.currentEnd,0<o.control.periodSelectorSettings.periods.length&&(o.control.periodSelectorModule.triggerChange=!1,o.control.periodSelectorModule.datePicker.startDate=o.control.periodSelectorModule.isDatetimeCategory?new Date(o.control.periodSelectorModule.sortedData[Math.floor(o.currentStart)]):new Date(o.currentStart),o.control.periodSelectorModule.datePicker.endDate=o.control.periodSelectorModule.isDatetimeCategory?new Date(o.control.periodSelectorModule.sortedData[Math.floor(o.currentEnd)]):new Date(o.currentEnd))}})},pp.prototype.mouseCancelHandler=function(){this.isDrag&&this.control.allowSnapping&&this.setAllowSnapping(this.control,this.currentStart,this.currentEnd,!1,this.control.tooltip.enable),this.isDrag=!1,this.currentSlider=null,this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd},pp.prototype.destroy=function(){this.removeEventListener()};var dp=pp;function pp(e){this.control=e,this.points=[],this.isIOS=K.Browser.isIos||K.Browser.isIos7;var t=e.navigatorStyleSettings.thumb;this.thumbVisible=0!==e.themeStyle.thumbWidth&&0!==e.themeStyle.thumbHeight,this.elementId=e.element.id,this.thumpPadding=e.themeStyle.thumbWidth/2,this.addEventListener(),this.thumbColor=e.disableRangeSelector?"transparent":t.fill||e.themeStyle.thumbBackground}function up(e,t){var i=t.navigatorStyleSettings.thumb,o=K.isNullOrUndefined(i.width)?K.Browser.isDevice?15:20:i.width,r=K.isNullOrUndefined(i.height)?K.Browser.isDevice?15:20:i.height,n="HighContrast"===e?"#969696":"#6F6C6C",a="HighContrast"===e?"#4A4848":"#414040",l={gridLineColor:"#E0E0E0",axisLineColor:"#000000",labelFontColor:"#686868",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#EEEEEE",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"rgba(250, 250, 250, 1)",gripColor:"#757575",background:"#FFFFFF",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FF4081",tooltipBackground:"Material"===e?"#000816":"Fabric"===e?"#FFFFFF":"#212529",tooltipFontColor:"#dbdbdb",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Fabric"===e?"#666666":"#676767",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"Material"===e?"rgba(249, 250, 251, 1)":"Fabric"===e?"#333333":"#F9FAFB",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};switch(e){case"Fabric":l.selectedRegionColor=t.series.length?"transparent":"#007897";break;case"Bootstrap":l.selectedRegionColor=t.series.length?"transparent":"#428BCA";break;case"HighContrastLight":l={gridLineColor:"#bdbdbd",axisLineColor:"#969696",labelFontColor:"#ffffff",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.3)":"#EEEEEE",thumpLineColor:"#ffffff",thumbBackground:"#262626",gripColor:"#ffffff",background:"transparent",thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"#ffffff",tooltipFontColor:"#000000",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"HighContrast":l={gridLineColor:a,axisLineColor:n,labelFontColor:"#DADADA",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:"transparent",thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"#FFD939",tooltipBackground:"#FFFFFF",tooltipFontColor:"#282727",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":l={labelFontColor:"#DADADA",axisLineColor:" #6F6C6C",gridLineColor:"#414040",tooltipBackground:"FabricDark"===e?"#A19F9D":"BootstrapDark"===e?"#F0F0F0":"#F4F4F4",tooltipFontColor:"#333232",unselectedRectColor:t.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:"transparent",thumbHoverColor:"#BFBFBF",selectedRegionColor:t.series.length?"rgba(22, 22, 22, 0.6)":"FabricDark"===e?"#007897":"BootstrapDark"===e?"#428BCA":"#FF4081",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#CED4DA",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":l={gridLineColor:"#E0E0E0",axisLineColor:"#CED4DA",labelFontColor:"#212529",unselectedRectColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#514F4F",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"#FFFFFF",gripColor:"#495057",background:"transparent",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"transparent":"#FFD939",tooltipBackground:"#212529",tooltipFontColor:"rgba(255, 255, 255)",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":l={gridLineColor:"#E5E7EB",axisLineColor:"#D1D5DB",labelFontColor:"#6B7280",unselectedRectColor:t.series.length?"transparent":"#E5E7EB",thumpLineColor:"#9CA3AF",thumbBackground:"#FFFFFF",gripColor:"#6B7280",background:"transparent",thumbHoverColor:"#374151",selectedRegionColor:t.series.length?"rgba(79, 70, 229, 0.3)":"#4F46E5",tooltipBackground:"#111827",tooltipFontColor:"#F9FAFB",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":l={gridLineColor:"#374151",axisLineColor:"#4B5563",labelFontColor:"#9CA3AF",unselectedRectColor:t.series.length?"transparent":"#4B5563",thumpLineColor:"#6B7280",thumbBackground:"#1F2937",gripColor:"#D1D5DB",background:"transparent",thumbHoverColor:"#E5E7EB",selectedRegionColor:t.series.length?"rgba(255, 255, 255, 0.6)":"#22D3EE",tooltipBackground:"#E9ECEF",tooltipFontColor:"#1F2937",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":l={gridLineColor:"#E5E7EB",axisLineColor:"#E5E7EB",labelFontColor:"#495057",unselectedRectColor:t.series.length?"transparent":"#E5E7EB",thumpLineColor:"#0D6EFD",thumbBackground:"#FFFFFF",gripColor:"#0D6EFD",background:"transparent",thumbHoverColor:"#EEEEEE",selectedRegionColor:t.series.length?"rgba(13, 110, 253, 0.1)":"#4F46E5",tooltipBackground:"#212529",tooltipFontColor:"#F9FAFB",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":l={gridLineColor:"#343A40",axisLineColor:"#343A40",labelFontColor:"#CED4DA",unselectedRectColor:t.series.length?"transparent":"#E5E7EB",thumpLineColor:"#6C757D",thumbBackground:"#374151",gripColor:"#ADB5BD",background:"transparent",thumbHoverColor:"#666666",selectedRegionColor:t.series.length?"rgba(173, 181, 189, 0.1)":"#ADB5BD",tooltipBackground:"#E9ECEF",tooltipFontColor:"#212529",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#CED4DA",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":l={gridLineColor:"#EDEBE9",axisLineColor:"#D2D0CE",labelFontColor:"#3B3A39",unselectedRectColor:t.series.length?"transparent":"#A19F9D",thumpLineColor:"#0078D4",thumbBackground:"#FFFFFF",gripColor:"#0078D4",background:"transparent",thumbHoverColor:"#FFFFFF",selectedRegionColor:t.series.length?"rgba(0, 120, 212, 0.1)":"#ADB5BD",tooltipBackground:"#FFFFFF",tooltipFontColor:"#323130",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":l={gridLineColor:"#414040",axisLineColor:"#3B3A39",labelFontColor:"#C8C6C4",unselectedRectColor:t.series.length?"transparent":"#A19F9D",thumpLineColor:"#797775",thumbBackground:"black",gripColor:"#797775",background:"transparent",thumbHoverColor:"black",selectedRegionColor:t.series.length?"rgba(121, 119, 117, 0.1)":"#797775",tooltipBackground:"#323130",tooltipFontColor:"#F3F2F1",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":l={gridLineColor:"#EDEBE9",axisLineColor:"#D2D0CE",labelFontColor:"#616161",unselectedRectColor:t.series.length?"rgba(250, 250, 250, 0.1)":"#A19F9D",thumpLineColor:"#A19F9D",thumbBackground:"#FAFAFA",gripColor:"#424242",background:"transparent",thumbHoverColor:"#FAFAFA",selectedRegionColor:t.series.length?"rgba(161, 159, 157, 0.4)":"#797775",tooltipBackground:"#FFFFFF",tooltipFontColor:"#242424",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2Dark":l={gridLineColor:"#8A8886",axisLineColor:"#3B3A39",labelFontColor:"#ADADAD",unselectedRectColor:t.series.length?"transparent":"#A19F9D",thumpLineColor:"#8A8886",thumbBackground:"#1F1F1F",gripColor:"#D6D6D6",background:"transparent",thumbHoverColor:"#1F1F1F",selectedRegionColor:t.series.length?"rgba(138, 136, 134, 0.4)":"#797775",tooltipBackground:"#292929",tooltipFontColor:"#FFFFFF",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3":l={gridLineColor:"#C4C7C5",axisLineColor:"#C4C7C5",labelFontColor:"#1E192B",unselectedRectColor:t.series.length?"transparent":"#E5E5E5",thumpLineColor:"#49454E",thumbBackground:"#FFFFFF",gripColor:"#49454E",background:"transparent",thumbHoverColor:"#FFFFFF",selectedRegionColor:t.series.length?"rgba(73, 69, 78, 0.1)":"#49454E",tooltipBackground:"#313033",tooltipFontColor:"#F4EFF4",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#1E192B",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":l={gridLineColor:"#444746",axisLineColor:"#444746",labelFontColor:"#E6E1E5",unselectedRectColor:t.series.length?"transparent":"#E5E5E5",thumpLineColor:"#CAC4D0",thumbBackground:"#1C1B1F",gripColor:"#CAC4D0",background:"transparent",thumbHoverColor:"#FFFFFF",selectedRegionColor:t.series.length?"rgba(202, 196, 208, 0.1)":"#49454E",tooltipBackground:"#E6E1E5",tooltipFontColor:"#313033",thumbWidth:o,thumbHeight:r,axisLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;default:l.selectedRegionColor=t.series.length?"transparent":"#FF4081"}return l}mp.prototype.setControlValues=function(e){"rangeNavigator"===e.getModuleName()?(this.control.periods=this.rootControl.periodSelectorSettings.periods,this.control.seriesXMax=e.chartSeries.xMax,this.control.seriesXMin=e.chartSeries.xMin,this.control.rangeSlider=e.rangeSlider,this.control.rangeNavigatorControl=e,this.control.endValue=e.endValue,this.control.startValue=e.startValue):(this.control.periods=this.rootControl.periods,this.control.endValue=this.control.seriesXMax=e.seriesXMax,this.control.startValue=this.control.seriesXMin=e.seriesXMin,this.control.rangeNavigatorControl=this.rootControl.rangeNavigator,this.control.rangeNavigatorControl&&(this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider)),this.control.element=e.element,this.control.disableRangeSelector=e.disableRangeSelector},mp.prototype.appendSelector=function(e,t){this.renderSelectorElement(null,e,t=void 0===t?0:t),this.renderSelector()},mp.prototype.renderSelectorElement=function(e,t,i){var o;this.periodSelectorSize=e?this.periodSelectorSize:new $.Rect(i,this.rootControl.titleSize.height||10,t.width,t.height),J((i=(e?(o=e.themeStyle.thumbWidth,e):(o=t.thumbSize,t)).element).id+"_Secondary_Element")&&K.remove(J(i.id+"_Secondary_Element")),this.periodSelectorDiv=K.createElement("div",{id:i.id+"_Secondary_Element",styles:"width: "+(this.periodSelectorSize.width-o)+"px;height: "+this.periodSelectorSize.height+"px;top:"+this.periodSelectorSize.y+"px;left:"+(this.periodSelectorSize.x+o/2)+"px; position: absolute"}),i.appendChild(this.periodSelectorDiv)},mp.prototype.renderSelector=function(){var i,r=this,e=(this.setControlValues(this.rootControl),!0),n=this.control.element.id,t=K.createElement("div",{id:n+"_selector"}),o=this.control.periods,a=this.updateCustomElement(),l=n+"customRange";this.periodSelectorDiv.appendChild(t);for(var s=0;s<o.length;s++)a.push({align:"Left",text:o[s].text});(e="stockChart"===this.rootControl.getModuleName()?this.rootControl.enableCustomRange:e)&&(this.calendarId=n+"_calendar",a.push({template:"<button id="+this.calendarId+"></button>",align:"Right"}));var h,c={selector:a,name:"RangeSelector",cancel:!1,enableCustomFormat:!0,content:"Date Range"};"stockChart"===this.rootControl.getModuleName()&&this.rootControl.exportType.length&&((h=K.createElement("button",{id:n+"_export",styles:"text-transform: none; text-overflow: unset",className:"e-dropdown-btn e-btn e-flat"})).innerText="Export",a.push({template:h,align:"Right"})),this.rootControl.trigger("selectorRender",c),this.toolbar=new E.Toolbar({items:c.selector,height:this.periodSelectorSize.height,clicked:function(e){r.buttonClick(e,r.control)},created:function(){var e;r.nodes=r.toolbar.element.querySelectorAll(".e-toolbar-left")[0],K.isNullOrUndefined(r.selectedIndex)&&o.map(function(e,t){e.selected&&null!==r.selectedPeriod&&(i=e,r.control.startValue=r.changedRange(e.intervalType,r.control.endValue,e.interval).getTime(),r.isDatetimeCategory&&(r.control.startValue="stockChart"!==r.rootControl.getModuleName()?r.findStartValue(r.control.startValue,r.control.endValue):r.rootControl.startValue),r.control.startValue=e.text&&"all"===e.text.toLowerCase()?r.control.seriesXMin:r.control.startValue,r.control.endValue=e.text&&"all"===e.text.toLowerCase()?r.control.seriesXMax:r.control.endValue,r.selectedIndex=r.nodes.childNodes.length-o.length+t,t=r.control.rangeSlider)&&(t.selectedPeriod=e.text)}),i||"stockChart"===r.rootControl.getModuleName()||(e=r.findSelectedIndex(r.control.startValue,r.control.endValue,o),r.selectedIndex=e||r.selectedIndex),r.setSelectedStyle(r.selectedIndex)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(t),this.triggerChange=!0,e&&(this.datePicker=new I.DateRangePicker({min:this.isDatetimeCategory?new Date(this.sortedData[this.control.seriesXMin]):new Date(this.control.seriesXMin),max:this.isDatetimeCategory?new Date(this.sortedData[this.control.seriesXMax]):new Date(this.control.seriesXMax),format:"dd/MM/yyyy",placeholder:"Select a range",showClearButton:!1,startDate:this.isDatetimeCategory?new Date(this.sortedData[Math.floor(this.control.startValue)]):new Date(this.control.startValue),endDate:this.isDatetimeCategory?new Date(this.sortedData[Math.floor(this.control.endValue)]):new Date(this.control.endValue),created:function(){if(c.enableCustomFormat){for(var e=document.getElementsByClassName("e-date-range-wrapper"),t=void 0,i=0;i<e.length;i++)-1!==e[i].children[0].id.indexOf(n)&&(t=e[i]);t.style.display="none";var o=K.createElement("div",{id:l,className:"e-control e-btn e-dropdown-btn e-flat",styles:"font-size: 14px; font-weight: 500; text-transform: none "});o.innerText=c.content,t.insertAdjacentElement("afterend",o),J(l).insertAdjacentElement("afterbegin",K.createElement("span",{id:n+"dateIcon",className:"e-input-group-icon e-range-icon e-btn-icon e-icons",styles:"font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px"})),document.getElementById(l).onclick=function(){r.datePicker.show(J(l))}}},change:function(e){if(r.triggerChange&&(r.isDatetimeCategory&&(r.startValue=e.startDate.getTime(),r.endValue=e.endDate.getTime(),r.findPeriodValue(r.startValue,r.endValue)),r.control.rangeSlider&&e.event?("stockChart"!==r.rootControl.getModuleName()&&(r.control.rangeNavigatorControl.startValue=r.isDatetimeCategory?r.startValue:e.startDate.getTime(),r.control.rangeNavigatorControl.endValue=r.isDatetimeCategory?r.endValue:e.endDate.getTime(),r.selectedIndex=void 0,r.selectedPeriod=null,r.control.rangeNavigatorControl.refresh()),r.control.rangeSlider.performAnimation(r.isDatetimeCategory?r.startValue:e.startDate.getTime(),r.isDatetimeCategory?r.endValue:e.endDate.getTime(),r.control.rangeNavigatorControl)):e.event&&r.rootControl.rangeChanged(r.isDatetimeCategory?r.startValue:e.startDate.getTime(),r.isDatetimeCategory?r.endValue:e.endDate.getTime()),r.nodes=r.toolbar.element.querySelectorAll(".e-toolbar-left")[0],!r.rootControl.resizeTo)&&r.control.rangeSlider&&r.control.rangeSlider.isDrag)for(var t=0,i=r.nodes.childNodes.length;t<i;t++)r.nodes.childNodes[t].childNodes[0].classList.remove("e-active"),r.nodes.childNodes[t].childNodes[0].classList.remove("e-active")}}),this.datePicker.appendTo("#"+this.calendarId))},mp.prototype.findPeriodValue=function(e,t){for(var i=0;i<this.sortedData.length;i++)if(this.sortedData[i]>=e){this.startValue=i;break}for(i=this.sortedData.length-1;0<=i;i--)if(this.sortedData[i]<=t){this.endValue=i;break}},mp.prototype.findSelectedIndex=function(e,t,i){for(var o,r=(t-e)/864e5,n=0;n<i.length;n++){var a=i[n];("Years"===a.intervalType&&r/365===a.interval||"Months"===a.intervalType&&(r/30===a.interval||r/31===a.interval)||"Days"===a.intervalType&&r===a.interval||"Weeks"===a.intervalType&&r/7===a.interval||"Hours"===a.intervalType&&24*r===a.interval||"Seconds"===a.intervalType&&24*r*3600===a.interval)&&(o=n)}return o},mp.prototype.updateCustomElement=function(){var e,t=[],i=this.rootControl.element.id,o="text-transform: none; text-overflow: unset",r="e-dropdown-btn e-btn e-flat";return"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.seriesType.length&&((e=K.createElement("button",{id:i+"_seriesType",styles:o,className:r})).innerText="Series",t.push({template:e,align:"Left"})),this.rootControl.indicatorType.length&&((e=K.createElement("button",{id:i+"_indicatorType",styles:o,className:r})).innerText="Indicators",t.push({template:e,align:"Left"})),this.rootControl.trendlineType.length)&&((e=K.createElement("button",{id:i+"_trendType",styles:o,className:r})).innerText="Trendline",t.push({template:e,align:"Left"})),t},mp.prototype.setSelectedStyle=function(e){for(var t=0,i=this.nodes.childNodes.length;t<i;t++)this.nodes.childNodes[t].childNodes[0].classList.remove("e-active");K.isNullOrUndefined(e)||(this.nodes.childNodes[e].childNodes[0].classList.add("e-flat"),this.nodes.childNodes[e].childNodes[0].classList.add("e-active"))},mp.prototype.buttonClick=function(i,e){var t,o,r=this,n=i.item,a=this.control.rangeSlider,l=this.control.periods,s=l.filter(function(e){return e.text===n.text});l.map(function(e,t){e.selected&&"stockChart"!==r.rootControl.getModuleName()&&(e.selected=!1),e.text===i.item.text&&(r.selectedIndex=r.nodes.childNodes.length-l.length+t,"stockChart"!==r.rootControl.getModuleName())&&(e.selected=!0)}),""!==i.item.text&&this.setSelectedStyle(this.selectedIndex),a&&n.text&&(a.selectedPeriod=n.text),"all"===n.text.toLowerCase()?(t=e.seriesXMin,o=e.seriesXMax,a?a.performAnimation(t,o,this.control.rangeNavigatorControl):this.rootControl.rangeChanged(t,o)):"ytd"===n.text.toLowerCase()?a?(t=(this.isDatetimeCategory?new Date(new Date(this.sortedData[Math.floor(a.currentEnd)]).getFullYear().toString()):new Date(new Date(a.currentEnd).getFullYear().toString())).getTime(),t=this.isDatetimeCategory?this.findStartValue(t,a.currentEnd):t,o=a.currentEnd,a.performAnimation(t,o,this.control.rangeNavigatorControl)):(t=(this.isDatetimeCategory?new Date(new Date(this.sortedData[Math.floor(this.rootControl.currentEnd)]).getFullYear().toString()):new Date(new Date(this.rootControl.currentEnd).getFullYear().toString())).getTime(),t=this.isDatetimeCategory?this.findStartValue(t,this.rootControl.currentEnd):t,o=this.rootControl.currentEnd,this.rootControl.rangeChanged(t,o)):""!==n.text.toLowerCase()&&(a?(t=this.changedRange(s[0].intervalType,a.currentEnd,s[0].interval).getTime(),t=this.isDatetimeCategory?this.findStartValue(t,a.currentEnd):t,o=a.currentEnd,a.performAnimation(t,o,this.control.rangeNavigatorControl)):(t=this.changedRange(s[0].intervalType,this.rootControl.currentEnd,s[0].interval).getTime(),t=this.isDatetimeCategory?this.findStartValue(t,this.rootControl.currentEnd):t,o=this.rootControl.currentEnd,this.rootControl.rangeChanged(t,o))),"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.zoomChange=!1),J(this.calendarId+"_popup")&&!K.Browser.isDevice&&(J(this.calendarId+"_popup").querySelectorAll(".e-range-header")[0].style.display="none")},mp.prototype.findStartValue=function(e,t){for(var i=Math.floor(t);0<=i;i--)if(this.sortedData[i]<=e)return i+1;return 0},mp.prototype.changedRange=function(e,t,i){var o=this.isDatetimeCategory?new Date(this.sortedData[Math.floor(t)]):new Date(t);switch(e){case"Quarter":o.setMonth(o.getMonth()-3*i);break;case"Months":o.setMonth(o.getMonth()-i);break;case"Weeks":o.setDate(o.getDate()-7*i);break;case"Days":o.setDate(o.getDate()-i);break;case"Hours":o.setHours(o.getHours()-i);break;case"Minutes":o.setMinutes(o.getMinutes()-i);break;case"Seconds":o.setSeconds(o.getSeconds()-i);break;default:o.setFullYear(o.getFullYear()-i)}return o},mp.prototype.getModuleName=function(){return"PeriodSelector"},mp.prototype.destroy=function(){};var gp=mp;function mp(e){this.control={},this.isDatetimeCategory=!1,this.sortedData=[],this.startValue=0,this.endValue=0,this.rootControl=e,"stockChart"===this.rootControl.getModuleName()&&(this.sortedData=this.rootControl.sortedData,this.isDatetimeCategory=this.rootControl.isDateTimeCategory)}yp=function(e,t){return(yp=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var yp,fp,ep=function(e,t){function i(){this.constructor=e}yp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},g=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},vp=(fp=K.Component,ep(m,fp),m.prototype.preRender=function(){var e;this.unWireEvents(),this.setCulture(),this.allowServerDataBinding=!1,this.periodSelectorModule&&(this.periodSelectorModule.selectedIndex=null),""===this.element.id&&(e=document.getElementsByClassName("e-rangenavigator").length,this.element.id="rangenavigator_"+this.chartid+"_"+e),this.wireEvents()},m.prototype.initPrivateVariables=function(){this.doubleModule=new $e,this.labels=[],this.rangeSlider=new dp(this),this.chartSeries=new Xd(this),this.lineSeriesModule=new Ra,this.rangeAxis=new qd(this)},m.prototype.setCulture=function(){this.intl=new K.Internationalization},m.prototype.setSliderValue=function(){var e="DateTime"===this.valueType,t="DateTimeCategory"===this.valueType,i=this.chartSeries.xAxis.actualRange;this.startValue=this.startValue||t&&0===this.startValue?this.startValue:this.value[0]?e?new Date(this.value[0].toString()).getTime():t?this.getRangeValue(new Date(this.value[0].toString()).getTime(),!0):+this.value[0]:i.min,this.endValue=this.endValue||t&&0===this.endValue?this.endValue:this.value[1]?e?new Date(this.value[1].toString()).getTime():t?this.getRangeValue(new Date(this.value[1].toString()).getTime(),!1):+this.value[1]:i.max},m.prototype.getRangeValue=function(e,t){for(var i=this.chartSeries.xAxis.labels,o=i.length-1;0<=o&&parseInt(i[o],10)>e;)o--;return t?-1!==o?o:this.chartSeries.xAxis.actualRange.min:0===o?this.chartSeries.xAxis.actualRange.max:o},m.prototype.render=function(){var e=this,t={name:"load",rangeNavigator:this,theme:this.theme};this.trigger("load",t,function(){e.setTheme(),e.initPrivateVariables(),e.createRangeSvg(),e.calculateBounds(),e.chartSeries.renderChart(e),w("chartmeasuretext"),e.renderComplete(),e.allowServerDataBinding=!0}),this.element.setAttribute("tabindex","0"),this.element.setAttribute("role","region"),this.element.setAttribute("aria-label","Range navigator Syncfusion interactive chart.")},m.prototype.setTheme=function(){this.themeStyle=up(this.theme,this)},m.prototype.createRangeSvg=function(){this.removeSvg(),yr(this),this.renderChartBackground()},m.prototype.calculateBounds=function(){var e=this.enableGrouping?15:8,t=this.navigatorStyleSettings.thumb,i=$.measureText("tempString",this.labelStyle,this.themeStyle.axisLabelFont).height,o=this.margin,r=!this.series.length,n=!this.disableRangeSelector&&r&&this.tooltip.enable?35:0,a=(this.periodSelectorModule||!this.periodSelectorSettings.periods.length||this.stockChart||(this.periodSelectorModule=new gp(this)),this.periodSelectorModule),l=(this.periodSelectorModule&&0<this.periodSelectorSettings.periods.length&&(a.periodSelectorSize={x:0,y:0,height:0,width:0},a.periodSelectorSize.width=this.availableSize.width,a.periodSelectorSize.height=this.periodSelectorSettings.height,a.periodSelectorSize.y="Bottom"===this.periodSelectorSettings.position?this.availableSize.height-a.periodSelectorSize.height:0),"Top"===this.periodSelectorSettings.position&&a?a.periodSelectorSize.y+a.periodSelectorSize.height:0),s=0,h=0,s=(this.stockChart&&this.stockChart.stockLegendModule&&this.stockChart.legendSettings.visible&&("Left"===this.stockChart.legendSettings.position?s+=this.stockChart.stockLegendModule.legendBounds.width:"Top"===this.stockChart.legendSettings.position&&(h+=this.stockChart.stockLegendModule.legendBounds.height)),this.bounds=new $.Rect(this.themeStyle.thumbWidth/2+t.border.width+o.left+s,o.top+n+l+h,this.availableSize.width-this.themeStyle.thumbWidth-2*t.border.width-o.left-o.right,this.availableSize.height-o.top-o.bottom-n-(a?a.periodSelectorSize.height:0)),("Outside"===this.labelPosition||r?i+e:0)+("Outside"===this.tickPosition||r?this.majorTickLines.height:0));this.bounds.height-=s,r&&(l=this.enableGrouping?this.bounds.height-(i+e):this.bounds.height,this.bounds.y+=this.themeStyle.thumbHeight>l?(this.themeStyle.thumbHeight-l)/2:0),this.disableRangeSelector&&(this.bounds.y=0,this.bounds.height=0<this.periodSelectorSettings.periods.length?this.periodSelectorSettings.height:0)},m.prototype.renderChart=function(e){void 0===e&&(e=!1),this.chartSeries.renderSeries(this),this.chartSeries.appendSeriesElements(this),this.rangeAxis.renderGridLines(),this.rangeAxis.renderAxisLabels(),this.createSecondaryElement(),this.setSliderValue(),this.renderPeriodSelector(),this.renderSlider(e),this.stockChart||this.element.appendChild(this.svgObject),this.trigger("loaded",{rangeNavigator:this}),this.rangeSlider.setSlider(this.startValue,this.endValue,!1,this.tooltip.enable&&"Always"===this.tooltip.displayMode,e)},m.prototype.renderPeriodSelector=function(){this.periodSelectorModule&&(this.periodSelectorModule.renderSelectorElement(this),this.periodSelectorModule.renderSelector())},m.prototype.createSecondaryElement=function(){var e;this.tooltip.enable&&((e=this.createElement("div")).id=this.element.id+"_Secondary_Element",e.style.position="relative",this.element.appendChild(e))},m.prototype.renderSlider=function(e){this.rangeSlider.render(this),this.periodSelectorModule&&(this.startValue=this.periodSelectorModule.control.startValue,this.endValue=this.periodSelectorModule.control.endValue),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode,e)},m.prototype.removeSvg=function(){J(this.element.id+"_Secondary_Element")&&(K.remove(J(this.element.id+"_Secondary_Element")),this.isReact)&&this.clearTemplate();if(this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);this.svgObject.hasChildNodes()||!this.svgObject.parentNode||this.stockChart||K.remove(this.svgObject)}},m.prototype.unWireEvents=function(){var e=K.Browser.touchStartEvent,t=K.Browser.touchMoveEvent,i=K.Browser.touchEndEvent,o=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,e,this.rangeOnMouseDown),K.EventHandler.remove(this.element,t,this.mouseMove),K.EventHandler.remove(this.element,i,this.mouseEnd),K.EventHandler.remove(this.element,"click",this.rangeOnMouseClick),K.EventHandler.remove(this.element,o,this.mouseLeave),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize)},m.prototype.wireEvents=function(){var e=K.Browser.isPointer?"pointerleave":"mouseleave",e=(K.EventHandler.add(this.element,K.Browser.touchStartEvent,this.rangeOnMouseDown,this),K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.mouseMove,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.mouseEnd,this),K.EventHandler.add(this.element,"click",this.rangeOnMouseClick,this),K.EventHandler.add(this.element,e,this.mouseLeave,this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize.bind(this)),this.element);e.style.touchAction="none",e.style.msTouchAction="none",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block"},m.prototype.rangeResize=function(){var e,t,i=this;return document.getElementById(this.element.id)&&this.svgObject&&(this.animateSeries=!1,this.removeAllTooltip(),e={name:"beforeResize",cancelResizedEvent:!1},this.resizeTo&&clearTimeout(this.resizeTo),t={rangeNavigator:this,name:"resized",currentSize:new $.Size(0,0),previousSize:new $.Size(this.availableSize.width,this.availableSize.height)},this.trigger(Mt,e),e.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){i.isDestroyed?clearTimeout(i.resizeTo):(i.createRangeSvg(),t.currentSize=i.availableSize,i.trigger("resized",t),i.calculateBounds(),i.chartSeries.processXAxis(i),i.chartSeries.calculateGroupingBounds(i),i.chartSeries.processYAxis(i),i.renderChart(!0))},500))),!1},m.prototype.removeAllTooltip=function(){this.tooltip.enable&&"Always"===this.tooltip.displayMode&&(J(this.element.id+"_leftTooltip")&&K.remove(J(this.element.id+"_leftTooltip")),J(this.element.id+"_rightTooltip"))&&K.remove(J(this.element.id+"_rightTooltip"))},m.prototype.mouseMove=function(e){return this.stockChart||J(this.stockChart?this.element.id:this.element.id+"_svg")&&(this.mouseX=this.setMouseX(e),this.notify(K.Browser.touchMoveEvent,e)),!1},m.prototype.mouseLeave=function(e){var t=this.rangeSlider;if(t.isDrag){if(this.stockChart)return!1;var i=t.control.tooltip.enable;t.control.allowSnapping&&(t.isDrag=!1,t.setAllowSnapping(t.control,t.currentStart,t.currentEnd,!1,i)),t.triggerEvent(this.chartSeries.xAxis.actualRange)}i=K.Browser.isPointer?"pointerleave":"mouseleave";return this.mouseX=this.setMouseX(e),this.notify(i,e),!1},m.prototype.rangeOnMouseClick=function(e){return this.notify("click",e),!1},m.prototype.print=function(e){new Yn(this).print(e)},m.prototype.export=function(e,t,i,o,r,n,a){o=o||[this],new Dc(this).export(e,t,i,o,r,n,a)},m.prototype.renderChartBackground=function(){var e=0,t=0,t=(this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?e+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(t+=this.stockChart.stockLegendModule.legendBounds.width)),new Pr(this.element.id+"_ChartBorder",this.background||this.themeStyle.background,{width:0,color:"transparent"},1,new $.Rect(t,e,this.availableSize.width,this.availableSize.height)));this.svgObject.appendChild(this.renderer.drawRectangle(t))},m.prototype.rangeOnMouseDown=function(e){return this.mouseDownX=this.setMouseX(e),this.notify(K.Browser.touchStartEvent,e),!1},m.prototype.mouseEnd=function(e){return this.mouseX=this.setMouseX(e),this.notify(K.Browser.touchEndEvent,e),!1},m.prototype.setMouseX=function(e){var e=(-1<e.type.indexOf("touch")?e.changedTouches[0]:e).clientX,t=this.element.getBoundingClientRect(),i=(this.stockChart?J(this.element.id):J(this.element.id+"_svg")).getBoundingClientRect();return e-t.left-Math.max(i.left-t.left,0)},m.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},m.prototype.onPropertyChanged=function(e){var t=!1,i=!1,o=!1;this.animateSeries=!1;for(var r=0,n=Object.keys(e);r<n.length;r++)switch(n[r]){case"width":case"height":case"navigatorBorder":case"enableGrouping":case"labelPosition":case"tickPosition":case"labelStyle":i=!0;break;case"enableRtl":case"xName":case"yName":case"query":case"minimum":case"maximum":case"interval":case"intervalType":case"logBase":case"valueType":case"majorGridLines":case"minorGridLines":case"navigatorStyleSettings":case"labelFormat":case"skeleton":case"skeletonType":case"secondaryLabelAlignment":case"background":t=!0;break;case"dataSource":case"series":i=t=!0;break;case"theme":this.animateSeries=!0;break;case"locale":fp.prototype.refresh.call(this);break;case"value":this.startValue=null,this.endValue=null,this.redraw=o=!0}!i&&t&&(this.removeSvg(),this.chartSeries.xMin=1/0,this.chartSeries.xMax=-1/0,this.chartSeries.renderChart(this)),i&&t&&(this.removeSvg(),this.chartSeries.xMin=this.chartSeries.yMin=1/0,this.chartSeries.xMax=this.chartSeries.yMax=-1/0,this.calculateBounds(),this.chartSeries.renderChart(this)),i&&!t&&(this.removeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this)),i||t||!o||(this.setSliderValue(),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode))},m.prototype.requiredModules=function(){var t=this,i=[];return this.series.map(function(e){"Area"!==e.type&&"StepLine"!==e.type||i.push({member:e.type+"Series",args:[t]})}),0<this.periodSelectorSettings.periods.length&&i.push({member:"PeriodSelector",args:[this]}),"Double"!==this.valueType&&i.push({member:this.valueType,args:[this]}),this.tooltip.enable&&i.push({member:"RangeTooltip",args:[this]}),i},m.prototype.getModuleName=function(){return"rangeNavigator"},m.prototype.destroy=function(){this.unWireEvents(),this.isReact&&this.clearTemplate(),this.rangeSlider.destroy(),fp.prototype.destroy.call(this),this.element.innerText="",this.element.classList.remove("e-rangenavigator")},g([K.Property(null)],m.prototype,"width",void 0),g([K.Property(null)],m.prototype,"height",void 0),g([K.Property(null)],m.prototype,"dataSource",void 0),g([K.Property(null)],m.prototype,"xName",void 0),g([K.Property(null)],m.prototype,"yName",void 0),g([K.Property()],m.prototype,"query",void 0),g([K.Collection([],tp)],m.prototype,"series",void 0),g([K.Complex({},Jd)],m.prototype,"tooltip",void 0),g([K.Property(null)],m.prototype,"minimum",void 0),g([K.Property(null)],m.prototype,"maximum",void 0),g([K.Property(null)],m.prototype,"interval",void 0),g([K.Property("Auto")],m.prototype,"intervalType",void 0),g([K.Property("Hide")],m.prototype,"labelIntersectAction",void 0),g([K.Property(10)],m.prototype,"logBase",void 0),g([K.Property("Double")],m.prototype,"valueType",void 0),g([K.Property("Outside")],m.prototype,"labelPosition",void 0),g([K.Property("Auto")],m.prototype,"labelPlacement",void 0),g([K.Property(500)],m.prototype,"animationDuration",void 0),g([K.Property(!1)],m.prototype,"enableGrouping",void 0),g([K.Property(!1)],m.prototype,"enableDeferredUpdate",void 0),g([K.Property(!1)],m.prototype,"disableRangeSelector",void 0),g([K.Property(!1)],m.prototype,"allowSnapping",void 0),g([K.Property(!1)],m.prototype,"allowIntervalData",void 0),g([K.Property(!1)],m.prototype,"useGroupingSeparator",void 0),g([K.Property()],m.prototype,"groupBy",void 0),g([K.Property("Outside")],m.prototype,"tickPosition",void 0),g([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],m.prototype,"labelStyle",void 0),g([K.Complex({},fi)],m.prototype,"majorGridLines",void 0),g([K.Complex({},Pi)],m.prototype,"majorTickLines",void 0),g([K.Complex({},lp)],m.prototype,"navigatorStyleSettings",void 0),g([K.Complex({},N)],m.prototype,"periodSelectorSettings",void 0),g([K.Complex({color:null,width:1},ae)],m.prototype,"navigatorBorder",void 0),g([K.Property("Material")],m.prototype,"theme",void 0),g([K.Property([])],m.prototype,"value",void 0),g([K.Property(null)],m.prototype,"background",void 0),g([K.Property("")],m.prototype,"labelFormat",void 0),g([K.Property("")],m.prototype,"skeleton",void 0),g([K.Property("DateTime")],m.prototype,"skeletonType",void 0),g([K.Property("Middle")],m.prototype,"secondaryLabelAlignment",void 0),g([K.Complex({top:5,bottom:5,right:5,left:5},me)],m.prototype,"margin",void 0),g([K.Event()],m.prototype,"load",void 0),g([K.Event()],m.prototype,"loaded",void 0),g([K.Event()],m.prototype,"resized",void 0),g([K.Event()],m.prototype,"beforeResize",void 0),g([K.Event()],m.prototype,"labelRender",void 0),g([K.Event()],m.prototype,"changed",void 0),g([K.Event()],m.prototype,"tooltipRender",void 0),g([K.Event()],m.prototype,"selectorRender",void 0),g([K.Event()],m.prototype,"beforePrint",void 0),g([K.NotifyPropertyChanges],m));function m(e,t){e=fp.call(this,e,t)||this;return e.animateSeries=!0,e.chartid=57725,e.redraw=!1,e}xp.prototype.initializeChart=function(e){var i,o,r=this,t=this.stockChart,n="isProtectedOnChange";if(t[n]=!0,t.chartObject){for(var a=document.getElementById(t.chartObject.id);a.firstChild;)a.removeChild(a.firstChild);J(t.chartObject+"_tooltip")&&K.remove(J(t.chartObject+"_tooltip"))}else t.chartObject=t.renderer.createGroup({id:t.element.id+"_stockChart_chart"}),t.mainObject.appendChild(t.chartObject);if(this.stockChart.isDateTimeCategory="DateTimeCategory"===this.stockChart.primaryXAxis.valueType,this.stockChart.isDateTimeCategory&&!this.stockChart.sortedData.length){for(var l=0,s=this.stockChart.series;l<s.length;l++)for(var h=s[l],c=h.dataSource,d=h.xName,p=0,u=c;p<u.length;p++){var g=u[p],g=Date.parse(new Date(R.DataUtil.parse.parseJson({val:g[d]}).val).toString());-1===this.stockChart.sortedData.indexOf(g)&&this.stockChart.sortedData.push(g)}this.stockChart.sortedData.sort(function(e,t){return e-t})}if(this.cartesianChartSize=this.calculateChartSize(),t.chart=new aa({chartArea:t.chartArea,margin:this.findMargin(t),primaryXAxis:this.copyObject(t.primaryXAxis),primaryYAxis:this.copyObject(t.primaryYAxis),rows:t.rows,indicators:t.indicators,axes:t.axes,tooltipRender:function(e){r.stockChart.trigger("tooltipRender",e)},axisLabelRender:function(e){r.stockChart.trigger("axisLabelRender",e)},seriesRender:function(t){i=null!=r.stockChart.startValue&&r.stockChart.isDateTimeCategory?r.stockChart.sortedData[Math.floor(r.stockChart.startValue)]:r.stockChart.startValue,o=null!=r.stockChart.endValue&&r.stockChart.isDateTimeCategory?r.stockChart.sortedData[Math.floor(r.stockChart.endValue)]:r.stockChart.endValue,t.data&&i&&o&&(t.data=t.data.filter(function(e){return new Date(R.DataUtil.parse.parseJson({val:e[t.series.xName]}).val).getTime()>=i&&new Date(R.DataUtil.parse.parseJson({val:e[t.series.xName]}).val).getTime()<=o})),t.data=e||t.data,r.stockChart.trigger("seriesRender",t)},onZooming:function(e){r.stockChart.trigger(Wt,e)},pointClick:function(e){r.stockChart.trigger("pointClick",e)},pointMove:function(e){r.stockChart.trigger("pointMove",e)},dataSource:t.dataSource,series:this.findSeriesCollection(t.series),zoomSettings:this.copyObject(t.zoomSettings),tooltip:t.tooltip,crosshair:t.crosshair,height:this.cartesianChartSize.height.toString(),selectedDataIndexes:t.selectedDataIndexes,selectionMode:t.selectionMode,isMultiSelect:t.isMultiSelect,annotations:t.annotations,theme:t.theme,legendSettings:{visible:!1},enableRtl:t.enableRtl,zoomComplete:function(e){-1!==e.axis.valueType.indexOf("DateTime")&&t.rangeNavigator&&(r.stockChart.zoomChange=!0,e=r.calculateUpdatedRange(e.currentZoomFactor,e.currentZoomPosition,e.axis),t.rangeSelector.sliderChange(e.start,e.end))}}),0!==t.indicators.length){if(t.isSelect)for(var m=0;m<t.indicators.length;m++)t.chart.indicators[m].animation.enable=!1,t.chart.indicators[m].dataSource=K.extend([],t.chart.series[0].dataSource,null,!0);t.isSelect=!0}(t.chart.stockChart=t).chart.appendTo(t.chartObject),t[n]=!1,t.onPanning&&(J(this.stockChart.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),t.chart.mouseMove(t.mouseMoveEvent))},xp.prototype.findMargin=function(e){var t={};return t.top=e.stockLegendModule&&e.legendSettings.visible&&"Top"===e.legendSettings.position?e.margin.top:2*e.margin.top,t.left=e.margin.left,t.right=e.margin.right,t.bottom=e.margin.bottom,t},xp.prototype.findSeriesCollection=function(e){for(var t=[],i=0,o=e.length;i<o;i++)t.push(e[i]),t[i].high=e[i].high,t[i].low=e[i].low,t[i].open=e[i].open,t[i].close=e[i].close,t[i].xName=e[i].xName,t[i].volume=e[i].volume,t[i].animation=e[i].animation,e[i].localData&&(t[i].dataSource=e[i].localData),t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t},xp.prototype.calculateChartSize=function(){var e=this.stockChart;return new $.Size(e.availableSize.width,e.enablePeriodSelector&&e.enableSelector?e.availableSize.height-e.toolbarHeight-51:e.enableSelector&&!e.enablePeriodSelector?e.availableSize.height-51:e.enablePeriodSelector&&!e.enableSelector?e.availableSize.height-e.toolbarHeight:e.availableSize.height)},xp.prototype.calculateUpdatedRange=function(e,t,i){var o=i.actualRange,e=(t=o.min+t*o.delta)+e*o.delta;return this.stockChart.isDateTimeCategory&&(t=this.stockChart.sortedData.indexOf(parseInt(i.labels[Math.floor(t)],10)),e=this.stockChart.sortedData.indexOf(parseInt(i.labels[Math.floor(e)],10))),{start:t,end:e}},xp.prototype.cartesianChartRefresh=function(e,t){e.cartesianChart.initializeChart(t)},xp.prototype.copyObject=function(e){return K.extend({},e,{},!0)};var bp=xp;function xp(e){this.stockChart=e}Cp.prototype.initializeRangeNavigator=function(){var i=this,o=this.stockChart;o.chart.axisCollections[1].labelPadding,o.chart.axisCollections[1].lineStyle.width;if(o.selectorObject){for(var e=document.getElementById(o.selectorObject.id);e.firstChild;)e.removeChild(e.firstChild);J(o.selectorObject.id+"_leftTooltip")&&K.remove(J(o.selectorObject.id+"_leftTooltip")),J(o.selectorObject.id+"_rightTooltip")&&K.remove(J(o.selectorObject.id+"_rightTooltip"))}else o.selectorObject=o.renderer.createGroup({id:o.element.id+"_stockChart_rangeSelector",transform:"translate(0,"+o.cartesianChart.cartesianChartSize.height+")"}),o.mainObject.appendChild(o.selectorObject);o.rangeNavigator=new vp({locale:"en",valueType:o.primaryXAxis.valueType,theme:this.stockChart.theme,series:this.findSeriesCollection(o.series),height:this.calculateChartSize().height.toString(),tickPosition:"Inside",majorTickLines:{width:0},value:[o.isDateTimeCategory?new Date(o.sortedData[Math.floor(o.startValue)]):new Date(o.startValue),o.isDateTimeCategory?new Date(o.sortedData[Math.floor(o.endValue)]):new Date(o.endValue)],margin:this.findMargin(),tooltip:{enable:o.tooltip.enable,displayMode:"OnDemand"},labelPlacement:"OnTicks",labelPosition:"Inside",dataSource:o.dataSource,intervalType:o.primaryXAxis.intervalType,enableRtl:o.enableRtl,changed:function(e){var t={name:"rangeChange",end:e.end,selectedData:e.selectedData,start:e.start,zoomFactor:e.zoomFactor,zoomPosition:e.zoomPosition,data:void 0};i.stockChart.trigger("rangeChange",t),i.stockChart.startValue=e.start,i.stockChart.endValue=e.end,i.stockChart.zoomChange||i.stockChart.cartesianChart.cartesianChartRefresh(i.stockChart,t.data),o.periodSelector&&o.periodSelector.datePicker&&(o.periodSelector.datePicker.startDate=i.stockChart.isDateTimeCategory?new Date(i.stockChart.sortedData[Math.floor(e.start)]):new Date(e.start),o.periodSelector.datePicker.endDate=i.stockChart.isDateTimeCategory?new Date(i.stockChart.sortedData[Math.floor(e.end)]):new Date(e.end),o.periodSelector.datePicker.dataBind())}}),(o.rangeNavigator.stockChart=o).rangeNavigator.appendTo(o.selectorObject)},Cp.prototype.findMargin=function(){var e={top:5,left:0,right:0,bottom:0};return e},Cp.prototype.findSeriesCollection=function(e){for(var t=[],i=0,o=e.length;i<o;i++)t.push(e[i]),t[i].xName=e[i].xName,t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t},Cp.prototype.calculateChartSize=function(){var e=this.stockChart;return new $.Size(e.availableSize.width,e.enableSelector?51:0)},Cp.prototype.sliderChange=function(e,t){this.stockChart.rangeNavigator.rangeSlider.performAnimation(e,t,this.stockChart.rangeNavigator)};var Sp=Cp;function Cp(e){this.stockChart=e}Fp.prototype.initializePeriodSelector=function(){var e=this.stockChart.tempPeriods,e=(this.stockChart.periods=e,this.stockChart.periodSelector.rootControl=this.stockChart,this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect),t=J(this.stockChart.element.id+"_Secondary_Element"),i=this.stockChart.toolbarHeight;this.stockChart.periodSelector.appendSelector({thumbSize:0,element:t,width:e.width,height:i},e.x),0<this.stockChart.seriesType.length&&this.initializeSeriesSelector(),this.initializeIndicatorSelector(),0<this.stockChart.trendlineType.length&&this.initializeTrendlineSelector(),this.exportButton()},Fp.prototype.getDropDownItems=function(e){var t=[];if(e===this.stockChart.seriesType){for(var i=0;i<e.length;i++)t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});for(i=0;i<this.stockChart.series.length;i++)for(var o=0;o<t.length;o++){var r=t[o].text.replace("&nbsp;&nbsp;&nbsp;","");("OHLC"===r?"HiloOpenClose":r)===this.stockChart.series[i].type&&(t[o].text=t[o].text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;"))}}else if(e===this.stockChart.exportType)for(i=0;i<e.length;i++)t.push({text:e[i].toString()});else for(i=0;i<e.length;i++)"Print"!==e[i].toString()&&t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});return t},Fp.prototype.addedSeries=function(e){for(var t=this.stockChart.series,i=0;i<t.length;i++)if("volume"!==t[i].yName){t[i].type=-1<e.indexOf("Candle")?"Candle":-1<e.indexOf("OHLC")?"HiloOpenClose":e,t[i].enableSolidCandles="Candle"===e;for(var o=0;o<t[i].trendlines.length;o++){var r=t[i].trendlines[o];r.animation.enable=!1,r.enableTooltip=!1}}},Fp.prototype.initializeSeriesSelector=function(){var t=this;-1<this.stockChart.seriesType.indexOf("HiloOpenClose")&&(this.stockChart.seriesType[this.stockChart.seriesType.indexOf("HiloOpenClose")]="OHLC"),-1<this.stockChart.seriesType.indexOf("Candle")&&-1===this.stockChart.seriesType.indexOf("Hollow Candle")&&(this.stockChart.seriesType[this.stockChart.seriesType.length]="Hollow Candle"),new O.DropDownButton({enableHtmlSanitizer:!1,items:this.getDropDownItems(this.stockChart.seriesType),select:function(e){t.selectedSeries=e.item.text;var e=t.tickMark(e);t.addedSeries(e),t.stockChart.cartesianChart.initializeChart(),t.stockChart.stockLegendModule&&t.stockChart.stockLegendModule.legendCollections.length&&t.stockChart.legendSettings.visible&&(e=t.stockChart.stockLegendModule.legendBounds,t.stockChart.stockLegendModule.renderLegend(t.stockChart,t.stockChart.legendSettings,e))}}).appendTo("#"+this.stockChart.element.id+"_seriesType")},Fp.prototype.initializeTrendlineSelector=function(){var r=this;this.trendlineDropDown=new O.DropDownButton({enableHtmlSanitizer:!1,items:this.stockChart.resizeTo?this.trendlineDropDown.items:this.getDropDownItems(this.stockChart.trendlineType),select:function(e){var t=r.tickMark(e);if(r.selectedTrendLine=""===r.selectedTrendLine?t:r.selectedTrendLine+","+t,r.trendline!==t){r.trendline=t;for(var i,o=0;o<r.stockChart.series.length;o++)"volume"!==r.stockChart.series[o].yName&&(0===r.stockChart.series[0].trendlines.length?(i=void 0,r.stockChart.trendlinetriggered&&(r.stockChart.trendlinetriggered=!(i=[{type:t,width:1,enableTooltip:!1}])),r.stockChart.series[0].trendlines=i):(r.stockChart.series[0].trendlines[0].width=1,r.stockChart.series[0].trendlines[0].type=t,r.stockChart.series[0].trendlines[0].animation.enable=!!r.stockChart.trendlinetriggered))}else e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text.replace("&#10004&nbsp;",""),r.stockChart.series[0].trendlines[0].width=0,r.trendline=null;r.stockChart.cartesianChart.initializeChart()}}),this.trendlineDropDown.appendTo("#"+this.stockChart.element.id+"_trendType")},Fp.prototype.initializeIndicatorSelector=function(){var n=this;this.indicatorDropDown=new O.DropDownButton({enableHtmlSanitizer:!1,items:this.stockChart.resizeTo?this.indicatorDropDown.items:this.getDropDownItems(this.stockChart.indicatorType),select:function(e){for(var t=0;t<n.stockChart.series.length;t++)0!==n.stockChart.series[t].trendlines.length&&(n.stockChart.series[t].trendlines[0].animation.enable=!1);e.item.text=0<=e.item.text.indexOf("&#10004&nbsp;")?e.item.text.substr(e.item.text.indexOf(";")+1):e.item.text;var i=e.item.text.replace("&nbsp;&nbsp;&nbsp;",""),o=i=(i=i.split(" ")[0].toLocaleLowerCase()+(i.split(" ")[1]?i.split(" ")[1]:"")).substr(0,1).toUpperCase()+i.substr(1);if(n.selectedIndicator=-1===n.selectedIndicator.indexOf(o)?n.selectedIndicator+" "+o:n.selectedIndicator.replace(o,""),"Tma"===o||"BollingerBands"===o||"Sma"===o||"Ema"===o){if(-1===n.indicators.indexOf(o)){e.item.text="&#10004&nbsp;"+e.item.text.replace("&nbsp;&nbsp;&nbsp;","");i=n.getIndicator(o,n.stockChart.series[0].yAxisName);n.indicators.push(o),n.stockChart.indicators=n.stockChart.indicators.concat(i)}else{e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text;for(var r=0;r<n.stockChart.indicators.length;r++)n.stockChart.indicators[r].type===o&&n.stockChart.indicators.splice(r,1);n.indicators.splice(n.indicators.indexOf(o),1)}n.stockChart.cartesianChart.initializeChart()}else n.createIndicatorAxes(o,e)}}),this.indicatorDropDown.appendTo("#"+this.stockChart.element.id+"_indicatorType")},Fp.prototype.getIndicator=function(e,t){var i=this.stockChart.series[0];return[{type:e,period:3,yAxisName:t,dataSource:i.localData,xName:i.xName,open:i.open,close:i.close,high:i.high,low:i.low,volume:i.volume,fill:"Sma"===e?"#32CD32":"#6063ff",animation:{enable:!1},upperLine:{color:"#FFE200",width:1},periodLine:{width:2},lowerLine:{color:"#FAA512",width:1},fastPeriod:8,slowPeriod:5,macdType:"Both",width:1,macdPositiveColor:"#6EC992",macdNegativeColor:"#FF817F",bandColor:"rgba(245, 203, 35, 0.12)"}]},Fp.prototype.createIndicatorAxes=function(e,t){if(-1===this.indicators.indexOf(e)){t.item.text="&#10004&nbsp;"+t.item.text.replace("&nbsp;&nbsp;&nbsp;",""),this.indicators.push(e);var i=this.stockChart.rows.length,o=(this.stockChart.rows[this.stockChart.rows.length-1].height="15%",[{height:100-15*i+"px"}]);if(1===this.stockChart.rows.length&&(this.stockChart.isSingleAxis=!0),this.stockChart.rows=this.stockChart.rows.concat(o),this.stockChart.isSingleAxis)for(var r=0;r<this.stockChart.axes.length;r++)this.stockChart.axes[r].rowIndex+=1;else this.stockChart.axes[0].rowIndex+=1;o=[{plotOffset:10,opposedPosition:!0,rowIndex:this.stockChart.isSingleAxis?0:this.stockChart.axes.length,desiredIntervals:1,labelFormat:"n2",majorGridLines:this.stockChart.primaryYAxis.majorGridLines,lineStyle:this.stockChart.primaryYAxis.lineStyle,labelPosition:this.stockChart.primaryYAxis.labelPosition,majorTickLines:this.stockChart.primaryYAxis.majorTickLines,rangePadding:"None",name:e.toString()}],o=(this.stockChart.axes=this.stockChart.axes.concat(o),this.stockChart.primaryYAxis.rowIndex=this.stockChart.isSingleAxis?i+1:0,this.getIndicator(e,e.toString()));this.stockChart.indicators=this.stockChart.indicators.concat(o)}else{t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text;for(r=0;r<this.stockChart.indicators.length;r++)this.stockChart.indicators[r].type===e&&this.stockChart.indicators.splice(r,1);this.indicators.splice(this.indicators.indexOf(e),1);for(var n=0,a=0;a<this.stockChart.axes.length;a++)this.stockChart.axes[a].name===e&&(n=this.stockChart.axes[a].rowIndex,this.stockChart.rows.splice(a,1),this.stockChart.axes.splice(a,1));for(a=0;a<this.stockChart.axes.length;a++)0!==this.stockChart.axes[a].rowIndex&&this.stockChart.axes[a].rowIndex>n&&(this.stockChart.axes[a].rowIndex=this.stockChart.axes[a].rowIndex-1)}this.stockChart.cartesianChart.initializeChart()},Fp.prototype.tickMark=function(e){for(var t,i=e.item.parentObj.items,o=0;o<i.length;o++)i[o].text=0<=i[o].text.indexOf("&#10004&nbsp;")?i[o].text.substr(i[o].text.indexOf(";")+1):i[o].text,0<=i[o].text.indexOf("&nbsp;&nbsp;&nbsp;")||(i[o].text="&nbsp;&nbsp;&nbsp;"+i[o].text);return 0<=e.item.text.indexOf("&nbsp;&nbsp;&nbsp;")?(t=e.item.text.replace("&nbsp;&nbsp;&nbsp;",""),e.item.text=e.item.text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;")):t=e.item.text.replace("&#10004&nbsp;",""),t},Fp.prototype.exportButton=function(){var a=this;new O.DropDownButton({enableHtmlSanitizer:!1,items:this.getDropDownItems(this.stockChart.exportType),select:function(e){var t,i,o,r,n,e=e.item.text;a.stockChart.chart.exportModule&&(i=(t=a.stockChart).element.id+"_stockChart_",o=t.svgObject.getBoundingClientRect(),a.stockChart.svgObject.insertAdjacentElement("afterbegin",a.addExportSettings("Print"===e)),r=t.svgObject.firstElementChild.getBoundingClientRect(),n=new Pr("additionalRect","transparent",{width:0,color:"transparent"},1,new $.Rect(0,0,a.stockChart.availableSize.width,r.height)),t.svgObject.firstElementChild.insertAdjacentElement("afterbegin",a.stockChart.renderer.drawRectangle(n)),a.stockChart.svgObject.setAttribute("height",(o.height+r.height).toString()),J(i+"chart").style.transform="translateY("+r.height+"px)",t.enableSelector&&J(i+"rangeSelector").setAttribute("transform","translate(0,"+(t.cartesianChart.cartesianChartSize.height+r.height)+")"),a.stockChart.legendSettings.visible&&a.stockChart.stockLegendModule&&(J(t.element.id+"_chart_legend_g").style.transform="translateY("+r.height+"px)"),"Print"===e?a.stockChart.chart.print(a.stockChart.svgObject.id):t.chart.exportModule.export(e,"StockChart",null,[t],null,t.svgObject.clientHeight),K.remove(J(a.stockChart.element.id+"_additionalExport")),J(i+"chart").style.transform="",t.enableSelector&&J(i+"rangeSelector").setAttribute("transform","translate(0,"+t.cartesianChart.cartesianChartSize.height+")"),a.stockChart.legendSettings.visible&&a.stockChart.stockLegendModule&&(J(t.element.id+"_chart_legend_g").style.transform="translateY(0px)"),a.stockChart.svgObject.setAttribute("height",o.height.toString()))}}).appendTo("#"+this.stockChart.element.id+"_export")},Fp.prototype.calculateAutoPeriods=function(){var e=[],t=this.stockChart.isDateTimeCategory?this.stockChart.sortedData[this.stockChart.seriesXMin]:this.stockChart.seriesXMin,i=this.stockChart.isDateTimeCategory?this.stockChart.sortedData[this.stockChart.seriesXMax]:this.stockChart.seriesXMax;return(e=this.findRange(t,i)).push({text:"YTD",selected:!0},{text:"All"}),e},Fp.prototype.findRange=function(e,t){var i=[];return 1<=(t-e)/3154e7?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"},{text:"1Y",interval:1,intervalType:"Years"}):1<=(t-e)/1577e7?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"}):1<=(t-e)/2628e6?i.push({text:"1D",interval:1,intervalType:"Days"},{text:"3W",interval:3,intervalType:"Weeks"},{text:"1M",interval:1,intervalType:"Months"}):1<=(t-e)/864e5&&i.push({text:"1H",interval:1,intervalType:"Hours"},{text:"12H",interval:12,intervalType:"Hours"},{text:"1D",interval:1,intervalType:"Days"}),i},Fp.prototype.addExportSettings=function(e){var t=this.stockChart.renderer.createGroup({id:this.stockChart.element.id+"_additionalExport",width:this.stockChart.availableSize.width,fill:this.stockChart.background||"transparent"}),i=$.measureText(this.stockChart.title,this.stockChart.titleStyle,this.stockChart.themeStyle.chartTitleFont).height,o=new $.TextOption(t.id+"_Title",vr(new $.Rect(0,0,this.stockChart.availableSize.width,0),this.stockChart.titleStyle),0,"middle",this.stockChart.title,"","text-before-edge");return gr(this.stockChart.renderer,o,this.stockChart.titleStyle,this.stockChart.titleStyle.color||this.stockChart.themeStyle.chartTitleFont.color,t,null,null,null,null,null,null,0,null,null,null,this.stockChart.themeStyle.chartTitleFont),e||(o={size:"16px",fontWeight:"600",color:this.stockChart.themeStyle.chartTitleFont.color,fontStyle:"Normal",fontFamily:this.stockChart.themeStyle.chartTitleFont.fontFamily},e=$.measureText("Series: "+this.selectedSeries,o).width/2,this.textElementSpan(new $.TextOption(t.id+"_Series",e,i=i,"start",["Series : ",this.selectedSeries],"","text-before-edge"),o,this.stockChart.themeStyle.chartTitleFont.color,t),e+=$.measureText("Series: "+this.selectedSeries+" Z",o).width,""!==this.selectedIndicator&&(this.textElementSpan(new $.TextOption(t.id+"_Indicator",e,i,"start",["Indicator :",this.selectedIndicator],"","text-before-edge"),o,this.stockChart.themeStyle.chartTitleFont.color,t),e+=$.measureText("Indicator: "+this.selectedIndicator+" Z",o).width),""!==this.selectedTrendLine&&this.textElementSpan(new $.TextOption(t.id+"_TrendLine",e,i,"start",["Trendline :",this.selectedTrendLine],"","text-before-edge"),o,this.stockChart.themeStyle.chartTitleFont.color,t)),t},Fp.prototype.textElementSpan=function(e,t,i,o,r,n,a,l,s){void 0===r&&(r=!1),void 0===l&&(l=!1);var h,c=new $.SvgRenderer(""),i={id:e.id,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,x:e.x,y:e.y,fill:i,"font-size":t.size,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},d="string"==typeof e.text?e.text:r?e.text[e.text.length-1]:e.text[0],p=c.createText(i,d);if("string"!=typeof e.text&&1<e.text.length)for(var u=1,g=e.text.length;u<g;u++)e.text[u]=" "+e.text[u],h=c.createTSpan({x:e.x+$.measureText(d,t).width+5,id:e.id,y:e.y,opacity:.5},e.text[u]),p.appendChild(h);return q(!1,o,p,n,a,"x","y",null,null,l,!1,null,s),p};var wp=Fp;function Fp(e){this.selectedSeries="",this.selectedIndicator="",this.selectedTrendLine="",this.indicators=[],this.stockChart=e,this.selectedSeries=this.stockChart.series[0].type}Lp=function(e,t){return(Lp=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Lp,Pp,ep=function(e,t){function i(){this.constructor=e}Lp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},g=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Ap=(Pp=K.ChildProperty,ep(Mp,Pp),g([K.Property("")],Mp.prototype,"color",void 0),g([K.Property("16px")],Mp.prototype,"size",void 0),g([K.Property("Segoe UI")],Mp.prototype,"fontFamily",void 0),g([K.Property("Normal")],Mp.prototype,"fontStyle",void 0),g([K.Property("Normal")],Mp.prototype,"fontWeight",void 0),g([K.Property(1)],Mp.prototype,"opacity",void 0),g([K.Property("Trim")],Mp.prototype,"textOverflow",void 0),g([K.Property("Center")],Mp.prototype,"textAlignment",void 0),Mp);function Mp(){return null!==Pp&&Pp.apply(this,arguments)||this}Dp=K.ChildProperty,ep(Rp,Dp),g([K.Property("")],Rp.prototype,"color",void 0),g([K.Property(1)],Rp.prototype,"width",void 0);var Dp,kp=Rp;function Rp(){return null!==Dp&&Dp.apply(this,arguments)||this}Tp=K.ChildProperty,ep(Ep,Tp),g([K.Complex({},kp)],Ep.prototype,"border",void 0),g([K.Property("transparent")],Ep.prototype,"background",void 0),g([K.Property(1)],Ep.prototype,"opacity",void 0);var Tp,_p=Ep;function Ep(){return null!==Tp&&Tp.apply(this,arguments)||this}Ip=K.ChildProperty,ep(zp,Ip),g([K.Property(K.Browser.isDevice?5:10)],zp.prototype,"left",void 0),g([K.Property(K.Browser.isDevice?5:10)],zp.prototype,"right",void 0),g([K.Property(K.Browser.isDevice?5:10)],zp.prototype,"top",void 0),g([K.Property(K.Browser.isDevice?5:10)],zp.prototype,"bottom",void 0);var Ip,Op=zp;function zp(){return null!==Ip&&Ip.apply(this,arguments)||this}Bp=K.ChildProperty,ep(Vp,Bp),g([K.Property(!1)],Vp.prototype,"startFromAxis",void 0),g([K.Property(!0)],Vp.prototype,"visible",void 0),g([K.Property(null)],Vp.prototype,"start",void 0),g([K.Property("#808080")],Vp.prototype,"color",void 0),g([K.Property(null)],Vp.prototype,"end",void 0),g([K.Property(null)],Vp.prototype,"size",void 0),g([K.Property("Auto")],Vp.prototype,"sizeType",void 0),g([K.Property(null)],Vp.prototype,"dashArray",void 0),g([K.Property(!1)],Vp.prototype,"isRepeat",void 0),g([K.Property(null)],Vp.prototype,"repeatEvery",void 0),g([K.Property(!1)],Vp.prototype,"isSegmented",void 0),g([K.Property(null)],Vp.prototype,"repeatUntil",void 0),g([K.Property(null)],Vp.prototype,"segmentStart",void 0),g([K.Property(null)],Vp.prototype,"segmentAxisName",void 0),g([K.Property(null)],Vp.prototype,"segmentEnd",void 0),g([K.Property(1)],Vp.prototype,"opacity",void 0),g([K.Property("")],Vp.prototype,"text",void 0),g([K.Complex({color:"transparent",width:1},kp)],Vp.prototype,"border",void 0),g([K.Property(null)],Vp.prototype,"rotation",void 0),g([K.Property("Behind")],Vp.prototype,"zIndex",void 0),g([K.Property("Middle")],Vp.prototype,"horizontalAlignment",void 0),g([K.Property("Middle")],Vp.prototype,"verticalAlignment",void 0),g([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ap)],Vp.prototype,"textStyle",void 0);var Bp,Np=Vp;function Vp(){return null!==Bp&&Bp.apply(this,arguments)||this}Hp=K.ChildProperty,ep(Wp,Hp),g([K.Property(null)],Wp.prototype,"fill",void 0),g([K.Property("Gap")],Wp.prototype,"mode",void 0),g([K.Complex({color:"transparent",width:0},kp)],Wp.prototype,"border",void 0);var Hp,jp=Wp;function Wp(){return null!==Hp&&Hp.apply(this,arguments)||this}Up=K.ChildProperty,ep(Gp,Up),g([K.Property("Line")],Gp.prototype,"type",void 0),g([K.Property(null)],Gp.prototype,"length",void 0),g([K.Property(null)],Gp.prototype,"color",void 0),g([K.Property("")],Gp.prototype,"dashArray",void 0),g([K.Property(1)],Gp.prototype,"width",void 0);var Up,Xp=Gp;function Gp(){return null!==Up&&Up.apply(this,arguments)||this}Yp=K.ChildProperty,ep(qp,Yp),g([K.Property("date")],qp.prototype,"xName",void 0),g([K.Property("close")],qp.prototype,"yName",void 0),g([K.Property("open")],qp.prototype,"open",void 0),g([K.Property("close")],qp.prototype,"close",void 0),g([K.Property("high")],qp.prototype,"high",void 0),g([K.Property("low")],qp.prototype,"low",void 0),g([K.Property("volume")],qp.prototype,"volume",void 0),g([K.Property("")],qp.prototype,"pointColorMapping",void 0),g([K.Property("SeriesType")],qp.prototype,"legendShape",void 0),g([K.Property("")],qp.prototype,"legendImageUrl",void 0),g([K.Complex(null,Se)],qp.prototype,"animation",void 0),g([K.Property(null)],qp.prototype,"xAxisName",void 0),g([K.Property(null)],qp.prototype,"yAxisName",void 0),g([K.Property(null)],qp.prototype,"fill",void 0),g([K.Property("0")],qp.prototype,"dashArray",void 0),g([K.Property(1)],qp.prototype,"width",void 0),g([K.Property("")],qp.prototype,"name",void 0),g([K.Property("")],qp.prototype,"dataSource",void 0),g([K.Property()],qp.prototype,"query",void 0),g([K.Property("#e74c3d")],qp.prototype,"bullFillColor",void 0),g([K.Property("#2ecd71")],qp.prototype,"bearFillColor",void 0),g([K.Property(!1)],qp.prototype,"enableSolidCandles",void 0),g([K.Property(!0)],qp.prototype,"visible",void 0),g([K.Complex({color:"transparent",width:0},ae)],qp.prototype,"border",void 0),g([K.Property(1)],qp.prototype,"opacity",void 0),g([K.Property("Candle")],qp.prototype,"type",void 0),g([K.Complex(null,rn)],qp.prototype,"marker",void 0),g([K.Collection([],dn)],qp.prototype,"trendlines",void 0),g([K.Property(!0)],qp.prototype,"enableTooltip",void 0),g([K.Property("")],qp.prototype,"tooltipMappingName",void 0),g([K.Property(null)],qp.prototype,"selectionStyle",void 0),g([K.Property(.5)],qp.prototype,"cardinalSplineTension",void 0),g([K.Complex(null,Ae)],qp.prototype,"cornerRadius",void 0),g([K.Complex(null,jp)],qp.prototype,"emptyPointSettings",void 0),g([K.Property(null)],qp.prototype,"columnWidth",void 0),g([K.Property(0)],qp.prototype,"columnSpacing",void 0);var Yp,Zp=qp;function qp(){var e=null!==Yp&&Yp.apply(this,arguments)||this;return e.localData=void 0,e}Qp=K.ChildProperty,ep($p,Qp),g([K.Property("Sma")],$p.prototype,"type",void 0),g([K.Property(14)],$p.prototype,"period",void 0),g([K.Property(3)],$p.prototype,"dPeriod",void 0),g([K.Property(14)],$p.prototype,"kPeriod",void 0),g([K.Property(80)],$p.prototype,"overBought",void 0),g([K.Property(20)],$p.prototype,"overSold",void 0),g([K.Property("Close")],$p.prototype,"field",void 0),g([K.Property(2)],$p.prototype,"standardDeviation",void 0),g([K.Property(12)],$p.prototype,"slowPeriod",void 0),g([K.Property(!0)],$p.prototype,"showZones",void 0),g([K.Property(26)],$p.prototype,"fastPeriod",void 0),g([K.Complex({color:"#ff9933",width:2},Xp)],$p.prototype,"macdLine",void 0),g([K.Property("Both")],$p.prototype,"macdType",void 0),g([K.Property("#e74c3d")],$p.prototype,"macdNegativeColor",void 0),g([K.Property("#2ecd71")],$p.prototype,"macdPositiveColor",void 0),g([K.Property("rgba(211,211,211,0.25)")],$p.prototype,"bandColor",void 0),g([K.Complex({color:"#ffb735",width:1},Xp)],$p.prototype,"upperLine",void 0),g([K.Property("")],$p.prototype,"seriesName",void 0),g([K.Complex({color:"#f2ec2f",width:1},Xp)],$p.prototype,"periodLine",void 0),g([K.Complex({color:"#f2ec2f",width:1},Xp)],$p.prototype,"lowerLine",void 0),g([K.Property("")],$p.prototype,"high",void 0),g([K.Property("")],$p.prototype,"open",void 0),g([K.Property("")],$p.prototype,"low",void 0),g([K.Property("")],$p.prototype,"xName",void 0),g([K.Property("")],$p.prototype,"close",void 0),g([K.Property("")],$p.prototype,"pointColorMapping",void 0),g([K.Property("")],$p.prototype,"volume",void 0),g([K.Property(null)],$p.prototype,"xAxisName",void 0),g([K.Property(null)],$p.prototype,"yAxisName",void 0),g([K.Complex(null,Se)],$p.prototype,"animation",void 0),g([K.Property(null)],$p.prototype,"fill",void 0),g([K.Property("0")],$p.prototype,"dashArray",void 0),g([K.Property(1)],$p.prototype,"width",void 0),g([K.Property()],$p.prototype,"query",void 0),g([K.Property("")],$p.prototype,"dataSource",void 0);var Qp,Kp=$p;function $p(){return null!==Qp&&Qp.apply(this,arguments)||this}Jp=K.ChildProperty,ep(tu,Jp),g([K.Complex({},Ti)],tu.prototype,"crosshairTooltip",void 0),g([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],tu.prototype,"labelStyle",void 0),g([K.Property("")],tu.prototype,"title",void 0),g([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ap)],tu.prototype,"titleStyle",void 0),g([K.Property("")],tu.prototype,"labelFormat",void 0),g([K.Property("DateTime")],tu.prototype,"skeletonType",void 0),g([K.Property("")],tu.prototype,"skeleton",void 0),g([K.Property(0)],tu.prototype,"plotOffset",void 0),g([K.Property(10)],tu.prototype,"logBase",void 0),g([K.Property(0)],tu.prototype,"rowIndex",void 0),g([K.Property(1)],tu.prototype,"span",void 0),g([K.Property(3)],tu.prototype,"maximumLabels",void 0),g([K.Property(null)],tu.prototype,"desiredIntervals",void 0),g([K.Property(1)],tu.prototype,"zoomFactor",void 0),g([K.Property(0)],tu.prototype,"zoomPosition",void 0),g([K.Property(!1)],tu.prototype,"opposedPosition",void 0),g([K.Property(!0)],tu.prototype,"enableAutoIntervalOnZooming",void 0),g([K.Property("Double")],tu.prototype,"valueType",void 0),g([K.Property("Auto")],tu.prototype,"rangePadding",void 0),g([K.Property("None")],tu.prototype,"edgeLabelPlacement",void 0),g([K.Property("BetweenTicks")],tu.prototype,"labelPlacement",void 0),g([K.Property("Auto")],tu.prototype,"intervalType",void 0),g([K.Property("Outside")],tu.prototype,"tickPosition",void 0),g([K.Property("")],tu.prototype,"name",void 0),g([K.Property("Outside")],tu.prototype,"labelPosition",void 0),g([K.Property(!0)],tu.prototype,"visible",void 0),g([K.Property(0)],tu.prototype,"labelRotation",void 0),g([K.Property(0)],tu.prototype,"minorTicksPerInterval",void 0),g([K.Property(null)],tu.prototype,"crossesAt",void 0),g([K.Property(null)],tu.prototype,"crossesInAxis",void 0),g([K.Property(!0)],tu.prototype,"placeNextToAxisLine",void 0),g([K.Property(null)],tu.prototype,"minimum",void 0),g([K.Property(null)],tu.prototype,"interval",void 0),g([K.Property(null)],tu.prototype,"maximum",void 0),g([K.Property(34)],tu.prototype,"maximumLabelWidth",void 0),g([K.Complex({},Pi)],tu.prototype,"majorTickLines",void 0),g([K.Property(!1)],tu.prototype,"enableTrim",void 0),g([K.Complex({},Di)],tu.prototype,"minorTickLines",void 0),g([K.Complex({},xi)],tu.prototype,"minorGridLines",void 0),g([K.Complex({},fi)],tu.prototype,"majorGridLines",void 0),g([K.Complex({},wi)],tu.prototype,"lineStyle",void 0),g([K.Property(!1)],tu.prototype,"isInversed",void 0),g([K.Property("Trim")],tu.prototype,"labelIntersectAction",void 0),g([K.Property(100)],tu.prototype,"coefficient",void 0),g([K.Property(0)],tu.prototype,"startAngle",void 0),g([K.Property(2)],tu.prototype,"tabIndex",void 0),g([K.Collection([],Np)],tu.prototype,"stripLines",void 0),g([K.Property(null)],tu.prototype,"description",void 0);var Jp,eu=tu;function tu(){return null!==Jp&&Jp.apply(this,arguments)||this}iu=K.ChildProperty,ep(ru,iu),g([K.Property("100%")],ru.prototype,"height",void 0),g([K.Complex({},kp)],ru.prototype,"border",void 0);var iu,ou=ru;function ru(){return null!==iu&&iu.apply(this,arguments)||this}nu=K.ChildProperty,ep(lu,nu),g([K.Property(2)],lu.prototype,"period",void 0),g([K.Property("")],lu.prototype,"name",void 0),g([K.Property("Linear")],lu.prototype,"type",void 0),g([K.Property(2)],lu.prototype,"polynomialOrder",void 0),g([K.Property(0)],lu.prototype,"forwardForecast",void 0),g([K.Property(0)],lu.prototype,"backwardForecast",void 0),g([K.Complex({},Se)],lu.prototype,"animation",void 0),g([K.Property(!0)],lu.prototype,"enableTooltip",void 0),g([K.Complex({},rn)],lu.prototype,"marker",void 0),g([K.Property(null)],lu.prototype,"intercept",void 0),g([K.Property("")],lu.prototype,"fill",void 0),g([K.Property("SeriesType")],lu.prototype,"legendShape",void 0),g([K.Property(1)],lu.prototype,"width",void 0);var nu,au=lu;function lu(){return null!==nu&&nu.apply(this,arguments)||this}su=K.ChildProperty,ep(cu,su),g([K.Property("0")],cu.prototype,"y",void 0),g([K.Property("0")],cu.prototype,"x",void 0),g([K.Property(null)],cu.prototype,"content",void 0),g([K.Property("Chart")],cu.prototype,"region",void 0),g([K.Property("Center")],cu.prototype,"horizontalAlignment",void 0),g([K.Property("Pixel")],cu.prototype,"coordinateUnits",void 0),g([K.Property("Middle")],cu.prototype,"verticalAlignment",void 0),g([K.Property(null)],cu.prototype,"yAxisName",void 0),g([K.Property(null)],cu.prototype,"description",void 0),g([K.Property(null)],cu.prototype,"xAxisName",void 0);var su,hu=cu;function cu(){return null!==su&&su.apply(this,arguments)||this}du=K.ChildProperty,ep(uu,du),g([K.Property(0)],uu.prototype,"point",void 0),g([K.Property(0)],uu.prototype,"series",void 0);var du,pu=uu;function uu(){return null!==du&&du.apply(this,arguments)||this}gu=K.ChildProperty,ep(mu,gu),g([K.Property("Circle")],mu.prototype,"type",void 0),g([K.Property("")],mu.prototype,"text",void 0),g([K.Property("")],mu.prototype,"description",void 0),g([K.Property()],mu.prototype,"date",void 0),g([K.Complex({color:"black",width:1},kp)],mu.prototype,"border",void 0),g([K.Property("transparent")],mu.prototype,"background",void 0),g([K.Property(!0)],mu.prototype,"showOnSeries",void 0),g([K.Property("close")],mu.prototype,"placeAt",void 0),g([K.Complex(o,Ap)],mu.prototype,"textStyle",void 0),g([K.Property([])],mu.prototype,"seriesIndexes",void 0);var gu,ep=mu;function mu(){return null!==gu&&gu.apply(this,arguments)||this}yu=function(e,t){return(yu=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}yu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(bu,fu=Ah),bu.prototype.renderStockEvents=function(){var e,t=this.stockChart,i=t.renderer.createGroup({id:this.chartId+"_StockEvents"});this.symbolLocations=function(e,t,i){for(var o=[],r=0;r<e;++r){for(var n=[],a=0;a<t;++a)n[a]=i;o[r]=n}return o}(t.series.length,t.stockEvents.length,new ee(0,0));for(var o=0;o<t.stockEvents.length;o++)for(var r=this.stockChart.stockEvents[o],n=0,a=t.chart.series;n<a.length;n++){var l=a[n],s={name:Et,stockChart:t,text:r.text,type:r.type,cancel:!1,series:l};if(t.trigger(Et,s),r.text=s.text,r.type=s.type,e=$.measureText(r.text+"W",r.textStyle,this.stockChart.themeStyle.axisLabelFont),!s.cancel){var h=t.renderer.createGroup({id:this.chartId+"_Series_"+l.index+"_StockEvents_"+o}),s=this.dateParse(r.date).getTime();if(Xi(s=this.stockChart.isDateTimeCategory?l.xAxis.labels.indexOf(s.toString()):s,l.xAxis.visibleRange)&&s>=l.xMin&&s<=l.xMax)if(0<r.seriesIndexes.length)for(var c=0;c<r.seriesIndexes.length;c++)r.seriesIndexes[c]===l.index&&i.appendChild(this.creatEventGroup(h,l,r,o,e));else i.appendChild(this.creatEventGroup(h,l,r,o,e))}}return i},bu.prototype.creatEventGroup=function(e,t,i,o,r){var n=this.findClosePoint(t,i);return i.showOnSeries||(n.y=t.yAxis.rect.y+t.yAxis.rect.height),this.symbolLocations[t.index][o]=n,this.createStockElements(e,i,t,o,n,r),e},bu.prototype.findClosePoint=function(e,t){for(var i,o,r=this.dateParse(t.date).getTime(),r=this.stockChart.isDateTimeCategory?e.xAxis.labels.indexOf(r.toString()):r,n=this.getClosest(e,r),a=0;a<e.points.length;a++)(n===(o=e.points[a]).xValue&&o.visible||0!==a&&a!==e.points.length-1&&n>e.points[a-1].xValue&&n<e.points[a+1].xValue)&&(i=new Or(o,e));r=e.xAxis.rect.x+ro(i.point.xValue,e.xAxis)*e.xAxis.rect.width;return t=-1*(ro(i.point[t.placeAt],e.yAxis)*e.yAxis.rect.height)+(e.yAxis.rect.y+e.yAxis.rect.height),new ee(r,t)},bu.prototype.createStockElements=function(e,t,i,o,r,n){var a,l,s=new $.Size(20<n.width?n.width:20,20<n.height?n.height:20),h=r.x,c=r.y,d=this.chartId+"_Series_"+i.index+"_StockEvents_"+o,p=t.border;switch(t.type){case"Flag":case"Circle":case"Square":e.appendChild(Eo(new ee(h,c),"Circle",new $.Size(2,2),"",new $.PathOption(d+"_Circle","transparent",p.width,p.color),this.dateParse(t.date).toISOString())),e.appendChild(Eo(new ee(h,c-5),"VerticalLine",new $.Size(9,9),"",new $.PathOption(d+"_Path",p.color,p.width,p.color),this.dateParse(t.date).toISOString())),e.appendChild(Eo(new ee("Flag"!==t.type?h:h+s.width/2,c-s.height),t.type,s,"",new $.PathOption(d+"_Shape",t.background,p.width,p.color),this.dateParse(t.date).toISOString())),gr(this.stockChart.renderer,new $.TextOption(d+"_Text","Flag"!==t.type?r.x:r.x+s.width/2,r.y-s.height,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"ArrowUp":case"ArrowDown":case"ArrowRight":case"ArrowLeft":a="M "+h+" "+c+" "+this.findArrowpaths(t.type),l=new $.PathOption(d+"_Shape",t.background,p.width,p.color,1,"",a),e.appendChild(this.stockChart.renderer.drawPath(l));break;case"Triangle":case"InvertedTriangle":s.height=3*n.height,s.width=n.width+1.5*n.width,e.appendChild(Eo(new ee(r.x,r.y),t.type,new $.Size(20,20),"",new $.PathOption(d+"_Shape",t.background,p.width,p.color),this.dateParse(t.date).toISOString())),gr(this.stockChart.renderer,new $.TextOption(d+"_Text",r.x,r.y,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"Text":n.height+=8,a="M "+h+" "+c+" L "+(h-5)+" "+(c-5)+" L "+(h-n.width/2)+" "+(c-5)+" L "+(h-n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-5)+" L "+(h+5)+" "+(c-5)+" Z",l=new $.PathOption(d+"_Shape",t.background,p.width,p.color,1,"",a),e.appendChild(this.stockChart.renderer.drawPath(l)),gr(this.stockChart.renderer,new $.TextOption(d+"_Text",h,c-n.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;default:a="M "+h+" "+c+" L "+(h-n.width/2)+" "+(c-n.height/3)+" L "+(h-n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height)+" L "+(h+n.width/2)+" "+(c-n.height/3)+" Z",l=new $.PathOption(d+"_Shape",t.background,p.width,p.color,1,"",a),e.appendChild(this.stockChart.renderer.drawPath(l)),gr(this.stockChart.renderer,new $.TextOption(d+"_Text",h,c-n.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e)}},bu.prototype.renderStockEventTooltip=function(e){var t=parseInt(e.split("_StockEvents_")[0].split(this.chartId+"_Series_")[1],10),e=parseInt(e.split("_StockEvents_")[1].replace(/\D+/g,""),10),i=this.symbolLocations[t][e],i=new ee(i.x,i.y+this.stockChart.toolbarHeight+this.stockChart.titleSize.height),t=(this.applyHighLights(e,t),this.getElement(this.chartId+"_StockEvents_Tooltip_svg"));this.stockEventTooltip&&t&&0<parseInt(t.getAttribute("opacity"),10)?(this.stockEventTooltip.content=[this.stockChart.stockEvents[e].description],this.stockEventTooltip.location=i,this.stockEventTooltip.dataBind()):(J(this.chartId+"_StockEvents_Tooltip_svg")&&K.remove(J(this.chartId+"_StockEvents_Tooltip")),t=K.createElement("div",{id:this.chartId+"_StockEvents_Tooltip",className:"ejSVGTooltip",attrs:{style:"pointer-events:none; position:absolute;z-index: 1"}}),J(this.chartId+"_Secondary_Element").appendChild(t),this.stockEventTooltip=new $.Tooltip({opacity:1,header:"",content:[this.stockChart.stockEvents[e].description],enableAnimation:!0,location:i,theme:this.stockChart.theme,inverted:!0,areaBounds:this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect}),this.stockEventTooltip.areaBounds.y+=this.stockChart.toolbarHeight+this.stockChart.titleSize.height,this.stockEventTooltip.appendTo("#"+t.id))},bu.prototype.removeStockEventTooltip=function(e){var t=this,i=this.getElement(this.chartId+"_StockEvents_Tooltip");this.stopAnimation(),i&&this.stockEventTooltip?this.toolTipInterval=+setTimeout(function(){t.stockEventTooltip.fadeOut(),t.removeHighLights()},e):i&&this.stockChart.onPanning&&K.remove(i)},bu.prototype.findArrowpaths=function(e){var t="";switch(e){case"ArrowUp":t="l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z";break;case"ArrowDown":t="l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z";break;case"ArrowLeft":t="l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z";break;case"ArrowRight":t="l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z"}return t},bu.prototype.applyHighLights=function(e,t){this.pointIndex===e&&this.seriesIndex===t||this.removeHighLights(),this.pointIndex=e,this.seriesIndex=t;t=this.chartId+"_Series_"+t+"_StockEvents_"+e;this.setOpacity(t+"_Shape",.5),this.setOpacity(t+"_Text",.5)},bu.prototype.removeHighLights=function(){var e=this.chartId+"_Series_"+this.seriesIndex+"_StockEvents_"+this.pointIndex;this.setOpacity(e+"_Shape",1),this.setOpacity(e+"_Text",1)},bu.prototype.setOpacity=function(e,t){J(e)&&J(e).setAttribute("opacity",t.toString())},bu.prototype.dateParse=function(e){var t=this.chart.intl.getDateParser({skeleton:"full",type:"dateTime"}),i=this.chart.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(t(i(new Date(R.DataUtil.parse.parseJson({val:e}).val)))))};var yu,fu,vu=bu;function bu(e){var t=fu.call(this,e.chart)||this;return t.symbolLocations=[],t.stockChart=e,t.chartId=t.stockChart.element.id,t}xu=function(e,t){return(xu=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var xu,Su,g=function(e,t){function i(){this.constructor=e}xu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Cu=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Cu=(Su=K.ChildProperty,g(wu,Su),Cu([K.Property(!1)],wu.prototype,"visible",void 0),Cu([K.Property(null)],wu.prototype,"height",void 0),Cu([K.Property(null)],wu.prototype,"width",void 0),Cu([K.Complex({x:0,y:0},Q)],wu.prototype,"location",void 0),Cu([K.Property("Auto")],wu.prototype,"position",void 0),Cu([K.Property("Series")],wu.prototype,"mode",void 0),Cu([K.Property(8)],wu.prototype,"padding",void 0),Cu([K.Property(null)],wu.prototype,"itemPadding",void 0),Cu([K.Property("Center")],wu.prototype,"alignment",void 0),Cu([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ap)],wu.prototype,"textStyle",void 0),Cu([K.Property(10)],wu.prototype,"shapeHeight",void 0),Cu([K.Property(10)],wu.prototype,"shapeWidth",void 0),Cu([K.Complex({},kp)],wu.prototype,"border",void 0),Cu([K.Complex({left:0,right:0,top:0,bottom:0},Op)],wu.prototype,"margin",void 0),Cu([K.Complex({left:0,right:0,top:0,bottom:0},ve)],wu.prototype,"containerPadding",void 0),Cu([K.Property(8)],wu.prototype,"shapePadding",void 0),Cu([K.Property("transparent")],wu.prototype,"background",void 0),Cu([K.Property(1)],wu.prototype,"opacity",void 0),Cu([K.Property(!0)],wu.prototype,"toggleVisibility",void 0),Cu([K.Property(null)],wu.prototype,"description",void 0),Cu([K.Property(3)],wu.prototype,"tabIndex",void 0),Cu([K.Property(null)],wu.prototype,"title",void 0),Cu([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ap)],wu.prototype,"titleStyle",void 0),Cu([K.Property("Top")],wu.prototype,"titlePosition",void 0),Cu([K.Property(100)],wu.prototype,"maximumTitleWidth",void 0),Cu([K.Property(!0)],wu.prototype,"enablePages",void 0),Cu([K.Property(!1)],wu.prototype,"isInversed",void 0),wu);function wu(){return null!==Su&&Su.apply(this,arguments)||this}g(Lu,Fu=i),Lu.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on("click",this.click,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this),this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this))},Lu.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd),this.chart.off(K.Browser.touchMoveEvent,this.mouseMove))},Lu.prototype.mouseMove=function(e){this.chart.legendSettings.visible&&!this.chart.isTouch&&this.move(e)},Lu.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},Lu.prototype.getLegendOptions=function(e){var t,i;this.legendCollections=[],1<e.length&&(this.legend.mode="Series");for(var o=0,r=e;o<r.length;o++){var n=r[o];"Series"===this.legend.mode&&"Indicator"!==n.category&&(t=n.type,i=n.pointColorMapping&&0<n.points.length&&n.points[0].interior||n.interior,this.legendCollections.push(new Hn(n.name,i,n.legendShape,("TrendLine"===n.category?this.chart.series[n.sourceIndex].trendlines[n.index]:n).visible,t,n.legendImageUrl,n.marker.shape,n.marker.visible)))}},Lu.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t);var o,r=i.padding,n=(this.isTitle=!!i.title,i.titlePosition),a=0,l=0,s=this.arrowHeight,h=this.arrowWidth,c=this.isVertical&&!i.enablePages?s:0,d=this.isTitle&&"Top"===n?this.fivePixel+this.legendTitleSize.height:0,d=this.isTitle&&this.isVertical&&"Top"!==n?this.fivePixel+this.legendTitleSize.height:d;this.isVertical?a=i.width?0:e.width/100*5:l=i.height?0:e.height/100*5,t.height+=l,t.width+=a;for(var p,u=i.shapePadding,g=i.shapeWidth,m=0,y=0,f=0,v=0,b=0,x=(this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight),!1),S=0;S<this.legendCollections.length;S++)o=this.legendCollections[S],Nt.test(o.text)&&(o.text=Sr(o.text,Nt)),Bt.test(o.text)&&(o.text=Sr(o.text,Bt)),p={fill:o.fill,text:o.text,shape:o.shape,markerShape:o.markerShape,name:nt,cancel:!1},this.chart.trigger(nt,p),o.text=p.text,o.render=!p.cancel,o.shape=p.shape,o.fill=p.fill,o.markerShape=p.markerShape,o.textSize=$.measureText(o.text,i.textStyle,this.chart.themeStyle.legendLabelFont),o.render&&(x=!0,y+=p=u+g+o.textSize.width+(this.isVertical||0===S?r:this.itemPadding),i.enablePages||this.isVertical||(b=this.isTitle&&"Top"!==n?this.legendTitleSize.width+this.fivePixel:0,b+=h),t.width<r+y+b||this.isVertical)&&(m=Math.max(m,y+r+b-(this.isVertical?0:p)),0===v&&p!==y&&(v=1),y=this.isVertical?0:p,f=++v*(this.maxItemHeight+(this.isVertical?this.itemPadding:r))+r+d+c);f=Math.max(f,this.maxItemHeight+r+r+d),this.isPaging=t.height<f,!this.isPaging||i.enablePages||this.isVertical||(f=this.maxItemHeight+r+r+("Top"===n?d:0)),this.totalPages=v,this.isPaging||this.isVertical||(y+=this.isTitle&&"Top"!==n?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),x?this.setBounds(Math.max(y+r,m),f,i,t):this.setBounds(0,0,i,t)},Lu.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=o.location.x+i+o.textSize.width,s=this.legend.padding,r=(l+(e.textSize.width+i-this.itemPadding)>r.x+r.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=n===a?o.location.y:o.location.y+this.maxItemHeight+(this.isVertical?this.itemPadding:s)):(e.location.x=n===a?o.location.x:l,e.location.y=o.location.y),this.legendBounds.width+this.legendBounds.x-(e.location.x+i-this.itemPadding-this.legend.shapeWidth/2));e.text=hr(+r.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont)},Lu.prototype.legendClick=function(e){var t=this.chart,i="Series"===t.legendSettings.mode?e:0,i=t.visibleSeries[i],o=this.legendCollections[e],r={legendText:o.text,legendShape:o.shape,chart:t,series:i,name:it,cancel:!1};this.chart.trigger(it,r),i.legendShape=r.legendShape,null!==i.fill&&(t.visibleSeries[e].interior=i.fill),t.legendSettings.toggleVisibility&&(this.changeSeriesVisiblity(i,i.visible),o.visible=("TrendLine"===i.category?t.series[i.sourceIndex].trendlines[i.index]:i).visible,this.refreshLegendToggle(t))},Lu.prototype.refreshLegendToggle=function(e){var t=e.stockLegendModule.legendBounds;e.stockLegendModule.renderLegend(e,e.legendSettings,t),e.cartesianChart.cartesianChartRefresh(e)},Lu.prototype.changeSeriesVisiblity=function(e,t){e.visible=!t,this.SecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(function(e){return e.visible})),this.SecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(function(e){return e.visible}))},Lu.prototype.SecondaryAxis=function(e){return-1<this.chart.axes.indexOf(e)},Lu.prototype.click=function(e){var t=this;if(this.chart.legendSettings.visible){for(var i=this.chart.mouseY,o=this.chart.mouseX,r=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"],n=e.target.id,a=0,l=r;a<l.length;a++){var s=l[a];if(-1<n.indexOf(s)){s=parseInt(n.split(s)[1],10),this.legendClick(s);break}}-1<n.indexOf(this.legendID+"_pagedown")?this.changePage(e,!1):-1<n.indexOf(this.legendID+"_pageup")&&this.changePage(e,!0),this.legendRegions.filter(function(e){return mo(o,i+(t.isPaging?(t.currentPageNumber-1)*t.translatePage(!1,null,1,2):0),e.rect)})}},Lu.prototype.getModuleName=function(){return"StockLegend"},Lu.prototype.destroy=function(){this.removeEventListener()};var Fu,g=Lu;function Lu(e){e=Fu.call(this,e)||this;return(e.library=e).addEventListener(),e}Pu=function(e,t){return(Pu=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Pu,Au,Mu,Du=function(e,t){function i(){this.constructor=e}Pu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},y=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Du=(Au=K.Component,Du(f,Au),(Mu=f).prototype.onPropertyChanged=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++)"series"===i[t]&&(this.storeDataSource(),this.chartRender(),this.stockChartDataManagerSuccess())},f.prototype.rangeChanged=function(e,t){var i=document.getElementById(this.chartObject.id);if(i)for(;i.firstChild;)i.removeChild(i.firstChild);this.startValue=e,this.endValue=t,this.cartesianChart.initializeChart(),this.periodSelector.datePicker.startDate=this.isDateTimeCategory?new Date(this.sortedData[e]):new Date(e),this.periodSelector.datePicker.endDate=this.isDateTimeCategory?new Date(this.sortedData[t]):new Date(t),this.periodSelector.datePicker.dataBind()},f.prototype.preRender=function(){this.unWireEvents(),this.initPrivateVariable(),this.allowServerDataBinding=!1,this.isProtectedOnChange=!0,this.setCulture(),this.wireEvents()},f.prototype.unWireEvents=function(){var e=K.Browser.touchStartEvent,t=K.Browser.touchMoveEvent,i=K.Browser.touchEndEvent,o=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,e,this.stockChartOnMouseDown),K.EventHandler.remove(this.element,t,this.stockChartOnMouseMove),K.EventHandler.remove(this.element,i,this.stockChartMouseEnd),K.EventHandler.remove(this.element,"click",this.stockChartOnMouseClick),K.EventHandler.remove(this.element,"contextmenu",this.stockChartRightClick),K.EventHandler.remove(this.element,o,this.stockChartOnMouseLeave),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize)},f.prototype.wireEvents=function(){var e=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.add(this.element,K.Browser.touchStartEvent,this.stockChartOnMouseDown,this),K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.stockChartOnMouseMove,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.stockChartMouseEnd,this),K.EventHandler.add(this.element,"click",this.stockChartOnMouseClick,this),K.EventHandler.add(this.element,"contextmenu",this.stockChartRightClick,this),K.EventHandler.add(this.element,e,this.stockChartOnMouseLeave,this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize.bind(this)),this.setStyle(this.element)},f.prototype.initPrivateVariable=function(){var e;""===this.element.id&&(e=document.getElementsByClassName("e-stockChart").length,this.element.id="stockChart_"+this.chartid+"_"+e),this.seriesXMax=null,this.seriesXMin=null,this.startValue=null,this.endValue=null,this.currentEnd=null,this.isStockChartRendered=!1},f.prototype.setCulture=function(){this.intl=new K.Internationalization},f.prototype.storeDataSource=function(){for(var e=0;e<this.series.length;e++){var t=this.series[e];this.tempSeriesType.push(t.type),t.localData=void 0}0===this.series.length&&this.series.push({}),this.initialRender=!0,this.rangeFound=!1,this.resizeTo=null,this.startValue=null,this.endValue=null},f.prototype.render=function(){var e=this,t={name:"load",stockChart:this,theme:this.theme};this.trigger("load",t,function(){e.themeStyle=Gr(e.theme,!1,e),e.storeDataSource(),e.drawSVG(),e.renderTitle(),e.renderLegend(),e.chartModuleInjection(),e.chartRender(),e.dataSource instanceof R.DataManager&&e.series[0].dataSource instanceof R.DataManager||(e.stockChartDataManagerSuccess(),e.initialRender=!1),e.renderComplete(),e.allowServerDataBinding=!0,e.isStockChartRendered=!0}),this.isProtectedOnChange=!1},f.prototype.stockChartDataManagerSuccess=function(){this.findRange(),this.renderRangeSelector(),this.renderPeriodSelector(),this.trigger("loaded",{stockChart:this})},f.prototype.setStyle=function(e){var t=this.zoomSettings,t=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable;e.style.msTouchAction=t?"none":"element",e.style.touchAction=t?"none":"element",e.style.msUserSelect="none",e.style.msContentZooming="none",e.style.position="relative",e.style.display="block",e.style.webkitUserSelect="none"},f.prototype.drawSVG=function(){this.removeSvg(),mr(this),this.renderer=new $.SvgRenderer(this.element.id),this.renderBorder(),this.createSecondaryElements(),this.calculateVisibleSeries(),this.calculateLegendBounds(),this.mainObject=this.renderer.createSvg({id:this.element.id+"_stockChart_svg",width:this.availableSize.width,height:this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-this.titleSize.height}),this.svgObject=this.mainObject,this.element.appendChild(this.mainObject)},f.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e,t=Xr(this.theme),i=t.length,o=this.series.sort(function(e,t){return e.zOrder-t.zOrder}),r=0,n=o.length;r<n;r++)(e=o[r]).category="Series",e.index=r,e.interior=e.fill||t[r%i],this.visibleSeries.push(e),o[r]=e},f.prototype.createSecondaryElements=function(){var e=pr(!1,this.element.id+"_Secondary_Element")||this.createElement("div"),t=(e.id=this.element.id+"_Secondary_Element",this.title?(this.titleSize=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont),this.titleSize.height+=15):this.titleSize={height:null,width:null},(this.enablePeriodSelector?this.toolbarHeight:0)+this.titleSize.height);e.style.cssText="position: relative; height:"+t+"px",q(!1,this.element,e,!1)},f.prototype.requiredModules=function(){var e=[];return this.legendSettings.visible&&e.push({member:"StockLegend",args:[this]}),e},f.prototype.findCurrentData=function(e,t){var i=this.enablePeriodSelector||this.enableSelector?void 0:e,o=this.isDateTimeCategory?new Date(this.sortedData[Math.floor(this.startValue)]).getTime():this.startValue,r=this.isDateTimeCategory?new Date(this.sortedData[Math.floor(this.endValue)]).getTime():this.endValue;return i=e&&o&&r?e.filter(function(e){return new Date(Date.parse(e[t])).getTime()>=o&&new Date(Date.parse(e[t])).getTime()<=r}):i},f.prototype.renderPeriodSelector=function(){this.enablePeriodSelector&&(this.toolbarSelector.initializePeriodSelector(),this.periodSelector.toolbar.refreshOverflow(),this.enableSelector||this.cartesianChart.cartesianChartRefresh(this))},f.prototype.chartRender=function(){this.sortedData=[],this.cartesianChart=new bp(this),this.cartesianChart.initializeChart()},f.prototype.renderRangeSelector=function(){this.enableSelector&&(this.rangeSelector=new Sp(this),this.rangeSelector.initializeRangeNavigator())},f.prototype.getModuleName=function(){return"stockChart"},f.prototype.getPersistData=function(){return""},f.prototype.removeSvg=function(){document.getElementById(this.element.id+"_Secondary_Element")&&K.remove(document.getElementById(this.element.id+"_Secondary_Element"));if(this.mainObject){for(;0<this.mainObject.childNodes.length;)this.mainObject.removeChild(this.mainObject.firstChild);!this.mainObject.hasChildNodes()&&this.mainObject.parentNode&&(K.remove(this.mainObject),this.mainObject=null,this.selectorObject=null,this.chartObject=null)}},f.prototype.chartModuleInjection=function(){for(var e=0,t=this.getInjectedModules();e<t.length;e++){var i,o=t[e];(-1===(i=o.prototype.getModuleName().toLowerCase()).indexOf("rangetooltip")?aa:vp).Inject(o),"datetime"!==i&&"areaseries"!==i&&"steplineseries"!==i&&"datetimecategory"!==i||vp.Inject(o)}},f.prototype.findRange=function(){var o=this;this.seriesXMin=1/0,this.seriesXMax=-1/0;for(var e=0,t=this.chart.series;e<t.length;e++){var i=t[e];i.visible&&(this.seriesXMin=Math.min(this.seriesXMin,i.xMin),this.seriesXMax=Math.max(this.seriesXMax,i.xMax))}this.endValue=this.currentEnd=this.seriesXMax,this.enablePeriodSelector?(this.toolbarSelector=new wp(this),this.periodSelector=new gp(this),this.tempPeriods=this.periods.length?this.periods:this.toolbarSelector.calculateAutoPeriods(),this.tempPeriods.map(function(e){if(e.selected&&"ytd"===e.text.toLowerCase())if(o.isDateTimeCategory){for(var t=new Date(o.sortedData[o.currentEnd]).getFullYear(),i=o.currentEnd-1;0<=i;i--)if(new Date(o.sortedData[i]).getFullYear()!==t){o.startValue=i+1;break}o.startValue=-1===i?0:o.startValue}else o.startValue=new Date(new Date(o.currentEnd).getFullYear().toString()).getTime();else e.selected&&"all"===e.text.toLowerCase()?o.startValue=o.seriesXMin:e.selected&&(o.startValue=o.periodSelector.changedRange(e.intervalType,o.endValue,e.interval).getTime(),o.startValue=o.isDateTimeCategory?o.periodSelector.findStartValue(o.startValue,o.endValue):o.startValue)})):this.startValue=this.seriesXMin,this.rangeFound=!0},f.prototype.stockChartResize=function(){var e=this;return document.getElementById(this.element.id)&&(this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(function(){e.cartesianChart&&(mr(e),e.renderBorder(),e.calculateLegendBounds(),e.renderTitle(),e.renderLegend(),e.cartesianChart.cartesianChartRefresh(e),e.legendSettings.visible||e.mainObject.setAttribute("width",e.availableSize.width.toString()),e.enablePeriodSelector)&&e.renderPeriodSelector()},500)),!1},f.prototype.stockChartOnMouseDown=function(e){var t,i,o,r=this.chart.element.getBoundingClientRect(),n=e.target;return this.trigger("stockChartMouseDown",{target:n.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,o=e.target,i=e.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,o=e.target),-1<o.id.indexOf(this.element.id+"_stockChart_chart")&&(n=J(this.element.id+"_stockChart_chart").getBoundingClientRect(),this.mouseDownY=this.previousMouseMoveY=i-r.top-Math.max(n.top-r.top,0),this.mouseDownX=this.previousMouseMoveX=t-r.left-Math.max(n.left-r.left,0),this.setMouseXY(t,i),this.referenceXAxis=this.chart.primaryXAxis,J(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.isDateTimeCategory?(this.visibleRange.min=this.sortedData.indexOf(parseInt(this.referenceXAxis.labels[this.referenceXAxis.visibleRange.min],10)),this.visibleRange.max=this.sortedData.indexOf(parseInt(this.referenceXAxis.labels[this.referenceXAxis.visibleRange.max],10)),this.visibleRange.delta=this.referenceXAxis.visibleRange.delta,this.visibleRange.interval=this.referenceXAxis.visibleRange.interval):this.visibleRange=this.referenceXAxis.visibleRange,this.mouseDownXPoint=Nd(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.visibleRange,this.referenceXAxis.isInversed),this.allowPan=!0,this.notify(K.Browser.touchStartEvent,e)),!1},f.prototype.stockChartMouseEnd=function(e){var t,i;return"touchend"===e.type?(i=e.changedTouches[0].clientX,t=e.changedTouches[0].clientY,this.isTouch=!0):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),J(this.element.id+"_stockChart_chart").setAttribute("cursor","auto"),this.onPanning=!1,this.setMouseXY(i,t),this.stockChartOnMouseUp(e),!1},f.prototype.stockChartOnMouseUp=function(e){var t=e.target;return this.trigger("stockChartMouseUp",{target:t.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.allowPan=!1,this.rangeNavigator&&(this.rangeNavigator.rangeSlider.isDrag=!1),this.isTouch&&(this.threshold=(new Date).getTime()+300),this.notify(K.Browser.touchEndEvent,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(0),!1},f.prototype.setMouseXY=function(e,t){var i,o=J(this.element.id+"_stockChart_chart");this.element&&o&&(i=this.element.getBoundingClientRect(),o=o.getBoundingClientRect(),this.mouseX=e-i.left-Math.max(o.left-i.left,0),this.mouseY=t-i.top-Math.max(o.top-i.top,0))},f.prototype.stockChartOnMouseMove=function(e){var t,i;return"touchmove"===(this.mouseMoveEvent=e).type?(this.isTouch=!0,i=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,i=e.clientY),this.trigger("stockChartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),J(this.element.id+"_stockChart_chart")&&(this.setMouseXY(t,i),this.chartOnMouseMove(e)),!1},f.prototype.chartOnMouseMove=function(e){var t;return this.rangeNavigator&&this.rangeNavigator.rangeSlider.isDrag&&(this.rangeNavigator.mouseX=this.mouseX,this.rangeNavigator.rangeSlider.mouseMoveHandler(e)),this.allowPan&&!this.chart.startMove&&this.mouseDownXPoint&&this.mouseX!==this.previousMouseMoveX&&this.zoomSettings.enablePan&&(this.onPanning=!0,this.zoomChange=!1,J(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseUpXPoint=Nd(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.visibleRange,this.referenceXAxis.isInversed),t=Math.abs(this.mouseUpXPoint-this.mouseDownXPoint),this.mouseDownXPoint<this.mouseUpXPoint?this.seriesXMin<=this.visibleRange.min-t&&(this.startValue=this.visibleRange.min-t,this.endValue=this.visibleRange.max-t,this.enableSelector?this.rangeNavigator.rangeSlider.setSlider(this.visibleRange.min-t,this.visibleRange.max-t,!this.rangeNavigator.enableDeferredUpdate,this.rangeNavigator.rangeTooltipModule&&this.rangeNavigator.tooltip.enable):this.cartesianChart.cartesianChartRefresh(this)):this.seriesXMax>=this.visibleRange.max+t&&(this.startValue=this.visibleRange.min+t,this.endValue=this.visibleRange.max+t,this.enableSelector?this.rangeNavigator.rangeSlider.setSlider(this.visibleRange.min+t,this.visibleRange.max+t,!this.rangeNavigator.enableDeferredUpdate,this.rangeNavigator.rangeTooltipModule&&this.rangeNavigator.tooltip.enable):this.cartesianChart.cartesianChartRefresh(this))),this.notify(K.Browser.touchMoveEvent,e),""===e.target.id&&!0==!this.onPanning&&(t=void 0,(this.chart.tooltip.enable||this.crosshair.enable)&&(t=document.getElementById(this.element.id+"_stockChart_chart_tooltip"))&&K.remove(t),J(this.element.id+"_StockEvents_Tooltip"))&&this.stockEvent.removeStockEventTooltip(0),-1!==e.target.id.indexOf("StockEvents")?(clearInterval(this.stockEvent.toolTipInterval),this.stockEvent.renderStockEventTooltip(e.target.id)):this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),this.isTouch=!1},f.prototype.stockChartOnMouseClick=function(e){var t=e.target;return this.trigger("stockChartMouseClick",{target:t.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1},f.prototype.stockChartRightClick=function(e){return!this.crosshair.enable||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},f.prototype.stockChartOnMouseLeave=function(e){var t,i;return"touchleave"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(t=e.clientX,i=e.clientY,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(t,i),this.allowPan=!1,this.stockChartOnMouseLeaveEvent(e),!1},f.prototype.stockChartOnMouseLeaveEvent=function(e){var t=K.Browser.isPointer?"pointerleave":"mouseleave";return this.isChartDrag=!1,this.notify(t,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),this.rangeNavigator&&(this.rangeNavigator.rangeSlider.isDrag=!1),this.onPanning&&(this.onPanning=!1,this.chart.mouseLeave(e),J(this.element.id+"_stockChart_chart").setAttribute("cursor","auto")),!1},f.prototype.destroy=function(){this.cartesianChart=null,this.chart=null,this.periodSelector=null,this.rangeNavigator=null,this.rangeSelector=null,this.tempPeriods=[],this.toolbarSelector=null,this.visibleSeries=[],this.yAxisElements=null;var e=document.getElementById(this.element.id+"_stockChart_chartKeyboard_chart_focus"),e=(e&&e.remove(),document.getElementById(this.element.id+"_stock_border"));e&&e.remove(),this.element&&(this.unWireEvents(),Au.prototype.destroy.call(this),this.removeSvg(),this.svgObject=null)},f.prototype.renderBorder=function(){var e;this.border.width&&((e=this.createElement("div")).id=this.element.id+"_stock_border",e.style.width=this.availableSize.width+"px",e.style.height=this.availableSize.height+"px",e.style.position="absolute",e.style.border=this.border.width+"px solid "+this.border.color,q(!(e.style.pointerEvents="none"),J(this.element.id),e))},f.prototype.renderTitle=function(){var e,t;this.title&&(q(!1,J(this.element.id+"_Secondary_Element"),this.renderer.createSvg({id:this.element.id+"_stockChart_Title",width:this.availableSize.width,height:this.titleSize.height,fill:this.background||this.themeStyle.background}),!1),e="Near"===(e=this.titleStyle.textAlignment)?"start":"Far"===e?"end":"middle",t=new $.Rect(0,0,this.availableSize.width,0),t=new $.TextOption(this.element.id+"_ChartTitle",vr(t,this.titleStyle),this.titleSize.height-10,e,this.title,"","auto"),gr(this.renderer,t,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color||this.findTitleColor(),J(this.element.id+"_stockChart_Title"),!1,!1,null,null,null,null,0,null,null,null,this.themeStyle.chartTitleFont),this.availableSize.height-=this.titleSize.height+5)},f.prototype.calculateLegendBounds=function(){this.stockLegendModule&&this.legendSettings.visible&&this.stockLegendModule.getLegendOptions(this.visibleSeries);var e=this.titleSize.height,t=this.border.width,i=this.availableSize.width-this.border.width-t,o=.5*this.chartArea.border.width+this.border.width,r=this.availableSize.height-o-this.border.width-(this.enablePeriodSelector?this.toolbarHeight:0)-e;this.initialClipRect=new $.Rect(t,o,i,r),this.tempAvailableSize=new $.Size(this.availableSize.width,this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-e),this.stockLegendModule&&this.legendSettings.visible&&this.stockLegendModule.calculateLegendBounds(this.initialClipRect,this.tempAvailableSize,null)},f.prototype.renderLegend=function(){var e;this.stockLegendModule&&this.stockLegendModule.legendCollections.length&&this.legendSettings.visible&&(this.stockLegendModule.calTotalPage=!0,e=this.stockLegendModule.legendBounds,this.stockLegendModule.renderLegend(this,this.legendSettings,e),"Auto"===this.legendSettings.position||"Bottom"===this.legendSettings.position||"Top"===this.legendSettings.position?this.availableSize.height-=this.stockLegendModule.legendBounds.height:"Left"!==this.legendSettings.position&&"Right"!==this.legendSettings.position||(this.availableSize.width-=this.stockLegendModule.legendBounds.width))},f.prototype.findTitleColor=function(){return-1<this.theme.toLocaleLowerCase().indexOf("highcontrast")||-1<this.theme.indexOf("Dark")?"#ffffff":"#424242"},f.prototype.calculateStockEvents=function(){this.stockEvents.length&&(this.stockEvent=new vu(this),q(!1,this.chartObject,this.stockEvent.renderStockEvents()))},y([K.Property(null)],f.prototype,"width",void 0),y([K.Property(null)],f.prototype,"height",void 0),y([K.Property("")],f.prototype,"dataSource",void 0),y([K.Complex({},Op)],f.prototype,"margin",void 0),y([K.Complex({color:"#DDDDDD",width:1},kp)],f.prototype,"border",void 0),y([K.Property(null)],f.prototype,"background",void 0),y([K.Property("Material")],f.prototype,"theme",void 0),y([K.Complex({name:"primaryXAxis",valueType:"DateTime"},eu)],f.prototype,"primaryXAxis",void 0),y([K.Complex({border:{color:null,width:.5},background:"transparent"},_p)],f.prototype,"chartArea",void 0),y([K.Complex({name:"primaryYAxis",opposedPosition:!0,labelPosition:"Inside",tickPosition:"Inside"},eu)],f.prototype,"primaryYAxis",void 0),y([K.Collection([{}],ou)],f.prototype,"rows",void 0),y([K.Collection([{opposedPosition:!0}],eu)],f.prototype,"axes",void 0),y([K.Collection([],Zp)],f.prototype,"series",void 0),y([K.Collection([],ep)],f.prototype,"stockEvents",void 0),y([K.Property(!1)],f.prototype,"isTransposed",void 0),y([K.Property("")],f.prototype,"title",void 0),y([K.Complex({size:null,fontWeight:null,color:null,fontStyle:null,fontFamily:null},Ap)],f.prototype,"titleStyle",void 0),y([K.Collection([],Kp)],f.prototype,"indicators",void 0),y([K.Complex({shared:!0,enableMarker:!1},We)],f.prototype,"tooltip",void 0),y([K.Complex({dashArray:"5",lineType:"Vertical"},ea)],f.prototype,"crosshair",void 0),y([K.Complex({},Cu)],f.prototype,"legendSettings",void 0),y([K.Complex({enablePan:!0},oa)],f.prototype,"zoomSettings",void 0),y([K.Property(!0)],f.prototype,"enablePeriodSelector",void 0),y([K.Property(!0)],f.prototype,"enableCustomRange",void 0),y([K.Property(!1)],f.prototype,"isSelect",void 0),y([K.Property(!0)],f.prototype,"enableSelector",void 0),y([K.Collection([],Ge)],f.prototype,"periods",void 0),y([K.Collection([{}],hu)],f.prototype,"annotations",void 0),y([K.Event()],f.prototype,"selectorRender",void 0),y([K.Event()],f.prototype,"stockChartMouseMove",void 0),y([K.Event()],f.prototype,"stockChartMouseLeave",void 0),y([K.Event()],f.prototype,"stockChartMouseDown",void 0),y([K.Event()],f.prototype,"stockChartMouseUp",void 0),y([K.Event()],f.prototype,"stockChartMouseClick",void 0),y([K.Event()],f.prototype,"pointClick",void 0),y([K.Event()],f.prototype,"pointMove",void 0),y([K.Event()],f.prototype,"onZooming",void 0),y([K.Event()],f.prototype,"legendRender",void 0),y([K.Event()],f.prototype,"legendClick",void 0),y([K.Property("None")],f.prototype,"selectionMode",void 0),y([K.Property(!1)],f.prototype,"isMultiSelect",void 0),y([K.Event()],f.prototype,"load",void 0),y([K.Event()],f.prototype,"loaded",void 0),y([K.Event()],f.prototype,"rangeChange",void 0),y([K.Event()],f.prototype,"axisLabelRender",void 0),y([K.Event()],f.prototype,"tooltipRender",void 0),y([K.Event()],f.prototype,"seriesRender",void 0),y([K.Event()],f.prototype,"stockEventRender",void 0),y([K.Collection([],pu)],f.prototype,"selectedDataIndexes",void 0),y([K.Property([])],f.prototype,"seriesType",void 0),y([K.Property(["EMA","TMA","SMA","Momentum","ATR","Accumulation Distribution","Bollinger Bands","MACD","Stochastic","RSI"])],f.prototype,"indicatorType",void 0),y([K.Property(["PNG","JPEG","SVG","PDF","XLSX","CSV","Print"])],f.prototype,"exportType",void 0),y([K.Property([])],f.prototype,"trendlineType",void 0),Mu=y([K.NotifyPropertyChanges],f));function f(e,t){e=Au.call(this,e,t)||this;return e.isSingleAxis=!1,e.chartid=57723,e.tempSeriesType=[],e.zoomChange=!1,e.allowPan=!1,e.onPanning=!1,e.trendlinetriggered=!0,e.initialRender=!0,e.rangeFound=!1,e.tempPeriods=[],e.isDateTimeCategory=!1,e.sortedData=[],e.visibleRange={min:0,max:0,delta:0,interval:0},e.isStockChartRendered=!1,Mu.Inject(za,cs,vs),e.toolbarHeight=e.enablePeriodSelector?K.Browser.isDevice?56:42:0,e}ku.prototype.renderLeftTooltip=function(e){this.fadeOutTooltip();var t=this.getTooltipContent(e.currentStart),i=this.getContentSize(t),o=this.control.enableRtl?e.rightRect:e.leftRect;i>o.width&&(o=e.midRect),this.leftTooltip=this.renderTooltip(o,this.createElement("_leftTooltip"),e.startX,t)},ku.prototype.getContentSize=function(e){var t=this.control.tooltip.textStyle,e=this.control.tooltip.template?Ho(K.createElement("div",{id:"measureElement",styles:"position: absolute;"}),0,this.control.tooltip.template,this.control).getBoundingClientRect().width:$.measureText(e[0],t,this.control.themeStyle.tooltipLabelFont).width+20;return e},ku.prototype.renderRightTooltip=function(e){this.fadeOutTooltip();var t=this.getTooltipContent(e.currentEnd),i=this.getContentSize(t),o=this.control.enableRtl?e.leftRect:e.rightRect;i>o.width&&((o=e.midRect).x=this.control.series.length?0:o.x),this.rightTooltip=this.renderTooltip(o,this.createElement("_rightTooltip"),e.endX,t)},ku.prototype.createElement=function(e){var t;return J(this.elementId+e)?J(this.elementId+e):((t=document.createElement("div")).id=this.elementId+e,t.className="ejSVGTooltip",t.style.cssText="pointer-events:none; position:absolute;z-index: 1",this.control.stockChart?(J((e=this.control.stockChart).element.id+"_Secondary_Element").appendChild(t),t.style.transform="translateY("+(e.availableSize.height-e.toolbarHeight-51+e.toolbarHeight+e.titleSize.height)+"px)"):J(this.elementId+"_Secondary_Element").appendChild(t),t)},ku.prototype.renderTooltip=function(e,t,i,o){var r=this.control,n=r.tooltip,a={cancel:!1,name:"tooltipRender",text:o,textStyle:n.textStyle},l=(this.control.trigger("tooltipRender",a),r.svgObject.getBoundingClientRect().left-r.element.getBoundingClientRect().left);return a.cancel?null:new $.Tooltip({location:{x:i,y:r.rangeSlider.sliderY},content:a.text,marginX:2,enableShadow:!1,marginY:2,arrowPadding:8,rx:4,ry:4,inverted:0<r.series.length,areaBounds:e,fill:n.fill||this.control.themeStyle.tooltipBackground,theme:this.control.theme,clipBounds:{x:l},border:n.border,opacity:n.opacity||("Material3"===this.control.theme||"Material3Dark"===this.control.theme?1:.75),template:n.template,textStyle:a.textStyle,availableSize:r.availableSize,controlName:"RangeNavigator",data:{start:this.getTooltipContent(this.control.startValue)[0],end:this.getTooltipContent(this.control.endValue)[0],value:o[0]}},t)},ku.prototype.getTooltipContent=function(e){var t=this.control,i=t.tooltip,o=t.chartSeries.xAxis,i=i.format||o.labelFormat,r=null!==i.match("{value}"),n=o.valueType;return e="DateTimeCategory"===n?parseInt(o.labels[Math.floor(e)],10):e,[-1<n.indexOf("DateTime")?t.intl.getDateFormat({format:i||"MM/dd/yyyy",type:bo(t.skeletonType),skeleton:("DateTime"===n?t.dateTimeModule:t.dateTimeCategoryModule).getSkeleton(o,null,null)})(new Date(e)):(o.format=t.intl.getNumberFormat({format:r?"":i,useGrouping:t.useGroupingSeparator}),t.doubleModule.formatValue(o,r,i,"Logarithmic"===n?Math.pow(o.logBase,e):e))]},ku.prototype.fadeOutTooltip=function(){var e=this;"OnDemand"===this.control.tooltip.displayMode&&(qo(this.toolTipInterval),this.rightTooltip)&&(this.toolTipInterval=+setTimeout(function(){e.leftTooltip.fadeOut(),e.rightTooltip.fadeOut()},1e3))},ku.prototype.getModuleName=function(){return"RangeTooltip"},ku.prototype.destroy=function(){};y=ku;function ku(e){this.control=e,this.elementId=e.element.id}Tu.prototype.renderMajorTickLines=function(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXMajorTickLines(e,t):this.renderYMajorTickLines(e,t)},Tu.prototype.renderMinorTickLines=function(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXMinorTickLines(e,t):this.renderYMinorTickLines(e,t)},Tu.prototype.renderAxisLabels=function(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXAxisLabels(e,t):this.renderYAxisLabels(e,t)},Tu.prototype.renderXMajorTickLines=function(e,t){for(var i=this.bulletChart,o=i.renderer.createGroup({id:i.svgObject.id+"_majorTickGroup"}),r=i.minimum,n=i.maximum,a=i.interval,l=i.enableRtl,s=i.initialClipRect.y+(i.opposedPosition?0:i.initialClipRect.height),h=s+(i.opposedPosition?"Inside"!==i.tickPosition?-this.majorTickSize:this.majorTickSize:"Inside"!==i.tickPosition?this.majorTickSize:-this.majorTickSize),c=i.majorTickLines,d=c.color||i.themeStyle.majorTickLineColor,p=i.initialClipRect.x+(i.enableRtl?i.initialClipRect.width:0),u=i.initialClipRect.x+c.width/2+(l?i.initialClipRect.width:0),g=r;g<=n;g+=a){(i.enableRtl?g===r:g===n)&&(u-=c.width/2),m=i.enableRtl?g===r:g===n,i.majorTickLines.useRangeColor&&(d=this.bindingRangeStrokes(u-(m?this.bulletChart.majorTickLines.width/2:0),p,this.bulletChart.orientation,i.enableRtl));var m=this.majorTicks(u,u,s,h,d,g),m=i.renderer.drawLine(m);u+=l?-e:e,o.appendChild(m),t.appendChild(o)}},Tu.prototype.renderYMajorTickLines=function(e,t){for(var i=this.bulletChart,o=i.renderer.createGroup({id:i.svgObject.id+"_majorTickGroup"}),r=i.minimum,n=i.maximum,a=i.interval,l=i.enableRtl,s=i.initialClipRect,h=s.x+(i.opposedPosition?s.width:0),c=h-(i.opposedPosition?"Inside"!==i.tickPosition?-this.majorTickSize:this.majorTickSize:"Inside"!==i.tickPosition?this.majorTickSize:-this.majorTickSize),d=i.majorTickLines,p=d.color||i.themeStyle.majorTickLineColor,u=s.y+(i.enableRtl?0:s.height),g=s.y+d.width/2+(l?0:s.height),m=r;m<=n;m+=a){(i.enableRtl?m===n:m===r)&&(g-=d.width/2),y=i.enableRtl?m===r:m===n,i.majorTickLines.useRangeColor&&(p=this.bindingRangeStrokes(g-(y?this.bulletChart.majorTickLines.width/2:0),u,this.bulletChart.orientation,i.enableRtl));var y=this.majorTicks(h,c,g,g,p,m),y=i.renderer.drawLine(y);g+=l?e:-e,o.appendChild(y),t.appendChild(o)}},Tu.prototype.majorTicks=function(e,t,i,o,r,n){return{id:this.bulletChart.svgObject.id+"_MajorTickLine_"+n,x1:e,y1:i,x2:t,y2:o,"stroke-width":this.bulletChart.majorTickLines.width,stroke:(!this.bulletChart.majorTickLines.useRangeColor||!r)&&this.bulletChart.majorTickLines.color||r}},Tu.prototype.bindingRangeStrokes=function(e,t,i,o){return"Vertical"===i&&!o||o&&"Horizontal"===i?this.backwardStrokeBinding(e,t):this.forwardStrokeBinding(e,t)},Tu.prototype.renderXMinorTickLines=function(e,t){for(var i,o=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_minorTickGroup"}),r=this.bulletChart,n=r.maximum,a=r.minimum,l=r.interval,s=r.minorTickLines.height,h=this.bulletChart.minorTicksPerInterval,c=r.initialClipRect.x,d=r.initialClipRect.y+(r.opposedPosition?0:r.initialClipRect.height),p=d+(r.opposedPosition?"Inside"!==r.tickPosition?-s:s:"Inside"!==r.tickPosition?s:-s),u=r.minorTickLines.color||r.themeStyle.minorTickLineColor,g=r.initialClipRect.x+(r.enableRtl?r.initialClipRect.width:0),m=a;m<n;m+=l){for(var y=e/h,f=1;f<=h;f++)i=c+y-y/(h+1),r.minorTickLines.useRangeColor&&(u=this.bindingRangeStrokes(i,g,this.bulletChart.orientation,r.enableRtl)),i=this.minorXTicks(i,i,d,p,u,m.toString()+f.toString()),i=this.bulletChart.renderer.drawLine(i),o.appendChild(i),t.appendChild(o),y=e/h*(f+1);c+=e}},Tu.prototype.renderYMinorTickLines=function(e,t){for(var i,o=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_minorTickGroup"}),r=this.bulletChart,n=r.maximum,a=r.minimum,l=r.interval,s=r.minorTickLines.height,h=this.bulletChart.minorTicksPerInterval,c=r.initialClipRect.y+(r.enableRtl?0:r.initialClipRect.height),d=r.initialClipRect.x+(r.opposedPosition?r.initialClipRect.width:0),p=d-(r.opposedPosition?"Inside"!==r.tickPosition?-s:s:"Inside"!==r.tickPosition?s:-s),u=r.minorTickLines.color||r.themeStyle.minorTickLineColor,g=r.initialClipRect.y+(r.enableRtl?0:r.initialClipRect.height),m=a;m<n;m+=l){for(var y=e/h,f=1;f<=h;f++)i=this.bulletChart.enableRtl?c+y-y/(h+1):c-y+y/(h+1),r.minorTickLines.useRangeColor&&(u=this.bindingRangeStrokes(i,g,this.bulletChart.orientation,r.enableRtl)),i=this.minorXTicks(d,p,i,i,u,m.toString()+f.toString()),i=this.bulletChart.renderer.drawLine(i),o.appendChild(i),t.appendChild(o),y=e/h*(f+1);c-=this.bulletChart.enableRtl?-e:e}},Tu.prototype.minorXTicks=function(e,t,i,o,r,n){return{id:this.bulletChart.svgObject.id+"_MajorTickLine_"+n,x1:e,x2:t,y1:i,y2:o,"stroke-width":this.bulletChart.minorTickLines.width,stroke:(!this.bulletChart.minorTickLines.useRangeColor||!r)&&this.bulletChart.minorTickLines.color||r}},Tu.prototype.forwardStrokeBinding=function(e,t){for(var i=this.bulletChart,o=t,r=0;r<=i.rangeCollection.length-1;r++)if((o+=r?i.rangeCollection[r-1]:0)<=e&&e<o+i.rangeCollection[r])return i.ranges[r].color;return null},Tu.prototype.backwardStrokeBinding=function(e,t){for(var i=this.bulletChart,o=t,r=0;r<=i.rangeCollection.length-1;r++)if(o-=r?i.rangeCollection[r-1]:0,Math.round(e)>=Math.round(o-i.rangeCollection[r])&&e<=o)return i.ranges[r].color;return null},Tu.prototype.renderXAxisLabels=function(e,t){var i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_axisLabelGroup"}),o=this.bulletChart,r=this.bulletChart.locale,n=o.enableRtl,a=(o.tickPosition===o.labelPosition?o.majorTickLines.height:0)+10,l=o.initialClipRect.y+(o.opposedPosition?"Inside"===o.labelPosition?a:-a:o.initialClipRect.height+("Inside"===o.labelPosition?-a:a)),s=o.initialClipRect.x+(n?o.initialClipRect.width:0),h=o.minimum,c=o.maximum,d=o.interval,p=r&&this.bulletChart.enableGroupSeparator,u=this.getFormat(this.bulletChart),g=o.labelStyle.color||o.themeStyle.axisLabelFont.color,m=null!==u.match("{value}"),y=(this.format=this.bulletChart.intl.getNumberFormat({format:m?"":u,useGrouping:this.bulletChart.enableGroupSeparator}),o.initialClipRect.x+(o.enableRtl?o.initialClipRect.width:0));l+=$.measureText(this.formatValue(this,m,u,this.bulletChart.maximum),o.labelStyle,this.bulletChart.themeStyle.axisLabelFont).height/3;for(var f=h;f<=c;f+=d){v=o.enableRtl?f===h:f===c,o.labelStyle.useRangeColor&&(g=this.bindingRangeStrokes(s-(v?this.bulletChart.majorTickLines.width/2:0),y,this.bulletChart.orientation,o.enableRtl));var v=p?f.toLocaleString(r):this.formatValue(this,m,u,f),v=this.labelXOptions(s,l,v,f),v=(this.bulletChart.labelStyle.fontFamily=this.bulletChart.labelStyle.fontFamily||this.bulletChart.themeStyle.axisLabelFont.fontFamily,$.textElement(v,this.bulletChart.labelStyle,g,t,this.bulletChart.themeStyle.axisLabelFont));i.appendChild(v),s+=n?-e:e}t.appendChild(i)},Tu.prototype.labelXOptions=function(e,t,i,o){return{id:this.bulletChart.svgObject.id+"_AxisLabel_"+o,anchor:"middle",text:i,transform:"",x:e,y:t,baseLine:"",labelRotation:0}},Tu.prototype.renderYAxisLabels=function(e,t){var i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_axisLabelGroup"}),o=this.bulletChart,r=o.locale,n=o.enableRtl,a=(o.tickPosition===o.labelPosition?o.majorTickLines.height:0)+10,l=o.initialClipRect.y+(n?0:o.initialClipRect.height),s=o.initialClipRect.x+(o.opposedPosition?o.initialClipRect.width+("Inside"===o.labelPosition?-(a+10):a):"Inside"===o.labelPosition?a+10:-a),h=o.minimum,c=o.maximum,d=o.interval,p=r&&this.bulletChart.enableGroupSeparator,u=o.labelStyle.color||o.themeStyle.axisLabelFont.color,g=this.getFormat(this.bulletChart),m=null!==g.match("{value}"),y=(this.format=this.bulletChart.intl.getNumberFormat({format:m?"":g,useGrouping:this.bulletChart.enableGroupSeparator}),o.initialClipRect.y+(o.enableRtl?0:o.initialClipRect.height)),f=$.measureText(this.formatValue(this,m,g,this.bulletChart.maximum),o.labelStyle,this.bulletChart.themeStyle.axisLabelFont).width/2,v=$.measureText(this.formatValue(this,m,g,this.bulletChart.maximum),o.labelStyle,this.bulletChart.themeStyle.axisLabelFont).height/3;l+=v;for(var b=h;b<=c;b+=d){x=o.enableRtl?b===c:b===h,o.labelStyle.useRangeColor&&(u=this.bindingRangeStrokes(l-v-(x?this.bulletChart.majorTickLines.width/2:0),y,this.bulletChart.orientation,o.enableRtl));var x=p?b.toLocaleString(r):this.formatValue(this,m,g,b),x=this.labelXOptions(s-(this.bulletChart.opposedPosition?-f:f),l,x,b),x=(this.bulletChart.labelStyle.fontFamily=this.bulletChart.labelStyle.fontFamily||this.bulletChart.themeStyle.axisLabelFont.fontFamily,$.textElement(x,this.bulletChart.labelStyle,u,t,o.themeStyle.axisLabelFont));i.appendChild(x),l+=n?e:-e}t.appendChild(i)},Tu.prototype.getFormat=function(e){return e.labelFormat||""},Tu.prototype.formatValue=function(e,t,i,o){return t?i.replace("{value}",e.format(o)):e.format(o)};var Ru=Tu;function Tu(e){this.bulletChart=e,this.isVertical="Vertical"===e.orientation,this.isLabelsInside="Inside"===e.labelPosition,this.isHorizontal="Horizontal"===e.orientation,this.isLeft="Left"===e.titlePosition,this.isRight="Right"===e.titlePosition,this.isTop="Top"===e.titlePosition,this.majorTickSize=e.majorTickLines.height,this.location=10,this.labelOffset=15,this.labelSize=parseFloat(e.labelStyle.size),this.isLabelBelow=!this.bulletChart.opposedPosition}Eu.prototype.drawScaleGroup=function(e){for(var t,i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_rangeGroup"}),o=this.bulletChart.maximum,r=this.bulletChart.ranges,n=(this.scaleSettingsGroup=e,this.bulletChart),a=n.enableRtl,l=n.initialClipRect,s=l.x+(a&&"Horizontal"===n.orientation?l.width:0),h=l.y+(a||"Vertical"!==n.orientation?0:l.height),c=(n.rangeCollection=[],0),d="Horizontal"===n.orientation?l.width:l.height,p="Horizontal"===n.orientation?l.height:l.width,u=0;u<r.length;u++){t=d*((r[u].end-c)/o),"Horizontal"===n.orientation?s-=a?t:0:h-=a?0:t;var g=new Pr(n.svgObject.id+"_range_"+u,r[u].color||this.bulletChart.themeStyle.rangeStrokes[u].color,{width:1},r[u].opacity,new $.Rect(s,h,"Horizontal"===n.orientation?t:p,"Horizontal"===n.orientation?p:t)),g=n.renderer.drawRectangle(g);i.appendChild(g),e.appendChild(i),"Horizontal"===n.orientation?s+=a?0:t:h+=a?t:0,n.rangeCollection.push(t),c=r[u].end}return this.bulletChart.rangeCollection},Eu.prototype.sortRangeCollection=function(e,t){return e-t},Eu.prototype.renderFeatureBar=function(e){0!==e&&this.renderCommonFeatureBar(e,this.isHorizontal)},Eu.prototype.renderCommonFeatureBar=function(e,t){for(var i=this.bulletChart,o=t?i.initialClipRect.y+i.initialClipRect.height:i.initialClipRect.x,r=i.renderer.createGroup({id:i.svgObject.id+"_featureGroup"}),n=(t?i.initialClipRect.height:i.initialClipRect.width)/e,a=0;a<e;a++){var l,s,h,c=(h=i.dataSource[a])[i.categoryField],d=t?o-n*a-(n+i.valueHeight)/2:o+n*a+n/2-i.valueHeight/2,p=this.calculateFeatureMeasureBounds(h[i.valueField],c,t);h&&"Dot"===i.type&&(h=h[i.valueField],p.pointX=t?p.pointX+(0<h&&!i.enableRtl||h<0&&i.enableRtl?p.width:0)-3:p.pointX+(0<h&&i.enableRtl||h<0&&!i.enableRtl?p.width:0)-3,p.width=6),p&&(h=t?this.featureBar(p.pointX,d,p.width,a):this.verticalFeatureBar(d,p.pointX,p.width,a),r.appendChild(h),this.feature=h,this.scaleSettingsGroup.appendChild(r),this.featureBarBounds[a]={x:p.pointX,y:d,width:p.width,height:i.valueHeight},K.isNullOrUndefined(c)||(h=$.measureText(c,i.categoryLabelStyle,i.themeStyle.axisLabelFont),p=t?h.width:h.height,h=i.initialClipRect,s=l=void 0,s=t?(l=i.enableRtl?h.x+h.width+5+p/2:h.x-5-p/2,this.drawcategory(l,d,c)):(l=i.enableRtl?h.y-5-p/2:h.y+h.height+5+p/2,this.drawcategory(d+i.valueHeight/2,l,c)),i.categoryLabelStyle.fontFamily=i.categoryLabelStyle.fontFamily||i.themeStyle.axisLabelFont.fontFamily,$.textElement(s,i.categoryLabelStyle,i.categoryLabelStyle.color||i.themeStyle.axisLabelFont.color,this.scaleSettingsGroup))),(i.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&this.doValueBarAnimation()}},Eu.prototype.featureBar=function(e,t,i,o){e=new Pr(this.bulletChart.svgObject.id+"_FeatureMeasure_"+o,this.bulletChart.dataSource[o][this.bulletChart.valueFill]||this.bulletChart.valueFill,this.bulletChart.valueBorder,1,new $.Rect(e,t,i,this.bulletChart.valueHeight),0,0,"",this.bulletChart.valueBorder.dashArray),t=this.bulletChart.renderer.drawRectangle(e);return t.setAttribute("class",this.bulletChart.svgObject.id+"_FeatureMeasure"),t.id=this.bulletChart.svgObject.id+"_FeatureMeasure_"+o,t.setAttribute("role","img"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",this.bulletChart.title+", value: "+this.bulletChart.dataSource[o].value+", target: "+this.bulletChart.dataSource[o].target),t},Eu.prototype.verticalFeatureBar=function(e,t,i,o){e=new Pr(this.bulletChart.svgObject.id+"_FeatureMeasure_"+o,this.bulletChart.dataSource[o][this.bulletChart.valueFill]||this.bulletChart.valueFill,this.bulletChart.valueBorder,1,new $.Rect(e,t,this.bulletChart.valueHeight,i)),t=this.bulletChart.renderer.drawRectangle(e);return t.setAttribute("class",this.bulletChart.svgObject.id+"_FeatureMeasure"),t.id=this.bulletChart.svgObject.id+"_FeatureMeasure_"+o,t.setAttribute("role","img"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",this.bulletChart.title+", value: "+this.bulletChart.dataSource[o].value+", target: "+this.bulletChart.dataSource[o].target),t},Eu.prototype.drawcategory=function(e,t,i){return{id:"",anchor:"middle",x:e,y:t+(parseInt(this.bulletChart.categoryLabelStyle.size,10)/4+this.bulletChart.valueHeight/2),transform:"",text:i,baseLine:"",labelRotation:0}},Eu.prototype.renderComparativeSymbol=function(e){0!==e&&this.renderCommonComparativeSymbol(e,this.isHorizontal)},Eu.prototype.renderCommonComparativeSymbol=function(e,t){for(var i,o,r,n,a=this.bulletChart,l=a.initialClipRect,s=t?l.width:l.height,h=t?l.y+l.height:l.x,c=a.renderer.createGroup({id:a.svgObject.id+"_comparativeGroup"}),d=a.minimum,p=a.maximum,u=p-d,g=t?l.x-2.5:l.y+l.height,m=[],y=a.targetTypes,f=y.length,v=(t?l.height:l.width)/e,b=0;b<e;b++){for(var x=a.dataSource[b][a.targetField],m=m.concat(x),S=0;S<m.length;S++)n=y[S%f],m[S]>=d&&m[S]<=p&&(i=(r=t?h-v*b-v/2:h+v*b+v/2)-7.5,o=r+7.5,r=s/(u/(u-(p-m[S]))),r=t?g+(a.enableRtl?s-r:r):g-(a.enableRtl?s-r:r),n=this.getTargetElement(n,t,r,i,o,m[S],b),this.comparative.push(n),c.appendChild(n)),this.scaleSettingsGroup.appendChild(c);m=[],(a.animation.enable&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&this.doTargetBarAnimation(0)}},Eu.prototype.getTargetElement=function(e,t,i,o,r,n,a){var l,s=this.bulletChart,h="Cross"===e?s.targetWidth-1:1,c="Circle"===e?s.targetWidth-1:s.targetWidth,d=t?i+c/2:o+(r-o)/2,p=t?o+(r-o)/2:i,u=s.svgObject.id+"_ComparativeMeasure_"+a,g=s.svgObject.id+"_ComparativeMeasure",m=s.dataSource[a][s.targetColor]||s.targetColor;return(t="Rect"===e?(l=t?this.compareMeasure(i,o,r,a,n):this.compareVMeasure(o,r,i,a),s.renderer.drawLine(l)):"Circle"===e?(l=new kr(u,m,{width:1,color:m||"black"},1,d,p,c),s.renderer.drawCircle(l)):(l=new $.PathOption(u,"transparent",h,m,1,"","M "+(d-c)+" "+(p-c)+" L "+(d+c)+" "+(p+c)+" M "+(d-c)+" "+(p+c)+" L "+(d+c)+" "+(p-c)),s.renderer.drawPath(l))).setAttribute("class",g),t},Eu.prototype.compareMeasure=function(e,t,i,o,r){var n=this.bulletChart;return{class:n.svgObject.id+"_ComparativeMeasure",id:n.svgObject.id+"_ComparativeMeasure_"+o,x1:r===n.maximum?e-n.targetWidth/2:r===n.minimum?e+n.targetWidth/2:e,y1:t,x2:r===n.maximum?e-n.targetWidth/2:r===n.minimum?e+n.targetWidth/2:e,y2:i,"stroke-width":n.targetWidth,stroke:n.dataSource[o][n.targetColor]||n.targetColor||"black"}},Eu.prototype.compareVMeasure=function(e,t,i,o){var r=this.bulletChart;return{class:r.svgObject.id+"_ComparativeMeasure",id:r.svgObject.id+"_ComparativeMeasure_"+o,x1:e,y1:i,x2:t,y2:i,"stroke-width":r.targetWidth,stroke:r.dataSource[o][r.targetColor]||r.targetColor||"black"}},Eu.prototype.calculateFeatureMeasureBounds=function(e,t,i){var o=this.bulletChart,r=o.minimum;if(r<=(e=e<r&&r<=0?r:e)){var n=void 0,a=void 0,l=void 0,s=i?o.initialClipRect.x:o.initialClipRect.y,h=i?o.initialClipRect.width:o.initialClipRect.height,c=o.maximum-o.minimum,d=o.maximum-e,p=(o.enableRtl?"backward":"forward")+this.scaleOrientation.toLowerCase(),u=(t=K.isNullOrUndefined(t)?"":t,$.measureText(t.toString(),o.labelStyle,this.bulletChart.themeStyle.axisLabelFont).width);switch(p){case"forwardhorizontal":case"backwardvertical":n=s+(0<r?0:h/c*Math.abs(r)),l=h/(c/(0<r?c-d:e)),e<0&&(n-=l=Math.abs(l)),l=n+l<s+h?l:s+h-n,a=s-("forwardhorizontal"==p?u/2+5:this.labelOffset);break;default:n=s+(h-h/(c/(c-d))),l=0<r?h/(c/(c-d)):h/(c/e),e<0&&(n-=l=Math.abs(l)),n<s&&(l=n+l-s,n=s),a=s+h+("backwardhorizontal"==p?u/2+5:5)}return{pointX:n,width:l,lastPointX:a}}return null},Eu.prototype.doValueBarAnimation=function(){var t=this.feature;if(!t)return null;var e,i,o,r,n,a=this.bulletChart.animation,l=(this.bulletChart.animateSeries?this.bulletChart.animation:a).duration,s=Co("Linear"),h=this.bulletChart.dataSource<0,c=t.getBoundingClientRect().height,d=t.getBoundingClientRect().width;"Horizontal"===this.bulletChart.orientation&&t&&(i=parseInt(t.getAttribute("height"),10),e=parseInt(t.getAttribute("x"),10),r=h?i:i+c,o=e),t.style.visibility="hidden",new K.Animation({}).animate(t,{duration:0===l&&"Enable"===K.animationMode?1e3:l,delay:a.delay,progress:function(e){e.timeStamp>=e.delay&&(t.style.visibility="visible",d=d||1,n=s(e.timeStamp-e.delay,0,d,e.duration),t.setAttribute("transform","translate("+o+" "+r+") scale("+n/d+", 1) translate("+-o+" "+-r+")"))},end:function(){t.setAttribute("transform","translate(0,0)"),t.style.visibility="visible"}})},Eu.prototype.doTargetBarAnimation=function(e){var t,i,o=this.comparative[e];if(!o)return null;"Horizontal"===this.bulletChart.orientation&&o&&(i=parseFloat(o.getAttribute("y1"))+parseFloat(o.getAttribute("y2")),t=parseFloat(o.getAttribute("x1"))),o.style.visibility="hidden",this.animateRect(o,t,i,e+1)},Eu.prototype.animateRect=function(t,i,o,e){var r,n=this,a=Co("Linear"),l=this.bulletChart.animation,s=this.comparative.length,h=(this.bulletChart.animateSeries?this.bulletChart.animation:l).duration;new K.Animation({}).animate(t,{duration:0===h&&"Enable"===K.animationMode?1e3:h,delay:l.delay,progress:function(e){e.timeStamp>=e.delay&&(t.style.visibility="visible",r=a(e.timeStamp-e.delay,0,1,e.duration),t.setAttribute("transform","translate("+i+" "+o/2+") scale(1,"+r+") translate("+-i+" "+-o/2+")"))},end:function(){t.setAttribute("transform","translate(0,0)"),e<s&&n.doTargetBarAnimation(e+1)}})};var _u=Eu;function Eu(e){this.comparative=[],this.dataSource=e.dataSource,this.isVertical="Vertical"===e.orientation,this.isTicksInside="Inside"===e.tickPosition,this.isLabelsInside="Inside"===e.labelPosition,this.isHorizontal="Horizontal"===e.orientation,this.isLeft="Left"===e.titlePosition,this.isRight="Right"===e.titlePosition,this.isTop="Top"===e.titlePosition,this.location=10,this.featureBarBounds=[],this.majorTickSize=e.majorTickLines.height,this.labelOffset=15,this.labelSize=12,this.bulletChart=e,this.isLabelBelow=!this.bulletChart.opposedPosition,this.scaleOrientation=this.bulletChart.orientation,this.rangeColor=[]}Iu=function(e,t){return(Iu=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Iu,Ou,zu=function(e,t){function i(){this.constructor=e}Iu(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Bu=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Nu=(Ou=K.ChildProperty,zu(Vu,Ou),Bu([K.Property(null)],Vu.prototype,"end",void 0),Bu([K.Property(1)],Vu.prototype,"opacity",void 0),Bu([K.Property(null)],Vu.prototype,"color",void 0),Bu([K.Property(null)],Vu.prototype,"index",void 0),Bu([K.Property(null)],Vu.prototype,"name",void 0),Bu([K.Property("Rectangle")],Vu.prototype,"shape",void 0),Bu([K.Property("")],Vu.prototype,"legendImageUrl",void 0),Vu);function Vu(){return null!==Ou&&Ou.apply(this,arguments)||this}Hu=K.ChildProperty,zu(Wu,Hu),Bu([K.Property(12)],Wu.prototype,"height",void 0),Bu([K.Property(1)],Wu.prototype,"width",void 0),Bu([K.Property(null)],Wu.prototype,"color",void 0),Bu([K.Property(!1)],Wu.prototype,"useRangeColor",void 0);var Hu,ju=Wu;function Wu(){return null!==Hu&&Hu.apply(this,arguments)||this}Uu=K.ChildProperty,zu(Gu,Uu),Bu([K.Property(8)],Gu.prototype,"height",void 0),Bu([K.Property(1)],Gu.prototype,"width",void 0),Bu([K.Property(null)],Gu.prototype,"color",void 0),Bu([K.Property(!1)],Gu.prototype,"useRangeColor",void 0);var Uu,Xu=Gu;function Gu(){return null!==Uu&&Uu.apply(this,arguments)||this}Yu=K.ChildProperty,zu(qu,Yu),Bu([K.Property("Normal")],qu.prototype,"fontStyle",void 0),Bu([K.Property("16px")],qu.prototype,"size",void 0),Bu([K.Property("")],qu.prototype,"color",void 0),Bu([K.Property("Normal")],qu.prototype,"fontWeight",void 0),Bu([K.Property("Segoe UI")],qu.prototype,"fontFamily",void 0),Bu([K.Property("Center")],qu.prototype,"textAlignment",void 0),Bu([K.Property("None")],qu.prototype,"textOverflow",void 0),Bu([K.Property(1)],qu.prototype,"opacity",void 0),Bu([K.Property(!0)],qu.prototype,"enableTrim",void 0),Bu([K.Property(null)],qu.prototype,"maximumTitleWidth",void 0),Bu([K.Property(!1)],qu.prototype,"useRangeColor",void 0);var Yu,Zu=qu;function qu(){return null!==Yu&&Yu.apply(this,arguments)||this}Qu=K.ChildProperty,zu($u,Qu),Bu([K.Property(!1)],$u.prototype,"enable",void 0),Bu([K.Property(null)],$u.prototype,"fill",void 0),Bu([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},Zu)],$u.prototype,"textStyle",void 0),Bu([K.Complex({color:null,width:null},ae)],$u.prototype,"border",void 0),Bu([K.Property(null)],$u.prototype,"template",void 0);var Qu,Ku=$u;function $u(){return null!==Qu&&Qu.apply(this,arguments)||this}Ju=K.ChildProperty,zu(tg,Ju),Bu([K.Property(!1)],tg.prototype,"enable",void 0),Bu([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Zu)],tg.prototype,"labelStyle",void 0);var Ju,eg=tg;function tg(){return null!==Ju&&Ju.apply(this,arguments)||this}ig=K.ChildProperty,zu(og,ig),Bu([K.Property(!1)],og.prototype,"visible",void 0),Bu([K.Complex({x:0,y:0},Q)],og.prototype,"location",void 0),Bu([K.Property(8)],og.prototype,"padding",void 0),Bu([K.Property("Center")],og.prototype,"alignment",void 0),Bu([K.Property(10)],og.prototype,"shapeHeight",void 0),Bu([K.Property(10)],og.prototype,"shapeWidth",void 0),Bu([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Zu)],og.prototype,"textStyle",void 0),Bu([K.Property("Auto")],og.prototype,"position",void 0),Bu([K.Complex({left:0,right:0,top:0,bottom:0},me)],og.prototype,"margin",void 0),Bu([K.Complex({},ae)],og.prototype,"border",void 0),Bu([K.Property(5)],og.prototype,"shapePadding",void 0),Bu([K.Property("transparent")],og.prototype,"background",void 0),Bu([K.Property(1)],og.prototype,"opacity",void 0),Bu([K.Property(3)],og.prototype,"tabIndex",void 0);var ig,zu=og;function og(){return null!==ig&&ig.apply(this,arguments)||this}function rg(e){var t="MaterialDark"===e?"#383838":"FabricDark"===e?"#242424":"#1b1b1b",i={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"rgba(0,0,0,0.54)",categoryFontColor:"#666666",labelFontFamily:"SegoeUI",tooltipFill:"#000816",legendLabel:"#353535",tooltipBoldLabel:"#ffffff",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"rgba(0,0,0,0.87)",dataLabelFontColor:"#ffffff",titleFontFamily:"SegoeUI",subTitleFontColor:" rgba(0,0,0,0.54)",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}],titleFont:{color:"rgba(0, 0, 0, 1)",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"rgba(0, 0, 0, 1)",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"rgba(97, 97, 97, 1)",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"rgba(97, 97, 97, 1)",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"rgba(97, 97, 97, 1)",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"rgba(249, 250, 251, 1)",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};switch(e){case"Fabric":i={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"#666666",categoryFontColor:"#666666",labelFontFamily:"SegoeUI",tooltipFill:"#FFFFFF",legendLabel:"#353535",tooltipBoldLabel:"#ffffff",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#333333",dataLabelFontColor:"#ffffff",titleFontFamily:"SegoeUI",subTitleFontColor:"#666666",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",tabColor:"#0078D6",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}],titleFont:{color:"#333333",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#333333",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#666666",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#666666",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#666666",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#333333",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap":i={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"rgba(0,0,0,0.54)",categoryFontColor:"rgba(0,0,0,0.54)",labelFontFamily:"Helvetica",tooltipFill:"#212529",legendLabel:"#212529",tooltipBoldLabel:"rgba(255,255,255)",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"rgba(0,0,0,0.87)",dataLabelFontColor:"#ffffff",titleFontFamily:"Helvetica-Bold",subTitleFontColor:" rgba(0,0,0,0.54)",subTitleFontFamily:"Helvetica",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",tabColor:"#317AB9",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}],titleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#676767",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#676767",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"HighContrast":i={majorTickLineColor:"#FFFFFF",minorTickLineColor:"#FFFFFF",background:"#000000",labelFontColor:"#FFFFFF",categoryFontColor:"#FFFFFF",labelFontFamily:"SegoeUI",tooltipFill:"#FFFFFF",legendLabel:"#ffffff",tooltipBoldLabel:"#000000",featuredMeasureColor:"#000000",comparativeMeasureColor:"#000000",titleFontColor:"#FFFFFF",dataLabelFontColor:"#ffffff",titleFontFamily:"HelveticaNeue",subTitleFontColor:"#FFFFFF",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",tabColor:"#FFD939",rangeStrokes:[{color:"#757575"},{color:"#BDBDBD"},{color:"#EEEEEE"}],titleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":i={majorTickLineColor:"#F0F0F0",minorTickLineColor:"#F0F0F0",background:t,labelFontColor:"#FFFFFF",categoryFontColor:"#FFFFFF",labelFontFamily:"Helvetica",tooltipFill:"MaterialDark"===e?"#F4F4F4":"FabricDark"===e?"#A19F9D":"#F0F0F0",legendLabel:"#DADADA",tooltipBoldLabel:"#282727",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#FFFFFF",dataLabelFontColor:"#ffffff",titleFontFamily:"Helvetica-Bold",subTitleFontColor:"#FFFFFF",subTitleFontFamily:"Helvetica",firstRangeColor:"#8D8D8D",secondRangeColor:"#ADADAD",thirdRangeColor:"#EEEEEE",tabColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",rangeStrokes:[{color:"#8D8D8D"},{color:"#ADADAD"},{color:"#EEEEEE"}],titleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":i={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"#202528",categoryFontColor:"#202528",labelFontFamily:"HelveticaNeue",tooltipFill:"#212529",legendLabel:"#212529",tooltipBoldLabel:"rgba(255,255,255)",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#202528",dataLabelFontColor:"#ffffff",titleFontFamily:"HelveticaNeue-Bold",subTitleFontColor:"HelveticaNeue",subTitleFontFamily:"#202528",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",tabColor:"#007BFF",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}],titleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":i={majorTickLineColor:"#D1D5DB",minorTickLineColor:"#D1D5DB",background:"transparent",labelFontColor:"#6B7280",categoryFontColor:"#6B7280",labelFontFamily:"Inter",tooltipFill:"#111827",legendLabel:"#374151",tooltipBoldLabel:"#F9FAFB",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#374151",dataLabelFontColor:"#F9FAFB",titleFontFamily:"Inter",subTitleFontColor:"#374151",subTitleFontFamily:"Inter",firstRangeColor:"#9CA3AF",secondRangeColor:"#D1D5DB",thirdRangeColor:"#E5E7EB",tabColor:"#4F46E5",rangeStrokes:[{color:"#9CA3AF"},{color:"#D1D5DB"},{color:"#E5E7EB"}],titleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#374151",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":i={majorTickLineColor:"#4B5563",minorTickLineColor:"#4B5563",background:"transparent",labelFontColor:"#9CA3AF",categoryFontColor:"#9CA3AF",labelFontFamily:"Inter",tooltipFill:"#E9ECEF",legendLabel:"#D1D5DB",tooltipBoldLabel:"#1F2937",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#D1D5DB",dataLabelFontColor:"#D1D5DB",titleFontFamily:"Inter",subTitleFontColor:"#D1D5DB",subTitleFontFamily:"Inter",firstRangeColor:"#6B7280",secondRangeColor:"#4B5563",thirdRangeColor:"#374151",tabColor:"#22D3EE",rangeStrokes:[{color:"#6B7280"},{color:"#4B5563"},{color:"#374151"}],titleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":i={majorTickLineColor:"#CED4DA",minorTickLineColor:"#CED4DA",background:"transparent",labelFontColor:"#495057",categoryFontColor:"#6B7280",labelFontFamily:"Helvetica",tooltipFill:"#212529",legendLabel:"#343A40",tooltipBoldLabel:"#F9FAFB",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#343A40",dataLabelFontColor:"#495057",titleFontFamily:"Helvetica",subTitleFontColor:"#343A40",subTitleFontFamily:"Helvetica",firstRangeColor:"#9CA3AF",secondRangeColor:"#D1D5DB",thirdRangeColor:"#E5E7EB",tabColor:"#0D6EFD",rangeStrokes:[{color:"#9CA3AF"},{color:"#D1D5DB"},{color:"#E5E7EB"}],titleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":i={majorTickLineColor:"#6C757D",minorTickLineColor:"#6C757D",background:"#212529",labelFontColor:"#CED4DA",categoryFontColor:"#6B7280",labelFontFamily:"Helvetica",tooltipFill:"#E9ECEF",legendLabel:"#E9ECEF",tooltipBoldLabel:"#212529",featuredMeasureColor:"#ADB5BD",comparativeMeasureColor:"#ADB5BD",titleFontColor:"#E9ECEF",dataLabelFontColor:"#CED4DA",titleFontFamily:"Helvetica",subTitleFontColor:"#E9ECEF",subTitleFontFamily:"Helvetica",firstRangeColor:"#6C757D",secondRangeColor:"#495057",thirdRangeColor:"#343A40",tabColor:"#0D6EFD",rangeStrokes:[{color:"#6C757D"},{color:"#495057"},{color:"#343A40"}],titleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#CED4DA",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":i={majorTickLineColor:"#C8C6C4",minorTickLineColor:"#C8C6C4",background:"rgba(255, 255, 255, 0.0001)",labelFontColor:"#3B3A39",categoryFontColor:"#3B3A39",labelFontFamily:"Segoe UI",tooltipFill:"#FFFFFF",legendLabel:"#3B3A39",tooltipBoldLabel:"#323130",featuredMeasureColor:"#A19F9D",comparativeMeasureColor:"#A19F9D",titleFontColor:"#201F1E",dataLabelFontColor:"#3B3A39",titleFontFamily:"Segoe UI",subTitleFontColor:"#201F1E",subTitleFontFamily:"Segoe UI",firstRangeColor:"#C8C6C4",secondRangeColor:"#D2D0CE",thirdRangeColor:"#EDEBE9",tabColor:"#0078D4",rangeStrokes:[{color:"#C8C6C4"},{color:"#D2D0CE"},{color:"#EDEBE9"}],titleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#323129",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#49454E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":i={majorTickLineColor:"#484644",minorTickLineColor:"#484644",background:"transparent",labelFontColor:"#C8C6C4",categoryFontColor:"#C8C6C4",labelFontFamily:"Segoe UI",tooltipFill:"#323130",legendLabel:"#C8C6C4",tooltipBoldLabel:"#F3F2F1",featuredMeasureColor:"#797775",comparativeMeasureColor:"#797775",titleFontColor:"#F3F2F1",dataLabelFontColor:"#C8C6C4",titleFontFamily:"Segoe UI",subTitleFontColor:"#F3F2F1",subTitleFontFamily:"Segoe UI",firstRangeColor:"#484644",secondRangeColor:"#3B3A39",thirdRangeColor:"#292827",tabColor:"#0078D4",rangeStrokes:[{color:"#484644"},{color:"#3B3A39"},{color:"#292827"}],titleFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":i={majorTickLineColor:"#C8C6C4",minorTickLineColor:"#C8C6C4",background:"transparent",labelFontColor:"#C8C6C4",categoryFontColor:"#616161",labelFontFamily:"Segoe UI",tooltipFill:"#FFFFFF",legendLabel:"#242424",tooltipBoldLabel:"#242424",featuredMeasureColor:"#A19F9D",comparativeMeasureColor:"#A19F9D",titleFontColor:"#242424",dataLabelFontColor:"#424242",titleFontFamily:"Segoe UI",subTitleFontColor:"#616161",subTitleFontFamily:"Segoe UI",firstRangeColor:"#C8C6C4",secondRangeColor:"#D2D0CE",thirdRangeColor:"#EDEBE9",tabColor:"#0078D4",rangeStrokes:[{color:"#C8C6C4"},{color:"#D2D0CE"},{color:"#EDEBE9"}],titleFont:{color:"#242424",fontFamily:"Segoe UI",size:K.Browser.isDevice?"16px":"14px",fontStyle:"Normal",fontWeight:"600"},subTitleFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:K.Browser.isDevice?"14px":"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"}};break;case"Fluent2Dark":i={majorTickLineColor:"#484644",minorTickLineColor:"#484644",background:"transparent",labelFontColor:"#ADADAD",categoryFontColor:"#ADADAD",labelFontFamily:"Segoe UI",tooltipFill:"#292929",legendLabel:"#FFFFFF",tooltipBoldLabel:"#FFFFFF",featuredMeasureColor:"#8A8886",comparativeMeasureColor:"#8A8886",titleFontColor:"#FFFFFF",dataLabelFontColor:"#FFFFFF",titleFontFamily:"Segoe UI",subTitleFontColor:"#ADADAD",subTitleFontFamily:"Segoe UI",firstRangeColor:"#484644",secondRangeColor:"#3B3A39",thirdRangeColor:"#292827",tabColor:"#0078D4",rangeStrokes:[{color:"#484644"},{color:"#3B3A39"},{color:"#292827"}],titleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:K.Browser.isDevice?"16px":"14px",fontStyle:"Normal",fontWeight:"600"},subTitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:K.Browser.isDevice?"14px":"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"}};break;case"Material3":i={majorTickLineColor:"#C4C7C5",minorTickLineColor:"#C4C7C5",background:"transparent",labelFontColor:"#1E192B",categoryFontColor:"#1E192B",labelFontFamily:"Roboto",tooltipFill:"#313033",legendLabel:"#49454E",tooltipBoldLabel:"#F4EFF4",featuredMeasureColor:"#79747E",comparativeMeasureColor:"#79747E",titleFontColor:"#1C1B1F",dataLabelFontColor:"#49454E",titleFontFamily:"Roboto",subTitleFontColor:"#1C1B1F",subTitleFontFamily:"Roboto",firstRangeColor:"#a6a6a9",secondRangeColor:"#C4C7C5",thirdRangeColor:"#E7E0EC",tabColor:"#49454E",rangeStrokes:[{color:"#a6a6a9"},{color:"#C4C7C5"},{color:"#E7E0EC"}],titleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#49454E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#1E192B",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":i={majorTickLineColor:"#444746",minorTickLineColor:"#444746",background:"transparent",labelFontColor:"#E6E1E5",categoryFontColor:"#E6E1E5",labelFontFamily:"Roboto",tooltipFill:"#E6E1E5",legendLabel:"#CAC4D0",tooltipBoldLabel:"#313033",featuredMeasureColor:"#938F99",comparativeMeasureColor:"#938F99",titleFontColor:"#E6E1E5",dataLabelFontColor:"#CAC4D0",titleFontFamily:"Roboto",subTitleFontColor:"#E6E1E5",subTitleFontFamily:"Roboto",firstRangeColor:"rgba(147,143,153,0.4)",secondRangeColor:"#444746",thirdRangeColor:"#49454F",tabColor:"#CAC4D0",rangeStrokes:[{color:"rgba(147,143,153,0.4)"},{color:"#444746"},{color:"#49454F"}],titleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"500"},subTitleFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},dataLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#313033",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"}}}return i}ng=function(e,t){return(ng=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var ng,ag,Bu=function(e,t){function i(){this.constructor=e}ng(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},lg=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Bu=(ag=K.Component,Bu(v,ag),v.prototype.preRender=function(){this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateValues(),this.setCulture(),this.wireEvents()},v.prototype.initPrivateValues=function(){var e;this.delayRedraw=!1,this.scale=new _u(this),this.bulletAxis=new Ru(this),""===this.element.id&&(e=document.getElementsByClassName("e-BulletChart").length,this.element.id="BulletChart_"+this.bulletid+"_"+e)},v.prototype.setCulture=function(){this.intl=new K.Internationalization},v.prototype.render=function(){var e=this,t={bulletChart:this,theme:this.theme,name:"load"};this.trigger("load",t,function(){e.setTheme(),e.createSvg(e),e.findRange(),e.bulletChartLegendModule&&e.legendSettings.visible&&(e.calculateVisibleElements(),e.bulletChartLegendModule.getLegendOptions(e.visibleRanges)),e.calculatePosition(),e.renderBulletElements(),e.trigger("loaded",{bulletChart:e}),e.allowServerDataBinding=!0,e.renderComplete()})},v.prototype.setTheme=function(){var e;this.themeStyle=rg(this.theme),(null===this.targetColor||"#191919"===this.targetColor||null==this.valueFill)&&-1<this.theme.indexOf("Fluent")&&(this.valueFill=this.valueFill||("FluentDark"===this.theme?"#797775":"#A19F9D"),this.targetColor="#191919"===this.targetColor?"FluentDark"===this.theme?"#797775":"#A19F9D":this.targetColor),(null===this.targetColor||"#191919"===this.targetColor||null==this.valueFill)&&-1<this.theme.indexOf("Material3")&&(this.valueFill=this.valueFill||("Material3Dark"===this.theme?"#938F99":"#79747E"),this.targetColor="#191919"===this.targetColor?"Material3Dark"===this.theme?"#938F99":"#79747E":this.targetColor),document.getElementById(this.element.id+"Keyboard_bullet_chart_focus")||((e=document.createElement("style")).setAttribute("id",this.element.id+"Keyboard_bullet_chart_focus"),e.innerText=".e-bullet-chart-focused:focus,text[id*=_BulletChartTitle]:focus, text[id*=_BulletChartSubTitle]:focus, rect[id*=_svg_FeatureMeasure_]:focus, g[id*=_chart_legend_g_]:focus {outline: none } .e-bullet-chart-focused:focus-visible,text[id*=_BulletChartTitle]:focus-visible, text[id*=_BulletChartSubTitle]:focus-visible, rect[id*=_svg_FeatureMeasure_]:focus-visible, g[id*=_chart_legend_g_]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(e))},v.prototype.findRange=function(){if(this.minimum||(this.minimum=0),!this.maximum)for(var e=this.maximum=0;e<this.ranges.length;e++)this.maximum=this.maximum>this.ranges[e].end?this.maximum:this.ranges[e].end;if(null===this.maximum)if(K.isNullOrUndefined(this.dataSource))this.maximum=10;else for(e=0;e<Object.keys(this.dataSource).length;e++)this.dataSource[e][this.targetField]>this.dataSource[e][this.valueField]?this.maximum=this.maximum>this.dataSource[e][this.targetField]?this.maximum+this.interval:this.dataSource[e][this.targetField]+this.interval:this.maximum=this.maximum>this.dataSource[e][this.valueField]?this.maximum+this.interval:this.dataSource[e][this.valueField]+this.interval;this.interval||(this.interval=this.calculateNumericNiceInterval(this.maximum-this.minimum))},v.prototype.getActualDesiredIntervalsCount=function(e){var e="Horizontal"===this.orientation?e.width:e.height,t=3*("Horizontal"===this.orientation?.533:1);return Math.max(e*(t/100),1)},v.prototype.calculateNumericNiceInterval=function(e){for(var t=this.getActualDesiredIntervalsCount(this.availableSize),i=e/t,o=Math.pow(10,Math.floor(ji(i,10))),r=0,n=this.intervalDivs;r<n.length;r++){var a=o*n[r];if(t<e/a)break;i=a}return i},v.prototype.setSecondaryElementPosition=function(){var e,t,i=J(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=J(this.element.id+"_svg").getBoundingClientRect(),i.style.left=Math.max(t.left-e.left,0)+"px",i.style.top=Math.max(t.top-e.top,0)+"px",i.style.position="relative")},v.prototype.createSvg=function(e){this.removeSvg(),e.renderer=new $.SvgRenderer(e.element.id),this.calculateAvailableSize(this),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height}),this.renderChartBackground()},v.prototype.renderChartBackground=function(){var e=new Pr(this.element.id+"_ChartBorder",this.themeStyle.background,{width:this.border.width||0,color:this.border.color||"transparent"},1,new $.Rect(0,0,this.availableSize.width,this.availableSize.height),0,0,"",this.border.dashArray);this.svgObject.appendChild(this.renderer.drawRectangle(e))},v.prototype.renderBulletElements=function(){var e=this.renderer.createGroup({id:this.svgObject.id+"_scaleGroup"});this.renderBulletChartTitle(),this.svgObject.appendChild(e),this.rangeCollection=this.scale.drawScaleGroup(e);var t=("Horizontal"===this.orientation?this.initialClipRect.width:this.initialClipRect.height)/((this.maximum-this.minimum)/this.interval),t=(this.bulletAxis.renderMajorTickLines(t,e),this.bulletAxis.renderMinorTickLines(t,e),this.bulletAxis.renderAxisLabels(t,e),this.bulletChartRect.x="Left"===this.titlePosition||"Right"===this.titlePosition||"Vertical"===this.orientation?this.bulletChartRect.x:0,this.element.id);"g"!==this.element.tagName&&((e=pr(this.redraw,t+"_Secondary_Element")||this.createElement("div")).id=t+"_Secondary_Element",q(!1,this.element,e,this.redraw)),this.tooltip.enable&&q(!1,this.svgObject,this.renderer.createGroup({id:t+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.bindData(),this.renderDataLabel(),this.renderBulletLegend(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition()},v.prototype.renderBulletLegend=function(){var e;this.bulletChartLegendModule&&this.bulletChartLegendModule.legendCollections.length&&(this.bulletChartLegendModule.calTotalPage=!0,e=this.bulletChartLegendModule.legendBounds,this.bulletChartLegendModule.renderLegend(this,this.legendSettings,e))},v.prototype.bulletResize=function(){var e=this,t=(this.animateSeries=!1,{chart:this,name:At,currentSize:new $.Size(0,0),previousSize:new $.Size(this.availableSize.width,this.availableSize.height)});return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(e.createSvg(e),t.currentSize=e.availableSize,e.trigger(At,t),e.calculatePosition(),e.renderBulletElements())},500),!1},v.prototype.bindData=function(){null!=this.dataSource&&(this.dataCount=this.dataSource.length,this.drawMeasures(this.dataCount))},v.prototype.drawMeasures=function(e){this.scale.renderFeatureBar(e),this.scale.renderComparativeSymbol(e)},v.prototype.calculatePosition=function(){var e=this.margin,t=0,i=0,o=new $.Size(0,0),r=(this.titleCollections=[],this.subTitleCollections=[],0),n=0,a=5;if(this.title){this.titleCollections=fr(this.title,this.titleStyle,this.titleStyle.maximumTitleWidth,this.enableRtl,this.themeStyle.titleFont);for(var t=$.measureText(this.title,this.titleStyle,this.themeStyle.titleFont).height*this.titleCollections.length+5,l=0,s=this.titleCollections;l<s.length;l++)var h=s[l],r=(o=$.measureText(h,this.titleStyle,this.themeStyle.titleFont)).width>r?o.width:r,n=o.height>n?o.height:n;if(a+=n,this.subTitleCollections=fr(this.subtitle,this.subtitleStyle,this.titleStyle.maximumTitleWidth,this.enableRtl),this.subtitle){for(var c=0,d=this.subTitleCollections;c<d.length;c++){var p=d[c];r=(o=$.measureText(p,this.subtitleStyle,this.themeStyle.subTitleFont)).width>r?o.width:r,n=o.height>n?o.height:n}i=$.measureText(this.subtitle,this.subtitleStyle,this.themeStyle.subTitleFont).height*this.subTitleCollections.length+5,a+=n}}this.maxTitleSize=new $.Size(r,"Vertical"===this.orientation?a:n),this.maxLabelSize=this.getMaxLabelWidth(),this.initialClipRect=this.getBulletBounds("Vertical"===this.orientation?a:r,t,i,e),this.bulletChartRect=new $.Rect(this.initialClipRect.x,this.initialClipRect.y,this.initialClipRect.width,this.initialClipRect.height),this.bulletChartLegendModule&&this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,this.maxLabelSize)},v.prototype.getBulletBounds=function(e,t,i,o){var r,n=new $.Rect(0,0,0,0),a=this.enableRtl,l=this.labelPosition===this.tickPosition?5:0,s="Inside"===this.tickPosition?0:this.majorTickLines.height,h="Inside"===this.labelPosition?0:5+("Outside"===this.tickPosition?0:$.measureText(this.maximum.toString(),this.labelStyle,this.themeStyle.dataLabelFont).height),c=0,d=0,p=0,u=0,g=0,m=0,y=0,f=0,v=e,e=this.bulletAxis.getFormat(this),b=null!==e.match("{value}"),b=(this.bulletAxis.format=this.intl.getNumberFormat({format:b?"":e,useGrouping:this.enableGroupSeparator}),$.measureText(this.bulletAxis.formatValue(this.bulletAxis,b,e,this.maximum),this.labelStyle,this.themeStyle.axisLabelFont).width);switch("Horizontal"===this.orientation?(r=this.maxLabelSize.width,c=this.opposedPosition?s+h+l:0,d=this.opposedPosition?0:s+h+l,y=r&&!a?r:0,y+=v&&"Left"===this.titlePosition?15:0,f=r&&a?r:0,f+=v&&"Right"===this.titlePosition?5:0):(r=this.maxLabelSize.height,u=this.opposedPosition?s+l:0,u+=this.opposedPosition&&"Inside"!==this.labelPosition?b:0,p=this.opposedPosition?0:s+l,p+=this.opposedPosition||"Inside"===this.labelPosition?0:b,g=r&&a?r+5:0,m=r&&!a?r+5:0),this.titlePosition){case"Left":n.x=o.left+v+y+p,n.width=this.availableSize.width-o.right-n.x-f-u,n.y=o.top+c+g,n.height=this.availableSize.height-n.y-o.bottom-d-m;break;case"Right":n.x=o.left+y+p,n.width=this.availableSize.width-u-o.right-n.x-(v+5)-f,n.y=o.top+c+g,n.height=this.availableSize.height-n.y-o.bottom-d-m;break;case"Top":n.x=o.left+p+y,n.width=this.availableSize.width-o.right-n.x-f-u,n.y=o.top+(t+i)+c+g,n.height=this.availableSize.height-n.y-o.bottom-d-m;break;case"Bottom":n.x=o.left+p+y,n.y=o.top+c+g,n.width=this.availableSize.width-o.right-n.x-f-u,n.height=this.availableSize.height-n.y-m-o.bottom-d-(t+i)}return n},v.prototype.getMaxLabelWidth=function(){var e;if((this.maxLabelSize=new $.Size(0,0),this.categoryField)&&!K.isNullOrUndefined(this.dataSource))for(var t=0,i=Object.keys(this.dataSource).length;t<i;t++)(e=$.measureText(this.dataSource[t][this.categoryField]||"",this.categoryLabelStyle,this.themeStyle.axisLabelFont)).width>this.maxLabelSize.width&&(this.maxLabelSize.width=e.width),e.height>this.maxLabelSize.height&&(this.maxLabelSize.height=e.height);return this.maxLabelSize},v.prototype.calculateVisibleElements=function(){var e,t=this.ranges;this.visibleRanges=[];for(var i=0,o=t.length;i<o;i++)(e=t[i]).index=i,this.visibleRanges.push(e),t[i]=e},v.prototype.renderBulletChartTitle=function(){var e=this.margin,t=0,i=0,o="middle",r="",n=this.titleStyle.textAlignment,a=$.measureText(this.title,this.titleStyle,this.themeStyle.titleFont),l=this.subtitle?$.measureText(this.subtitle,this.subtitleStyle,this.themeStyle.subTitleFont):new $.Size(0,0);if(this.title){if("Horizontal"===this.orientation)switch(this.titlePosition){case"Top":t=this.findHorizontalAlignment(e),o="Far"===n?"end":"Near"===n?"start":"middle",i=e.top+a.height/2+5;break;case"Bottom":t=this.findHorizontalAlignment(e),o="Far"===n?"end":"Near"===n?"start":"middle",i=this.availableSize.height-e.bottom-a.height/3+10-(l.height?l.height+5:0);break;case"Left":o="end",t=e.left+this.maxTitleSize.width,i=this.margin.top+this.availableSize.height/2-a.height/3-(l.height||0);break;case"Right":o="start",t=this.availableSize.width-e.right-this.maxTitleSize.width+5,i=this.margin.top+this.availableSize.height/2-a.height/3-(l.height||0)}else{switch(this.titlePosition){case"Top":t=this.availableSize.width/2+10,i=this.margin.top+a.height/2+5;break;case"Bottom":t=this.availableSize.width/2,i=this.availableSize.height-this.margin.bottom-a.height/3+10-(l.height?l.height+5:0);break;case"Left":i=this.findVerticalAlignment(e),o="Far"===n?"start":"Near"===n?"end":"middle",t=e.left;break;case"Right":t=this.availableSize.width-e.right-a.height/3,o="Far"===n?"start":"Near"===n?"end":"middle",i=this.findVerticalAlignment(e)}r="Left"===this.titlePosition?"rotate(-90,"+t+","+i+")":"Right"===this.titlePosition?"rotate(90,"+t+","+i+")":""}r=new $.TextOption(this.element.id+"_BulletChartTitle",t,i,o,this.titleCollections,r,"auto"),r=gr(this.renderer,r,this.titleStyle,this.titleStyle.color||this.themeStyle.titleFont.color,this.svgObject,null,null,null,null,null,null,0,null,null,null,this.themeStyle.titleFont);r&&(r.setAttribute("aria-label",this.title+". Syncfusion interactive chart."),r.setAttribute("tabindex","0"),r.setAttribute("role","img")),this.subtitle&&this.renderBulletChartSubTitle(t,i,o)}},v.prototype.renderDataLabel=function(){var e,t=0,i=0,o=this.enableRtl,r=this.dataLabel.labelStyle.textAlignment,n=this.labelFormat||"",a=null!==n.match("{value}");if(this.dataLabel.enable)for(var l=0,s=Object.keys(this.dataSource).length;l<s;l++){var h=this.dataSource[l],c=this.scale.featureBarBounds[l],h=h[this.valueField].toString(),d=(this.format=this.intl.getNumberFormat({format:a?"":n,useGrouping:this.enableGroupSeparator}),h=a?n.replace("{value}",this.format(h)):h,$.measureText(h,this.dataLabel.labelStyle,this.themeStyle.axisLabelFont)),p=d.width,d=d.height,c=("Horizontal"===this.orientation?(e="Rect"===this.type||o?"end":"start",(t=this.findTextAlignment(c,p,r))-p<this.initialClipRect.x&&(e="start"),t>this.initialClipRect.width&&(t-=p),i=c.y+c.height/2):(e="middle",t=c.y+c.height/2,(i=this.findTextAlignment(c,p,r))+d/2>this.initialClipRect.height+this.initialClipRect.y&&(i-=d/3)),new $.TextOption(this.element.id+"_DataLabel_"+l,t,i,e,h,"","middle"));gr(this.renderer,c,this.dataLabel.labelStyle,this.dataLabel.labelStyle.color||this.themeStyle.dataLabelFont.color,this.svgObject,null,null,null,null,null,null,0,null,null,null,this.themeStyle.dataLabelFont)}},v.prototype.findTextAlignment=function(e,t,i){var o=0;switch(i){case"Center":o=e.x+e.width/2;break;case"Near":o=e.x+("Horizontal"===this.orientation?this.enableRtl?e.width-5:5:this.enableRtl?10:e.width);break;case"Far":o=e.x+("Horizontal"===this.orientation?(this.enableRtl?"Rect"===this.type?t+10:-10:e.width)+("Rect"===this.type?-5:5):(this.enableRtl?e.width+("Rect"===this.type?-10:10):0)+("Rect"===this.type?10:-10))}return o},v.prototype.findHorizontalAlignment=function(e){var t=0;switch(this.titleStyle.textAlignment){case"Center":t=(this.availableSize.width-e.left-e.right)/2;break;case"Near":t=e.left;break;case"Far":t=this.availableSize.width-e.right}return t},v.prototype.findVerticalAlignment=function(e){var t=0;switch(this.titleStyle.textAlignment){case"Center":t=(this.availableSize.height-e.top-e.bottom)/2;break;case"Near":t=e.top;break;case"Far":t=this.availableSize.height-e.bottom}return t},v.prototype.renderBulletChartSubTitle=function(e,t,i){var o=this.margin,r="",n=$.measureText(this.subtitle,this.subtitleStyle,this.themeStyle.subTitleFont);if("Horizontal"===this.orientation)switch(this.titlePosition){case"Top":t=t+n.height+2.5;break;case"Bottom":t=this.availableSize.height-o.bottom-n.height/3+5;break;case"Left":case"Right":t=t+n.height+2.5}else{switch(this.titlePosition){case"Top":t=t+n.height+2.5;break;case"Bottom":t=this.availableSize.height-o.bottom-n.height/3+5;break;case"Left":e+=n.height+2.5;break;case"Right":e-=n.height+2.5}r="Left"===this.titlePosition?"rotate(-90,"+e+","+t+")":"Right"===this.titlePosition?"rotate(90,"+e+","+t+")":""}i=new $.TextOption(this.element.id+"_BulletChartSubTitle",e,t,i,this.subTitleCollections,r,"auto"),r=gr(this.renderer,i,this.subtitleStyle,this.subtitleStyle.color||this.themeStyle.subTitleFont.color,this.svgObject,null,null,null,null,null,null,0,null,null,null,this.themeStyle.subTitleFont);r&&(r.setAttribute("aria-label",this.subtitle),r.setAttribute("tabindex","0"),r.setAttribute("role","img"))},v.prototype.calculateAvailableSize=function(e){var t=this.element.clientWidth||this.element.offsetWidth||200,i="Vertical"===this.orientation?450:"Left"===this.titlePosition||"Right"===this.titlePosition?83:126,i=this.element.clientHeight||i;e.availableSize=new $.Size(dr(e.width,t)||t,dr(e.height,i)||i)},v.prototype.removeSvg=function(){var e=document.getElementById(this.element.id+"_svg");e&&K.remove(e)},v.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},v.prototype.unWireEvents=function(){var e=K.Browser.touchStartEvent,t=K.Browser.touchMoveEvent,i=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,e,this.bulletMouseDown),K.EventHandler.remove(this.element,t,this.bulletMouseMove),K.EventHandler.remove(this.element,i,this.bulletMouseLeave),K.EventHandler.remove(this.element,"click",this.bulletChartOnMouseClick),K.EventHandler.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound)},v.prototype.wireEvents=function(){var e=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.bulletMouseMove,this),K.EventHandler.add(this.element,e,this.bulletMouseLeave,this),K.EventHandler.add(this.element,K.Browser.touchStartEvent,this.bulletMouseDown,this),K.EventHandler.add(this.element,"click",this.bulletChartOnMouseClick,this),K.EventHandler.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.bulletResize.bind(this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.setStyle(this.element)},v.prototype.setStyle=function(e){e.style.position="relative",e.style.display="block"},v.prototype.bulletMouseMove=function(e){var t,i=e.clientX,o=e.clientY,i=(this.setPointMouseXY(i,o),e.target.id),o=e.target.className.baseVal;if(o===this.svgObject.id+"_FeatureMeasure"&&this.svgObject.id,!K.isNullOrUndefined(this.dataSource))for(var r=0;r<Object.keys(this.dataSource).length;r++)document.getElementById(this.svgObject.id+"_FeatureMeasure_"+r).setAttribute("opacity","1"),document.getElementById(this.svgObject.id+"_ComparativeMeasure_"+r).setAttribute("opacity","1");this.isTouchEvent(e)||(t="tooltipDiv"+this.element.id,(t=document.getElementById(t))&&(this.isReact&&this.clearTemplate(),K.remove(t)),this.bulletTooltipModule&&(this.bulletTooltipModule._elementTooltip(e,o,i,this.mouseX),this.bulletTooltipModule._displayTooltip(e,o,i,this.mouseX,this.mouseY)))},v.prototype.setPointMouseXY=function(e,t){var i=J(this.svgObject.id).getBoundingClientRect(),o=this.element.getBoundingClientRect();this.mouseX=e-o.left-Math.max(i.left-o.left,0),this.mouseY=t-o.top-Math.max(i.top-o.top,0)},v.prototype.bulletMouseLeave=function(e){this.isTouchEvent(e)||(e=document.getElementById(".tooltipDiv"+this.element.id))&&(this.isReact&&this.clearTemplate(),K.remove(e))},v.prototype.isTouchEvent=function(e){return"touch"===e.pointerType||-1<e.type.indexOf("touch")},v.prototype.bulletMouseDown=function(e){var t,i=("touchstart"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType,t=e.clientX,e)).clientY;this.setPointMouseXY(t,i),this.isTouchEvent(e)&&(this.isReact&&this.clearTemplate(),(t=document.getElementById("tooltipDiv"+this.element.id))&&K.remove(t),i=e.target.id,t=e.target.className.baseVal,this.bulletTooltipModule)&&(this.bulletTooltipModule._elementTooltip(e,t,i,this.mouseX),this.bulletTooltipModule._displayTooltip(e,t,i,this.mouseX,this.mouseY))},v.prototype.bulletChartOnMouseClick=function(e){var t=e.target;return this.trigger(jt,{target:t.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1},v.prototype.print=function(e){new Yn(this).print(e)},v.prototype.export=function(e,t,i,o,r,n,a){o=o||[this],new Dc(this).export(e,t,i,o,r,n,a)},v.prototype.chartKeyUp=function(e){var t,i=e.target.id,o=e.target,r=J(this.element.id+"_chart_legend_translate_g");return r&&((t=(r=r.firstElementChild).getAttribute("class"))&&-1===t.indexOf("e-bullet-chart-focused")?t+=" e-bullet-chart-focused":t=t||"e-bullet-chart-focused",r.setAttribute("class",t)),"Tab"===e.code?(""!==this.previousTargetId&&-1<this.previousTargetId.indexOf("_chart_legend_g_")&&-1===i.indexOf("_chart_legend_g_")&&(r=J(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(r.children[this.currentLegendIndex],r.firstElementChild)),this.previousTargetId=i):-1<e.code.indexOf("Arrow")&&(e.preventDefault(),-1<i.indexOf("_chart_legend_"))&&((t=o.parentElement.children)[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,t.length),r=t[this.currentLegendIndex],this.focusChild(r),i=r.children[1].id),!1},v.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},v.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},v.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-bullet-chart-focused")?"e-bullet-chart-focused "+t:t||"e-bullet-chart-focused",e.setAttribute("class",t),e.focus(),e.id},v.prototype.onPropertyChanged=function(e){var t=!1,i=!1;if(this.animateSeries=!1,!this.delayRedraw){for(var o=0,r=Object.keys(e);o<r.length;o++)switch(r[o]){case"height":case"width":this.createSvg(this),i=!0;break;case"subtitle":case"title":i=!0;break;case"tickPosition":case"labelPosition":case"titlePosition":t=!0;break;case"minimum":case"maximum":case"interval":i=!0;break;case"majorTickLines":case"minorTickLines":case"type":case"ranges":case"valueFill":case"targetColor":i=!0;break;case"titleStyle":e.titleStyle?i=!0:t=!0;break;case"subtitleStyle":e.subtitleStyle&&(e.subtitleStyle.size||e.subtitleStyle.textOverflow)?i=!0:t=!0;break;case"border":case"opposedPosition":t=!0;break;case"dataSource":this.bindData(),i=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":ag.prototype.refresh.call(this)}!i&&t&&(this.removeSvg(),this.renderBulletElements(),this.trigger("loaded",{bulletChart:this})),i&&(this.render(),this.trigger("loaded",{bulletChart:this}),this.redraw=!1)}},v.prototype.requiredModules=function(){for(var e,t=[],i=0;i<this.ranges.length;i++)null!==this.ranges[i].name&&(e=!0);return this.isLegend=this.legendSettings.visible&&(e||!!this.isLegend||""!==this.targetField||""!==this.valueField),this.tooltip.enable&&t.push({member:"BulletTooltip",args:[this]}),this.isLegend&&t.push({member:"BulletChartLegend",args:[this]}),t},v.prototype.getModuleName=function(){return"bulletChart"},v.prototype.destroy=function(){this.unWireEvents(),ag.prototype.destroy.call(this),this.removeSvg(),this.svgObject=null,this.element.classList.remove("e-BulletChart"),this.element.innerText="";var e=document.getElementById(this.element.id+"Keyboard_bullet_chart_focus");e&&e.remove(),w("chartmeasuretext")},lg([K.Property(null)],v.prototype,"width",void 0),lg([K.Property(null)],v.prototype,"height",void 0),lg([K.Property(null)],v.prototype,"locale",void 0),lg([K.Complex({},ju)],v.prototype,"majorTickLines",void 0),lg([K.Complex({},Xu)],v.prototype,"minorTickLines",void 0),lg([K.Property(null)],v.prototype,"minimum",void 0),lg([K.Property(null)],v.prototype,"maximum",void 0),lg([K.Property(null)],v.prototype,"interval",void 0),lg([K.Property(4)],v.prototype,"minorTicksPerInterval",void 0),lg([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Zu)],v.prototype,"labelStyle",void 0),lg([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},Zu)],v.prototype,"categoryLabelStyle",void 0),lg([K.Property("")],v.prototype,"labelFormat",void 0),lg([K.Property("")],v.prototype,"title",void 0),lg([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Zu)],v.prototype,"titleStyle",void 0),lg([K.Property("")],v.prototype,"subtitle",void 0),lg([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Zu)],v.prototype,"subtitleStyle",void 0),lg([K.Property("Horizontal")],v.prototype,"orientation",void 0),lg([K.Complex({color:"#DDDDDD",width:0},ae)],v.prototype,"border",void 0),lg([K.Complex({},Ku)],v.prototype,"tooltip",void 0),lg([K.Collection([{end:null,opacity:1,color:""},{end:null,opacity:1,color:""},{end:null,opacity:1,color:""}],Nu)],v.prototype,"ranges",void 0),lg([K.Property("Outside")],v.prototype,"labelPosition",void 0),lg([K.Property("Outside")],v.prototype,"tickPosition",void 0),lg([K.Property("Top")],v.prototype,"titlePosition",void 0),lg([K.Property(!1)],v.prototype,"opposedPosition",void 0),lg([K.Property("Material")],v.prototype,"theme",void 0),lg([K.Complex({},Se)],v.prototype,"animation",void 0),lg([K.Complex({},eg)],v.prototype,"dataLabel",void 0),lg([K.Complex({},zu)],v.prototype,"legendSettings",void 0),lg([K.Property(!1)],v.prototype,"enableGroupSeparator",void 0),lg([K.Complex({top:15,bottom:10,left:15,right:15},me)],v.prototype,"margin",void 0),lg([K.Property(5)],v.prototype,"targetWidth",void 0),lg([K.Property("#191919")],v.prototype,"targetColor",void 0),lg([K.Property(6)],v.prototype,"valueHeight",void 0),lg([K.Property(null)],v.prototype,"valueFill",void 0),lg([K.Complex({color:"transparent",width:0},ae)],v.prototype,"valueBorder",void 0),lg([K.Property(null)],v.prototype,"dataSource",void 0),lg([K.Property(null)],v.prototype,"query",void 0),lg([K.Property(null)],v.prototype,"categoryField",void 0),lg([K.Property("Rect")],v.prototype,"type",void 0),lg([K.Property("")],v.prototype,"valueField",void 0),lg([K.Property("")],v.prototype,"targetField",void 0),lg([K.Property(["Rect","Cross","Circle"])],v.prototype,"targetTypes",void 0),lg([K.Property(0)],v.prototype,"tabIndex",void 0),lg([K.Event()],v.prototype,"tooltipRender",void 0),lg([K.Event()],v.prototype,"load",void 0),lg([K.Event()],v.prototype,"loaded",void 0),lg([K.Event()],v.prototype,"bulletChartMouseClick",void 0),lg([K.Event()],v.prototype,"legendRender",void 0),lg([K.Event()],v.prototype,"beforePrint",void 0),lg([K.NotifyPropertyChanges],v));function v(e,t){e=ag.call(this,e,t)||this;return e.bulletid=57726,e.animateSeries=!0,e.padding=5,e.leftSize=0,e.rightSize=0,e.topSize=0,e.bottomSize=0,e.maxLabelSize=new $.Size(0,0),e.maxTitleSize=new $.Size(0,0),e.intervalDivs=[10,5,2,1],e.currentLegendIndex=0,e.previousTargetId="",e}sg.prototype._elementTooltip=function(e,t,i,o){var r=this.control.createElement("div"),n=(r.id="tooltip",r.className="tooltipDiv",e.target),e=e.clientY,a="",l=this.control.tooltip.textStyle.fontStyle||this.control.themeStyle.tooltipLabelFont.fontStyle,s=this.control.tooltip.fill||this.control.themeStyle.tooltipFill,h=this.control.themeStyle.tooltipLabelFont.color||this.control.themeStyle.tooltipBoldLabel;r.style.cssText="left:"+(o+20)+"px;top:"+e+'px;display: block; position: absolute; "z-index": "13000",cursor: default;font-family: Segoe UI;color:'+h+"; font-size: 13px; background-color:"+s+"; border: 1px solid #707070;font-style:"+l+";",t===this.control.svgObject.id+"_Caption"?a=n.textContent===this.control.title?"":this.control.title:t===this.control.svgObject.id+"_SubTitle"&&(a=n.textContent===this.control.subtitle?"":this.control.subtitle),""!==a&&(r.innerHTML="&nbsp"+a+"&nbsp",document.body.insertAdjacentElement("afterbegin",r))},sg.prototype._displayTooltip=function(e,t,i,o,r){if("undefined"!==t&&this.control.tooltip.enable&&(t===this.control.svgObject.id+"_FeatureMeasure"||t===this.control.svgObject.id+"_ComparativeMeasure")){for(var n=[],a=void 0,l=this.bulletAxis.getFormat(this.control),s=null!==l.match("{value}"),h=i.substring(i.lastIndexOf("_")+1),c=[],d=(this.bulletAxis.format=this.bulletAxis.bulletChart.intl.getNumberFormat({format:s?"":l,useGrouping:this.bulletAxis.bulletChart.enableGroupSeparator}),this.control.dataSource[h][this.control.valueField]),n=n.concat(this.control.dataSource[h][this.control.targetField]),h=this.control.dataSource[h][this.control.categoryField],p=(d&&d.toString(),n?n.toString():""),d=(h&&h.toString(),this.bulletAxis.formatValue(this.bulletAxis,s,l,+d)),u=0;u<n.length;u++)c=c.concat(this.bulletAxis.formatValue(this.bulletAxis,s,l,+n[u]));var g={value:d,target:c,category:h=this.bulletAxis.formatValue(this.bulletAxis,s,l,+h)},d={value:d,target:p,category:h},p="position: absolute; z-index: 13000; display: block;",m=(0===document.getElementsByClassName("tooltipDiv"+this.control.element.id).length&&((a=this.control.createElement("div")).id="tooltipDiv"+this.control.element.id,a.style.cssText=p,document.getElementById(this.control.element.id+"_Secondary_Element").appendChild(a)),{value:g.value,target:g.target,name:gt});if(""!==this.control.tooltip.template&&null!=this.control.tooltip.template){this.updateTemplateFn();for(var y=this.control.createElement("div",{id:this.control.element.id+"parent_template"}),f=this.templateFn(d,this.control,"template",y.id+"_blazorTemplate","",null,y);f&&0<f.length;)1===f.length?(y.appendChild(f[0]),f=null):y.appendChild(f[0]);m.template=y.innerHTML,this.control.trigger(gt,m),y.innerHTML=m.template,a.appendChild(y)}else{for(var v="Value : "+m.value,u=0;u<m.target.length;u++)v+="<br/> Target"+(0===u?"":"_"+u)+" : "+m.target[u];m.text=v,this.control.trigger(gt,m),a.innerHTML=m.text,a.style.font=this.control.tooltip.textStyle.fontStyle||this.control.themeStyle.tooltipLabelFont.fontStyle,a.style.color=this.control.themeStyle.tooltipLabelFont.color||this.control.themeStyle.tooltipBoldLabel,a.style.fontSize=this.control.themeStyle.titleFont.size}var h=this.control.tooltip.fill||this.control.themeStyle.tooltipFill,g="Fabric"===this.control.theme||"Fluent"===this.control.theme&&!this.control.tooltip.border.width?1:this.control.tooltip.border.width,d="Fabric"===this.control.theme||"Fluent"===this.control.theme&&!this.control.tooltip.border.color?"#D2D0CE":this.control.tooltip.border.color,d=this.control.tooltip.border.dashArray?"dashed "+d+"; border-dasharray: "+this.control.tooltip.border.dashArray+";":"Solid "+d+";",b=(b=o)+dr(a.getAttribute("width"),this.control.containerWidth)<window.innerWidth?b:dr(a.getAttribute("width"),this.control.containerWidth),r=r+dr(a.getAttribute("height"),this.control.containerHeight)<window.innerHeight?r:dr(a.getAttribute("height"),this.control.containerHeight);(b=null==b?o:b)+a.clientWidth>this.control.availableSize.width&&(b-=a.clientWidth+20),(r=null==r?e.clientY:r)+a.clientHeight>this.control.availableSize.height&&(r-=a.clientHeight+20),""!==this.control.tooltip.template&&null!=this.control.tooltip.template?a.style.cssText="position: absolute;left:"+(b+20)+"px;top:"+(r+20)+"px;":(o=this.control.tooltip.textStyle.fontFamily||this.control.themeStyle.tooltipLabelFont.fontFamily,e=p+"left:"+(b+20)+"px;top:"+(r+20)+"px;-webkit-border-radius: 5px 5px 5px 5px; -moz-border-radius: 5px 5px 5px 5px;-o-border-radius: 5px 5px 5px 5px;border-radius: 5px 5px 5px 5px;background-color:"+h+";color:"+(this.control.tooltip.textStyle.color||this.control.themeStyle.tooltipLabelFont.color)+"; border:"+g+"px "+d+"padding-bottom: 7px;font-style:"+this.control.themeStyle.tooltipLabelFont.fontStyle+"; padding-left: 10px; font-family:"+o+"; font-size:"+this.control.tooltip.textStyle.size+"; padding-right: 10px; padding-top: 7px",a.style.cssText=e,-1<this.control.theme.indexOf("Fluent2")&&(b='<filter id="'+(p=this.control.element.id+"_shadow")+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="-1" dy="3.6" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',(r=this.control.renderer.createDefs()).setAttribute("id",this.control.element.id+"SVG_tooltip_definition"),a.appendChild(r),r.innerHTML=b,a.style.filter="url(#"+p+")"),t!==this.control.svgObject.id+"_FeatureMeasure"&&t!==this.control.svgObject.id+"_ComparativeMeasure"||document.getElementById(i).setAttribute("opacity","0.6")),this.control.isReact&&this.control.renderReactTemplates()}},sg.prototype.updateTemplateFn=function(){if(this.control.tooltip.template)try{"function"!=typeof this.control.tooltip.template&&document.querySelectorAll(this.control.tooltip.template).length?this.templateFn=K.compile(document.querySelector(this.control.tooltip.template).innerHTML.trim()):this.templateFn=K.compile(this.control.tooltip.template)}catch(e){this.templateFn=K.compile(this.control.tooltip.template)}},sg.prototype.getModuleName=function(){return"BulletTooltip"},sg.prototype.destroy=function(){};lg=sg;function sg(e){this.control=e,this.elementId=e.element.id,this.bulletAxis=new Ru(this.control)}hg=function(e,t){return(hg=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}hg(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(pg,cg=i),pg.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on("click",this.click,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this),this.chart.on(K.Browser.touchMoveEvent,this.bulletMouseMove,this))},pg.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd),this.chart.off(K.Browser.touchMoveEvent,this.bulletMouseMove))},pg.prototype.bulletMouseMove=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},pg.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},pg.prototype.getLegendOptions=function(e){this.legendCollections=[];for(var t,i=0,o=(this.isRtlEnable=this.chart.enableRtl,this.chart),r=0,n=e;r<n.length;r++){var a=n[r];null!==a.name&&(t=a.color||o.themeStyle.rangeStrokes[a.index].color,this.legendCollections.push(new Hn(a.name,t,a.shape,this.chart.legendSettings.visible,null,a.legendImageUrl,null,!1,a.index,null)),i++)}if(null!==o.dataSource&&""!==o.valueField&&(t=-1<o.theme.indexOf("Dark")?"white":o.valueFill||"black",l="Vertical"===o.orientation?"TargetRect":"ActualRect",this.legendCollections.push(new Hn("Actual",t,l,this.chart.legendSettings.visible,null,"",null,!1,i++,null))),null!==o.dataSource&&""!==o.targetField){t=-1<o.theme.indexOf("Dark")?"white":o.targetColor||"black";for(var l="Vertical"===o.orientation?"ActualRect":"TargetRect",s=0;s<Object.keys(o.dataSource).length;s++)if(K.isNullOrUndefined(o.dataSource[s][o.targetField].length)||1===o.dataSource[s][o.targetField].length)for(;0===s;){this.legendCollections.push(new Hn("Target",t,l,this.chart.legendSettings.visible,null,"",null,!1,i++,null));break}else for(var h=o.targetTypes,c=[],d=h.length;0===s;){for(var p=0;p<d;p++)c[p]=h[p%d],c[p]="Rect"===c[p]?"Vertical"===o.orientation?"ActualRect":"TargetRect":c[p],c[p]="Cross"===c[p]?"Multiply":c[p],this.legendCollections.push(new Hn("Target_"+p,t,c[p],this.chart.legendSettings.visible,null,"",null,!1,i++,null));break}}},pg.prototype.getLegendBounds=function(e,t,i){for(var o=0,r=i.padding,n=0,a=(this.isVertical?o=i.width?0:e.width/100*5:n=i.height?0:e.height/100*5,t.height+=n,t.width+=o,0),l=0,s=0,h=0,c=i.shapeWidth,d=i.shapePadding,p=(this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight),!1),u=0,g=this.legendCollections;u<g.length;u++){var m=g[u],y={fill:m.fill,text:m.text,shape:m.shape,name:nt,cancel:!1};this.chart.trigger(nt,y),m.render=!y.cancel,m.text=y.text,m.fill=y.fill,m.shape=y.shape,m.textSize=$.measureText(m.text,i.textStyle,this.chart.themeStyle.legendLabelFont),m.render&&""!==m.text&&(p=!0,l+=y=c+d+m.textSize.width+r,t.width<r+l||this.isVertical)&&(a=Math.max(a,l+r-(this.isVertical?0:y)),0===s&&y!==l&&(s=1),l=this.isVertical?0:y,h=++s*(this.maxItemHeight+r)+r)}h=Math.max(h,this.maxItemHeight+r+r),this.isPaging=t.height<h,this.totalPages=s,p?this.setBounds(Math.max(l+r,a),h,i,t):this.setBounds(0,0,i,t)},pg.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=i+(this.legend.maximumLabelWidth||o.textSize.width),l=o.location.x+(this.isRtlEnable?-l:l),s=this.legend.padding,r=(l+(e.textSize.width+i)>r.x+r.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=n===a?o.location.y:o.location.y+this.maxItemHeight+s):(e.location.x=n===a?o.location.x:l,e.location.y=o.location.y),this.isRtlEnable?e.location.x-i+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.itemPadding-this.legend.shapeWidth/2));e.text=hr(+r.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont)},pg.prototype.click=function(e){var t=e.target.id;-1<t.indexOf(this.legendID+"_pagedown")?this.changePage(e,!1):-1<t.indexOf(this.legendID+"_pageup")&&this.changePage(e,!0)},pg.prototype.getModuleName=function(){return"BulletChartLegend"},pg.prototype.destroy=function(){this.removeEventListener()};var hg,cg,dg=pg;function pg(e){e=cg.call(this,e)||this;return(e.library=e).addEventListener(),e}ug=function(e,t){return(ug=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var ug,gg,mg=function(e,t){function i(){this.constructor=e}ug(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},yg=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},fg=(gg=K.ChildProperty,mg(vg,gg),yg([K.Property("Segoe UI")],vg.prototype,"fontFamily",void 0),yg([K.Property("Normal")],vg.prototype,"fontStyle",void 0),yg([K.Property("Regular")],vg.prototype,"fontWeight",void 0),yg([K.Property("")],vg.prototype,"color",void 0),yg([K.Property("12px")],vg.prototype,"size",void 0),yg([K.Property(1)],vg.prototype,"opacity",void 0),vg);function vg(){return null!==gg&&gg.apply(this,arguments)||this}bg=K.ChildProperty,mg(Sg,bg),yg([K.Property(K.Browser.isDevice?5:10)],Sg.prototype,"top",void 0),yg([K.Property(K.Browser.isDevice?5:10)],Sg.prototype,"bottom",void 0),yg([K.Property(K.Browser.isDevice?5:10)],Sg.prototype,"right",void 0),yg([K.Property(K.Browser.isDevice?5:10)],Sg.prototype,"left",void 0);var bg,xg=Sg;function Sg(){return null!==bg&&bg.apply(this,arguments)||this}Cg=K.ChildProperty,mg(wg,Cg),yg([K.Property(0)],wg.prototype,"width",void 0),yg([K.Property(1)],wg.prototype,"opacity",void 0),yg([K.Property("transparent")],wg.prototype,"color",void 0);var Cg,yg=wg;function wg(){return null!==Cg&&Cg.apply(this,arguments)||this}function Fg(){}function Lg(){}var Pg,Ag=function(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o},Mg=function(){},Dg=(mg(kg,Pg=Fg),kg);function kg(){return null!==Pg&&Pg.apply(this,arguments)||this}mg(_g,Rg=Dg);var Rg,Tg=_g;function _g(){return null!==Rg&&Rg.apply(this,arguments)||this}var Eg,Ig=function(){},Og=function(){},zg=function(){},Bg=function(){},Ng=function(e,t,i,o,r){this.id=e,this.fill=t,this.borderColor=i,this.borderWidth=o,this.opacity=r},Vg=function(){},Hg=function(){this.counterclockwise=0,this.clockwise=1},jg=function(){},Wg=function(){},Ug=function(e,t){this.width=e,this.height=t},Xg=function(){},mg=(Eg=function(e,t){return(Eg=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}Eg(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function Gg(e){var t,i,o;e.renderer=new $.SvgRenderer(e.element.id),i=(t=e).element.clientWidth,o=t.element.clientHeight,t.availableSize=new Ug(Qg(t.width,i)||i||600,Qg(t.height,o)||o||450),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}function Yg(e){return document.getElementById(e)}function Zg(e,t,i,o){var r=t;if(e<rm(t,i,o).width)for(var n=t.length-1;0<=n;--n)if(rm(r=t.substring(0,n)+"...",i,o).width<=e||r.length<4)return r=r.length<4?" ":r;return r}function qg(){for(var e=1;1+.5*e!=1;)e*=.5;return e}function Qg(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}var Kg,$g=function(e,t,i,o,r,n,a){this.id=e,this.opacity=r,this.fill=t,this.stroke=o,this["stroke-width"]=i,this["stroke-dasharray"]=n,this.d=a},Jg=(mg(em,Kg=$g),em);function em(e,t,i,o,r){e=Kg.call(this,e,t,i.width,i.color,o)||this;return e.y=r.y,e.x=r.x,e.height=r.height,e.width=r.width,e}mg(om,tm=$g);var tm,im=om;function om(e,t,i,o,r,n,a,l){e=tm.call(this,e,t,i.width,i.color,o)||this;return e.cy=n,e.cx=r,e.r=a,e["stroke-dasharray"]=l,e}function rm(e,t,i){var o=document.getElementById("smithchartmeasuretext");return null===o&&(o=K.createElement("text",{id:"smithchartmeasuretext"}),document.body.appendChild(o)),o.innerText=e,o.style.position="absolute",o.style.visibility="hidden",o.style.left="0",o.style.top="-100",o.style.whiteSpace="nowrap",o.style.fontSize=t.size||i.size,o.style.fontWeight=t.fontWeight||i.fontWeight,o.style.fontStyle=t.fontStyle||i.fontStyle,o.style.fontFamily=t.fontFamily||i.fontFamily,o.style.lineHeight="normal",new Ug(o.clientWidth,o.clientHeight)}var nm=function(e,t,i,o,r){this.id=e,this.x=t,this.y=i,this.anchor=o,this.text=r};function am(e){e=document.getElementById(e);e&&K.remove(e)}function lm(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t}function sm(e,t,i,o){return-t*Math.sin(e/o*(Math.PI/2))+i+t}function hm(e){var t;switch(e){case"Linear":t=lm;break;case"Reverse":t=sm}return t}function cm(e,t,i,o,r){i={id:e.id,x:e.x,y:e.y,fill:i,"font-size":t.size||r.size,"font-style":t.fontStyle||r.fontStyle,"font-family":t.fontFamily||r.fontFamily,"font-weight":t.fontWeight||r.fontWeight,"text-anchor":e.anchor,opacity:t.opacity},r=e.text,t=new $.SvgRenderer("").createText(i,r);return o.appendChild(t),t}dm=function(e,t){return(dm=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var dm,pm,mg=function(e,t){function i(){this.constructor=e}dm(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},um=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},gm=(pm=K.ChildProperty,mg(mm,pm),um([K.Property(!0)],mm.prototype,"visible",void 0),um([K.Property("")],mm.prototype,"text",void 0),um([K.Property("")],mm.prototype,"description",void 0),um([K.Property("Center")],mm.prototype,"textAlignment",void 0),um([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],mm.prototype,"textStyle",void 0),mm);function mm(){return null!==pm&&pm.apply(this,arguments)||this}ym=K.ChildProperty,mg(vm,ym),um([K.Property(0)],vm.prototype,"x",void 0),um([K.Property(0)],vm.prototype,"y",void 0);var ym,fm=vm;function vm(){return null!==ym&&ym.apply(this,arguments)||this}bm=K.ChildProperty,mg(Sm,bm),um([K.Property(1)],Sm.prototype,"width",void 0),um([K.Property(null)],Sm.prototype,"color",void 0);var bm,xm=Sm;function Sm(){return null!==bm&&bm.apply(this,arguments)||this}Cm=K.ChildProperty,mg(Fm,Cm),um([K.Property(10)],Fm.prototype,"width",void 0),um([K.Property(10)],Fm.prototype,"height",void 0),um([K.Complex({},xm)],Fm.prototype,"border",void 0);var Cm,wm=Fm;function Fm(){return null!==Cm&&Cm.apply(this,arguments)||this}Lm=K.ChildProperty,mg(Am,Lm),um([K.Property(1)],Am.prototype,"width",void 0),um([K.Property(null)],Am.prototype,"color",void 0);var Lm,Pm=Am;function Am(){return null!==Lm&&Lm.apply(this,arguments)||this}Mm=K.ChildProperty,mg(Dm,Mm),um([K.Property(!1)],Dm.prototype,"visible",void 0),um([K.Property("bottom")],Dm.prototype,"position",void 0),um([K.Property("Center")],Dm.prototype,"alignment",void 0),um([K.Property(null)],Dm.prototype,"width",void 0),um([K.Property(null)],Dm.prototype,"height",void 0),um([K.Property("circle")],Dm.prototype,"shape",void 0),um([K.Property(null)],Dm.prototype,"rowCount",void 0),um([K.Property(null)],Dm.prototype,"columnCount",void 0),um([K.Property(8)],Dm.prototype,"itemPadding",void 0),um([K.Property(5)],Dm.prototype,"shapePadding",void 0),um([K.Property("")],Dm.prototype,"description",void 0),um([K.Property(!0)],Dm.prototype,"toggleVisibility",void 0),um([K.Complex({},gm)],Dm.prototype,"title",void 0),um([K.Complex({},fm)],Dm.prototype,"location",void 0),um([K.Complex({},wm)],Dm.prototype,"itemStyle",void 0),um([K.Complex({},Pm)],Dm.prototype,"border",void 0),um([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],Dm.prototype,"textStyle",void 0);var Mm,mg=Dm;function Dm(){return null!==Mm&&Mm.apply(this,arguments)||this}km=function(e,t){return(km=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var km,Rm,um=function(e,t){function i(){this.constructor=e}km(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Tm=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},_m=(Rm=K.ChildProperty,um(Em,Rm),Tm([K.Property(1)],Em.prototype,"width",void 0),Tm([K.Property("")],Em.prototype,"dashArray",void 0),Tm([K.Property(!0)],Em.prototype,"visible",void 0),Tm([K.Property(null)],Em.prototype,"color",void 0),Tm([K.Property(1)],Em.prototype,"opacity",void 0),Em);function Em(){return null!==Rm&&Rm.apply(this,arguments)||this}Im=K.ChildProperty,um(zm,Im),Tm([K.Property(1)],zm.prototype,"width",void 0),Tm([K.Property("")],zm.prototype,"dashArray",void 0),Tm([K.Property(!1)],zm.prototype,"visible",void 0),Tm([K.Property(null)],zm.prototype,"color",void 0),Tm([K.Property(8)],zm.prototype,"count",void 0);var Im,Om=zm;function zm(){return null!==Im&&Im.apply(this,arguments)||this}Bm=K.ChildProperty,um(Vm,Bm),Tm([K.Property(!0)],Vm.prototype,"visible",void 0),Tm([K.Property(1)],Vm.prototype,"width",void 0),Tm([K.Property(null)],Vm.prototype,"color",void 0),Tm([K.Property("")],Vm.prototype,"dashArray",void 0);var Bm,Nm=Vm;function Vm(){return null!==Bm&&Bm.apply(this,arguments)||this}Hm=K.ChildProperty,um(jm,Hm),Tm([K.Property(!0)],jm.prototype,"visible",void 0),Tm([K.Property("Outside")],jm.prototype,"labelPosition",void 0),Tm([K.Property("Hide")],jm.prototype,"labelIntersectAction",void 0),Tm([K.Complex({},_m)],jm.prototype,"majorGridLines",void 0),Tm([K.Complex({},Om)],jm.prototype,"minorGridLines",void 0),Tm([K.Complex({},Nm)],jm.prototype,"axisLine",void 0),Tm([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],jm.prototype,"labelStyle",void 0);var Hm,um=jm;function jm(){return null!==Hm&&Hm.apply(this,arguments)||this}Wm=function(e,t){return(Wm=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Wm,Um,Tm=function(e,t){function i(){this.constructor=e}Wm(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Xm=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Gm=(Um=K.ChildProperty,Tm(Ym,Um),Xm([K.Property(!0)],Ym.prototype,"visible",void 0),Xm([K.Property("")],Ym.prototype,"text",void 0),Xm([K.Property("")],Ym.prototype,"description",void 0),Xm([K.Property("Far")],Ym.prototype,"textAlignment",void 0),Xm([K.Property(!0)],Ym.prototype,"enableTrim",void 0),Xm([K.Property(null)],Ym.prototype,"maximumWidth",void 0),Xm([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],Ym.prototype,"textStyle",void 0),Ym);function Ym(){return null!==Um&&Um.apply(this,arguments)||this}Zm=K.ChildProperty,Tm(qm,Zm),Xm([K.Property(!0)],qm.prototype,"visible",void 0),Xm([K.Property("")],qm.prototype,"text",void 0),Xm([K.Property("")],qm.prototype,"description",void 0),Xm([K.Property("Center")],qm.prototype,"textAlignment",void 0),Xm([K.Property(!0)],qm.prototype,"enableTrim",void 0),Xm([K.Property(null)],qm.prototype,"maximumWidth",void 0),Xm([K.Complex({},Gm)],qm.prototype,"subtitle",void 0),Xm([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],qm.prototype,"font",void 0),Xm([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],qm.prototype,"textStyle",void 0);var Zm,Tm=qm;function qm(){return null!==Zm&&Zm.apply(this,arguments)||this}Qm=function(e,t){return(Qm=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Qm,Km,Xm=function(e,t){function i(){this.constructor=e}Qm(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},$m=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Jm=(Km=K.ChildProperty,Xm(ey,Km),$m([K.Property(1)],ey.prototype,"width",void 0),$m([K.Property(null)],ey.prototype,"color",void 0),ey);function ey(){return null!==Km&&Km.apply(this,arguments)||this}ty=K.ChildProperty,Xm(oy,ty),$m([K.Property(!1)],oy.prototype,"visible",void 0),$m([K.Property(null)],oy.prototype,"fill",void 0),$m([K.Property(.75)],oy.prototype,"opacity",void 0),$m([K.Property("")],oy.prototype,"template",void 0),$m([K.Complex({},Jm)],oy.prototype,"border",void 0);var ty,iy=oy;function oy(){return null!==ty&&ty.apply(this,arguments)||this}ry=K.ChildProperty,Xm(ay,ry),$m([K.Property(3)],ay.prototype,"width",void 0),$m([K.Property("white")],ay.prototype,"color",void 0);var ry,ny=ay;function ay(){return null!==ry&&ry.apply(this,arguments)||this}ly=K.ChildProperty,Xm(hy,ly),$m([K.Property(.1)],hy.prototype,"width",void 0),$m([K.Property("white")],hy.prototype,"color",void 0);var ly,sy=hy;function hy(){return null!==ly&&ly.apply(this,arguments)||this}cy=K.ChildProperty,Xm(py,cy),$m([K.Property(1)],py.prototype,"width",void 0),$m([K.Property(null)],py.prototype,"color",void 0);var cy,dy=py;function py(){return null!==cy&&cy.apply(this,arguments)||this}uy=K.ChildProperty,Xm(my,uy),$m([K.Property(!1)],my.prototype,"visible",void 0),$m([K.Property("")],my.prototype,"template",void 0),$m([K.Property(null)],my.prototype,"fill",void 0),$m([K.Property(1)],my.prototype,"opacity",void 0),$m([K.Complex({},sy)],my.prototype,"border",void 0),$m([K.Complex({},dy)],my.prototype,"connectorLine",void 0),$m([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},fg)],my.prototype,"textStyle",void 0);var uy,gy=my;function my(){return null!==uy&&uy.apply(this,arguments)||this}yy=K.ChildProperty,Xm(vy,yy),$m([K.Property(!1)],vy.prototype,"visible",void 0),$m([K.Property("circle")],vy.prototype,"shape",void 0),$m([K.Property(6)],vy.prototype,"width",void 0),$m([K.Property(6)],vy.prototype,"height",void 0),$m([K.Property("")],vy.prototype,"imageUrl",void 0),$m([K.Property("")],vy.prototype,"fill",void 0),$m([K.Property(1)],vy.prototype,"opacity",void 0),$m([K.Complex({},ny)],vy.prototype,"border",void 0),$m([K.Complex({},gy)],vy.prototype,"dataLabel",void 0);var yy,fy=vy;function vy(){return null!==yy&&yy.apply(this,arguments)||this}by=K.ChildProperty,Xm(xy,by),$m([K.Property("visible")],xy.prototype,"visibility",void 0),$m([K.Property([])],xy.prototype,"points",void 0),$m([K.Property("")],xy.prototype,"resistance",void 0),$m([K.Property("")],xy.prototype,"reactance",void 0),$m([K.Property("")],xy.prototype,"tooltipMappingName",void 0),$m([K.Property(null)],xy.prototype,"dataSource",void 0),$m([K.Property("")],xy.prototype,"name",void 0),$m([K.Property(null)],xy.prototype,"fill",void 0),$m([K.Property(!1)],xy.prototype,"enableAnimation",void 0),$m([K.Property("2000ms")],xy.prototype,"animationDuration",void 0),$m([K.Property(!1)],xy.prototype,"enableSmartLabels",void 0),$m([K.Property(1)],xy.prototype,"width",void 0),$m([K.Property(1)],xy.prototype,"opacity",void 0),$m([K.Complex({},fy)],xy.prototype,"marker",void 0),$m([K.Complex({},iy)],xy.prototype,"tooltip",void 0);var by,Xm=xy;function xy(){return null!==by&&by.apply(this,arguments)||this}Cy.prototype.calculateAreaBounds=function(e,t,i){var o=e.margin,r=e.border,i=this.getLegendSpace(e,i),n=i.leftLegendWidth+o.left+r.width,a=i.rightLegendWidth+o.left+o.right+2*r.width,a=e.availableSize.width-(n+a);return{x:n,y:o.top+2*e.elementSpacing+i.modelTitleHeight+i.modelsubTitleHeight+i.topLegendHeight+r.width,width:a,height:e.availableSize.height-(i.modelTitleHeight+2*e.elementSpacing+i.modelsubTitleHeight+o.top+i.topLegendHeight+i.bottomLegendHeight)}},Cy.prototype.getLegendSpace=function(e,t){var i=e.title,o=e.legendSettings,r=o.position.toLowerCase(),n=e.font,a=o.border.width,l=0,s=0,h=0,c=0;return o.visible&&(a=t.width+5+e.elementSpacing+2*a,l="left"===r?a:0,s="right"===r?a:0,a=o.title.visible?rm(o.title.text,n,e.themeStyle.legendLabelFont).height:0,h="top"===r?e.elementSpacing+t.height+a:0,c="bottom"===r?e.elementSpacing+t.height+a:0),o=rm(i.subtitle.text,n,e.themeStyle.legendLabelFont).height,""!==i.text&&i.visible,{leftLegendWidth:l,rightLegendWidth:s,topLegendHeight:h,bottomLegendHeight:c,modelTitleHeight:0,modelsubTitleHeight:""!==i.subtitle.text&&i.subtitle.visible?o:0}};var Sy=Cy;function Cy(){}var wy="animationComplete",Fy="legendRender",Ly="titleRender",Py="subtitleRender",Ay="textRender",My="seriesRender",Dy="axisLabelRender",ky=(Ry.prototype.renderArea=function(e,t){this.calculateChartArea(e,t),this.calculateCircleMargin(e,t),this.calculateXAxisRange(e),this.calculateRAxisRange(e),this.measureHorizontalAxis(e),this.measureRadialAxis(e),e.horizontalAxis.visible&&this.updateHAxis(e),e.radialAxis.visible&&this.updateRAxis(e),e.horizontalAxis.visible&&this.drawHAxisLabels(e),e.radialAxis.visible&&this.drawRAxisLabels(e)},Ry.prototype.updateHAxis=function(e){var t=e.horizontalAxis.majorGridLines,i=e.horizontalAxis.minorGridLines,o=e.horizontalAxis.axisLine;t.visible&&this.updateHMajorGridLines(e),i.visible&&this.updateHMinorGridLines(e),o.visible&&this.updateHAxisLine(e)},Ry.prototype.updateRAxis=function(e){var t=e.radialAxis.majorGridLines,i=e.radialAxis.minorGridLines,o=e.radialAxis.axisLine;t.visible&&this.updateRMajorGridLines(e),i.visible&&this.updateRMinorGridLines(e),o.visible&&this.updateRAxisLine(e)},Ry.prototype.measureHorizontalAxis=function(e){var t=e.horizontalAxis.minorGridLines;this.measureHMajorGridLines(e),t.visible&&this.measureHMinorGridLines(e)},Ry.prototype.measureRadialAxis=function(e){var t=e.radialAxis.minorGridLines;this.measureRMajorGridLines(e),t.visible&&this.measureRMinorGridLines(e)},Ry.prototype.calculateChartArea=function(e,t){e.availableSize.width,e.availableSize.height;var i=t.width,o=t.height,r=Math.min(i,o),i=Math.min(i,o),n=t.x+(t.width/2-r/2),t=t.y+(0<(o-i)/2?(o-i)/2:0);e.chartArea={x:n,y:t,width:r,height:i}},Ry.prototype.calculateCircleMargin=function(e,t){var i=e.chartArea.width,o=e.radius,r=this.maximumLabelLength(e),r="Outside"===e.radialAxis.labelPosition?r+10:10,i=(0<i-2*r?i-2*r:0)/2,o=1<o?1:o<.1?.1:o;this.areaRadius=i*o,this.circleLeftX=e.chartArea.x+r+i*(1-o),this.circleTopY=e.chartArea.y+r+i*(1-o),this.circleCenterX=this.circleLeftX+this.areaRadius,this.circleCenterY=t.y+t.height/2},Ry.prototype.maximumLabelLength=function(e){for(var t,i=0,o=e.horizontalAxis.labelStyle,r=0;r<this.radialLabels.length;r++)i<(t=rm(this.radialLabels[r].toString(),o,e.themeStyle.axisLabelFont)).width&&(i=t.width);return i},Ry.prototype.calculateAxisLabels=function(){for(var e=0,t=0,i=[],o=2*this.areaRadius,r=0;r<2;r+=.1){var n=!1,a=!1,l=o*(1/((r=Math.round(10*r)/10)+1))/2*2;0===e||1===r?(e=l,i[t]=r,t++):(r<1&&(n=this.isOverlap(1,o,l,30)),1<r&&(a=this.isOverlap(2,o,l,30)),n||a||30<=e-l&&(i[t]=r,t++,e=l))}for(var s=[2,3,4,5,10,20,50],h=0;h<s.length;h++)i[t]=s[h],t++;return i},Ry.prototype.isOverlap=function(e,t,i,o){return i-t*(1/(e+1))/2*2<o},Ry.prototype.calculateXAxisRange=function(e){for(var t,i,o=2*this.areaRadius,r=this.calculateAxisLabels(),n=this.circleCenterY,a=this.circleLeftX,l=this.circleLeftX,s=0;s<r.length;s++)i=o*(1/((t=r[s])+1))/2,"Impedance"===e.renderType&&(l=a+o-2*i),this.horizontalLabelCollections.push({centerX:l+i,centerY:n,radius:i,value:t,region:null})},Ry.prototype.calculateRAxisRange=function(e){var t,i,o,r=2*this.areaRadius,n=new zg;"Impedance"===e.renderType?n.x=this.circleLeftX+r:n.x=this.circleLeftX,n.y=this.circleTopY+this.areaRadius;for(var a=0;a<this.radialLabels.length;a++)o=this.radialLabels[a],i=Math.abs(1/o*r/2),t="Impedance"===e.renderType?0<o?n.y-i:n.y+i:o<0?n.y-i:n.y+i,this.radialLabelCollections.push({centerX:n.x,centerY:t,radius:i,value:o})},Ry.prototype.measureHMajorGridLines=function(e){var t,i,o;this.majorHGridArcPoints=[];for(var r=0;r<this.horizontalLabelCollections.length;r++){new Dg;var n=this.horizontalLabelCollections[r],a=this.calculateHMajorArcStartEndPoints(n.value),a="Impedance"===e.renderType?(o=a[0],a[1]):(o=a[1],a[0]),l={width:n.radius,height:n.radius};0!==n.value&&50!==n.value?(t=this.intersectingCirclePoints(o[0].centerX,o[0].centerY,o[0].radius,n.centerX,n.centerY,n.radius,e.renderType),i=this.intersectingCirclePoints(a[0].centerX,a[0].centerY,a[0].radius,n.centerX,n.centerY,n.radius,e.renderType),this.majorHGridArcPoints.push({startPoint:t,endPoint:i,rotationAngle:2*Math.PI,sweepDirection:"Impedance"===e.renderType?this.direction.counterclockwise:this.direction.clockwise,isLargeArc:!0,size:l})):(t={x:n.centerX+n.radius,y:n.centerY},i={x:n.centerX+n.radius,y:n.centerY-.05},this.majorHGridArcPoints.push({startPoint:t,endPoint:i,rotationAngle:2*Math.PI,sweepDirection:this.direction.clockwise,isLargeArc:!0,size:l}))}},Ry.prototype.measureRMajorGridLines=function(e){this.majorRGridArcPoints=[],this.labelCollections=[];for(var t,i,o,r,n,a,l,s=qg(),h=0;h<this.radialLabelCollections.length;h++)(l=this.radialLabelCollections[h]).radius<=s||(t=l.value,a=(i=this.calculateMajorArcStartEndPoints(l,Math.abs(t),e))[0],i=i[1],o=this.circleXYRadianValue(this.circleCenterX,this.circleCenterY,i.x,i.y)*(180/Math.PI),0!==t?(r={x:a.x,y:a.y},n={x:i.x,y:i.y},a={width:l.radius,height:l.radius},l=0<t?this.direction.clockwise:this.direction.counterclockwise,this.majorRGridArcPoints.push({startPoint:r,endPoint:n,size:a,rotationAngle:2*Math.PI,isLargeArc:!1,sweepDirection:l}),this.labelCollections.push({centerX:i.x,centerY:i.y,angle:o,value:t,radius:this.areaRadius,region:null})):(r={x:this.circleLeftX,y:this.circleCenterY},n={x:this.circleCenterX+this.areaRadius,y:this.circleCenterY},this.majorRGridArcPoints.push({startPoint:r,endPoint:n,size:null,rotationAngle:null,isLargeArc:null,sweepDirection:null}),this.labelCollections.push({centerX:"Impedance"===e.renderType?this.circleCenterX-this.areaRadius:this.circleCenterX+this.areaRadius,centerY:this.circleCenterY,angle:"Impedance"===e.renderType?180:360,value:t,radius:this.areaRadius,region:null})))},Ry.prototype.circleXYRadianValue=function(e,t,i,o){o=Math.atan2(o-t,i-e);return o<0?o+360*Math.PI/180:o},Ry.prototype.calculateMajorArcStartEndPoints=function(e,t,i){var o=[],r=[],n=this.circleCenterX,a=this.circleCenterY;return 10<=t?o[0]="Impedance"===i.renderType?{x:n+this.areaRadius,y:a}:{x:n-this.areaRadius,y:a}:r=3<=t?this.horizontalLabelCollections.filter(function(e){return 10===e.value}):1<=t?this.horizontalLabelCollections.filter(function(e){return 5===e.value}):this.horizontalLabelCollections.filter(function(e){return 3===e.value}),0<r.length&&(o[0]=this.intersectingCirclePoints(e.centerX,e.centerY,e.radius,r[0].centerX,r[0].centerY,r[0].radius,i.renderType)),o[1]=this.intersectingCirclePoints(e.centerX,e.centerY,e.radius,n,a,this.areaRadius,i.renderType),o},Ry.prototype.calculateHMajorArcStartEndPoints=function(e){var t,i=[],o=e<=.3?-(t=2):e<=1?-(t=3):e<=2?-(t=5):e<=5?-(t=10):-(t=50);return i[0]=this.radialLabelCollections.filter(function(e){return e.value===t}),i[1]=this.radialLabelCollections.filter(function(e){return e.value===o}),i},Ry.prototype.calculateMinorArcStartEndPoints=function(e){var t,i=[],o=e<=.1?-(t=1):e<=.2?-(t=.8):e<=.3?-(t=.4):e<=.6?-(t=1):e<=1?-(t=1.5):e<=1.5?-(t=2):e<=2?-(t=1):e<=5?-(t=3):-(t=10);return i[0]=this.radialLabelCollections.filter(function(e){return e.value===t}),i[1]=this.radialLabelCollections.filter(function(e){return e.value===o}),i},Ry.prototype.intersectingCirclePoints=function(e,t,i,o,r,n,a){var l={x:0,y:0},s=e-o,h=t-r,s=Math.sqrt(s*s+h*h),h=s*s,s=(i*i-n*n)/(2*h),c=i*i-n*n,i=Math.sqrt(2*(i*i+n*n)/h-c*c/(h*h)-1),n=(e+o)/2+s*(o-e),c=i*(r-t)/2,h=n+c,n=n-c,c=(t+r)/2+s*(r-t),s=i*(e-o)/2,r=c+s,t=c-s;return"Impedance"===a?n<h?(l.x=n,l.y=t):(l.x=h,l.y=r):n<h?(l.x=h,l.y=r):(l.x=n,l.y=t),{x:l.x,y:l.y}},Ry.prototype.updateHMajorGridLines=function(e){var t=e.horizontalAxis.majorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_horizontalAxisMajorGridLines"}),o=(i.setAttribute("aria-hidden","true"),this.calculateGridLinesPath(this.majorHGridArcPoints)),t=new $g(e.element.id+"_horizontalAxisMajorGridLines","none",t.width,t.color||e.themeStyle.majorGridLine,t.opacity,t.dashArray,o),o=e.renderer.drawPath(t);i.appendChild(o),e.svgObject.appendChild(i)},Ry.prototype.updateRMajorGridLines=function(e){var t=e.radialAxis.majorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_radialAxisMajorGridLines"}),o=(i.setAttribute("aria-hidden","true"),this.calculateGridLinesPath(this.majorRGridArcPoints)),t=new $g(e.element.id+"_radialAxisMajorGridLines","none",t.width,t.color||e.themeStyle.majorGridLine,t.opacity,t.dashArray,o),o=e.renderer.drawPath(t);i.appendChild(o),e.svgObject.appendChild(i)},Ry.prototype.updateHAxisLine=function(e){var t=this.areaRadius,i=e.horizontalAxis.axisLine,o=e.renderer.createGroup({id:e.element.id+"_svg_hAxisLine"});o.setAttribute("aria-hidden","true");var r=this.circleCenterX+t,n=this.circleCenterY,a=this.circleCenterX+t,l=this.circleCenterY-.05,s=t,h=this.direction.clockwise,c=2*Math.PI,i=new $g(e.element.id+"_horizontalAxisLine","none",i.width,i.color||e.themeStyle.axisLine,1,i.dashArray,"M"+r+" "+n+" A "+s+" "+t+" "+c+" 1 "+h+" "+a+" "+l),r=e.renderer.drawPath(i);o.appendChild(r),e.svgObject.appendChild(o)},Ry.prototype.updateRAxisLine=function(e){var t=this.areaRadius,i=e.radialAxis.axisLine,o=this.circleCenterX-t,r=this.circleCenterY,t=this.circleCenterX+t,n=this.circleCenterY,a=0,l=0,s=this.direction.counterclockwise,i=new $g(e.element.id+"_radialAxisLine","none",i.width,i.color||e.themeStyle.axisLine,1,i.dashArray,"M "+o+" "+r+" A "+a+" "+l+" 0 0 "+s+" "+t+" "+n),o=e.renderer.createGroup({id:e.element.id+"_svg_rAxisLine"}),r=(o.setAttribute("aria-hidden","true"),e.renderer.drawPath(i));o.appendChild(r),e.svgObject.appendChild(o)},Ry.prototype.drawHAxisLabels=function(r){for(var n,a,l,s,h,c,d,p,u=r.horizontalAxis,g=(r.radialAxis.labelStyle.fontFamily=r.themeStyle.fontFamily||r.radialAxis.labelStyle.fontFamily,r.horizontalAxis.labelStyle),m=r.renderer.createGroup({id:r.element.id+"_HAxisLabels"}),y=(m.setAttribute("aria-hidden","true"),this),e=0;e<this.horizontalLabelCollections.length;e++)!function(i){if(l=y.horizontalLabelCollections[i],n=y.horizontalLabelCollections[i].value.toString(),0!==l.value){if(a="Impedance"===r.renderType?l.centerX-l.radius:l.centerX+l.radius,l=l.centerY,s=rm(n,g,r.themeStyle.axisLabelFont),a="Impedance"===r.renderType?a-s.width:a,"Outside"===u.labelPosition?l-=s.height/4:l+=s.height,y.horizontalLabelCollections[i].region=y.calculateRegion(n,s,a,l),"Hide"===u.labelIntersectAction){s=y.horizontalLabelCollections[i],s=s.region.bounds,h=s.width,c=s.x;for(var e=1;e<i;e++)p=y.horizontalLabelCollections[e],p=p.region.bounds,d=p.width,p=p.x,"Impedance"===r.renderType&&c<p+d&&(n=""),"Admittance"===r.renderType&&p<c+h&&(n="")}var o={text:n.toString(),x:a,y:l,name:Dy,cancel:!1},t=function(e){var t;e.cancel||(e=new nm(r.element.id+"_HLabel_"+i,o.x,o.y,"none",o.text),t=g.color||r.themeStyle.axisLabelFont.color,g.fontFamily=g.fontFamily||r.themeStyle.labelFontFamily,e=cm(e,g,t,m,r.themeStyle.axisLabelFont),m.appendChild(e))};t.bind(y),r.trigger(Dy,o,t)}}(e);r.svgObject.appendChild(m)},Ry.prototype.drawRAxisLabels=function(r){for(var n,a,l,s,h,c,d,p,u,g,m,y,f=2,v=(r.radialAxis.labelStyle.fontFamily=r.themeStyle.fontFamily||r.radialAxis.labelStyle.fontFamily,r.radialAxis.labelStyle),b=new Tg,x=r.radialAxis,S=r.renderer.createGroup({id:r.element.id+"_RAxisLabels"}),e=(S.setAttribute("aria-hidden","true"),function(i){if(b=C.labelCollections[i],n=b.value.toString(),p=rm(n,v,r.themeStyle.axisLabelFont),l=Math.round(100*b.angle)/100,l="Outside"===x.labelPosition?(a=C.circlePointPosition(C.circleCenterX,C.circleCenterY,b.angle,C.areaRadius+f),C.setLabelsOutsidePosition(l,a.x,a.y,p)):(a=C.circlePointPosition(C.circleCenterX,C.circleCenterY,b.angle,C.areaRadius-f),C.setLabelsInsidePosition(l,a.x,a.y,p)),C.labelCollections[i].region=C.calculateRegion(n,p,l.x,l.y),"Hide"===x.labelIntersectAction){p=C.labelCollections[i],p=p.region.bounds,c=p.width,d=p.height,s=p.x,h=p.y;for(var e=0;e<i;e++)y=C.labelCollections[e],y=y.region.bounds,g=y.width,m=y.height,u=y.x,y=y.y,u<=s+c&&s<=u+g&&y<=h+d&&h<=y+m&&(n=" ")}function t(e){var t;e.cancel||(e=new nm(r.element.id+"_RLabel_"+i,o.x,o.y,"none",o.text),t=v.color||r.themeStyle.axisLabelFont.color,v.fontFamily=r.themeStyle.labelFontFamily||v.fontFamily,e=cm(e,v,t,S,r.themeStyle.axisLabelFont),S.appendChild(e))}var o={text:n.toString(),x:l.x,y:l.y,name:Dy,cancel:!1};t.bind(C),r.trigger(Dy,o,t)}),C=this,t=0;t<this.labelCollections.length;t++)e(t);r.svgObject.appendChild(S)},Ry.prototype.calculateRegion=function(e,t,i,o){new Mg;return{bounds:{x:i,y:o,width:t.width,height:t.height},labelText:e}},Ry.prototype.updateHMinorGridLines=function(e){var t=e.horizontalAxis.minorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_horizontalAxisMinorGridLines"}),o=this.calculateGridLinesPath(this.minorHGridArcPoints),t=new $g(e.element.id+"_horizontalAxisMinorGridLines","none",t.width,t.color||e.themeStyle.minorGridLine,t.opacity,t.dashArray,o),o=e.renderer.drawPath(t);i.appendChild(o),e.svgObject.appendChild(i)},Ry.prototype.updateRMinorGridLines=function(e){var t=e.radialAxis.minorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_radialAxisMinorGridLines"}),o=this.calculateGridLinesPath(this.minorGridArcPoints),t=new $g(e.element.id+"_radialAxisMinorGridLines","none",t.width,t.color||e.themeStyle.minorGridLine,t.opacity,t.dashArray,o),o=e.renderer.drawPath(t);i.appendChild(o),e.svgObject.appendChild(i)},Ry.prototype.calculateGridLinesPath=function(e){new Xg;for(var t,i,o,r,n,a="",l=0;l<e.length;l++)t=(n=e[l]).startPoint.x,i=n.startPoint.y,o=n.endPoint.x,r=n.endPoint.y,a=a+"M "+t+" "+i+" A "+(n.size?n.size.width:0)+" "+(n.size?n.size.height:0)+" "+(n.rotationAngle||0)+" "+(n.isLargeArc?1:0)+" "+(n.sweepDirection||0)+" "+o+" "+r+" ";return a.toString()},Ry.prototype.measureHMinorGridLines=function(e){for(var t,i,o,r,n,a,l=e.horizontalAxis.minorGridLines.count,s=(this.minorHGridArcPoints=[],2*this.areaRadius),h=0;h<this.horizontalLabelCollections.length-3;h++)for(var c,d,p=this.horizontalLabelCollections[h],u=this.horizontalLabelCollections[h+1],g=(c=2*(p.radius-u.radius))/(d=Math.floor(l/100*c)),m=0;m<d;m++)a=u.radius+m*g/2,n=("Impedance"===e.renderType?this.circleLeftX+s-2*a:this.circleLeftX)+a,i=5<u.value,r=this.calculateMinorArcStartEndPoints(u.value),r="Impedance"===e.renderType?(t=r[0],r[1]):(t=r[1],r[0]),o=this.intersectingCirclePoints(t[0].centerX,t[0].centerY,t[0].radius,n,p.centerY,a,e.renderType),r=this.intersectingCirclePoints(r[0].centerX,r[0].centerY,r[0].radius,n,p.centerY,a,e.renderType),this.minorHGridArcPoints.push({startPoint:o,endPoint:r,rotationAngle:2*Math.PI,sweepDirection:"Impedance"===e.renderType?this.direction.counterclockwise:this.direction.clockwise,isLargeArc:i,size:{width:a,height:a}})},Ry.prototype.measureRMinorGridLines=function(e){for(var t,i,o=e.radialAxis.minorGridLines.count,r=Math.PI*(2*this.areaRadius),n=t="Impedance"===e.renderType?this.circleCenterX+this.areaRadius:this.circleCenterX-this.areaRadius,a=this.circleCenterY,l=(this.minorGridArcPoints=[],{x:n,y:a}),s=2;s<this.labelCollections.length-3;s++)for(var h,c=this.labelCollections[s],d=this.labelCollections[s+1],p=(u="Impedance"===e.renderType?(i=360===d.angle?0:d.angle,Math.abs(i-c.angle)):(i=360===c.angle?0:c.angle,Math.abs(i-d.angle)))/(h=Math.floor(o/100*(r/360*u))),u=(0<d.value?d:c).value,g=this.minorGridLineArcIntersectCircle(Math.abs(u)),m=1;m<h;m++){var y=p*m+(360===c.angle?i:c.angle),f=this.circlePointPosition(this.circleCenterX,this.circleCenterY,y,this.areaRadius),v=this.arcRadius(l,f,y),y=180<y?this.circleCenterY-v:this.circleCenterY+v,y=this.intersectingCirclePoints(t,y,v,g[0].centerX,g[0].centerY,g[0].radius,e.renderType),y={x:y.x,y:y.y},f={x:f.x,y:f.y},b=0<=c.value?this.direction.clockwise:this.direction.counterclockwise;this.minorGridArcPoints.push({startPoint:y,endPoint:f,rotationAngle:2*Math.PI,sweepDirection:b,isLargeArc:!1,size:{width:v,height:v}})}},Ry.prototype.minorGridLineArcIntersectCircle=function(e){var t=3<=e?20:1.5<=e?10:.6<=e?3:2;return this.horizontalLabelCollections.filter(function(e){return e.value===t})},Ry.prototype.circlePointPosition=function(e,t,i,o){i*=Math.PI/180;return{x:e+o*Math.cos(i),y:t+o*Math.sin(i)}},Ry.prototype.setLabelsInsidePosition=function(e,t,i,o){return 0===e||360===e?(t-=o.width,i-=o.height/2):90===e?(t-=o.width,i+=o.height/8):180===e?i+=o.height:270===e?i+=o.height/2:0<e&&e<=20?t-=o.width:20<e&&e<=60?(t-=o.width+o.width/2,i+=o.height/2):60<e&&e<90?(t-=o.width+o.width/4,i+=o.height/4):90<e&&e<=135?(t-=o.width/2,i+=o.height/16):135<e&&e<=150?(t+=o.width/2,i+=o.height/2):150<e&&e<180?(t+=o.width/2,i+=o.height):180<e&&e<=210?(t+=o.width/6,i+=o.height/6):210<e&&e<240?i+=o.height/4:225<e&&e<270?i+=o.height/3:270<e&&e<=300?(t-=o.width+o.width/4,i+=o.height/4):300<e&&e<=330?(t-=o.width+o.width/3,i+=o.height/4):330<e&&e<=340?(t-=o.width+o.width/2,i+=o.height/4):340<e&&(t-=o.width,i+=o.height/8),{x:t,y:i}},Ry.prototype.setLabelsOutsidePosition=function(e,t,i,o){return 90===e?(t-=o.width/2,i+=o.height):180===e?(t-=o.width+5,i-=o.height/4):270===e?(t-=o.width/2,i-=o.height/4):360===e?(t+=5,i-=o.height/2):0<e&&e<=30?(t+=o.width/4,i+=o.height/8):30<e&&e<=60?(t+=o.width/2,i+=o.height/4):60<e&&e<=90?(t-=o.width/2,i+=o.height):90<e&&e<=135?(t-=o.width,i+=o.height):135<e&&e<=180?(t-=o.width+o.width/4,i+=o.height/4):180<e&&e<=210?(t-=o.width+o.width/4,i-=o.height/4):210<e&&e<=270?(t-=o.width,i-=o.height/4):270<e&&e<=340?i-=o.height/4:340<e&&(i+=o.height/4,t+=o.width/6),{x:t,y:i}},Ry.prototype.arcRadius=function(e,t,i){var i=180<i?90*Math.PI/180:270*Math.PI/180,o=(t.x-e.x)/2,t=(t.y-e.y)/2,o=(t-o*((Math.cos(i)*t-Math.sin(i)*o)/(Math.cos(i)*o+Math.sin(i)*t)))/Math.sin(i),t=e.y+Math.sin(i)*o;return Math.abs(e.y-t)},Ry);function Ry(){this.radialLabels=[-50,-20,-10,-5,-4,-3,-2,-1.5,-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1,1.5,2,3,4,5,10,20,50],this.radialLabelCollections=[],this.horizontalLabelCollections=[],this.labelCollections=[],this.direction=new Hg}_y.prototype.drawMarker=function(e,t,i,o){if(e.series[t].marker.visible)for(var r=e.series[t].marker,n=e.series[t].points.length-1,a=r.width,l=r.height,s=r.shape,h=e.renderer.createGroup({id:e.element.id+"_svg_series"+t+"_Marker"}),c=(i.appendChild(h),r.border.width),d=r.border.color,p=r.opacity,u=r.fill||e.series[t].fill||e.seriesColors[t%e.seriesColors.length],g=0;g<1+n;g++){var m=o[g].point,y=g,y=new Ng(e.element.id+"_Series"+t+"_Points"+y+"_Marker"+y,u,d,c,p);h.appendChild(this.drawSymbol(s,r.imageUrl,m,new Ug(a,l),y,e))}},_y.prototype.drawSymbol=function(e,t,i,o,r,n){var a,l,s,e=e.toLowerCase(),h={color:r.borderColor,width:r.borderWidth},c=r.opacity,d=i.x,p=i.y,u=Math.sqrt(o.height*o.height+o.width*o.width)/2;switch(e){case"circle":l=new im(r.id,r.fill,h,c,i.x,i.y,u,null),a=n.renderer.drawCircle(l);break;case"rectangle":f="M "+(d+-o.width/2)+" "+(p+-o.height/2)+" L "+(d+o.width/2)+" "+(p+-o.height/2)+" L "+(d+o.width/2)+" "+(p+o.height/2)+" L "+(d+-o.width/2)+" "+(p+o.height/2)+" L "+(d+-o.width/2)+" "+(p+-o.height/2)+"z",s=new $g(r.id,r.fill,h.width,h.color,c,"",f),a=n.renderer.drawPath(s);break;case"triangle":f="M "+(d+-o.width/2)+" "+(p+o.height/2)+" L "+d+" "+(p+-o.height/2)+" L "+(d+o.width/2)+" "+(p+o.height/2)+" L "+(d+-o.width/2)+" "+(p+o.height/2)+"z",s=new $g(r.id,r.fill,h.width,h.color,c,"",f),a=n.renderer.drawPath(s);break;case"diamond":f="M "+(d+-o.width/2)+" "+p+" L "+d+" "+(p+-o.height/2)+" L "+(d+o.width/2)+" "+p+" L "+d+" "+(p+o.height/2)+" L "+(d+-o.width/2)+" "+p+"z",s=new $g(r.id,r.fill,h.width,h.color,c,"",f),a=n.renderer.drawPath(s);break;case"pentagon":for(var g=0;g<=5;g++)var m=u*Math.cos(Math.PI/180*(72*g)),y=u*Math.sin(Math.PI/180*(72*g)),f=0===g?"M "+(d+m)+" "+(p+y)+" ":f.concat("L "+(d+m)+" "+(p+y)+" ");f=f.concat("Z"),s=new $g(r.id,r.fill,h.width,h.color,c,"",f),a=n.renderer.drawPath(s)}return a.setAttribute("role","img"),a.setAttribute("aria-label","x: "+i.x+", y: "+i.y),n.element.id+"_Series0_Points0_Marker0"===r.id&&a.setAttribute("tabindex","0"),a};var Ty=_y;function _y(){}Iy.prototype.drawDataLabel=function(e,t,i,o,r){this.textOptions=[],this.allPoints=[];for(var n,a,l=e.margin,s=e.series[t].marker,h=s.dataLabel,c=h.textStyle,d=o.length,p=0;p<d;p++){var u,g,m=rm(u=e.series[t].points[p].reactance.toString(),c,e.themeStyle.dataLabelFont),y=(g=o[p].point).x-m.width/2,f=g.y-(m.height+s.height+l.top),v=m.width+l.left/2+l.right/2,m=m.height+l.top/2+l.bottom/2;c.fontFamily=c.fontFamily||e.themeStyle.dataLabelFont.fontFamily,n=p,new Vg,a={textX:y+l.left/2,textY:f+m/2+l.top/2,x:y,y:f},this.textOptions[p]={id:e.element.id+"_Series"+t+"_Points"+n+"_dataLabel_displayText"+p,x:a.textX,y:a.textY,fill:"black",text:u,font:c,xPosition:y,yPosition:f,width:v,height:m,location:g,labelOptions:a,visible:!0,connectorFlag:null}}var b=new Wg;b.textOptions=this.textOptions,this.labelOptions.push(b),this.drawDatalabelSymbol(e,t,h,i,r,o)},Iy.prototype.calculateSmartLabels=function(e,t){for(var i=e.textOptions.length,o=0;o<i;o++)this.allPoints[this.allPoints.length]=e.textOptions[o],this.connectorFlag=!1,this.compareDataLabels(o,e,0,t),this.labelOptions[t].textOptions[o]=e.textOptions[o],this.labelOptions[t].textOptions[o].connectorFlag=this.connectorFlag},Iy.prototype.compareDataLabels=function(e,t,i,o){for(var r,n,a=this.allPoints.length,l=0;l<a;l++)if(n=this.allPoints[l],r=this.allPoints[a-1],this.isCollide(n,r))switch(this.connectorFlag=!0,i){case 0:this.resetValues(r),this.prevLabel=n,r.xPosition=this.prevLabel.xPosition+(this.prevLabel.width/2+r.width/2+10),r.x=r.xPosition+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 1:this.resetValues(r),r.xPosition=this.prevLabel.xPosition+this.prevLabel.width/2+r.width/2+10,r.x=r.xPosition+5,r.yPosition=r.location.y+r.height/2+5,r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 2:this.resetValues(r),r.yPosition=r.location.y+r.height/2+5,r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 3:this.resetValues(r),r.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-r.width/2-10,r.x=r.xPosition+5,r.yPosition=r.height/2+r.location.y+5,r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 4:this.resetValues(r),r.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-r.width/2-10,r.x=r.xPosition+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 5:this.resetValues(r),r.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-r.width/2-10,r.x=r.xPosition+5,r.yPosition=this.prevLabel.yPosition-r.height-10,r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 6:this.resetValues(r),r.yPosition=this.prevLabel.yPosition-(r.height+10),r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 7:this.resetValues(r),r.xPosition=this.prevLabel.xPosition+this.prevLabel.width/2+r.width/2+10,r.x=r.xPosition+5,r.yPosition=this.prevLabel.yPosition-r.height-10,r.y=r.yPosition+r.height/2+5,i+=1,this.compareDataLabels(e,t,i,o);break;case 8:this.compareDataLabels(e,t,i=0,o)}},Iy.prototype.isCollide=function(e,t){var i=!1;return i=e!==t?!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width/2<t.x-t.width/2||e.x-e.width/2>t.x+t.width/2):i},Iy.prototype.resetValues=function(e){e.xPosition=e.labelOptions.x,e.yPosition=e.labelOptions.y,e.x=e.labelOptions.textX,e.y=e.labelOptions.textY},Iy.prototype.drawConnectorLines=function(e,t,i,o,r){var n=o.location,a=n.y>o.y?o.y:o.y-o.height/2,n="M "+n.x+" "+n.y+" L "+o.x+" "+a,o=e.series[t].marker.dataLabel.connectorLine,a=o.color||e.series[t].fill||e.seriesColors[t%e.seriesColors.length],t=new $g(e.element.id+"_dataLabelConnectorLine_series"+t+"_point"+i,"none",o.width,a,1,"none",n),i=e.renderer.drawPath(t);r.appendChild(i)},Iy.prototype.drawDatalabelSymbol=function(e,t,i,o,r,n){for(var a,l,s,h,c,d,p=0;p<e.series[t].points.length;p++)i.template&&(l=K.createElement("div",{id:e.element.id+"_seriesIndex_"+t+"_Label_Template_Group",className:"template",styles:"position: absolute;"}),document.getElementById(e.element.id+"_Secondary_Element").appendChild(l),a=i.template+"_seriesIndex"+t+"_pointIndex"+p+e.element.id,c={point:e.series[t].points[p].reactance},c=function(e,t,i){for(var o=e[0].outerHTML,r=Object.keys(i),n=RegExp,a=0;a<r.length;a++)o=o.replace(new n("{{:"+r[a]+"}}","g"),i[r[a].toString()]);return(e=K.createElement("div",{id:t,styles:"position: absolute"})).innerText=o,e}(function(t){var i=null;try{i="function"!=typeof t&&document.querySelectorAll(t).length?K.compile(document.querySelector(t).innerHTML.trim()):K.compile(t)}catch(e){i=K.compile(t)}return i}(i.template)(e),a,c),l.appendChild(c),c.style.left=n[p].point.x-c.offsetWidth/2+"px",c.style.top=n[p].point.y-c.offsetHeight-e.series[t].marker.height/2+"px",l=parseInt(c.style.left,10),s=parseInt(c.style.top,10),h=c.offsetWidth,c=c.offsetHeight,d=n[p].point,this.labelOptions[t].textOptions[p]={id:a,x:l,y:s,fill:"black",text:"",font:i.textStyle,xPosition:l,yPosition:s,width:h,height:c,location:d,labelOptions:{textX:l,textY:s,x:l,y:s},visible:!0,connectorFlag:null})};var Ey=Iy;function Iy(){this.textOptions=[],this.labelOptions=[],this.allPoints=[]}zy.prototype.processData=function(e){var t=e.dataSource,i=e.resistance,o=e.reactance,r=e.tooltipMappingName;e.points=[];for(var n=0;n<t.length;n++)e.points.push({resistance:t[n][i],reactance:t[n][o],tooltip:t[n][r]})},zy.prototype.draw=function(d,e,t){for(var i,o,r=d.renderer.createGroup({id:d.element.id+"_svg_seriesCollections"}),n=d.series,a=n.length,l=e.areaRadius,s=0;s<a;s++){var h=s;n[s].dataSource&&n[s].resistance&&n[s].reactance&&this.processData(n[s]),this.pointsRegion[s]=[],this.location[s]=[];for(var c=0;c<n[s].points.length;c++)this.xValues[c]=n[s].points[c].resistance,this.yValues[c]=n[s].points[c].reactance;for(var p=e.circleCenterX,u=e.circleCenterY,g=2*e.areaRadius,m=u,y={x:p+("Impedance"===d.renderType?l:-l),y:u}.x,f=0;f<n[s].points.length;f++){var v=this.xValues[f],b=1/(v+1)*g/2,x=this.yValues[f],S=Math.abs(1/x*g/2),C="Impedance"===d.renderType?(i=0<x?u-S:u+S,e.circleLeftX+g-b):(i=x<0?u-S:u+S,e.circleLeftX+b),S=e.intersectingCirclePoints(y,i,S,C,m,b,d.renderType),w=qg();Math.abs(x)<w&&(S.x="Impedance"===d.renderType?C-b:C+b,S.y=u),this.pointsRegion[s][f]=new Og,this.pointsRegion[s][f]={point:S,x:v,y:x},this.location[s][f]={x:S.x,y:S.y}}for(var F=0;F<n[s].points.length-1;F++)o=F+1,this.lineSegments[F]=new Ig,this.lineSegments[F]={x1:this.xValues[F],y1:this.yValues[F],x2:this.xValues[o],y2:this.yValues[o]};d.svgObject.appendChild(r),this.drawSeries(d,h,r,t)}for(c=0;c<d.series.length;c++)if(d.series[c].enableSmartLabels&&d.series[c].marker.dataLabel.visible){var L=d.renderer.createGroup({id:d.element.id+"_svg_series"+c+"_Datalabel_connectorLines"});(D=document.getElementById(d.element.id+"_svg_seriesCollection"+c))&&(D.setAttribute("aria-label","Smithchart with "+n[c].points.length+" points"),D.appendChild(L)),this.dataLabel.calculateSmartLabels(this.dataLabel.labelOptions[c],c);for(f=0;f<d.series[c].points.length;f++){var P=this.dataLabel.labelOptions[c].textOptions[f];(P.xPosition+P.width>d.chartArea.x+d.chartArea.width||P.xPosition<d.chartArea.x||P.yPosition<d.chartArea.y||P.yPosition+P.height>d.chartArea.y+d.chartArea.height)&&(this.dataLabel.labelOptions[c].textOptions[f].connectorFlag=!1,this.dataLabel.labelOptions[c].textOptions[f].visible=!1),P.connectorFlag&&this.dataLabel.drawConnectorLines(d,c,f,P,L)}}for(var A=function(s){var h=d.series[s].marker.dataLabel;if(d.series[s].marker.dataLabel.visible)for(var e=document.getElementById(d.element.id+"_svg_seriesCollection"+s),c=d.renderer.createGroup({id:d.element.id+"_svg_series"+s+"_Datalabel"}),t=(c.setAttribute("aria-hidden","true"),e&&e.appendChild(c),0);t<d.series[s].points.length;t++)!function(e){var i,o,t,r,n,a,l=M.dataLabel.labelOptions[s].textOptions[e];!h.template&&l.visible?(i=new jg,i=M.dataLabel.labelOptions[s].textOptions[e],o=h.textStyle,l=i.xPosition,a=i.yPosition,t=d.element.id+"_Series"+s+"_Points"+e+"_dataLabel_symbol"+e,r=h.fill||d.series[s].fill||d.seriesColors[s%d.seriesColors.length],n=d.series[s].marker.dataLabel.border,t=new Jg(t,r,n,i.opacity,new Ag(l,a,i.width,i.height)),r=d.renderer.drawRectangle(t),c.appendChild(r),n={text:i.text,x:i.x,y:i.y,seriesIndex:s,pointIndex:e,name:Ay,cancel:!1},(l=function(e){var t;e.cancel||(e=new nm(i.id,e.x,e.y,"start",e.text),t=o.color||d.themeStyle.dataLabelFont.color,e=cm(e,o,t,c,d.themeStyle.dataLabelFont),c.appendChild(e))}).bind(M),d.trigger(Ay,n,l)):h.template&&((a=document.getElementById(h.template+"_seriesIndex"+s+"_pointIndex"+e+d.element.id)).style.left=M.dataLabel.labelOptions[s].textOptions[e].xPosition+"px",a.style.top=M.dataLabel.labelOptions[s].textOptions[e].yPosition+"px")}(t)},M=this,c=0;c<d.series.length;c++)A(c);for(var D,F=0;F<d.series.length;F++)(d.series[F].enableAnimation&&"Disable"!==K.animationMode||"Enable"===K.animationMode)&&d.animateSeries&&(d.series[F].marker.dataLabel.template&&this.animateDataLabelTemplate(F,d),(D=document.getElementById(d.element.id+"_svg_seriesCollection"+F)).setAttribute("aria-label","Smithchart with "+n[F].points.length+" points"),this.performAnimation(d,D,F))},zy.prototype.drawSeries=function(i,o,e,r){for(var n,a=this,l=i.renderer.createGroup({id:i.element.id+"_svg_seriesCollection"+o,"clip-path":"url(#"+i.element.id+"_ChartSeriesClipRect_"+o+")"}),t=(i.series[o].marker.visible||l.setAttribute("tabindex",0===o?"0":""),l.setAttribute("visibility",i.series[o].visibility),l.setAttribute("role","region"),l.setAttribute("aria-label","Smithchart with "+i.series[o].points.length+" points"),e.appendChild(l),""),s=i.series[o].points.length-1,h=0;h<s;h++)var c=this.pointsRegion[o][h].point,d=this.pointsRegion[o][h+1].point,t=t+("M "+c.x+" "+c.y+" L "+d.x+" "+d.y)+" ";function p(e){var t;e.cancel||(e=new $g(i.element.id+"_series"+o+"_points","none",i.series[o].width,g.fill,i.series[o].opacity,"none",u),a.clipRectElement=i.renderer.drawClipPath(new Jg(i.element.id+"_ChartSeriesClipRect_"+o,"transparent",{width:1,color:"Gray"},1,{x:r.x,y:r.y,width:i.availableSize.width,height:i.availableSize.height})),l.appendChild(a.clipRectElement),t=i.renderer.createGroup({id:i.element.id+"_svg"+o}),n=i.renderer.drawPath(e),t.appendChild(n),l.appendChild(t))}var u=t.toString(),e=i.series[o].fill||i.seriesColors[o%i.seriesColors.length],g={text:i.series[o].name,fill:e,name:My,cancel:!1};p.bind(this),i.trigger(My,g,p),(new Ty).drawMarker(i,o,l,this.pointsRegion[o]),this.dataLabel.drawDataLabel(i,o,l,this.pointsRegion[o],r)},zy.prototype.animateDataLabelTemplate=function(e,t){for(var i=t.series[e].points.length,o=parseFloat(t.series[e].animationDuration),r=0;r<i;r++){var n=document.getElementById(t.series[e].marker.dataLabel.template+"_seriesIndex"+e+"_pointIndex"+r+t.element.id);n.style.visibility="hidden",!function(t,e,i,o,r){var n;new K.Animation({}).animate(e,{duration:o,delay:i,name:r,progress:function(e){n=(e.timeStamp-e.delay)/e.duration,n=0+n,e.element.style.opacity=n.toString()},end:function(e){e.element.style.opacity=1..toString(),t.trigger("animationComplete",event)}})}(t,n,0,o,"FadeIn")}},zy.prototype.performAnimation=function(t,e,i){var o,r=new K.Animation({}),n=e.childNodes[0].childNodes[0].childNodes[0],a=hm("Linear"),l=hm("Reverse"),s=+n.getAttribute("width"),h=+n.getAttribute("x");r.animate(n,{duration:0===parseFloat(t.series[i].animationDuration)&&"Enable"===K.animationMode?2e3:parseFloat(t.series[i].animationDuration),progress:function(e){"Impedance"===t.renderType?(o=a(e.timeStamp-e.delay,0,s,e.duration),n.setAttribute("width",o.toString())):(o=l(e.timeStamp-e.delay,s,0,e.duration),n.setAttribute("x",o.toString()))},end:function(){"Impedance"===t.renderType?n.setAttribute("width",s.toString()):n.setAttribute("x",h.toString()),t.trigger(wy,{cancel:!1,name:wy,smithchart:t})}})},zy.prototype.getLocation=function(e,t){return{x:this.location[e][t].x,y:this.location[e][t].y}};var Oy=zy;function zy(){this.xValues=[],this.yValues=[],this.pointsRegion=[],this.lineSegments=[],this.location=[],this.dataLabel=new Ey}var By="beforePrint",Ny=(Vy.prototype.print=function(e){this.smithchartPrint=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.smithchartPrint.moveTo(0,0),this.smithchartPrint.resizeTo(screen.availWidth,screen.availHeight);e={cancel:!1,htmlContent:this.getHTMLContent(e),name:By};this.control.trigger(By,e),e.cancel||K.print(e.htmlContent,this.smithchartPrint)},Vy.prototype.getHTMLContent=function(e){var t=K.createElement("div");return e?e instanceof Array?e.forEach(function(e){t.appendChild(Yg(e).cloneNode(!0))}):e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(Yg(e).cloneNode(!0)):t.appendChild(this.control.element.cloneNode(!0)),t},Vy.prototype.export=function(i,o,r){var n,a,l=this,s=K.createElement("canvas",{id:"ej2-canvas",attrs:{width:this.control.availableSize.width.toString(),height:this.control.availableSize.height.toString()}}),h=!(-1<K.Browser.userAgent.toString().indexOf("HeadlessChrome")),e=(r=K.isNullOrUndefined(r)?T.PdfPageOrientation.Landscape:r,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+"</svg>"),c=window.URL.createObjectURL(new Blob("SVG"===i?[e]:[(new XMLSerializer).serializeToString(this.control.svgObject)],{type:"image/svg+xml"}));"SVG"===i?this.triggerDownload(o,i,c,h):(n=new Image,a=s.getContext("2d"),n.onload=function(){var e,t;a.drawImage(n,0,0),window.URL.revokeObjectURL(c),"PDF"===i?(e=new T.PdfDocument,t=s.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream"),e.pageSettings.orientation=r,t=t.slice(t.indexOf(",")+1),e.pages.add().graphics.drawImage(new T.PdfBitmap(t),0,0,l.control.availableSize.width-60,l.control.availableSize.height),h&&(e.save(o+".pdf"),e.destroy())):l.triggerDownload(o,i,s.toDataURL("image/png").replace("image/png","image/octet-stream"),h)},n.src=c)},Vy.prototype.triggerDownload=function(e,t,i,o){K.createElement("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(o?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},Vy);function Vy(e){this.control=e}Hy=function(e,t){return(Hy=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Hy,jy,$m=function(e,t){function i(){this.constructor=e}Hy(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Wy=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},$m=(jy=K.Component,$m(b,jy),b.prototype.getModuleName=function(){return"smithchart"},b.prototype.getPersistData=function(){return""},b.prototype.createChartSvg=function(){this.removeSvg(),Gg(this)},b.prototype.renderTitle=function(t,i,o){function e(e){e.cancel||(cm(new nm(r.element.id+"_Smithchart_"+i,e.x,e.y,"start",e.text),n,n.color||r.themeStyle.smithchartTitleFont.color,o,r.themeStyle.smithchartTitleFont).setAttribute("tabindex","0"),e={x:e.x,y:e.y,textSize:a},r.svgObject.appendChild(o),""!==t.subtitle.text&&t.subtitle.visible&&r.renderSubtitle(t,i,a,r.availableSize,e,o))}var r=this,n=t.textStyle,a=rm(t.text,n,this.themeStyle.smithchartTitleFont),l=t.textAlignment,s=t.text,h=K.isNullOrUndefined(t.maximumWidth)?Math.abs(this.margin.left+this.margin.right-this.availableSize.width):t.maximumWidth,c=a.width>h,l=a.width>this.availableSize.width?this.margin.left+this.border.width:"Center"===l?this.availableSize.width/2-a.width/2:"Near"===l?this.margin.left+this.elementSpacing+this.border.width:this.availableSize.width-a.width-(this.margin.right+this.elementSpacing+this.border.width),d=this.margin.top+a.height/2+this.elementSpacing,c=(t.enableTrim&&c&&(s=Zg(h,t.text,n,this.themeStyle.smithchartTitleFont),a=rm(s,n,this.themeStyle.smithchartTitleFont)),o=this.renderer.createGroup({id:this.element.id+"_Title_Group"}),{text:s,x:l,y:d,name:Ly,cancel:!1});e.bind(this),this.trigger(Ly,c,e)},b.prototype.renderSubtitle=function(e,i,t,o,r,n){function a(e){var t;e.cancel||((t=cm(new nm(l.element.id+"_Smithchart_"+i,e.x,e.y,u,e.text),s,s.color||l.themeStyle.smithchartSubtitleFont.color,n,l.themeStyle.smithchartSubtitleFont)).setAttribute("aria-label",h.description||e.text),n.appendChild(t))}var l=this,s=e.subtitle.textStyle,h=e.subtitle,c=rm(h.text,s,this.themeStyle.smithchartSubtitleFont),d=h.text,p=K.isNullOrUndefined(h.maximumWidth)?.75*this.bounds.width:h.maximumWidth,c=(h.enableTrim&&c.width>p&&(d=Zg(p,h.text,s,this.themeStyle.smithchartSubtitleFont)),"Far"===e.subtitle.textAlignment?r.x+r.textSize.width:"Near"===e.subtitle.textAlignment?r.x:r.x+r.textSize.width/2),p=r.y+2*this.elementSpacing,u="Far"===e.subtitle.textAlignment?"end":"Near"===e.subtitle.textAlignment?"start":"middle",r={text:d,x:c,y:p,name:Py,cancel:!1};a.bind(this),this.trigger(Py,r,a)},b.prototype.renderBorder=function(){var e=this.border,e=(this.background=this.background||this.themeStyle.background,new Jg(this.element.id+"_SmithchartBorder",this.background,e,1,new Ag(e.width/2,e.width/2,this.availableSize.width-e.width,this.availableSize.height-e.width)));this.svgObject.appendChild(this.renderer.drawRectangle(e)).setAttribute("aria-hidden","true")},b.prototype.onPropertyChanged=function(e){var t=!1;if(!this.delayRedraw){for(var i=0,o=Object.keys(e);i<o.length;i++)switch(o[i]){case"background":case"border":case"series":case"legendSettings":case"radius":case"enableRtl":t=!0;break;case"size":this.createChartSvg(),t=!0;break;case"theme":case"renderType":t=this.animateSeries=!0}t&&this.render()}},b.prototype.preRender=function(){this.allowServerDataBinding=!1,this.trigger("load",{smithchart:this}),this.unWireEVents(),this.initPrivateVariable(),this.wireEVents()},b.prototype.initPrivateVariable=function(){this.animateSeries=!0,this.delayRedraw=!1,this.element.setAttribute("role","region"),this.element.setAttribute("aria-label",this.title.description||this.title.text+". Syncfusion interactive chart."),this.element.setAttribute("tabindex","0")},b.prototype.setTheme=function(){var e;this.themeStyle=function(e){var t,i="MaterialDark"===e?"#383838":"FabricDark"===e?"#242424":"#1b1b1b";switch(e){case"HighContrast":t={axisLabel:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",tooltipFill:"#ffffff",dataLabel:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",tooltipFontSize:"12px",tabColor:"#FFD939",smithchartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"BootstrapDark":case"FabricDark":t={axisLabel:"#DADADA",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",tooltipFill:"MaterialDark"===e?"#F4F4F4":"BootstrapDark"===e?"#F0F0F0":"#A19F9D",dataLabel:"#DADADA",tooltipBoldLabel:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"BootstrapDark"===e?"#1A1A1A":"#DADADA",tooltipLightLabel:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"BootstrapDark"===e?"#1A1A1A":"#DADADA",tooltipHeaderLine:"#9A9A9A",tooltipFontSize:"12px",tabColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",smithchartTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"BootstrapDark"===e?"#FFFFFF":"#DADADA",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"BootstrapDark"===e?"#676767":"#A19F9D",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"BootstrapDark"===e?"#FFFFFF":"#DADADA",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"BootstrapDark"===e?"#676767":"#A19F9D",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"BootstrapDark"===e?"#CED4DA":"#A19F9D",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"BootstrapDark"===e?"#FFFFFF":"#DADADA",fontFamily:"MaterialDark"===e?"Roboto":"BootstrapDark"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":t={axisLabel:"#212529",axisLine:"#ADB5BD",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",tooltipFill:"#212529",dataLabel:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#FFFFFF",tooltipFontSize:"12px",tabColor:"#007BFF",fontFamily:"Helvetica",fontSize:"16px",labelFontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:.9,smithchartTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#212529",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":t={axisLabel:"#6B7280",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"#FFFFFF",areaBorder:"#D1D5DB6",tooltipFill:"#111827",dataLabel:"#F9FAFB",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",tooltipFontSize:"12px",tabColor:"#4F46E5",fontFamily:"Inter",fontSize:"14px",labelFontFamily:"inter",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#374151",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#374151",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":t={axisLabel:"#9CA3AF",axisLine:"#4B5563",majorGridLine:"#374151",minorGridLine:"#4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"#1f2937",areaBorder:"#4B5563",tooltipFill:"#E9ECEF",dataLabel:"#D1D5DB",tooltipBoldLabel:"#1F2937",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",tooltipFontSize:"12px",tabColor:"#22D3EE",fontFamily:"Inter",fontSize:"14px",labelFontFamily:"inter",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#D1D5DB",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":t={axisLabel:"#495057",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",chartTitle:"#343A40",legendLabel:"#343A40",background:"rgba(255, 255, 255, 0.0)",areaBorder:" #DEE2E6",tooltipFill:"#212529",dataLabel:"#D1D5DB",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",tooltipFontSize:"12px",tabColor:"#0D6EFD",fontFamily:"Helvetica",fontSize:"14px",labelFontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#343A40",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":t={axisLabel:"#CED4DA",axisLine:"#495057",majorGridLine:"#495057",minorGridLine:"#495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"#212529",areaBorder:" #495057",tooltipFill:"#E9ECEF",dataLabel:"#D1D5DB",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#6B7280",tooltipFontSize:"12px",tabColor:"#0D6EFD",fontFamily:"Helvetica",fontSize:"14px",labelFontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E9ECEF",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#CED4DA",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":t={axisLabel:"#3B3A39",axisLine:"#D2D0CE",majorGridLine:"#D2D0CE",minorGridLine:"#EDEBE9",chartTitle:"#201F1E",legendLabel:"#323130",background:"#FFFFFF",areaBorder:" #D2D0CE",tooltipFill:"#FFFFFF",dataLabel:"#3B3A39",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",tooltipFontSize:"12px",tabColor:"#0078D4",fontFamily:"Segoe UI",fontSize:"14px",labelFontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#201F1E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#323129",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":t={axisLabel:"#C8C6C4",axisLine:"#3B3A39",majorGridLine:"#414040",minorGridLine:"#414040",chartTitle:"#F3F2F1",legendLabel:"#D2D0CE",background:"transparent",areaBorder:"#414040",tooltipFill:"#323130",dataLabel:"#C8C6C4",tooltipBoldLabel:"#F3F2F1",tooltipLightLabel:"#F3F2F2",tooltipHeaderLine:"#3B3A39",tooltipFontSize:"12px",tabColor:"#0078D4",fontFamily:"Segoe UI",fontSize:"14px",labelFontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#F3F2F1",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":t={axisLabel:"#616161",axisLine:"#D2D0CE",majorGridLine:"#EDEBE9",minorGridLine:"#FAFAFA",chartTitle:"#242424",legendLabel:"#424242",background:"transparent",areaBorder:"#EDEBE9",tooltipFill:"#FFFFFF",dataLabel:"#242424",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",tooltipFontSize:"12px",tabColor:"#0078D4",fontFamily:"Segoe UI",fontSize:"14px",labelFontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#424242",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"}};break;case"Fluent2Dark":t={axisLabel:"#ADADAD",axisLine:"#3B3A39",majorGridLine:"#292827",minorGridLine:"#3B3A39",chartTitle:"#FFFFFF",legendLabel:"#D6D6D6",background:"transparent",areaBorder:"#292827",tooltipFill:"#292929",dataLabel:"#FFFFFF",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",tooltipFontSize:"12px",tabColor:"#0078D4",fontFamily:"Segoe UI",fontSize:"14px",labelFontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D6D6D6",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"}};break;case"Material3":t={axisLine:"#C4C7C5",axisLabel:"#1C1B1F",majorGridLine:"#C4C7C5",minorGridLine:"#C4C7C5",legendLabel:"#1C1B1F",background:"#FFFFFF",chartTitle:"#1C1B1F",areaBorder:" #E7E0EC",dataLabel:"#49454E",tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",tooltipFontFamily:"Inter",tooltipFontSize:"12px",tabColor:"#49454E",fontFamily:"Inter",fontSize:"16px",labelFontFamily:"Inter",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#1E192B",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":t={axisLabel:"#E6E1E5",axisLine:"#444746",majorGridLine:"#444746",minorGridLine:"#444746",chartTitle:"#E6E1E5",legendLabel:"#E6E1E5",background:"transparent",areaBorder:" #49454F",tooltipFill:"#E6E1E5",dataLabel:"#CAC4D0",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",tooltipFontFamily:"Roboto",tooltipFontSize:"12px",tabColor:"#CAC4D0",fontFamily:"Roboto",fontSize:"16px",labelFontFamily:"Roboto",tooltipFillOpacity:1,tooltipTextOpacity:1,smithchartTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;default:t={axisLabel:"#686868",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",tooltipFill:"Material"===e?"#000816":"Bootstrap"===e?"#212529":"#FFFFFF",dataLabel:"#424242",tooltipBoldLabel:"Material"===e?"rgba(249, 250, 251, 1)":"Bootstrap"===e?"#F9FAFB":"#333333",tooltipLightLabel:"Material"===e?"rgba(249, 250, 251, 1)":"Bootstrap"===e?"#F9FAFB":"#333333",tooltipHeaderLine:"Fabric"===e?"#D2D0CE":"#ffffff",tooltipFontSize:"12px",tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",smithchartTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Bootstrap"===e?"#212529":"#333333",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"#666666",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Bootstrap"===e?"#212529":"#F3F2F1",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},dataLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Bootstrap"===e?"#676767":"#666666",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},axisLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Bootstrap"===e?"#676767":"#666666",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},smithchartSubtitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Bootstrap"===e?"#212529":"#333333",fontFamily:"Material"===e?"Roboto":"Bootstrap"===e?"Helvetica":"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}}}return t}(this.theme),this.seriesColors=function(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#262E0B","#668E1F","#AF6E10","#862C0B","#1F2D50","#64680B","#311508","#4C4C81","#0C7DA0","#862C0B"];break;case"Bootstrap5Dark":t=["#5ECB9B","#A860F1","#EBA844","#557EF7","#E9599B","#BFC529","#3BC6CF","#7A68EC","#74B706","#EA6266"];break;case"Fluent":case"FluentDark":t=["#1AC9E6","#DA4CB2","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent2":t=["#6200EE","#09AF74","#0076E5","#CB3587","#E7910F","#0364DE","#66CD15","#F3A93C","#107C10","#C19C00"];break;case"Fluent2Dark":t=["#9BB449","#2A72D5","#43B786","#3F579A","#584EC6","#E85F9C","#6E7A89","#EA6266","#0B6A0B","#C19C00"];break;case"Material3":t=["#6355C7","#00AEE0","#FFB400","#F7523F","#963C70","#FD7400","#4BE0BC","#2196F5","#DE3D8A","#162F88"];break;case"Material3Dark":t=["#4EAAFF","#FA4EAB","#FFF500","#17EA58","#38FFE7","#FF9E45","#B3F32F","#B93CE4","#FC5664","#9B55FF"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}(this.theme),document.getElementById(this.element.id+"Keyboard_smith_chart_focus")||((e=document.createElement("style")).setAttribute("id",this.element.id+"Keyboard_smith_chart_focus"),e.innerText=".e-smith-chart-focused:focus,div[id*=container]:focus, text[id*=_Smithchart_title]:focus, path[id*=_Points]:focus, g[id*=_svg_seriesCollection]:focus, g[id*=_svg_Legend]:focus {outline: none } .e-smith-chart-focused:focus-visible,div[id*=container]:focus-visible, text[id*=_Smithchart_title]:focus-visible, path[id*=_Points]:focus-visible, g[id*=_svg_seriesCollection]:focus-visible, g[id*=_svg_Legend]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(e))},b.prototype.render=function(){this.createChartSvg(),this.element.appendChild(this.svgObject),this.setTheme(),this.createSecondaryElement(),this.renderBorder(),this.smithchartLegendModule&&this.legendSettings.visible&&(this.legendBounds=this.smithchartLegendModule.calculateLegendBounds(this));var e=new Sy,e=(this.bounds=e.calculateAreaBounds(this,this.title,this.legendBounds),""!==this.title.text&&this.title.visible&&this.renderTitle(this.title,"title",null),new ky);e.renderArea(this,this.bounds),this.seriesrender=new Oy,this.seriesrender.draw(this,e,this.bounds),this.smithchartLegendModule&&this.legendSettings.visible&&this.smithchartLegendModule.renderLegend(this),this.renderComplete(),this.allowServerDataBinding=!0,this.trigger("loaded",{smithchart:this})},b.prototype.createSecondaryElement=function(){var e,t,i;K.isNullOrUndefined(document.getElementById(this.element.id+"_Secondary_Element"))?(e=K.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"z-index:1;"}),this.element.appendChild(e),t=this.element.getBoundingClientRect(),(i=document.getElementById(this.element.id+"_svg"))&&(i=i.getBoundingClientRect(),e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px")):am(this.element.id+"_Secondary_Element")},b.prototype.destroy=function(){var e;this.element&&(this.unWireEVents(),jy.prototype.destroy.call(this),this.element.classList.remove("e-smithchart"),this.removeSvg(),this.svgObject=null,(e=document.getElementById(this.element.id+"Keyboard_smith_chart_focus"))&&e.remove(),am("smithchartmeasuretext"))},b.prototype.wireEVents=function(){K.EventHandler.add(this.element,"click",this.smithchartOnClick,this),K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.mouseMove,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.mouseEnd,this),K.EventHandler.add(this.element,"keyup",this.chartKeyUp,this),K.EventHandler.add(this.element,"keydown",this.chartKeyDown,this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.smithchartOnResize.bind(this))},b.prototype.mouseMove=function(e){"touchmove"===e.type?this.isTouch=!0:this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,this.tooltipRenderModule&&!this.isTouch&&this.tooltipRenderModule.smithchartMouseMove(this,e)},b.prototype.mouseEnd=function(e){var t;"touchend"===e.type?this.isTouch=!0:this.isTouch="touch"===e.pointerType||"2"===e.pointerType,this.tooltipRenderModule&&this.isTouch&&(t=this.tooltipRenderModule.smithchartMouseMove(this,e))&&(this.fadeoutTo=+setTimeout(function(){t.fadeOut()},2e3))},b.prototype.smithchartOnClick=function(e){e=e.target,e=(this.isLegendClicked?e.children[1]:e).id,e=document.getElementById(e).parentElement;if("containerlegendItem_Group"===document.getElementById(e.id).parentElement.id&&this.legendSettings.toggleVisibility){for(var t=e.childNodes[1],e=e.childNodes[0],i=t.textContent,o=void 0,r=void 0,n=0;n<this.smithchartLegendModule.legendSeries.length;n++)i===this.smithchartLegendModule.legendSeries[n].text&&(o=this.smithchartLegendModule.legendSeries[n].seriesIndex,r=this.smithchartLegendModule.legendSeries[n].fill);t=document.getElementById(this.element.id+"_svg_seriesCollection"+o);"visible"===t.getAttribute("visibility")?(e.setAttribute("fill","gray"),t.setAttribute("visibility","hidden"),this.series[o].visibility="hidden"):(e.setAttribute("fill",r),t.setAttribute("visibility","visible"),this.series[o].visibility="visible")}},b.prototype.unWireEVents=function(){K.EventHandler.remove(this.element,"click",this.smithchartOnClick),K.EventHandler.remove(this.element,K.Browser.touchMoveEvent,this.mouseMove),K.EventHandler.remove(this.element,K.Browser.touchEndEvent,this.mouseEnd),K.EventHandler.remove(this.element,"keyup",this.chartKeyUp),K.EventHandler.remove(this.element,"keydown",this.chartKeyDown),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.smithchartOnResize)},b.prototype.print=function(e){new Ny(this).print(e)},b.prototype.export=function(e,t,i){new Ny(this).export(e,t,i)},b.prototype.chartKeyDown=function(e){var t="";return""!==(t=this.series[this.currentSeriesIndex].tooltip.visible&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("_Series")||"Escape"===e.code)?"ESC":t)&&this.smithchartKeyboardNavigations(e,e.target.id,t),!1},b.prototype.chartKeyUp=function(e){var t,i,o="",r=e.target.id,n=e.target,a=J(this.element.id+"_Smithchart_title"),l=J(this.element.id+"_svg_seriesCollections"),s=J(this.element.id+"legendItem_Group");if(a&&a.setAttribute("class","e-smith-chart-focused"),l&&l.firstElementChild&&l.firstElementChild.children[1].lastElementChild&&((t=(h=l.firstElementChild.children[1].lastElementChild).getAttribute("class"))&&-1===t.indexOf("e-smith-chart-focused")?t+=" e-smith-chart-focused":t=t||"e-smith-chart-focused",h.setAttribute("class",t)),s&&((t=(h=s.firstElementChild).getAttribute("class"))&&-1===t.indexOf("e-smith-chart-focused")?t+=" e-smith-chart-focused":t=t||"e-smith-chart-focused",h.setAttribute("class",t)),"Tab"===e.code)""!==this.previousTargetId&&(-1<this.previousTargetId.indexOf("_Series")&&-1===r.indexOf("_Series")?(i=J(this.element.id+"_svg_seriesCollections"),a=-1<this.previousTargetId.indexOf("_Marker")?J(this.element.id+"_svg_series"+this.currentSeriesIndex+"_Marker").children[this.currentPointIndex]:i.children[this.currentSeriesIndex],this.setTabIndex(a,document.getElementById(this.element.id+"_Series0_Points0_Marker0")),this.currentPointIndex=0,this.currentSeriesIndex=0):-1<this.previousTargetId.indexOf("_svg_Legend")&&-1===r.indexOf("_svg_Legend")&&(i=J(this.element.id+"legendItem_Group"),this.setTabIndex(i.children[this.currentLegendIndex],i.firstElementChild))),this.previousTargetId=r,o=this.series[0].tooltip.visible?"Tab":"";else if(-1<e.code.indexOf("Arrow")){if(e.preventDefault(),-1<(this.previousTargetId=r).indexOf("_svg_Legend")){l=n.parentElement.children,s=(l[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,l.length),l[this.currentLegendIndex]);this.focusChild(s),r=s.children[1].id}else if(-1<r.indexOf("_Series")){i=n.parentElement.parentElement.parentElement;var h=e.target;if(n.removeAttribute("tabindex"),n.blur(),"ArrowRight"===e.code||"ArrowLeft"===e.code){for(var c=[],d=0;d<i.children.length;d++)-1<i.children[d].id.indexOf("_svg_seriesCollection")&&c.push(+i.children[d].id.split("_svg_seriesCollection")[1]);this.currentSeriesIndex=c.indexOf(this.currentSeriesIndex)+("ArrowRight"===e.code?1:-1),this.currentSeriesIndex=c[this.getActualIndex(this.currentSeriesIndex,c.length)]}else this.currentPointIndex+="ArrowUp"===e.code?1:-1;-1<r.indexOf("_Marker")&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"_svg_series"+this.currentSeriesIndex+"_Marker").childElementCount),h=J(this.element.id+"_Series"+this.currentSeriesIndex+"_Points"+this.currentPointIndex+"_Marker"+this.currentPointIndex)),r=this.focusChild(h),o=this.series[this.currentSeriesIndex].tooltip.visible?"ArrowMove":""}}else("Enter"===e.code||"Space"===e.code)&&-1<r.indexOf("_svg_Legend")&&(r=-1<r.indexOf("_svg_Legend")?n.children[1].id:r,o="Enter");return""!==o&&this.smithchartKeyboardNavigations(e,r,o),!1},b.prototype.smithchartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":var o,r;-1<t.indexOf("_Points")&&(o=+t.split("_Series")[1].split("_Points")[0],r=+t.split("_Series")[1].split("_Marker")[0].split("_Points")[1],this.tooltipRenderModule)&&this.series[o].tooltip.visible&&this.tooltipRenderModule.createTooltip(this,e,r,o,this.series[o]);break;case"Enter":case"Space":-1<t.indexOf("_LegendItemText")&&(this.isLegendClicked=!0,this.delayRedraw=!0,this.smithchartOnClick(e),this.focusChild(document.getElementById(t).parentElement));break;case"ESC":this.tooltipRenderModule.tooltipElement.fadeOut()}},b.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},b.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},b.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-smith-chart-focused")?"e-smith-chart-focused "+t:t||"e-smith-chart-focused",e.setAttribute("class",t),e.focus(),e.id},b.prototype.smithchartOnResize=function(){var e=this;return this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(function(){e.render()},500),!1},b.prototype.requiredModules=function(){var e=[];this.legendSettings.visible&&e.push({member:"SmithchartLegend",args:[this]});for(var t=0;t<this.series.length;t++)if(this.series[t].tooltip.visible){e.push({member:"TooltipRender",args:[this]});break}return e},b.prototype.removeSvg=function(){am(this.element.id+"_Secondary_Element");if(this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&K.remove(this.svgObject)}},Wy([K.Property("Impedance")],b.prototype,"renderType",void 0),Wy([K.Property("")],b.prototype,"width",void 0),Wy([K.Property("")],b.prototype,"height",void 0),Wy([K.Property("Material")],b.prototype,"theme",void 0),Wy([K.Complex({},xg)],b.prototype,"margin",void 0),Wy([K.Complex({},fg)],b.prototype,"font",void 0),Wy([K.Complex({},yg)],b.prototype,"border",void 0),Wy([K.Complex({},Tm)],b.prototype,"title",void 0),Wy([K.Collection([{}],Xm)],b.prototype,"series",void 0),Wy([K.Complex({},mg)],b.prototype,"legendSettings",void 0),Wy([K.Complex({},um)],b.prototype,"horizontalAxis",void 0),Wy([K.Complex({},um)],b.prototype,"radialAxis",void 0),Wy([K.Property(null)],b.prototype,"background",void 0),Wy([K.Property(10)],b.prototype,"elementSpacing",void 0),Wy([K.Property(1)],b.prototype,"radius",void 0),Wy([K.Event()],b.prototype,"beforePrint",void 0),Wy([K.Event()],b.prototype,"animationComplete",void 0),Wy([K.Event()],b.prototype,"load",void 0),Wy([K.Event()],b.prototype,"loaded",void 0),Wy([K.Event()],b.prototype,"legendRender",void 0),Wy([K.Event()],b.prototype,"titleRender",void 0),Wy([K.Event()],b.prototype,"subtitleRender",void 0),Wy([K.Event()],b.prototype,"textRender",void 0),Wy([K.Event()],b.prototype,"axisLabelRender",void 0),Wy([K.Event()],b.prototype,"seriesRender",void 0),Wy([K.Event()],b.prototype,"tooltipRender",void 0),Wy([K.NotifyPropertyChanges],b));function b(e,t){e=jy.call(this,e,t)||this;return e.isLegendClicked=!1,e.previousTargetId="",e.currentPointIndex=0,e.currentSeriesIndex=0,e.currentLegendIndex=0,e}Uy.prototype.smithchartMouseMove=function(e,t){var i,o;"touchend"===t.type||"touchmove"===t.type?(i=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY,this.tooltipElement=void 0):(o=t.clientY,i=t.clientX),this.setMouseXY(e,i,o);for(var r=0;r<e.series.length;r++){var n,a=e.series[r],l=r;new Bg;if((n=this.closestPointXY(e,this.mouseX,this.mouseY,a,l)).location&&a.tooltip.visible&&"visible"===a.visibility){this.createTooltip(e,t,n.index,l,a);break}this.tooltipElement&&(this.tooltipElement.enable&&!a.tooltip.template&&(this.tooltipElement.enable=!1),this.tooltipElement.fadeOut())}return this.tooltipElement},Uy.prototype.setMouseXY=function(e,t,i){var o=document.getElementById(e.element.id+"_svg");e.element&&o&&(e=e.element.getBoundingClientRect(),o=o.getBoundingClientRect(),this.mouseX=t-e.left-Math.max(o.left-e.left,0),this.mouseY=i-e.top-Math.max(o.top-e.top,0))},Uy.prototype.createTooltip=function(o,e,t,r,n){function i(e){var t=o.series[r].marker.height/2,i=document.getElementById(o.element.id+"_smithchart_tooltip_div");K.isNullOrUndefined(i)&&(i=K.createElement("div",{id:o.element.id+"_smithchart_tooltip_div",styles:"pointer-events: none; position: absolute;z-index:1;"}),document.getElementById(o.element.id+"_Secondary_Element").appendChild(i)),a.tooltipElement=new $.Tooltip({enable:!0,header:e.headerText,content:e.text,border:n.tooltip.border,fill:n.tooltip.fill||o.themeStyle.tooltipFill,opacity:n.tooltip.opacity,data:l,template:e.template,location:{x:a.locationX+o.element.offsetLeft,y:a.locationY-t+o.element.offsetTop},shared:!1,areaBounds:new Ag(o.bounds.x,o.bounds.y,o.bounds.width,o.bounds.height),palette:[n.fill||o.seriesColors[r%o.seriesColors.length]],shapes:["Circle"],availableSize:o.availableSize,theme:o.theme}),a.tooltipElement.opacity=o.themeStyle.tooltipFillOpacity||a.tooltipElement.opacity,a.tooltipElement.textStyle.fontFamily=o.themeStyle.fontFamily||"Roboto, Segoe UI, Noto, Sans-serif",a.tooltipElement.textStyle.size=o.themeStyle.tooltipFontSize||"13px",a.tooltipElement.textStyle.color=o.themeStyle.tooltipBoldLabel||a.tooltipElement.textStyle.color,a.tooltipElement.appendTo(i),(e=document.getElementById(o.element.id+"_smithchart_tooltip_div_Trackball_0"))&&e.setAttribute("role","img")}var a=this,l=n.points[t],t=l.resistance,s=l.reactance,t={cancel:!1,name:"tooltipRender",text:(l.tooltip?[l.tooltip]:null)||[t+" : <b>"+s+"</b>"],headerText:"<b>"+n.name+"</b>",template:n.tooltip.template,point:l};i.bind(this,o),o.trigger("tooltipRender",t,i)},Uy.prototype.closestPointXY=function(e,t,i,o,r){for(var n,a,l=0;l<o.points.length;l++){n=e.seriesrender.getLocation(r,l),this.locationX=n.x,this.locationY=n.y;var s=l,h=t-n.x,c=i-n.y;if(Math.abs(Math.sqrt(h*h+c*c))<o.marker.width){a=n,s=l;break}}return{location:a,index:s}},Uy.prototype.getModuleName=function(){return"TooltipRender"},Uy.prototype.destroy=function(){};Wy=Uy;function Uy(){}Gy.prototype.renderLegend=function(e){this._drawLegend(e)},Gy.prototype.calculateLegendBounds=function(e){this.legendSeries=[];var t,i,o=e.legendSettings,r=o.height,n=o.width,a=0<o.itemPadding?o.itemPadding:0,l=o.position.toLowerCase(),s=o.title.textStyle,h=0,c=0,d=0,p=e.availableSize.width-(4*e.elementSpacing-2*o.border.width+2*e.border.width),u=o.rowCount,o=o.columnCount,s=rm(e.legendSettings.title.text,s,e.themeStyle.legendTitleFont),g=0,m=0,y=0,f=0,v=0,b=e.series.length;if(e.legendSettings.visible&&0!==b){"bottom"===l||"top"===l||"custom"===l?(u&&o&&u<=o||null==u&&null!=o?u=b/o:null==u&&null==o&&(u=1),u&&(t=Math.ceil(b/u))):(u&&o&&u<=o||null!=u&&null==o?o=b/u:null==u&&null==o&&(o=1),o&&(t=o));for(var x=0;x<b;x++){this.legendSeries.push({text:e.series[x].name||"series"+x,seriesIndex:x,shape:e.legendSettings.shape,fill:e.series[x].fill||e.seriesColors[x%e.seriesColors.length],bounds:null});var S=this._getLegendSize(e,this.legendSeries[x]),h=Math.max(S.width,h),c=Math.max(S.height,c);this.legendSeries[x].bounds={width:h,height:c},v+=1,y=y+h+a,f=Math.max(c,f),"top"!==l&&"bottom"!==l&&"custom"!==l||p<y&&(y-=S.width+a,g=Math.max(g,y),y=S.width+a,m=m+f+a),v!==t&&x!==b-1||(g=Math.max(g,y),d=m=m+f+a,y=f=v=0)}i={x:0,y:0,width:s.width>g-a?s.width+20+a:g+20-2*e.border.width,height:d+e.elementSpacing}}return this.legendActualBounds=i,null!=n&&(this.legendActualBounds.width=n),null!=r&&(this.legendActualBounds.height=r),this.legendActualBounds},Gy.prototype._getLegendSize=function(e,t){var i=e.legendSettings,o=i.itemStyle.width,r=i.itemStyle.height,t=rm(t.text,i.textStyle,e.themeStyle.legendLabelFont);return{width:o+t.width+i.shapePadding,height:Math.max(r,t.height)}},Gy.prototype._drawLegend=function(e){var t,i,o=e.legendSettings,r=o.position.toLowerCase(),n=o.alignment,a=this.legendActualBounds,l=0,s=e.title.font||e.title.textStyle,s=rm(e.title.text,s,e.themeStyle.legendLabelFont).height,h=rm(e.title.subtitle.text,e.title.subtitle.textStyle,e.themeStyle.legendLabelFont).height,c=e.elementSpacing,d=s+h+c+e.margin.top,p=0<o.itemPadding?o.itemPadding:0,s=e.availableSize.width,h=e.availableSize.height,u=o.border.width,g=0,m=rm(o.title.text,o.title.textStyle,e.themeStyle.legendLabelFont).height,y=e.border.width,f=s-2*y,v=h-2*y;if(a.height+=m,"custom"!==r){switch(r){case"bottom":a.y=v-(a.height+u+c);break;case"top":a.y=y+d;break;case"right":a.x=f-a.width-2*c;break;case"left":a.x=y+2*c}if("left"===r||"right"===r)switch(n){case"Center":a.y=v/2-(a.height+2*u)/2+c/2;break;case"Near":a.y=y+2*c+d;break;case"Far":a.y=v-(a.height+u)-2*c}else switch(n){case"Center":a.x=f/2-(a.width+2*u)/2+c/2;break;case"Near":a.x=y+2*c;break;case"Far":a.x=f-(a.width+u)-2*c}}else a.y=o.location.y<v?o.location.y:0,a.x=o.location.x<f?o.location.x:0;if("bottom"===r||"top"===r)for(var b=0;b<this.legendSeries.length;b++)if(f<(g+=this.legendSeries[b].bounds.width+p)){a.x=f/2-(a.width+2*u)/2+c/2;break}var x=e.renderer.createGroup({id:e.element.id+"_legend_group"}),S=(e.svgObject.appendChild(x),this.legendItemGroup=e.renderer.createGroup({id:e.element.id+"legendItem_Group"}),t=c),C=i=c;""!==o.title.text&&o.title.visible&&(x.appendChild(this.drawLegendTitle(e,o,a,x)),C=i=c+m);for(var w=0;w<this.legendSeries.length;w++)!(o.rowCount<o.columnCount||o.rowCount===o.columnCount)||"top"!==r&&"bottom"!==r&&"custom"!==r?(C+this.legendSeries[w].bounds.height+p+m+y>a.height+i&&(C=i,S+=l+p),this.legendGroup=this.drawLegendItem(e,o,this.legendSeries[w],w,S,C),x.appendChild(this.legendGroup),C+=this.legendSeries[w].bounds.height+p,l=Math.max(l,this.legendSeries[w].bounds.width)):(S+this.legendSeries[w].bounds.width>a.width+t&&(S=c,C+=this.legendSeries[w].bounds.height+p),this.legendGroup=this.drawLegendItem(e,o,this.legendSeries[w],w,S,C),x.appendChild(this.legendGroup),S+=this.legendSeries[w].bounds.width+p);x.setAttribute("transform","translate("+a.x.toString()+","+a.y.toString()+")"),this.drawLegendBorder(x,e,o,a)},Gy.prototype.drawLegendBorder=function(e,t,i,o){i=new Jg(t.element.id+"_svg_legendRect","none",i.border,1,new Ag(0,0,o.width,o.height));e.appendChild(t.renderer.drawRectangle(i))},Gy.prototype.drawLegendTitle=function(e,t,i,o){var r=e.elementSpacing,n=rm(t.title.text,t.title.textStyle,e.themeStyle.legendLabelFont),a=n.width,n=n.height,l=t.title.textAlignment,s=0,h=i.width,i=r+n/2;switch(l){case"Far":s=h-a-s;break;case"Center":s=h/2-a/2}s<0&&(s=0,h=a),h<a+s&&(h=a+s);r=cm(new nm(e.element.id+"_LegendTitleText",s,i,"start",t.title.text),t.title.textStyle,t.title.textStyle.color||e.themeStyle.legendTitleFont.color,o,e.themeStyle.legendTitleFont);return r.setAttribute("aria-label",t.title.description||t.title.text),r},Gy.prototype.drawLegendItem=function(i,o,r,n,e,t){function a(e){var t;e.cancel||(t=l.drawLegendShape(i,r,c.x,c.y,n,o,e),d.appendChild(t),t=new nm(i.element.id+"_LegendItemText"+n.toString(),c.x+s.width/2+o.shapePadding,c.y+h/4,"start",e.text),o.textStyle.fontFamily=o.textStyle.fontFamily||i.themeStyle.legendLabelFont.fontFamily,o.textStyle.size=o.textStyle.size||i.themeStyle.legendLabelFont.size,e=cm(t,o.textStyle,o.textStyle.color||i.themeStyle.legendLabelFont.color,d,i.themeStyle.legendLabelFont),d.setAttribute("aria-label",o.description||"Show "+t.text),d.setAttribute("role","button"),d.appendChild(e),l.legendItemGroup.appendChild(d))}var l=this,s=o.itemStyle,h=rm(r.text,o.textStyle,i.themeStyle.legendLabelFont).height,c={x:e+s.width/2,y:t+(h>s.height?h:s.height)/2},d=i.renderer.createGroup({id:i.element.id+"_svg_Legend"+n.toString()}),e=(d.style.cursor=o.toggleVisibility?"pointer":"default",d.setAttribute("tabindex",0===n?"0":""),{text:r.text,fill:r.fill,shape:r.shape,name:Fy,cancel:!1});return a.bind(this),i.trigger(Fy,e,a),this.legendItemGroup},Gy.prototype.drawLegendShape=function(e,t,i,o,r,n,a){var l,s,h,n=n.itemStyle,c=n.width,d=n.height,p=i+-c/2,u={color:n.border.color,width:n.border.width},g="visible"===e.series[r].visibility?a.fill:"grey",n=a.shape.toLowerCase(),m=Math.sqrt(d*d+c*c)/2;switch(n){case"circle":s=new im(e.element.id+"_svg_LegendItemShape"+r.toString(),g,u,1,i,o,m,null),l=e.renderer.drawCircle(s);break;case"rectangle":b="M "+p+" "+(o+-d/2)+" L "+(c/2+i)+" "+(o+-d/2)+" L "+(i+c/2)+" "+(o+d/2)+" L "+p+" "+(o+d/2)+" L "+p+" "+(o+-d/2)+" z",h=new $g(e.element.id+"_svg_LegendItemShape"+r.toString(),g,u.width,u.color,1,"",b),l=e.renderer.drawPath(h);break;case"diamond":b="M "+p+" "+o+" L "+i+" "+(o+-d/2)+" L "+(c/2+i)+" "+o+" L "+i+" "+(o+d/2)+" L "+p+" "+o+" z",h=new $g(e.element.id+"_svg_LegendItemShape"+r.toString(),g,u.width,u.color,1,"",b),l=e.renderer.drawPath(h);break;case"pentagon":for(var y=0;y<=5;y++)var f=m*Math.cos(Math.PI/180*(72*y)),v=m*Math.sin(Math.PI/180*(72*y)),b=0===y?"M "+(f+i)+" "+(o+v)+" ":b.concat("L "+(i+f)+" "+(o+v)+" ");b=b.concat("Z"),h=new $g(e.element.id+"_svg_LegendItemShape"+r.toString(),g,u.width,u.color,1,"",b),l=e.renderer.drawPath(h);break;case"triangle":b="M "+p+" "+(d/2+o)+" L "+i+" "+(o+-d/2)+" L "+(i+c/2)+" "+(o+d/2)+" L "+p+" "+(o+d/2)+" Z",h=new $g(e.element.id+"_svg_LegendItemShape"+r.toString(),g,u.width,u.color,1,"",b),l=e.renderer.drawPath(h)}return l},Gy.prototype.getModuleName=function(){return"SmithchartLegend"},Gy.prototype.destroy=function(){};var Xy=Gy;function Gy(){this.legendSeries=[]}Yy=function(e,t){return(Yy=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Yy,Zy,qy=function(e,t){function i(){this.constructor=e}Yy(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},x=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Qy=(Zy=K.ChildProperty,qy(Ky,Zy),x([K.Property("")],Ky.prototype,"color",void 0),x([K.Property(0)],Ky.prototype,"width",void 0),Ky);function Ky(){return null!==Zy&&Zy.apply(this,arguments)||this}$y=K.ChildProperty,qy(ef,$y),x([K.Property(null)],ef.prototype,"size",void 0),x([K.Property(null)],ef.prototype,"color",void 0),x([K.Property("Roboto, Segoe UI, Noto, Sans-serif")],ef.prototype,"fontFamily",void 0),x([K.Property(null)],ef.prototype,"fontWeight",void 0),x([K.Property(null)],ef.prototype,"fontStyle",void 0),x([K.Property(1)],ef.prototype,"opacity",void 0);var $y,Jy=ef;function ef(){return null!==$y&&$y.apply(this,arguments)||this}tf=K.ChildProperty,qy(rf,tf),x([K.Property(!1)],rf.prototype,"visible",void 0),x([K.Property(null)],rf.prototype,"color",void 0),x([K.Property(1)],rf.prototype,"width",void 0);var tf,of=rf;function rf(){return null!==tf&&tf.apply(this,arguments)||this}nf=K.ChildProperty,qy(lf,nf),x([K.Property(!1)],lf.prototype,"visible",void 0),x([K.Property("")],lf.prototype,"fill",void 0),x([K.Property("")],lf.prototype,"template",void 0),x([K.Property("")],lf.prototype,"format",void 0),x([K.Complex({color:null,width:null},Qy)],lf.prototype,"border",void 0),x([K.Complex({size:"12px",fontWeight:null,fontStyle:"Normal",fontFamily:null},Jy)],lf.prototype,"textStyle",void 0),x([K.Complex({},of)],lf.prototype,"trackLineSettings",void 0);var nf,af=lf;function lf(){return null!==nf&&nf.apply(this,arguments)||this}sf=K.ChildProperty,qy(cf,sf),x([K.Property("transparent")],cf.prototype,"background",void 0),x([K.Complex({},Qy)],cf.prototype,"border",void 0);var sf,hf=cf;function cf(){return null!==sf&&sf.apply(this,arguments)||this}df=K.ChildProperty,qy(uf,df),x([K.Property(!1)],uf.prototype,"visible",void 0),x([K.Property(null)],uf.prototype,"color",void 0),x([K.Property("")],uf.prototype,"dashArray",void 0),x([K.Property(1)],uf.prototype,"width",void 0),x([K.Property(1)],uf.prototype,"opacity",void 0);var df,pf=uf;function uf(){return null!==df&&df.apply(this,arguments)||this}gf=K.ChildProperty,qy(yf,gf),x([K.Property(null)],yf.prototype,"startRange",void 0),x([K.Property(null)],yf.prototype,"endRange",void 0),x([K.Property(null)],yf.prototype,"color",void 0),x([K.Property(1)],yf.prototype,"opacity",void 0);var gf,mf=yf;function yf(){return null!==gf&&gf.apply(this,arguments)||this}ff=K.ChildProperty,qy(bf,ff),x([K.Property(null)],bf.prototype,"minX",void 0),x([K.Property(null)],bf.prototype,"maxX",void 0),x([K.Property(null)],bf.prototype,"minY",void 0),x([K.Property(null)],bf.prototype,"maxY",void 0),x([K.Property(0)],bf.prototype,"value",void 0),x([K.Complex({},pf)],bf.prototype,"lineSettings",void 0);var ff,vf=bf;function bf(){return null!==ff&&ff.apply(this,arguments)||this}xf=K.ChildProperty,qy(Cf,xf),x([K.Property(5)],Cf.prototype,"left",void 0),x([K.Property(5)],Cf.prototype,"right",void 0),x([K.Property(5)],Cf.prototype,"bottom",void 0),x([K.Property(5)],Cf.prototype,"top",void 0);var xf,Sf=Cf;function Cf(){return null!==xf&&xf.apply(this,arguments)||this}wf=K.ChildProperty,qy(Lf,wf),x([K.Property([])],Lf.prototype,"visible",void 0),x([K.Property(1)],Lf.prototype,"opacity",void 0),x([K.Property(8)],Lf.prototype,"size",void 0),x([K.Property("#00bdae")],Lf.prototype,"fill",void 0),x([K.Complex({width:1},Qy)],Lf.prototype,"border",void 0);var wf,Ff=Lf;function Lf(){return null!==wf&&wf.apply(this,arguments)||this}Pf=K.ChildProperty,qy(Mf,Pf),x([K.Property(0)],Mf.prototype,"x",void 0),x([K.Property(0)],Mf.prototype,"y",void 0);var Pf,Af=Mf;function Mf(){return null!==Pf&&Pf.apply(this,arguments)||this}Df=K.ChildProperty,qy(kf,Df),x([K.Property([])],kf.prototype,"visible",void 0),x([K.Property(1)],kf.prototype,"opacity",void 0),x([K.Property("transparent")],kf.prototype,"fill",void 0),x([K.Property("")],kf.prototype,"format",void 0),x([K.Complex({color:"transparent",width:0},Qy)],kf.prototype,"border",void 0),x([K.Complex({size:null,fontWeight:null,fontStyle:null,fontFamily:null},Jy)],kf.prototype,"textStyle",void 0),x([K.Complex({},Af)],kf.prototype,"offset",void 0),x([K.Property("None")],kf.prototype,"edgeLabelMode",void 0);var Df,qy=kf;function kf(){return null!==Df&&Df.apply(this,arguments)||this}Rf=function(e,t){return(Rf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Rf,x=function(e,t){function i(){this.constructor=e}Rf(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Tf=function(e,t){this.width=e,this.height=t};function _f(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#6355C7","#FFB400","#2196F5","#F7523F","#963C70","#4BE0BC","#FD7400","#C9E422","#DE3D8A","#162F88"];break;case"Bootstrap5Dark":t=["#8F80F4","#FFD46D","#6CBDFF","#FF7F71","#FF6DB3","#63F5D2","#FCAA65","#ECFF77","#EF8EFF","#5F82FD"];break;case"FluentDark":case"Fluent":t=["#1AC9E6","#DA4CB2","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent2":t=["#6200EE","#09AF74","#0076E5","#CB3587","#E7910F","#0364DE","#66CD15","#F3A93C","#107C10","#C19C00"];break;case"Fluent2Dark":t=["#9BB449","#2A72D5","#43B786","#3F579A","#584EC6","#E85F9C","#6E7A89","#EA6266","#0B6A0B","#C19C00"];break;case"Material3":t=["#6355C7","#00AEE0","#FFB400","#F7523F","#963C70","#FD7400","#4BE0BC","#2196F5","#DE3D8A","#162F88"];break;case"Material3Dark":t=["#4EAAFF","#FA4EAB","#FFF500","#17EA58","#38FFE7","#FF9E45","#B3F32F","#B93CE4","#FC5664","#9B55FF"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}function Ef(e){var t;switch(e){case"BootstrapDark":case"FabricDark":case"MaterialDark":case"HighContrast":t={axisLineColor:"#ffffff",dataLabelColor:"BootstrapDark"===e?"#676767":"FabricDark"===e?"#A19F9D":"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"#969696",rangeBandColor:"#ffffff",tooltipFill:"BootstrapDark"===e?"#F0F0F0":"FabricDark"===e?"#A19F9D":"MaterialDark"===e?"#F4F4F4":"#FFFFFF",background:"#000000",tooltipFontColor:"BootstrapDark"===e?"#1A1A1A":"FabricDark"===e?"#DADADA":"MaterialDark"===e?"rgba(18, 18, 18, 1)":"#000000",trackerLineColor:"#ffffff",labelFontFamily:"BootstrapDark"===e?"Helvetica":"FabricDark"!==e&&"MaterialDark"===e?"Roboto":"Segoe UI",tooltipFontFamily:"BootstrapDark"===e?"Helvetica":"FabricDark"!==e&&"MaterialDark"===e?"Roboto":"Segoe UI",dataLabelFont:{fontFamily:"BootstrapDark"===e?"Helvetica":"FabricDark"!==e&&"MaterialDark"===e?"Roboto":"Segoe UI",color:"BootstrapDark"===e?"#676767":"FabricDark"===e?"#A19F9D":"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"#969696",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"BootstrapDark"===e?"#0070F0":"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#FFD939"};break;case"Bootstrap4":t={axisLineColor:"#6C757D",dataLabelColor:"#495057",rangeBandColor:"#212529",tooltipFill:"#212529",background:"#FFFFFF",tooltipFontColor:"#F9FAFB",trackerLineColor:"#212529",fontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:.9,labelFontFamily:"Helvetica",tooltipFontFamily:"Helvetica",dataLabelFont:{fontFamily:"Helvetica",color:"#495057",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#007BFF"};break;case"Tailwind":t={axisLineColor:"#4B5563",dataLabelColor:"#6B7280",rangeBandColor:"#212529",background:"#FFFFFF",tooltipFill:"#111827",tooltipFontColor:"#F9FAFB",trackerLineColor:"#1F2937",fontFamily:"Inter",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Inter",tooltipFontFamily:"Inter",dataLabelFont:{fontFamily:"Inter",color:"#6B7280",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#4F46E5"};break;case"TailwindDark":t={axisLineColor:"#D1D5DB",dataLabelColor:"#9CA3AF",rangeBandColor:"#F9FAFB",background:"transparent",tooltipFill:"#E9ECEF",tooltipFontColor:"#1F2937",trackerLineColor:"#9CA3AF",fontFamily:"Inter",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Inter",tooltipFontFamily:"Inter",dataLabelFont:{fontFamily:"Inter",color:"#9CA3AF",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#22D3EE"};break;case"Bootstrap5":t={axisLineColor:"#D1D5DB",dataLabelColor:"#495057",rangeBandColor:"#212529",background:"rgba(255, 255, 255, 0.0)",tooltipFill:"#212529",tooltipFontColor:"#F9FAFB",trackerLineColor:"#1F2937",fontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Helvetica",tooltipFontFamily:"Helvetica",dataLabelFont:{fontFamily:"Helvetica",color:"#495057",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0D6EFD"};break;case"Bootstrap5Dark":t={axisLineColor:"#D1D5DB",dataLabelColor:"#E9ECEF",rangeBandColor:"#ADB5BD",background:"rgba(255, 255, 255, 0.0)",tooltipFill:"#E9ECEF",tooltipFontColor:"#212529",trackerLineColor:"#ADB5BD",fontFamily:"Helvetica",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Helvetica",tooltipFontFamily:"Helvetica",dataLabelFont:{fontFamily:"Helvetica",color:"#E9ECEF",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0D6EFD"};break;case"Fluent":t={axisLineColor:"#D2D0CE;",dataLabelColor:"#3B3A39",rangeBandColor:"#A19F9D",background:"rgba(255, 255, 255, 0.0001)",tooltipFill:"#FFFFFF",tooltipFontColor:"#323130",trackerLineColor:"#A19F9D",fontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Segoe UI",tooltipFontFamily:"Segoe UI",dataLabelFont:{fontFamily:"Segoe UI",color:"#3B3A39",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0078D4"};break;case"FluentDark":t={axisLineColor:"#3B3A39;",dataLabelColor:"#D2D0CE",rangeBandColor:"#797775",background:"transparent",tooltipFill:"#323130",tooltipFontColor:"#F3F2F1",trackerLineColor:"#797775",fontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Segoe UI",tooltipFontFamily:"Segoe UI",dataLabelFont:{fontFamily:"Segoe UI",color:"#D2D0CE",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0078D4"};break;case"Fluent2":t={axisLineColor:"#D2D0CE",dataLabelColor:"#424242",rangeBandColor:"#A19F9D",background:"transparent",tooltipFill:"#FFFFFF",tooltipFontColor:"#242424",trackerLineColor:"#D2D0CE",fontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Segoe UI",tooltipFontFamily:"Segoe UI",dataLabelFont:{fontFamily:"Segoe UI",color:"#242424",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0078D4"};break;case"Fluent2Dark":t={axisLineColor:"#8A8886",dataLabelColor:"#D6D6D6",rangeBandColor:"#8A8886",background:"transparent",tooltipFill:"#292929",tooltipFontColor:"#FFFFFF",trackerLineColor:"#3B3A39",fontFamily:"Segoe UI",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Segoe UI",tooltipFontFamily:"Segoe UI",dataLabelFont:{fontFamily:"Segoe UI",color:"#D6D6D6",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#0078D4"};break;case"Material3":t={axisLineColor:"#C4C7C5",dataLabelColor:"#49454E",rangeBandColor:"rgba(73, 69, 78, 0.3)",background:"rgba(255, 255, 255, 0.0001)",tooltipFill:"#313033",tooltipFontColor:"#F4EFF4",trackerLineColor:"#49454E",fontFamily:"Roboto",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Roboto",tooltipFontFamily:"Roboto",dataLabelFont:{fontFamily:"Roboto",color:"#49454E",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#49454E"};break;case"Material3Dark":t={axisLineColor:"#49454F",dataLabelColor:"#CAC4D0",rangeBandColor:"rgba(202, 196, 208, 0.3)",background:"transparent",tooltipFill:"#E6E1E5",tooltipFontColor:"#313033",trackerLineColor:"#CAC4D0",fontFamily:"Roboto",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Roboto",tooltipFontFamily:"Roboto",dataLabelFont:{fontFamily:"Roboto",color:"#CAC4D0",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"#CAC4D0"};break;default:t={axisLineColor:"#000000",dataLabelColor:"Bootstrap"===e?"#676767":"Fabric"===e?"#666666":"rgba(97, 97, 97, 1)",rangeBandColor:"#000000",background:"#FFFFFF",tooltipFill:"Bootstrap"===e?"#212529":"Fabric"===e?"#FFFFFF":"#000816",tooltipFontColor:"Bootstrap"===e?"#F9FAFB":"Fabric"===e?"#333333":"rgba(249, 250, 251, 1)",trackerLineColor:"#000000",labelFontFamily:"Bootstrap"===e?"Helvetica":"Fabric"===e?"Segoe UI":"Roboto",tooltipFontFamily:"Bootstrap"===e?"Helvetica":"Fabric"===e?"Segoe UI":"Roboto",dataLabelFont:{fontFamily:"Bootstrap"===e?"Helvetica":"Fabric"===e?"Segoe UI":"Roboto",color:"Bootstrap"===e?"#676767":"Fabric"===e?"#666666":"rgba(97, 97, 97, 1)",size:"12px",fontWeight:"400",fontStyle:"Medium"},tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9"}}return t}function If(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function Of(e){var t,i,o;e.renderer=new $.SvgRenderer(e.element.id),i=(t=e).element.clientWidth||(t.element.parentElement?t.element.parentElement.clientWidth||window.innerWidth:100),o=t.element.clientHeight||(t.element.parentElement?t.element.parentElement.clientHeight:50),t.availableSize=new Tf(If(t.width,i)||i,If(t.height,o)||o||(t.isDevice?Math.min(window.innerWidth,window.innerHeight):o)),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}var zf,Bf=function(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o},Nf=function(e,t,i,o,r,n,a){this.id=e,this.fill=t,this.opacity=r,this["stroke-width"]=i,this.stroke=o,this.d=a,this["stroke-dasharray"]=n},Vf=(x(Hf,zf=Nf),Hf);function Hf(e,t,i,o,r,n,a,l,s){void 0===n&&(n=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===s&&(s=0);e=zf.call(this,e,t,i.width,i.color,o)||this;return e.rect=r,e.topLeft=n,e.topRight=a,e.bottomLeft=l,e.bottomRight=s,e}x(Uf,jf=Nf);var jf,Wf=Uf;function Uf(e,t,i,o,r,n,a,l){e=jf.call(this,e,t,i.width,i.color,o)||this;return e.cy=n,e.cx=r,e.r=a,e["stroke-dasharray"]=l,e}function Xf(e,t){return t&&t.appendChild(e),e}function Gf(e,t,i){var o,r,n,a,l;return t.d=(o=t.rect,r=t.topLeft,n=t.topRight,a=t.bottomLeft,l=t.bottomRight,"M "+o.x+" "+(r+o.y)+" Q "+o.x+" "+o.y+" "+(o.x+r)+" "+o.y+" L "+(o.x+o.width-n)+" "+o.y+" Q "+(o.x+o.width)+" "+o.y+" "+(o.x+o.width)+" "+(o.y+n)+" L "+(o.x+o.width)+" "+(o.y+o.height-l)+" Q "+(o.x+o.width)+" "+(o.y+o.height)+" "+(o.x+o.width-l)+" "+(o.y+o.height)+" L "+(o.x+a)+" "+(o.y+o.height)+" Q "+o.x+" "+(o.y+o.height)+" "+o.x+" "+(o.y+o.height-a)+" L "+o.x+" "+(r+o.y)+" Z"),Xf(e.renderer.drawPath(t),i)}function Yf(e,t,i){return Xf(e.renderer.drawPath(t),i)}function Zf(e,t,i){var o=document.getElementById("sparklinesmeasuretext");return null===o&&(o=K.createElement("text",{id:"sparklinesmeasuretext"}),document.body.appendChild(o)),o.innerText=e,o.style.fontStyle=t.fontStyle||i.fontStyle,o.style.fontFamily=t.fontFamily||i.fontFamily,o.style.visibility="hidden",o.style.top="-100",o.style.left="0",o.style.position="absolute",o.style.fontSize=t.size||i.size,o.style.fontWeight=t.fontWeight||i.fontWeight,o.style.whiteSpace="nowrap",o.style.lineHeight="normal",new Tf(o.clientWidth,o.clientHeight)}var qf=function(e,t,i,o,r,n,a){void 0===a&&(a=""),this.transform="",this.baseLine="auto",this.id=e,this.x=t,this.y=i,this.anchor=o,this.text=r,this.transform=a,this.baseLine=n};function Qf(e){e=document.getElementById(e);e&&K.remove(e)}function Kf(e){return document.getElementById(e)}function $f(e,t,i){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height}ev.prototype.processData=function(){var e=this.sparkline.dataSource;!K.isNullOrUndefined(e)&&e.length&&(isNaN(this.sparkline.dataSource[0])&&"Numeric"!==this.sparkline.valueType?this["process"+this.sparkline.valueType]():(e=this.sparkline.enableRtl?e.reverse():e,this.sparkline.sparklineData=e),this.axisCalculation())},ev.prototype.processDataManager=function(){var e,t,i=this;this.sparkline.dataSource instanceof R.DataManager?(e=this.sparkline.dataSource,t=this.sparkline.query instanceof R.Query?this.sparkline.query:new R.Query,e.executeQuery(t).then(function(e){i.sparkline.setProperties({dataSource:e.result},!0),i.sparkline.sparklineData=i.sparkline.dataSource,i.sparkline.processSparklineData()})):this.sparkline.processSparklineData()},ev.prototype.processCategory=function(e,i,o){var r=this,n=(void 0===e&&(e=this.sparkline.dataSource),void 0===i&&(i=this.sparkline.xName),void 0===o&&(o=this.sparkline.yName),[]),a=[];e.forEach(function(e){-1===a.indexOf(e[i])&&a.push(e[i]);var t={};t[r.sparkline.xName]=a.indexOf(e[i]),t[r.sparkline.yName]=e[o],n.push(t)}),this.sparkline.sparklineData=n},ev.prototype.processDateTime=function(e,i,o){void 0===e&&(e=this.sparkline.dataSource),void 0===i&&(i=this.sparkline.xName),void 0===o&&(o=this.sparkline.yName);var r=[];e.forEach(function(e){var t={};t[i]=e[i].getTime(),t[o]=e[o],r.push(t)}),this.sparkline.sparklineData=r},ev.prototype.renderSeries=function(){function e(e){if(o.visiblePoints&&!e.cancel){if("Pie"!==r.type&&"WinLoss"!==r.type&&r.rangeBandSettings.length){for(var t=o.sparkline.renderer.createGroup({id:o.sparkline.element.id+"_sparkline_rangeband_g"}),i=0;i<r.rangeBandSettings.length;i++)(r.axisSettings.minY<=r.rangeBandSettings[i].startRange||r.axisSettings.maxY>=r.rangeBandSettings[i].endRange)&&o.rangeBand(r.rangeBandSettings[i],t,i);o.sparkline.svgObject.appendChild(t)}o["render"+r.type](o.visiblePoints,e),o.renderMarker(o.visiblePoints),o.renderLabel(o.visiblePoints)}}var o=this,r=this.sparkline,t=(this.clipId=r.element.id+"_sparkline_clip_path",this.drawAxis(),{name:"seriesRendering",cancel:!1,lineWidth:r.lineWidth,border:r.border,fill:r.fill,sparkline:r});e.bind(this),r.trigger("seriesRendering",t,e)},ev.prototype.rangeBand=function(e,t,i){var o=this.sparkline,r=o.availableSize.height-2*o.padding.top,n=o.availableSize.width-2*o.padding.left,a=e.startRange,l=e.endRange,a=r-r/this.unitY*(a-this.min)+o.padding.top,l=r-r/this.unitY*(l-this.min)+o.padding.top,s=e.color||this.sparkline.sparkTheme.rangeBandColor,r=(l>r+o.padding.top?l=r+o.padding.top:l<0+o.padding.top&&(l=0+o.padding.top),a>r+o.padding.top?a=r+o.padding.top:a<0+o.padding.top&&(a=0+o.padding.top),"M "+o.padding.left+" "+a+" L "+(n+o.padding.left)+" "+a+" L "+(n+o.padding.left)+" "+l+" L "+o.padding.left+" "+l+" Z "),a={id:o.element.id+"_rangeBand_"+i,fill:s,opacity:e.opacity,stroke:"transparent","stroke-width":o.lineWidth,d:r,"stroke-dasharray":""};Yf(this.sparkline,a,t)},ev.prototype.renderLine=function(e,t){for(var i=this.sparkline,o=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"}),r=this.sparkline.fill,r="#00bdae"===this.sparkline.fill&&"Bootstrap4"===this.sparkline.theme?this.sparkline.sparkTheme.axisLineColor:r,t=new Nf(i.element.id+"_sparkline_line","transparent",t.lineWidth,r,i.opacity),n="",a=0,l=e.length;a<l;a++)0===a&&(n="M "+e[0].x+" "+e[a].y+" "),n+="L "+e[a].x+" "+e[a].y+" ";t.d=n,t["aria-label"]="Line series with"+e.length+"data points",Yf(this.sparkline,t,o),this.sparkline.svgObject.appendChild(o)},ev.prototype.renderPie=function(e,t){var i,o,r,n,a=this.sparkline,l=a.availableSize.height-(a.padding.top+a.padding.bottom),s=a.availableSize.width-(a.padding.left+a.padding.right),h=l<=s?l/2:s/2,c=a.availableSize.width/2,d=a.availableSize.height/2,p=0,u=t.border.color,g=a.opacity,m=t.border.width,y=a.palette.length?a.palette:_f(this.sparkline.theme),f=this.sparkline.renderer.createGroup({id:a.element.id+"_sparkline_g"}),l=K.extend([],[],e);(a.highPointColor||a.lowPointColor)&&(s=l.map(function(e){return e.yVal}),r=Math.min.apply(null,s),n=Math.max.apply(null,s)),this.negativePointIndexes=[];for(var v=0,b=90;v<e.length;v++){b+=p,p=360===(p=e[v].degree)?p-.001:p,i=(b-90)*Math.PI/180,o=(b+p-90)*Math.PI/180,e[v].stAng=i,e[v].endAng=o;var x=p<180?"0":"1",S=e[v].coordinates={sX:c+h*Math.cos(i),sY:d+h*Math.sin(i),eX:c+h*Math.cos(o),eY:d+h*Math.sin(o)},x={id:a.element.id+"_sparkline_pie_"+v,opacity:g,fill:y[v%y.length],stroke:u,"stroke-width":m,d:"M "+c+" "+d+" L "+S.eX+" "+S.eY+" A "+h+" "+h+" 0 "+x+",0 "+S.sX+" "+S.sY+" Z","stroke-dasharray":""},S=(this.getPieSpecialPoint(e[v],a,x,v,n,r,e.length),this.triggerPointRender("pointRendering",v,x.fill,{color:u,width:m})),x=(x.fill=S.fill,x.stroke=S.border.color,x["stroke-width"]=S.border.width,S.cancel||((S=Yf(this.sparkline,x,f)).setAttribute("role","img"),S.setAttribute("aria-label",a.dataSource[v][a.xName]+" : "+e[v].yVal),S.setAttribute("tabindex",0===v?"0":"-1")),o-i),S={x:c+h/2*Math.cos(i+x/2),y:d+h/2*Math.sin(i+x/2)};e[v].location.x=S.x,e[v].location.y=S.y}this.sparkline.svgObject.appendChild(f)},ev.prototype.getPieSpecialPoint=function(e,t,i,o,r,n,a){e.yVal<0&&t.negativePointColor&&(i.fill=t.negativePointColor,this.negativePointIndexes.push(o)),0===o&&t.startPointColor?(i.fill=t.startPointColor,this.startPointIndex=o):o===a-1&&t.endPointColor&&(i.fill=t.endPointColor,this.endPointIndex=o),e.yVal===r&&t.highPointColor?(i.fill=t.highPointColor,this.highPointIndex=o):e.yVal===n&&t.lowPointColor&&(i.fill=t.lowPointColor,this.lowPointIndex=o)},ev.prototype.renderArea=function(e,t){for(var i=this.sparkline,o=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"}),r=new Nf(i.element.id+"_sparkline_area",t.fill,0,"transparent",i.opacity),n="",a="",l=0,s=e.length;l<s;l++)0!==l?a+="L "+e[l].x+" "+e[l].y+" ":(n="M "+e[l].x+" "+this.axisHeight+" ",a="M "+e[l].x+" "+e[l].y+" "),n+="L "+e[l].x+" "+e[l].y+" ",l===s-1&&(n+="L "+e[l].x+" "+this.axisHeight+" Z");r.d=n,r["aria-label"]="Area series with"+e.length+"data points",Yf(this.sparkline,r,o),r=new Nf(i.element.id+"_sparkline_area_str","transparent",t.border.width,t.border.color,i.opacity,"",a),Yf(this.sparkline,r,o),this.sparkline.svgObject.appendChild(o)},ev.prototype.renderColumn=function(o,e){for(var r,n,a,l=this,s=this.sparkline,t=K.extend([],[],o),h=this.sparkline.renderer.createGroup({id:s.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"}),c=((this.sparkline.highPointColor||this.sparkline.lowPointColor)&&(t=t.map(function(e){return e.markerPosition}),r=Math.min.apply(null,t),n=Math.max.apply(null,t)),s.element.id+"_sparkline_column_"),d=new Vf(c,"",e.border,s.opacity,null),p=o.length,u=(this.negativePointIndexes=[],s.palette.length?s.palette:_f(this.sparkline.theme)),g=this,i=0;i<p;i++)!function(t){a=o[t],d.id=c+t,d.fill="#00bdae"!==s.fill?s.fill:u[0],d.rect=new Bf(a.x,a.y,a.width,a.height),g.getSpecialPoint(!0,a,s,d,t,r,n,p),a.location.y=a.markerPosition<=g.axisHeight?a.y:a.y+a.height,a.location.x=a.x+a.width/2,d.stroke=e.border.color||d.fill;var i={name:"pointRendering",cancel:!1,pointIndex:t,fill:d.fill,border:{color:d.stroke,width:e.border.width}};g.sparkline.trigger("pointRendering",i,function(){var e;a=o[t],d.id=c+t,d.rect=new Bf(a.x,a.y,a.width,a.height),l.getSpecialPoint(!0,a,s,d,t,r,n,p),d.fill=i.fill,d.stroke=i.border.color,a.location.y=a.markerPosition<=l.axisHeight?a.y:a.y+a.height,d["stroke-width"]=i.border.width,a.location.x=a.x+a.width/2,i.cancel||((e=Gf(s,d,h)).setAttribute("role","img"),e.setAttribute("aria-label",s.dataSource[t][s.xName]+" : "+o[t].yVal),e.setAttribute("tabindex",0===t?"0":"-1"),h.appendChild(e))})}(i);this.sparkline.svgObject.appendChild(h)},ev.prototype.renderWinLoss=function(e,t){for(var i=this.sparkline,o=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"}),r=i.element.id+"_sparkline_winloss_",n=new Vf(r,"",t.border,i.opacity,null),a=e.length,l=i.palette.length,s=i.palette.length?i.palette:_f(this.sparkline.theme),h=0;h<a;h++){c=e[h],n.id=r+h,n.fill=l?i.palette[h%l]:c.yVal===this.axisValue?this.sparkline.tiePointColor||"#a216f3":c.yVal>this.axisValue?t.fill||s[h%s.length]:i.negativePointColor||"#e20f07",n.stroke=t.border.color||n.fill,n.rect=new Bf(c.x,c.y,c.width,c.height),c.location.x=c.x+c.width/2,c.location.y=c.yVal>=this.axisValue?c.y:c.y+c.height;var c=this.triggerPointRender("pointRendering",h,n.fill,{color:n.stroke,width:t.border.width});n.fill=c.fill,n.stroke=c.border.color,n["stroke-width"]=c.border.width,c.cancel||((c=Gf(i,n,o)).setAttribute("role","img"),c.setAttribute("aria-label",i.dataSource[h][i.xName]+" : "+e[h].yVal),c.setAttribute("tabindex",0===h?"0":"-1"))}this.sparkline.svgObject.appendChild(o)},ev.prototype.renderMarker=function(r){var n=this,a=this.sparkline,l=a.markerSettings;if("Pie"!==a.type&&"WinLoss"!==a.type&&l.visible.length){for(var s,h,c,e=K.extend([],[],r),d=this.sparkline.renderer.createGroup({id:a.element.id+"_sparkline_marker_g","clip-path":"url(#"+this.clipId+")"}),p=a.element.id+"_sparkline_marker_",u=new Wf("",l.fill,l.border,l.opacity,0,0,l.size/2,""),g=l.visible.join(),t=((-1<g.toLowerCase().indexOf("high")||-1<g.toLowerCase().indexOf("low"))&&(e=e.map(function(e){return e.markerPosition}),h=Math.min.apply(null,e),c=Math.max.apply(null,e)),this.negativePointIndexes=[],function(t,e){s=r[t],u.id=p+t,u.cx=s.location.x,u.cy=s.location.y,u.fill=l.fill;var i=-1<g.toLowerCase().indexOf("all"),i=m.getSpecialPoint(i,s,a,u,t,h,c,e,g.toLowerCase()),o=(u.stroke=l.border.color||u.fill,{name:"markerRendering",cancel:!1,border:{color:u.stroke,width:l.border.width},fill:u.fill,pointIndex:t,sparkline:m.sparkline,x:u.cx,y:u.cy,size:l.size});m.sparkline.trigger("markerRendering",o,function(){var e;i&&!o.cancel&&(u.id=p+t,u.cx=o.x,u.cy=o.y,u.fill=o.fill,u.stroke=o.border.color,u["stroke-width"]=o.border.width,u.r=o.size/2,e=d,(e=Xf(a.renderer.drawCircle(u),e)).setAttribute("role","img"),e.setAttribute("aria-label",a.dataSource[t][a.xName]+" : "+r[t].yVal),(-1<n.sparkline.type.indexOf("Line")||-1<n.sparkline.type.indexOf("Area"))&&e.setAttribute("tabindex",0===t?"0":"-1"),d.appendChild(e))})}),m=this,i=0,o=r.length;i<o;i++)t(i,o);this.sparkline.svgObject.appendChild(d)}},ev.prototype.getSpecialPoint=function(e,t,i,o,r,n,a,l,s){return void 0===s&&(s=""),t.markerPosition>this.axisHeight&&(o.fill=i.negativePointColor||o.fill,this.negativePointIndexes.push(r),e=e||-1<s.indexOf("negative")),0===r?(o.fill=i.startPointColor||o.fill,this.startPointIndex=r,e=e||-1<s.indexOf("start")):r===l-1&&(o.fill=i.endPointColor||o.fill,this.endPointIndex=r,e=e||-1<s.indexOf("end")),t.markerPosition===n?(o.fill=i.highPointColor||o.fill,this.highPointIndex=r,e=e||-1<s.indexOf("high")):t.markerPosition===a&&(o.fill=i.lowPointColor||o.fill,this.lowPointIndex=r,e=e||-1<s.indexOf("low")),e=-1<s.indexOf("none")?!1:e},ev.prototype.renderLabel=function(e){var s=this,h=this.sparkline,c=h.dataLabelSettings,t=c.textStyle.color||h.sparkTheme.dataLabelColor;if("WinLoss"!==h.type&&c.visible.length){for(var d,p,i=K.extend([],[],e),u=h.element.id+"_sparkline_label_",g=this.sparkline.renderer.createGroup({id:h.element.id+"_sparkline_label_g",style:"pointer-events: none;"}),o=(g.setAttribute("aria-hidden","true"),u+"text_"),m=u+"rect_",y=new qf("",0,0,"middle","","middle"),f=c.textStyle,i=i.map(function(e){return e.markerPosition}),v=Math.min.apply(null,i),b=Math.max.apply(null,i),r=1,x="transparent"!==c.fill||c.border.width?2:0,S=Zf("sparkline_measure_text",f,this.sparkline.sparkTheme.dataLabelFont),C=new Vf("",c.fill,c.border,c.opacity,null),n=function(n,a){d=e[n],y.id=o+n,y.x=d.location.x+c.offset.x,y.y=("Pie"===h.type?d.location.y:d.markerPosition>w.axisHeight?d.location.y+S.height/2+r+2+x:d.location.y-S.height/2-r-x)+c.offset.y,y.text=""!==c.format?w.formatter(c.format,w.sparkline.dataSource[n]):d.yVal.toString();var l={name:"dataLabelRendering",cancel:!1,border:c.border,fill:c.fill,pointIndex:n,sparkline:w.sparkline,x:y.x,y:y.y,text:y.text,color:t};w.sparkline.trigger("dataLabelRendering",l,function(){S=Zf(l.text,f,s.sparkline.sparkTheme.dataLabelFont),y.text=l.text;var e,t,i,o,r=-1<c.visible.join().toLowerCase().indexOf("all"),r=s.getLabelVisible(r,d,n,c,a,v,b);p=s.arrangeLabelPosition(c.edgeLabelMode,r,l.x,n,a,S,x),r&&!l.cancel&&p.render&&(C.id=m+n,C.fill=l.fill,C.stroke=l.border.color,C["stroke-width"]=l.border.width,y.y=l.y,y.x=p.x,C.rect=new Bf(y.x-(S.width/2+x),y.y-x-S.height/1.75,S.width+2*x,S.height+2*x),p=s.sparkline.renderer.createGroup({id:u+"g"+n}),Gf(h,C,p),r=y,e=f,t=l.color,i=p,o=s.sparkline.sparkTheme.dataLabelFont,t={id:r.id,x:r.x,y:r.y,transform:r.transform,opacity:e.opacity,fill:t,"font-family":e.fontFamily||o.fontFamily,"font-weight":e.fontWeight||o.fontWeight,"font-size":e.size||o.size,"font-style":e.fontStyle||o.fontStyle,"text-anchor":r.anchor,"dominant-baseline":r.baseLine},(e=new $.SvgRenderer("").createText(t,r.text)).style["user-select"]="none",e.style["-moz-user-select"]="none",e.style["-webkit-touch-callout"]="none",e.style["-webkit-user-select"]="none",e.style["-khtml-user-select"]="none",e.style["-ms-user-select"]="none",e.style["-o-user-select"]="none",i.appendChild(e),g.appendChild(p))})},w=this,a=0,l=e.length;a<l;a++)n(a,l);this.sparkline.svgObject.appendChild(g)}},ev.prototype.arrangeLabelPosition=function(e,t,i,o,r,n,a){return"None"!==e&&(0===o&&i-n.width/2-a<=0?"Hide"===e?t=!1:i=this.sparkline.padding.left+a+n.width/2:o===r-1&&i+n.width/2+a>=this.sparkline.availableSize.width&&("Hide"===e?t=!1:i-=n.width/2+a)),{x:i,render:t}},ev.prototype.getLabelVisible=function(e,t,i,o,r,n,a){var l=o.visible.join().toLowerCase();return t.markerPosition>this.axisHeight&&(e=e||-1<l.indexOf("negative")),0===i?e=e||-1<l.indexOf("start"):i===r-1&&(e=e||-1<l.indexOf("end")),t.markerPosition===n?e=e||-1<l.indexOf("high"):t.markerPosition===a&&(e=e||-1<l.indexOf("low")),e=-1<o.visible.join().toLowerCase().indexOf("none")?!1:e},ev.prototype.formatter=function(e,t){if(K.isNullOrUndefined(e))return null;for(var i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];e=e.split("${"+r+"}").join(t[r])}return e},ev.prototype.axisCalculation=function(){this.findRanges(this.sparkline.sparklineData)},ev.prototype.getInterval=function(e,i){var t,o=1,r=e[0][i],n=K.isNullOrUndefined(e[1])?void 0:e[1][i];return K.isNullOrUndefined(r)||K.isNullOrUndefined(n)||(r=K.extend([],e),t=[],r.forEach(function(e){K.isNullOrUndefined(e[i])||t.push(e)}),t.sort(function(e,t){return K.isNullOrUndefined(e[i])||K.isNullOrUndefined(t[i])?0:e[i]-t[i]}),o=(t=this.sparkline.enableRtl?t.reverse():t)[1][i]-t[0][i]),o},ev.prototype.getPaddingInterval=function(e,t,i,o){for(var r=this.sparkline.availableSize.height,n=+e.length,a=o/(n=Math.max(r*(n/100),1)),l=0,s=this.sparkline.intervalDivs;l<s.length;l++){var h=+s[l];if(n<o/h)break;a=h}return a},ev.prototype.findRanges=function(e){var t,i,o,r,n,a,l=this.sparkline,s=e.length,h=0,c=Array.isArray(e)&&"object"!=typeof e[0];if(c)if("Pie"===l.type)for(var d=0;d<s;d++)h+=Math.abs(e[d]);else o=Math.max.apply(null,e),r=Math.min.apply(null,e),t=0,i=s-1;else if("Pie"===l.type)for(d=0;d<s;d++)h+=Math.abs(e[d][l.yName]);else r=K.isNullOrUndefined(e[0][l.xName])?(m=e.map(function(e){return e[l.yName]}),o=Math.max.apply(null,m),Math.min.apply(null,m)):(o=(f=(f=K.extend([],e)).sort(function(e,t){return e[l.yName]-t[l.yName]}))[f.length-1][l.yName],f[0][l.yName]),K.isNullOrUndefined(e[0][l.xName])?(t=0,i=s-1):(f=f.sort(function(e,t){return e[l.xName]-t[l.xName]}),i=(f=this.sparkline.enableRtl?f.reverse():f)[f.length-1][l.xName],t=f[0][l.xName]);var p,u=0,g=l.padding,m=l.axisSettings,y=m.value;if("Pie"!==l.type){this.maxLength=s,n=l.availableSize.height-(g.bottom+g.top),a=l.availableSize.width-(g.left+g.right),i=K.isNullOrUndefined(m.maxX)?i:m.maxX,t=K.isNullOrUndefined(m.minX)?t:m.minX,o=K.isNullOrUndefined(m.maxY)?o:m.maxY,r=K.isNullOrUndefined(m.minY)?r:m.minY;var f=m.lineSettings.color||this.sparkline.sparkTheme.axisLineColor,f={name:"axisRendering",cancel:!1,sparkline:l,maxX:i,minX:t,maxY:o,minY:r,value:m.value,lineColor:f,lineWidth:m.lineSettings.width};if(l.trigger("axisRendering",f),f.cancel)return void(this.visiblePoints=[]);i=f.maxX,t=f.minX,o=f.maxY,r=f.minY,y=this.axisValue=f.value,this.axisColor=f.lineColor,this.axisWidth=f.lineWidth}var v,b=i-t,x=0==(x=o-r)?1:x;this.unitX=0==b?1:b,p=n-n/(this.unitY=x)*-(this.min=r),p=r<(u=0)&&o<=0?0:r<0&&0<o?p:n,r<=y&&y<=o&&(p=n-Math.round(n*((y-r)/this.unitY))),this.axisHeight=p+g.top;for(var S=[],m=o-r,C=this.getInterval(e,l.xName),w=this.getPaddingInterval(e,l.xName,l.valueType,m),d=0;d<s;d++){var F,L,P,A,M=K.isNullOrUndefined(e[d][l.xName])&&K.isNullOrUndefined(e[d][l.yName])&&0!==e[d][l.yName]&&c?e[v=d]:(K.isNullOrUndefined(e[d][l.xName])?e[v=d]:(v=e[d][l.xName],e[d]))[l.yName];K.isNullOrUndefined(v)||K.isNullOrUndefined(M)||("Line"===l.type||"Area"===l.type?(L=r!==o&&1!==s?n-Math.round(n*((M-r)/this.unitY)):g.top,P={x:t!==i?Math.round(a*((v-t)/this.unitX)):a/2,y:L,markerPosition:L}):"Column"===l.type||"WinLoss"===l.type?(F=a/((i-t)/C+1),u=(v-t)/C*(1+--F)+.5,P="WinLoss"===l.type?{x:u,y:L=y<M?n/4:M<y?.5*n:.5*n-n/40,height:M!==y?n/4:n/20,width:F,markerPosition:p<L?p+Math.abs(L-p):L}:(0===d&&"None"!==l.rangePadding&&(r-="Additional"===l.rangePadding?w+g.top:w,x=0==(x=(o+="Additional"===l.rangePadding?w+g.top:w)-r)?1:x,this.unitX=0==(b=i-t)?1:b,this.unitY=x,this.min=r),A=n/this.unitY*(M-r),A=M===r&&y<M?1!==s&&1!==this.unitY?n/this.unitY*(r/2):1|A:M===o&&M<y&&1!==s&&1!==this.unitY?n/this.unitY*(-o/2):A,{x:u,y:p<(L=Math.abs(n-A))?p:L,height:Math.abs(L-p),width:F,markerPosition:p<L?p+Math.abs(L-p):L})):"Pie"===l.type&&(P={percent:Math.abs(M)/h*100,degree:Math.abs(M)/h*360}),"Pie"!==l.type&&(P.x+=g.left,P.y+=g.top),"WinLoss"!==l.type&&(P.markerPosition+=g.top),P.location={x:P.x,y:P.y},P.xVal=v,P.yVal=M,S.push(P))}S.sort(function(e,t){return e.x-t.x}),this.visiblePoints=S},ev.prototype.drawAxis=function(){var e=this.sparkline,t=this.axisHeight;"WinLoss"!==e.type&&"Pie"!==e.type&&e.axisSettings.lineSettings.visible&&(t={id:e.element.id+"_Sparkline_XAxis",x1:e.padding.left,y1:t,x2:e.availableSize.width-e.padding.right,y2:t,stroke:this.axisColor,opacity:e.axisSettings.lineSettings.opacity,"stroke-dasharray":e.axisSettings.lineSettings.dashArray,"stroke-width":this.axisWidth,"clip-path":"url(#"+this.clipId+")"},e.svgObject.appendChild(e.renderer.drawLine(t)))},ev.prototype.triggerPointRender=function(e,t,i,o){o={name:e,cancel:!1,border:o,fill:i,sparkline:this.sparkline,pointIndex:t};return this.sparkline.trigger(e,o),o};var Jf=ev;function ev(e){this.sparkline=e}tv=function(e,t){return(tv=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var tv,iv,x=function(e,t){function i(){this.constructor=e}tv(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},ov=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},x=(iv=K.Component,x(S,iv),S.prototype.preRender=function(){this.allowServerDataBinding=!1,this.unWireEvents(),this.trigger("load",{sparkline:this}),this.sparkTheme=Ef(this.theme),this.sparklineRenderer=new Jf(this),this.setTheme(),this.createSVG(),this.wireEvents(),this.setCulture()},S.prototype.render=function(){this.sparklineRenderer.processDataManager(),this.renderComplete(),this.allowServerDataBinding=!0},S.prototype.processSparklineData=function(){this.sparklineRenderer.processData(),this.renderSparkline(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition(),this.trigger("loaded",{sparkline:this})},S.prototype.renderSparkline=function(){this.renderBorder(),this.createDiv(),this.sparklineRenderer.renderSeries()},S.prototype.createDiv=function(){var e=document.createElement("div");e.id=this.element.id+"_Secondary_Element",e.style.position="relative",this.element.appendChild(e),this.element.setAttribute("tabindex","0"),this.element.style.display="block",this.element.style.position="relative"},S.prototype.setSecondaryElementPosition=function(){var e,t,i=Kf(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=Kf(this.element.id+"_svg").getBoundingClientRect(),i.style.left=Math.max(t.left-e.left,0)+"px",i.style.top=Math.max(t.top-e.top,0)+"px")},S.prototype.renderBorder=function(){var e,t=this.containerArea.border.width,t=((0<t||"transparent"!==this.containerArea.background)&&(e=new Vf(this.element.id+"_SparklineBorder",this.sparkTheme.background,this.containerArea.border,1,new Bf(t/2,t/2,this.availableSize.width-t,this.availableSize.height-t)),this.svgObject.appendChild(Gf(this,e))),this.padding),t=(this.markerSettings.visible.length&&(t.left=0,t.right=0,t.bottom=0,t.top=0),e=new Vf(this.element.id+"_sparkline_clip_rect","transparent",{color:"transparent",width:0},1,new Bf(t.left,t.top,this.availableSize.width-(t.left+t.right),this.availableSize.height-(t.top+t.bottom))),this.renderer.createClipPath({id:this.element.id+"_sparkline_clip_path"}));Gf(this,e,t),this.svgObject.appendChild(t)},S.prototype.createSVG=function(){this.removeSvg(),Of(this)},S.prototype.removeSvg=function(){if(this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&K.remove(this.svgObject)}Qf(this.element.id+"_Secondary_Element"),this.sparklineTooltipModule&&this.sparklineTooltipModule.removeTooltipElements()},S.prototype.setCulture=function(){this.intl=new K.Internationalization,this.localeObject=new K.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale)},S.prototype.setTheme=function(){var e;this.sparkTheme=Ef(this.theme),document.getElementById(this.element.id+"Keyboard_sparkline_focus")||((e=document.createElement("style")).setAttribute("id",this.element.id+"Keyboard_sparkline_focus"),e.innerText=".e-sparkline-focused:focus,div[id*=container]:focus, path[id*=_sparkline_]:focus, circle[id*=_sparkline_]:focus {outline: none } .e-sparkline-focused:focus-visible,div[id*=container]:focus-visible, path[id*=_sparkline_]:focus-visible, circle[id*=_sparkline_]:focus-visible {outline: 1.5px "+this.sparkTheme.tabColor+" solid}",document.body.appendChild(e))},S.prototype.requiredModules=function(){var e=[];return(this.tooltipSettings.visible||this.tooltipSettings.trackLineSettings.visible)&&e.push({member:"SparklineTooltip",args:[this]}),e},S.prototype.unWireEvents=function(){var e=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,K.Browser.touchMoveEvent,this.sparklineMove),K.EventHandler.remove(this.element,e,this.sparklineMouseLeave),K.EventHandler.remove(this.element,K.Browser.touchEndEvent,this.sparklineMouseEnd),K.EventHandler.remove(this.element,"keyup",this.chartKeyUp),K.EventHandler.remove(this.element,"keydown",this.chartKeyDown),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.sparklineResize)},S.prototype.wireEvents=function(){var e=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.sparklineMove,this),K.EventHandler.add(this.element,"click",this.sparklineClick,this),K.EventHandler.add(this.element,e,this.sparklineMouseLeave,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.sparklineMouseEnd,this),K.EventHandler.add(this.element,"keyup",this.chartKeyUp,this),K.EventHandler.add(this.element,"keydown",this.chartKeyDown,this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.sparklineResize.bind(this)),new K.Touch(this.element)},S.prototype.sparklineResize=function(){var e=this,t={name:"resize",previousSize:this.availableSize,sparkline:this,currentSize:new Tf(0,0)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(e.unWireEvents(),e.createSVG(),e.refreshing=!0,e.wireEvents(),t.currentSize=e.availableSize,e.trigger("resize",t),e.render(),e.refreshing=!1)},500),!1},S.prototype.sparklineMove=function(e){this.setSparklineMouseXY(e),this.notify(K.Browser.touchMoveEvent,e);var t={name:"sparklineMouseMove",cancel:!1,sparkline:this,event:e},t=(this.trigger(t.name,t),this.isPointRegion(e));return t.isPointRegion&&(e={name:"pointRegionMouseMove",cancel:!1,event:e,sparkline:this,pointIndex:t.pointIndex},this.trigger(e.name,e)),!1},S.prototype.sparklineClick=function(e){this.setSparklineMouseXY(e);var t={name:"sparklineMouseClick",cancel:!1,sparkline:this,event:e},t=(this.trigger(t.name,t),this.isPointRegion(e));return t.isPointRegion&&(e={name:"pointRegionMouseClick",cancel:!1,event:e,sparkline:this,pointIndex:t.pointIndex},this.trigger(e.name,e)),!1},S.prototype.isPointRegion=function(e){var i,o=this,t=this.element.id+"_",e=e.target.id.replace(t,"").split("_");return e[1]===this.type.toLowerCase()?(i=parseInt(e[2],10),!K.isNullOrUndefined(i)&&!isNaN(i)||"Line"!==this.type&&"Area"!==this.type||this.sparklineRenderer.visiblePoints.forEach(function(e,t){$f(o.mouseX,o.mouseY,new Bf(e.x-5,e.y-5,10,10))&&(i=t)}),{isPointRegion:!0,pointIndex:i}):{isPointRegion:!1,pointIndex:null}},S.prototype.sparklineMouseEnd=function(e){return this.setSparklineMouseXY(e),this.notify(K.Browser.touchEndEvent,e),!1},S.prototype.sparklineMouseLeave=function(e){return this.setSparklineMouseXY(e),this.notify(K.Browser.isPointer?"pointerleave":"mouseleave",e),!1},S.prototype.chartKeyDown=function(e){var t="";return""!==(t=this.tooltipSettings.visible&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("_sparkline_")||"Escape"===e.code)?"ESC":t)&&this.sparklineKeyboardNavigations(e,e.target.id,t),!1},S.prototype.chartKeyUp=function(e){var t,i,o="",r=e.target.id,n=e.target,a=J(this.element.id+"_sparkline_g");return a&&a.firstElementChild&&((t=(a=a.firstElementChild).getAttribute("class"))&&-1===t.indexOf("e-sparkline-focused")?t+=" e-sparkline-focused":t=t||"e-sparkline-focused",a.setAttribute("class",t)),"Tab"===e.code?(""!==this.previousTargetId&&-1<this.previousTargetId.indexOf("_sparkline_")&&-1===r.indexOf("_sparkline_")&&(i=J(this.element.id+"_sparkline_g"),this.setTabIndex(i.children[this.currentPointIndex],i.firstElementChild)),this.previousTargetId=r,o=this.tooltipSettings.visible?"Tab":""):-1<e.code.indexOf("Arrow")&&(e.preventDefault(),-1<(this.previousTargetId=r).indexOf("_sparkline_"))&&(i=n.parentElement,a=e.target,n.removeAttribute("tabindex"),n.blur(),"ArrowUp"!==e.code&&"ArrowDown"!==e.code||(this.currentPointIndex+="ArrowUp"===e.code?1:-1),-1<r.indexOf("_marker")?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"_sparkline_marker_g").childElementCount),a=J(this.element.id+"_sparkline_marker_"+this.currentPointIndex)):-1<r.indexOf("_column")?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"_sparkline_g").childElementCount),a=J(this.element.id+"_sparkline_column_"+this.currentPointIndex)):-1<r.indexOf("_winloss")?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"_sparkline_g").childElementCount),a=J(this.element.id+"_sparkline_winloss_"+this.currentPointIndex)):-1<r.indexOf("_pie")&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,J(this.element.id+"_sparkline_g").childElementCount),a=J(this.element.id+"_sparkline_pie_"+this.currentPointIndex)),r=this.focusChild(a),o=this.tooltipSettings.visible?"ArrowMove":""),""!==o&&this.sparklineKeyboardNavigations(e,r,o),!1},S.prototype.sparklineKeyboardNavigations=function(e,t,i){switch(i){case"Tab":case"ArrowMove":var o;-1<t.indexOf("_sparkline_")&&(o=void 0,o=-1<this.type.indexOf("Line")||-1<this.type.indexOf("Area")?+t.split("_sparkline_")[1].split("marker_")[1]:-1<this.type.indexOf("WinLoss")?+t.split("_sparkline_")[1].split("winloss_")[1]:-1<this.type.indexOf("Pie")?+t.split("_sparkline_")[1].split("pie_")[1]:+t.split("_sparkline_")[1].split("column_")[1],this.sparklineTooltipModule)&&this.sparklineTooltipModule.renderTooltip(this.sparklineRenderer.visiblePoints[o]);break;case"ESC":this.sparklineTooltipModule.removeTooltipElements()}},S.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},S.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},S.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-sparkline-focused")?"e-sparkline-focused "+t:t||"e-sparkline-focused",e.setAttribute("class",t),e.focus(),e.id},S.prototype.setSparklineMouseXY=function(e){-1<e.type.indexOf("touch")?(this.isTouch=!0,t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,i=e.clientY,t=e.clientX);var t,i,e=this.element.getBoundingClientRect(),o=Kf(this.element.id+"_svg").getBoundingClientRect();this.mouseY=i-e.top-Math.max(o.top-e.top,0),this.mouseX=t-e.left-Math.max(o.left-e.left,0)},S.prototype.onPropertyChanged=function(e){for(var t=!1,i=!1,o=0,r=Object.keys(e);o<r.length;o++)switch(r[o]){case"xName":case"yName":case"axisSettings":case"rangeBandSettings":case"type":case"valueType":case"enableRtl":case"dataSource":i=!0;break;case"border":case"markerSettings":case"dataLabelSettings":case"tooltipSettings":case"startPointColor":case"highPointColor":case"lowPointColor":case"endPointColor":case"negativePointColor":case"theme":t=!0}i?(this.createSVG(),this.sparklineRenderer.processData(),this.refreshSparkline()):t&&(this.createSVG(),this.refreshSparkline())},S.prototype.refreshSparkline=function(){this.renderSparkline(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition()},S.prototype.getModuleName=function(){return"sparkline"},S.prototype.destroy=function(){this.sparklineData=[];var e=document.getElementById(this.element.id+"Keyboard_sparkline_focus");e&&e.remove(),Qf("sparklinesmeasuretext"),this.element&&(this.unWireEvents(),iv.prototype.destroy.call(this),this.removeSvg(),this.svgObject=null)},S.prototype.getPersistData=function(){return""},ov([K.Property(null)],S.prototype,"width",void 0),ov([K.Property(null)],S.prototype,"height",void 0),ov([K.Complex({},Qy)],S.prototype,"border",void 0),ov([K.Property("Line")],S.prototype,"type",void 0),ov([K.Property("None")],S.prototype,"rangePadding",void 0),ov([K.Property(null)],S.prototype,"dataSource",void 0),ov([K.Property(null)],S.prototype,"query",void 0),ov([K.Property("Numeric")],S.prototype,"valueType",void 0),ov([K.Property(null)],S.prototype,"xName",void 0),ov([K.Property(null)],S.prototype,"yName",void 0),ov([K.Property("#00bdae")],S.prototype,"fill",void 0),ov([K.Property("")],S.prototype,"highPointColor",void 0),ov([K.Property("")],S.prototype,"lowPointColor",void 0),ov([K.Property("")],S.prototype,"startPointColor",void 0),ov([K.Property("")],S.prototype,"endPointColor",void 0),ov([K.Property("")],S.prototype,"negativePointColor",void 0),ov([K.Property("")],S.prototype,"tiePointColor",void 0),ov([K.Property([])],S.prototype,"palette",void 0),ov([K.Property(1)],S.prototype,"lineWidth",void 0),ov([K.Property(1)],S.prototype,"opacity",void 0),ov([K.Property(null)],S.prototype,"format",void 0),ov([K.Property(!1)],S.prototype,"useGroupingSeparator",void 0),ov([K.Complex({},af)],S.prototype,"tooltipSettings",void 0),ov([K.Complex({},hf)],S.prototype,"containerArea",void 0),ov([K.Collection([],mf)],S.prototype,"rangeBandSettings",void 0),ov([K.Complex({},vf)],S.prototype,"axisSettings",void 0),ov([K.Complex({},Ff)],S.prototype,"markerSettings",void 0),ov([K.Complex({},qy)],S.prototype,"dataLabelSettings",void 0),ov([K.Complex({},Sf)],S.prototype,"padding",void 0),ov([K.Property("Material")],S.prototype,"theme",void 0),ov([K.Event()],S.prototype,"loaded",void 0),ov([K.Event()],S.prototype,"load",void 0),ov([K.Event()],S.prototype,"tooltipInitialize",void 0),ov([K.Event()],S.prototype,"seriesRendering",void 0),ov([K.Event()],S.prototype,"axisRendering",void 0),ov([K.Event()],S.prototype,"pointRendering",void 0),ov([K.Event()],S.prototype,"pointRegionMouseMove",void 0),ov([K.Event()],S.prototype,"pointRegionMouseClick",void 0),ov([K.Event()],S.prototype,"sparklineMouseMove",void 0),ov([K.Event()],S.prototype,"sparklineMouseClick",void 0),ov([K.Event()],S.prototype,"dataLabelRendering",void 0),ov([K.Event()],S.prototype,"markerRendering",void 0),ov([K.Event()],S.prototype,"resize",void 0),ov([K.NotifyPropertyChanges],S));function S(e,t){e=iv.call(this,e,t)||this;return e.isDevice=K.Browser.isDevice,e.intervalDivs=[10,5,2,1],e.previousTargetId="",e.currentPointIndex=0,e}var rv=function(e,t){var i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(i[r[o]]=e[r[o]]);return i},ov=(nv.prototype.addEventListener=function(){this.sparkline.isDestroyed||(this.sparkline.on(K.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.sparkline.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.sparkline.on(K.Browser.touchEndEvent,this.mouseUpHandler,this))},nv.prototype.mouseLeaveHandler=function(){this.removeTooltipElements()},nv.prototype.mouseUpHandler=function(e){this.sparkline.isTouch&&(this.processTooltip(e),this.fadeOut())},nv.prototype.fadeOut=function(){clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(this.removeTooltipElements.bind(this),5e3)},nv.prototype.removeTooltipElements=function(){this.removeTooltip(),this.removeTracker()},nv.prototype.mouseMoveHandler=function(e){this.processTooltip(e)},nv.prototype.processTooltip=function(e){var t=this.sparkline,i=t.sparklineRenderer.visiblePoints,o=t.mouseX,r=t.mouseY;if("Pie"!==t.type)for(var n,a=K.extend([],[],i).map(function(e){return e.location.x}),l=1/0,s=0,h=a.length;s<h;s++)(n=Math.abs(o-a[s]))<l&&(l=n,c=s);else var e=e.target.id,c=parseInt(e.split("_pie_")[1],10);isNaN(c)||!$f(o,r,new Bf(0,0,t.availableSize.width,t.availableSize.height))?(this.removeTracker(),this.removeTooltip()):this.pointIndex!==c&&(this.pointIndex=c,this.renderTrackerLine(i[c]),this.renderTooltip(i[c]))},nv.prototype.renderTrackerLine=function(e){var t,i,o,r=this.sparkline,n=r.tooltipSettings.trackLineSettings,a=r.sparkTheme.trackerLineColor||n.color;n.visible&&"Pie"!==r.type&&(t=Kf(r.element.id+"_sparkline_tracker_g"),K.isNullOrUndefined(t)&&(t=r.renderer.createGroup({id:r.element.id+"_sparkline_tracker_g"}),r.svgObject.appendChild(t)),i=Kf(r.element.id+"_sparkline_tracker"),e="M "+e.location.x+" "+r.padding.top+" L "+e.location.x+" "+(r.availableSize.height-r.padding.bottom),K.isNullOrUndefined(i)?((o=new Nf(r.element.id+"_sparkline_tracker",a,n.width,a,1)).d=e,Yf(r,o,t)):(i.setAttribute("d",e),i.setAttribute("stroke-width",n.width.toString()),i.setAttribute("stroke",a)))},nv.prototype.renderTooltip=function(e){var t,i,o,r,n,a=this,l=this.sparkline,s=l.tooltipSettings;s.visible&&(t=Kf(l.element.id+"_sparkline_tooltip_div"),K.isNullOrUndefined(t)&&(t=K.createElement("div",{id:l.element.id+"_sparkline_tooltip_div",styles:"pointer-events: none; position: absolute;z-index:1;"}),Kf(l.element.id+"_Secondary_Element").appendChild(t)),i=e.xVal.toString(),"Category"===l.valueType?i=l.dataSource[e.xVal][l.xName]:"DateTime"===l.valueType&&(i=new Date(e.xVal).toDateString()),i=this.getFormat(l.tooltipSettings.format,l,i,this.formatValue(e.yVal,l).toString()),o={x:e.location.x,y:e.location.y},o="Pie"===l.type?{x:e.location.x,y:e.location.y}:o,e=s.textStyle.color||l.sparkTheme.tooltipFontColor,r=""===s.fill?l.sparkTheme.tooltipFill:s.fill,n={name:"tooltipInitialize",cancel:!1,text:i,textStyle:{size:s.textStyle.size,opacity:l.sparkTheme.tooltipTextOpacity||s.textStyle.opacity,fontWeight:s.textStyle.fontWeight,fontStyle:s.textStyle.fontStyle,fontFamily:s.textStyle.fontFamily||l.sparkTheme.tooltipFontFamily,color:e}},l.trigger("tooltipInitialize",n,function(){a.addTooltip(n,l,r,s,o,t)}))},nv.prototype.addTooltip=function(e,t,i,o,r,n,a){a=K.isNullOrUndefined(e)?(a.cancel,a):(e.cancel,rv(e,["cancel"]),e),e.cancel||((e=new $.Tooltip({content:a.text,border:o.border,template:o.template,data:t.dataSource[this.pointIndex],fill:i,textStyle:a.textStyle,enableAnimation:!1,location:{x:r.x,y:r.y},shared:!1,availableSize:this.sparkline.availableSize,areaBounds:new Bf(0,0,t.availableSize.width,t.availableSize.height),theme:t.theme})).opacity=t.sparkTheme.tooltipFillOpacity||e.opacity,e.appendTo(n))},nv.prototype.getFormat=function(e,t,i,o){return K.isNullOrUndefined(e)||""===e?[o]:[e.split("${"+t.xName+"}").join(i).split("${"+t.yName+"}").join(o)]},nv.prototype.formatValue=function(e,t){t=t.format&&!isNaN(Number(e))?t.intl.getNumberFormat({format:t.format,useGrouping:t.useGroupingSeparator})(e):e;return t},nv.prototype.removeTracker=function(){var e=this.sparkline.element.querySelector("#"+this.sparkline.element.id+"_sparkline_tracker_g");return e?K.remove(e):null},nv.prototype.removeTooltip=function(){this.pointIndex=null;var e=this.sparkline.element.querySelector("#"+this.sparkline.element.id+"_sparkline_tooltip_div");return e?K.remove(e):null},nv.prototype.getModuleName=function(){return"SparklineTooltip"},nv.prototype.destroy=function(){},nv);function nv(e){this.sparkline=e,this.addEventListener()}av=function(e,t){return(av=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var av,lv,sv=function(e,t){function i(){this.constructor=e}av(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},hv=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},cv=(lv=K.ChildProperty,sv(dv,lv),hv([K.Property("Normal")],dv.prototype,"fontStyle",void 0),hv([K.Property("16px")],dv.prototype,"size",void 0),hv([K.Property("Normal")],dv.prototype,"fontWeight",void 0),hv([K.Property("")],dv.prototype,"color",void 0),hv([K.Property("Segoe UI")],dv.prototype,"fontFamily",void 0),hv([K.Property(1)],dv.prototype,"opacity",void 0),dv);function dv(){return null!==lv&&lv.apply(this,arguments)||this}pv=K.ChildProperty,sv(gv,pv),hv([K.Property("transparent")],gv.prototype,"color",void 0),hv([K.Property(0)],gv.prototype,"width",void 0),hv([K.Property(.8)],gv.prototype,"cornerRadius",void 0);var pv,uv=gv;function gv(){return null!==pv&&pv.apply(this,arguments)||this}mv=K.ChildProperty,sv(yv,mv),hv([K.Property("Normal")],yv.prototype,"fontStyle",void 0),hv([K.Property("15px")],yv.prototype,"size",void 0),hv([K.Property("500")],yv.prototype,"fontWeight",void 0),hv([K.Property("")],yv.prototype,"color",void 0),hv([K.Property("Center")],yv.prototype,"textAlignment",void 0),hv([K.Property("Segoe UI")],yv.prototype,"fontFamily",void 0),hv([K.Property(1)],yv.prototype,"opacity",void 0),hv([K.Property("Wrap")],yv.prototype,"textOverflow",void 0),hv([K.Property("Top")],yv.prototype,"position",void 0),hv([K.Property(0)],yv.prototype,"x",void 0),hv([K.Property(0)],yv.prototype,"y",void 0),hv([K.Property("transparent")],yv.prototype,"background",void 0),hv([K.Complex({},uv)],yv.prototype,"border",void 0);var mv,sv=yv;function yv(){return null!==mv&&mv.apply(this,arguments)||this}vv.prototype.measureAxis=function(e){var t=this.chart;this.seriesClipRect=new $.Rect(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=Qi(this.initialClipRect,new Er(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=Qi(this.initialClipRect,new Er(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=Qi(this.seriesClipRect,new Er(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=Qi(this.seriesClipRect,new Er(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},vv.prototype.measureRowAxis=function(e,t){this.calculateRowSize(t);for(var i,o=0,r=e.rows;o<r.length;o++)(i=r[o]).nearSizes=[],i.farSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new $.Size(e.availableSize.width,i.computedHeight)),this.leftSize<Zi(i.nearSizes)&&(this.leftSize=Zi(i.nearSizes)),this.rightSize<Zi(i.farSizes)&&(this.rightSize=Zi(i.farSizes))},vv.prototype.measureColumnAxis=function(e,t){this.calculateColumnSize(t);for(var i,o=0,r=e.columns;o<r.length;o++)(i=r[o]).farSizes=[],i.nearSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new $.Size(i.computedWidth,e.availableSize.height)),this.bottomSize<Zi(i.nearSizes)&&(this.bottomSize=Zi(i.nearSizes)),this.topSize<Zi(i.farSizes)&&(this.topSize=Zi(i.farSizes))},vv.prototype.measureDefinition=function(e,t,i){for(var o=0,r=e.axes;o<r.length;o++){var n=r[o];n.getModule(t),n.baseModule.calculateRangeAndInterval(i,n),e.computeSize(n,t)}0<e.farSizes.length&&(e.farSizes[e.farSizes.length-1]-=10),0<e.nearSizes.length&&(e.nearSizes[e.nearSizes.length-1]-=10)},vv.prototype.calculateAxisSize=function(e){var t,i,o,r,n,a=this.chart,l=0,s=0,h=0;this.calculateRowSize(e);for(var c=0,d=a.rows.length;c<d;c++)for(var p,l=0,s=0,u=0,g=(p=a.rows[c]).axes.length;u<g;u++){if(n=(i=p.axes[u]).plotOffset,0===i.rect.height){i.rect.height=p.computedHeight;for(var h=0,m=c+1,y=c+i.span;m<y;m++)h+=(t=a.rows[m]).computedHeight;i.rect.y=p.computedTop-h+(i.plotOffsetTop||n),i.rect.height=i.rect.height+h-this.getAxisOffsetValue(i.plotOffsetTop,i.plotOffsetBottom,i.plotOffset),i.rect.width=0}i.isAxisOpposedPosition?(o=e.x+e.width+Zi(oo(p.farSizes,s)),i.rect.x=i.rect.x>=o?i.rect.x:o,s++):(o=e.x-Zi(oo(p.nearSizes,l)),i.rect.x=i.rect.x<=o?i.rect.x:o,l++)}this.calculateColumnSize(e);for(c=0,d=a.columns.length;c<d;c++)for(var f,u=s=l=0,v=(f=a.columns[c]).axes.length;u<v;u++){if(n=(i=f.axes[u]).plotOffset,0===i.rect.width){for(var m=c,b=c+i.span;m<b;m++)t=a.columns[m],i.rect.width+=t.computedWidth;i.rect.x=f.computedLeft+(i.plotOffsetLeft||n),i.rect.width-=this.getAxisOffsetValue(i.plotOffsetLeft,i.plotOffsetRight,i.plotOffset),i.rect.height=0}i.isAxisOpposedPosition?(r=e.y-Zi(oo(f.farSizes,s)),i.rect.y=i.rect.y<=r?i.rect.y:r,s++):(r=e.y+e.height+Zi(oo(f.nearSizes,l)),i.rect.y=i.rect.y>=r?i.rect.y:r,l++)}},vv.prototype.measure=function(){for(var e,t,i,o,r=this.chart,n=0,a=r.axisCollections;n<a.length;n++){var l=a[n];if("Vertical"===l.orientation){r.verticalAxes.push(l),o=this.getActualRow(l),e=r.rows[o],this.pushAxis(e,l);for(var s=o+l.span>r.rows.length?r.rows.length:o+l.span,h=o+1;h<s;h++)(i=r.rows[h]).axes[e.axes.length-1]=l,r.rows[h]=i;r.rows[o]=e}else{r.horizontalAxes.push(l),o=this.getActualColumn(l),t=r.columns[o],this.pushAxis(t,l),s=o+l.span>r.columns.length?r.columns.length:o+l.span;for(h=o+1;h<s;h++)(i=r.columns[h]).axes[t.axes.length-1]=l,r.columns[h]=i;r.columns[o]=t}l.isRTLEnabled=r.enableRtl,l.setIsInversedAndOpposedPosition()}},vv.prototype.getAxisOffsetValue=function(e,t,i){return e?e+(t||i):t?t+i:2*i},vv.prototype.pushAxis=function(e,t){for(var i=0,o=e.axes.length;i<=o;i++)if(!e.axes[i]){e.axes[i]=t;break}},vv.prototype.arrangeAxis=function(e){for(var t=[],i=0,o=e.axes.length;i<=o;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},vv.prototype.getActualColumn=function(e){var t=this.chart.columns.length,e=e.columnIndex;return t<=e?t-1:e<0?0:e},vv.prototype.getActualRow=function(e){var t=this.chart.rows.length,e=e.rowIndex;return t<=e?t-1:e<0?0:e},vv.prototype.calculateRowSize=function(e){for(var t,i=this.chart,o=e.y+e.height,r=0,n=Math.max(0,e.height),a=0,l=i.rows.length;a<l;a++)r=-1!==(t=i.rows[a]).height.indexOf("%")?Math.min(n,e.height*parseInt(t.height,10)/100):Math.min(n,parseInt(t.height,10)),o-=t.computedHeight=r=a!==l-1?r:n,t.computedTop=o,n-=r},vv.prototype.calculateColumnSize=function(e){for(var t,i=this.chart,o=e.x,r=0,n=Math.max(0,e.width),a=0,l=i.columns.length;a<l;a++)r=-1!==(t=i.columns[a]).width.indexOf("%")?Math.min(n,e.width*parseInt(t.width,10)/100):Math.min(n,parseInt(t.width,10)),t.computedWidth=r=a!==l-1?r:n,t.computedLeft=o,o+=r,n-=r};var fv=vv;function vv(e){this.chart=e}function bv(e){var t;switch(e){case"HighContrastLight":case"HighContrast":t={axisLabel:"#969696",axisTitle:"#969696",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"transparent",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",tabColor:"#FFD939",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#000000",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",axisTitle:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:"#4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:"transparent",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",backWallColor:"#222222",leftWallColor:"#272727",tabColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",chartTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"MaterialDark"===e||"FabricDark"===e?"#000000":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":t={axisLabel:"#222222",axisTitle:"#212529",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"transparent",tooltipFill:"#020202",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",tabColor:"#007BFF",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#222222",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":t={axisLabel:"#222222",axisTitle:"#374151",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:"#D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"transparent",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",tabColor:"#4F46E5",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#374151",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":t={axisLabel:"#D1D5DB",axisTitle:"#D1D5DB",majorGridLine:"#374151",minorGridLine:"#374151",majorTickLine:"#4B5563",minorTickLine:"#4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"transparent",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",tabColor:"#22D3EE",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":t={axisLabel:"#222222",axisTitle:"#343A40",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:"#D1D5DB",chartTitle:"#343A40",legendLabel:"#343A40",background:"transparent",tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",tabColor:"#0D6EFD",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":t={axisLabel:"#E9ECEF",axisTitle:"#E9ECEF",majorGridLine:"#343A40",minorGridLine:"#343A40",majorTickLine:"#495057",minorTickLine:"#495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"transparent",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD",tabColor:"#0D6EFD",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#000000",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":t={axisLabel:"#222222",axisTitle:"#201F1E",majorGridLine:"#DDDDDD",minorGridLine:"#DDDDDD",majorTickLine:"#DDDDDD",minorTickLine:"#DDDDDD",chartTitle:"#201F1E",legendLabel:"#323130",background:"transparent",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",tabColor:"#0078D4",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#323129",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":t={axisLabel:"#D2D0CE",axisTitle:"#D2D0CE",majorGridLine:"#414040",minorGridLine:"#414040",majorTickLine:"#3B3A39",minorTickLine:"#3B3A39",chartTitle:"#F3F2F1",legendLabel:"#D2D0CE",background:"transparent",tooltipFill:"#252423",tooltipBoldLabel:"#F3F2F1",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",tabColor:"#0078D4",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#F3F2F2",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":t={axisLabel:"#616161",axisTitle:"#242424",majorGridLine:"#EDEBE9",minorGridLine:"#EDEBE9",majorTickLine:"#D2D0CE",minorTickLine:"#D2D0CE",chartTitle:"#242424",legendLabel:"#242424",background:"transparent",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",tabColor:"#0078D4",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#616161",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"10px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#616161",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"}};break;case"Fluent2Dark":t={axisLabel:"#FFFFFF",axisTitle:"#FFFFFF",majorGridLine:"#3B3A39",minorGridLine:"#3B3A39",majorTickLine:"#292827",minorTickLine:"#292827",chartTitle:"#FFFFFF",legendLabel:"#FFFFFF",background:"transparent",tooltipFill:"#292929",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",tabColor:"#0078D4",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"10px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"}};break;case"Material3":t={axisLabel:"#222222",axisTitle:"#1C1B1F",majorGridLine:"#DDDDDD",minorGridLine:"#DDDDDD",majorTickLine:"#DDDDDD",minorTickLine:"#DDDDDD",chartTitle:"#1C1B1F",legendLabel:"#49454E",background:"transparent",tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",tabColor:"#49454E",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",chartTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Roboto",size:"10px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":t={axisLabel:"#CAC4D0",axisTitle:"#CAC4D0",majorGridLine:"#444746",minorGridLine:"#444746",majorTickLine:"#444746",minorTickLine:"#444746",chartTitle:"#E6E1E5",legendLabel:"#CAC4D0",background:"transparent",tooltipFill:"#E6E1E5",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",tabColor:"#CAC4D0",backWallColor:"#222222",leftWallColor:"#272727",chartTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#313033",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#000000",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;default:t={axisLabel:"#222222",axisTitle:"#424242",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"transparent",tooltipFill:"#000816",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",backWallColor:"#F9F9F9",leftWallColor:"#EBEBEB",tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",chartTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},axisLabelFont:{color:"#222222",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},legendTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"#666666",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"Material"===e?"rgba(249, 250, 251, 1)":"Fabric"===e?"#333333":"#F9FAFB",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},axisTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},datalabelFont:{color:"#FFFFFF",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}}}return t}function xv(e){var t;switch(e){case"Fabric":t=["#06DCFF","#EF36BB","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":t=["#9B43F4","#F7523F","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Bootstrap":t=["#6355C7","#FFB400","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"HighContrast":t=["#41E4FF","#FF5B5B","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#55C75A","#FFB400","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#41E4FF","#FD7400","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#BC43F4","#FFC539","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5C43F4","#FFB400","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#00C2FF","#FD7400","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#6355C7","#9B43F4","#2196F5","#F7523F","#963C70","#4BE0BC","#FD7400","#C9E422","#DE3D8A","#162F88"];break;case"Bootstrap5Dark":t=["#A598FF","#FF7E6F","#6CBDFF","#FF7F71","#FF6DB3","#63F5D2","#FCAA65","#ECFF77","#EF8EFF","#5F82FD"];break;case"FluentDark":t=["#41E4FF","#FF7E6F","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent":t=["#2196F5","#FC7400","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent2":t=["#6200EE","#09AF74","#0076E5","#CB3587","#E7910F","#0364DE","#66CD15","#F3A93C","#107C10","#C19C00"];break;case"Fluent2Dark":t=["#9BB449","#2A72D5","#43B786","#3F579A","#584EC6","#E85F9C","#6E7A89","#EA6266","#0B6A0B","#C19C00"];break;case"Material3":t=["#6A56FF","#00DBFF","#FFB400","#F7523F","#963C70","#FD7400","#4BE0BC","#2196F5","#DE3D8A","#162F88"];break;case"Material3Dark":t=["#00C2FF","#FFB400","#FFF500","#17EA58","#38FFE7","#FF9E45","#B3F32F","#B93CE4","#FC5664","#9B55FF"];break;default:t=["#6355C7","#00AEE0","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}var Sv=function(){return(Sv=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Cv=function(){this.transform=null},wv=new Cv,Fv=(Lv.prototype.isValid=function(e){return!isNaN(e.x)&&!isNaN(e.y)&&!isNaN(e.z)},Lv.prototype.vector3D=function(e,t,i){return this.x=e,this.y=t,this.z=i,{x:this.x,y:this.y,z:this.z}},Lv.prototype.vector3DMinus=function(e,t){return this.vector3D(e.x-t.x,e.y-t.y,e.z-t.z)},Lv.prototype.vector3DPlus=function(e,t){return this.vector3D(e.x+t.x,e.y+t.y,e.z+t.z)},Lv.prototype.vector3DMultiply=function(e,t){var i=e.y*t.z-t.y*e.z,o=e.z*t.x-t.z*e.x,t=e.x*t.y-t.x*e.y;return this.vector3D(i,o,t)},Lv.prototype.vector3DAdd=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},Lv.prototype.vector3DStarMultiply=function(e,t){var i=e.x*t,o=e.y*t,e=e.z*t;return this.vector3D(i,o,e)},Lv.prototype.getLength=function(e){e=this.vector3DAdd(e,e);return Math.sqrt(e)},Lv.prototype.normalize=function(){var e=this.getLength(this);this.x/=e,this.y/=e,this.z/=e},Lv.prototype.getNormal=function(e,t,i){e=this.vector3DMinus(e,t),i=this.vector3DMinus(i,t),t=this.vector3DMultiply(e,i),e=this.getLength(t);return e<this.epsilon?this.vector3D(0,0,0):this.vector3D(t.x/e,t.y/e,t.z/e)},Lv);function Lv(e,t,i){this.x=0,this.y=0,this.z=0,this.epsilon=1e-5,this.x=e,this.y=t||0,this.z=i||0}Av.prototype.matrix3D=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.createArray(e);return t},Av.prototype.isAffine=function(e){return 0===e[0][3]&&0===e[1][3]&&0===e[2][3]&&1===e[3][3]},Av.prototype.createArray=function(e){for(var t=[],i=0;i<e;++i)t[i]=0;return t},Av.prototype.getIdentity=function(){for(var e=this.matrix3D(this.matrixSize),t=0;t<this.matrixSize;t++)e[t][t]=1;return e},Av.prototype.getInterval=function(e){for(var t=this.getIdentity(),i=0;i<this.matrixSize;i++)for(var o=0;o<this.matrixSize;o++)t[i][o]=this.getMinor(e,i,o);return t=this.transposed(t),t=this.getMatrixMultiple(1/this.getDeterminant(e),t)},Av.prototype.getMatrixMultiple=function(e,t){for(var i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)t[i][o]=t[i][o]*e;return t},Av.prototype.getMatrixVectorMultiple=function(e,t){var i=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z+e[3][0],o=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z+e[3][1],r=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z+e[3][2];return this.isAffine(e)||(i*=t=1/(e[0][3]*t.x+e[1][3]*t.y+e[2][3]*t.z+e[3][3]),o*=t,r*=t),{x:i,y:o,z:r}},Av.prototype.getMatrixVectorAnd=function(e,t){var i=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z,o=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z,e=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z;return new Fv(i,o,e)},Av.prototype.getMatrixMultiplication=function(e,t){for(var i=this.getIdentity(),o=0;o<this.matrixSize;o++)for(var r=0;r<this.matrixSize;r++){for(var n=0,a=0;a<this.matrixSize;a++)n+=e[a][r]*t[o][a];i[o][r]=n}return i},Av.prototype.getMinor=function(e,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMatrix(e,t,i))},Av.prototype.getMatrix=function(e,t,i){for(var o=e.length-1,r=this.createArray(o),n=0;n<o;n++){var a=t<=n?n+1:n;r[n]=this.createArray(o);for(var l=0;l<o;l++)r[n][l]=e[a][i<=l?l+1:l]}return r},Av.prototype.getDeterminant=function(e){var t=e.length,i=0;if(t<2)i=e[0][0];else for(var o=1,r=0;r<t;r++){var n=this.getMatrix(e,r,0);i+=o*e[r][0]*this.getDeterminant(n),o=0<o?-1:1}return i},Av.prototype.transform=function(e,t,i){var o=this.getIdentity();return o[3][0]=e,o[3][1]=t,o[3][2]=i,o},Av.prototype.turn=function(e){var t=this.getIdentity();return t[0][0]=Math.cos(e),t[2][0]=-Math.sin(e),t[0][2]=Math.sin(e),t[2][2]=Math.cos(e),t},Av.prototype.tilt=function(e){var t=this.getIdentity();return t[1][1]=Math.cos(e),t[2][1]=Math.sin(e),t[1][2]=-Math.sin(e),t[2][2]=Math.cos(e),t},Av.prototype.transposed=function(e){for(var t=this.getIdentity(),i=0;i<this.matrixSize;i++)for(var o=0;o<this.matrixSize;o++)t[i][o]=e[o][i];return t};var Pv=Av;function Av(){this.matrixSize=4}Dv.prototype.transform3D=function(e){return{viewingArea:e,rotation:0,tilt:0,depth:0,perspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixObj.getIdentity(),perspective:this.matrixObj.getIdentity(),resultMatrix:this.matrixObj.getIdentity(),viewMatrix:this.matrixObj.getIdentity()}},Dv.prototype.transform=function(e){this.setCenter(this.vector.vector3D(e.viewingArea.width/2,e.viewingArea.height/2,e.depth/2),e),this.setViewMatrix(this.matrixObj.transform(0,0,e.depth),e),this.setViewMatrix(this.matrixObj.getMatrixMultiplication(e.viewMatrix,this.matrixObj.turn(-this.toRadial*e.rotation)),e),this.setViewMatrix(this.matrixObj.getMatrixMultiplication(e.viewMatrix,this.matrixObj.tilt(-this.toRadial*e.tilt)),e),this.updatePerspective(e.perspectiveAngle,e),e.needUpdate=!0},Dv.prototype.updatePerspective=function(e,t){e=(t.viewingArea.width+t.viewingArea.height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+2*t.depth/2;t.perspective[0][0]=e,t.perspective[1][1]=e,t.perspective[2][3]=1,t.perspective[3][3]=e},Dv.prototype.degreeToRadianConverter=function(e){return e*Math.PI/180},Dv.prototype.toScreen=function(e,t,i){return{x:(e=i?(this.matrixObj=i).getMatrixVectorMultiple(this.result(t,i),e):(t.chartObj=this.matrixObj,this.matrixObj.getMatrixVectorMultiple(this.result(t),e))).x,y:e.y}},Dv.prototype.setViewMatrix=function(e,t){t.viewMatrix!==e&&(t.viewMatrix=e,t.needUpdate=!0)},Dv.prototype.result=function(e,t){var i=(i=e.chartObj||this.matrixObj)||t;return e.needUpdate&&(t=this.matrixObj||t,e.resultMatrix=i.getMatrixMultiplication(t.getInterval(e.centeredMatrix),e.perspective),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1),e.resultMatrix},Dv.prototype.setCenter=function(e,t){t.centeredMatrix=this.matrixObj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0};var Mv=Dv;function Dv(){this.toRadial=Math.PI/180,this.vector=new Fv(0,0,0),this.matrixObj=new Pv}Rv.prototype.addVisual=function(e,t){return null==e||Hv.test()?-1:Vv.add(e,t)},Rv.prototype.prepareView=function(e,t,i,o,r,n){0===arguments.length?Vv.build():(null==wv.transform?wv.transform=n.transform3D.transform3D(r):wv.transform.viewingArea=r,wv.tree||(wv.tree=[]),wv.transform.rotation=i,wv.transform.tilt=o,wv.transform.depth=t,wv.transform.perspectiveAngle=e,n.transform3D.transform(wv.transform),wv.tree[n.chart3D.id]=Vv.build())},Rv.prototype.view=function(e,t,i,o,r,n,a){var l;2===arguments.length?null!=e&&(l=this.vector.vector3D(0,0,32767),this.drawNode3D(wv.tree[t.chart3D.id],l,e,t)):null!=e&&(null==wv.transform?wv.transform=t.transform3D.transform3D(r):wv.transform.viewingArea=r,wv.transform.rotation=i,wv.transform.tilt=o,wv.transform.depth=a,wv.transform.perspectiveAngle=n,t.transform3D.transform(wv.transform),l=this.vector.vector3D(0,0,32767),this.drawNode3D(wv.tree[t.chart3D.id],l,e,t))},Rv.prototype.draw3DElement=function(e,t){e.plane.element?"text"===e.plane.element.tag||"dataLabel"===e.plane.element.tag?Hv.drawText(e.plane,t):"template"===e.plane.element.tag?Hv.drawTemplate(e.plane,t):Hv.drawLine(e.plane,t):Hv.draw(e.plane,t)},Rv.prototype.drawNode3D=function(e,t,i,o){if(null!==e&&null!=wv.transform)for(;;){if(Bv.vector3DAdd(Hv.getNormal(o.transform3D.result(wv.transform),e.plane.vectorPoints),t)>e.plane.d){if(null!=e.front&&this.drawNode3D(e.front,t,i,o),this.draw3DElement(e,o),null!=e.back){e=e.back;continue}}else if(null!=e.back&&this.drawNode3D(e.back,t,i,o),this.draw3DElement(e,o),null!=e.front){e=e.front;continue}break}};var kv=Rv;function Rv(){this.vector=new Fv(0,0,0)}_v.prototype.add=function(e,t){return(this.chart=t).polygons.push(e),t.polygons.length-1},_v.prototype.getNext=function(e,t){return t<=e?e-t:e<0?e+t:e},_v.prototype.vector3DIndexClassification=function(e,t,i){return{index:t,result:i,vector:e,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCutBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCutFront:!1}},_v.prototype.classifyPoint=function(e,t){var i="OnPlane",e=-t.d-Bv.vector3DAdd(e,t.normal);return e>this.epsilon?i="OnBack":e<-this.epsilon&&(i="OnFront"),i},_v.prototype.classifyPolygon=function(e,t){var i="Unknown",o=t.points;if(null!=o){for(var r=0,n=0,a=0,l=e.normal,s=e.d,h=0,c=o.length;h<c;h++){var d=-s-Bv.vector3DAdd(o[h],l);if(d>this.epsilon?r++:d<-this.epsilon?n++:a++,0<r&&0<n)break}i=a===o.length?"OnPlane":n+a===o.length?"ToRight":r+a===o.length?"ToLeft":"Unknown"}return i},_v.prototype.splitPolygon=function(e,t){var i=[],o=[];if(null!=e.points){for(var r=[],n=[],a=[],l=e.points.length,s=0;s<l;s++){var h=e.points[s],c=e.points[this.getNext(s+1,l)],d=this.classifyPoint(h,t),p=this.classifyPoint(c,t),u=this.vector3DIndexClassification(h,r.length,d);if(r.push(u),d!==p&&"OnPlane"!==d&&"OnPlane"!==p){var h=Bv.vector3DMinus(h,c),g=Bv.vector3DMinus(Bv.vector3DStarMultiply(t.normal,-t.d),c),g=Bv.vector3DAdd(g,t.normal)/Bv.vector3DAdd(t.normal,h),c=Bv.vector3DPlus(c,Bv.vector3DStarMultiply(h,g)),h=this.vector3DIndexClassification(c,r.length,"OnPlane");r.push(h),n.push(h),a.push(h)}else if("OnPlane"===d){g=e.points[this.getNext(s-1,l)],c=this.classifyPoint(g,t);if(c!==p)if("OnPlane"!==c&&"OnPlane"!==p)n.push(u),a.push(u);else if("OnPlane"===c)switch(p){case"OnBack":n.push(u);break;case"OnFront":a.push(u)}else if("OnPlane"===p)switch(c){case"OnBack":n.push(u);break;case"OnFront":a.push(u)}}}if(0!==a.length||0!==n.length){for(s=0;s<n.length-1;s+=2){var m=n[s],y=n[s+1];m.cuttingBackPoint=!0,y.cuttingBackPoint=!0,m.alterCuttingBackPairIndex=y.index,y.alterCuttingBackPairIndex=m.index}for(s=0;s<a.length-1;s+=2){var f=a[s],v=a[s+1];f.cuttingFrontPoint=!0,v.cuttingFrontPoint=!0,f.alterCuttingFrontPairIndex=v.index,v.alterCuttingFrontPairIndex=f.index}for(var b,s=0;s<n.length-1;s++)(m=n[s]).alreadyCutBack||2<(b=this.cutOutBackPolygon(r,m)).length&&(b=Hv.polygon3D(b,e),i.push(Sv({},b)));for(var x,s=0;s<a.length-1;s++)(y=a[s]).alreadyCutFront||2<(x=this.cutOutFrontPolygon(r,y)).length&&(x=Hv.polygon3D(x,e),o.push(Sv({},x)))}}else i.push(e),o.push(e);return{backPolygon:i,frontPolygon:o}},_v.prototype.cutOutFrontPolygon=function(e,t){for(var i=[],o=t;;){o.alreadyCutFront=!0,i.push(o.vector);var r=e[o.alterCuttingFrontPairIndex];if(o.cuttingFrontPoint)if(r.alreadyCutFront){var n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnFront"!==n.result||n.alreadyCutFront){if("OnFront"!==a.result||a.alreadyCutFront)return i;o=a}else o=n}else o=r;else{n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnBack"===n.result||n.alreadyCutFront){if("OnBack"===a.result||a.alreadyCutFront)return i;o=a}else o=n}}return null},_v.prototype.cutOutBackPolygon=function(e,t){for(var i=[],o=t;;){o.alreadyCutBack=!0,i.push(o.vector);var r=e[o.alterCuttingBackPairIndex];if(o.cuttingBackPoint)if(r.alreadyCutBack){var n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnBack"!==n.result||n.alreadyCutBack){if("OnBack"!==a.result||a.alreadyCutBack)return i;o=a}else o=n}else o=r;else{n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnFront"===n.result||n.alreadyCutBack){if("OnFront"===a.result||a.alreadyCutBack)return i;o=a}else o=n}}return null},_v.prototype.build=function(e){if(e){var t=e;if(t.length<1)return null;for(var e={back:null,front:null,plane:null},i=t[0],o=(e.plane=i,[]),r=[],n=1,a=t.length;n<a;n++){var l=t[n];if(l!==i)switch(this.classifyPolygon(i,l)){case"OnPlane":case"ToRight":r.push(l);break;case"ToLeft":o.push(l);break;case"Unknown":if(!l.element||"line"!==l.element.tag&&"text"!==l.element.tag){for(var s=this.splitPolygon(l,i),h=0;h<s.backPolygon.length;h++)s.backPolygon[h].name=s.backPolygon[h].name+"-back",o.push(s.backPolygon[h]);for(var c=0;c<s.frontPolygon.length;c++)s.frontPolygon[c].name=s.frontPolygon[c].name+"-front",r.push(s.frontPolygon[c])}else o.push(l)}}return 0<o.length&&(e.back=this.build(o)),0<r.length&&(e.front=this.build(r)),e}return this.build(this.chart.polygons)};var Tv=_v;function _v(e){this.epsilon=5e-4,this.chart=e}Iv.prototype.getStringBuilder=function(){var i=[],t=0;return{append:function(e){return i[t++]=e,this},remove:function(e,t){return i.splice(e,t||1),this},insert:function(e,t){return i.splice(e,0,t),this},toString:function(e){return i.join(e||"")}}},Iv.prototype.hexToValue=function(e){var t;return 0===e.indexOf("rgba(")?(t=e.slice(5,-1).split(","))?{red:parseInt(t[0],10),green:parseInt(t[1],10),blue:parseInt(t[2],10),alpha:parseFloat(t[3])}:null:0===e.indexOf("rgb(")?(t=e.slice(4,-1).split(","))?{red:parseInt(t[0],10),green:parseInt(t[1],10),blue:parseInt(t[2],10)}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null},Iv.prototype.hexColor=function(e){var i,t=e.red,o=e.green,r=e.blue;return e.alpha?"rgba("+t.toString()+","+o.toString()+","+r.toString()+","+e.alpha+")":((i=[t.toString(16),o.toString(16),r.toString(16)]).forEach(function(e,t){1===e.length&&(i[t]="0"+e)}),"#"+i.join("").toUpperCase())},Iv.prototype.checkColorFormat=function(e){if(0===e.indexOf("rgba(")||0===e.indexOf("rgb(")){var t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");if(3===t.length||4===t.length)return t.every(function(e){e=parseFloat(e);return!isNaN(e)&&0<=e&&e<=255})}else if(0===e.indexOf("#"))return(3===(t=e.substring(1)).length||6===t.length)&&/^[0-9A-Fa-f]{3,6}$/.test(t);return!1},Iv.prototype.drawText=function(e,t,i,o){var r=document.getElementById(e.id);if(null===r&&(r=document.createElementNS("http://www.w3.org/2000/svg","text")),1<t.length&&"string"!=typeof t)for(var n=0,a=0;a<t.length;a++){var l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.textContent=t[a],l.setAttribute("x",String(e.x)),l.setAttribute("dy",String(n)),r.appendChild(l),n=$.measureText(t[a],i,o.themeStyle.axisLabelFont).height}else r.textContent=t;return r=o.svgRenderer.setElementAttributes(e,r)},Iv.prototype.transform3DToVisible=function(e,t,i,o){var r,n;return null!=e.xAxis&&null!=e.yAxis?("Logarithmic"===e.xAxis.valueType&&0<t&&(t=Math.log(t)/Math.log(10)),r=e.yAxis.logBase,"Logarithmic"===e.yAxis.valueType&&0<i&&(i=Math.log(i)/Math.log(r)),o.requireInvertedAxis?(n=o.chartAxisLayoutPanel.seriesClipRect.x,r=o.chartAxisLayoutPanel.seriesClipRect.y,{x:n+e.yAxis.rect.width*Uv(i,e.yAxis),y:r+e.xAxis.rect.height*(1-Uv(t,e.xAxis))}):(n=e.xAxis.rect.x,o=e.yAxis.rect.y,{x:n+Math.round(e.xAxis.rect.width*Uv(t,e.xAxis)),y:o+Math.round(e.yAxis.rect.height*(1-Uv(i,e.yAxis)))})):{x:0,y:0}};var Ev=Iv;function Iv(){}zv.prototype.polygon3D=function(e,t,i,o,r,n,a,l,s,h){var c;return 3===arguments.length?(this.calculateNormal(e,t,i),null):(2===arguments.length?(this.calculateNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calculateNormal(this.vectorPoints),(c=t).normal=this.normal,c.points=e,c.vectorPoints=this.vectorPoints,c.isSplit=!0,c.d=this.d):(this.calculateNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calculateNormal(this.vectorPoints),c={normal:this.normal,points:e,vectorPoints:this.vectorPoints,index:i,tag:t,name:l||null,strokeThickness:r,opacity:n,fill:a,d:this.d,text:h||"",polygonElement:e={tag:"path",parent:s}},1!==arguments.length&&(c.polygonElement=e)),c)},zv.prototype.createLine=function(e,t,i,o,r,n){var a=e.width,l=[];return l[0]=this.vector.vector3D(t,i,n),l[1]=this.vector.vector3D(t+a,r+a,n),l[2]=this.vector.vector3D(o,r,n),this.line3D(e,l)},zv.prototype.line3D=function(e,t){t=this.polygon3D(t);return t.element=e,t},zv.prototype.text3D=function(e,t){t=this.polygon3D(t);return t.element=e,t},zv.prototype.createCylinder=function(e,t,i,o,r,n,a,l,s,h,c){var d,p,u,g,m=0,y=24,f=360/y,v=Math.PI/180,b=(e.z+t.z)/2,x=[],S=[],C=[],w=[],F=t.y-e.y<t.z-e.z?(t.y-e.y)/2:(t.z-e.z)/2,L=t.x-e.x<t.z-e.z?(t.x-e.x)/2:(t.z-e.z)/2,P=(e.x+t.x)/2,A=(e.y+t.y)/2;switch(r){case"Bar":case"StackingBar":case"StackingBar100":for(y++;y--;)p=A+F*Math.cos(m*f*v),u=b+F*Math.sin(m*f*v),S[m]={Y:p,Z:u},C.push(this.vector.vector3D(e.x,S[m].Y,S[m].Z)),w.push(this.vector.vector3D(t.x,S[m].Y,S[m].Z)),0<m&&(g=[this.vector.vector3D(e.x,S[m-1].Y,S[m-1].Z),this.vector.vector3D(t.x,S[m-1].Y,S[m-1].Z),this.vector.vector3D(t.x,S[m].Y,S[m].Z),this.vector.vector3D(e.x,S[m].Y,S[m].Z)],x[m+1]=this.polygon3D(g,i,o,a,0,s,a,"-"+(m+1).toString()+"-"+h,c),jv.addVisual(x[m+1],i)),m++;break;case"Column":case"StackingColumn":case"StackingColumn100":for(y++;y--;)d=P+L*Math.cos(m*f*v),u=b+L*Math.sin(m*f*v),S[m]={Y:d,Z:u},C.push(this.vector.vector3D(S[m].Y,e.y,S[m].Z)),w.push(this.vector.vector3D(S[m].Y,t.y,S[m].Z)),0<m&&(g=[this.vector.vector3D(S[m-1].Y,e.y,S[m-1].Z),this.vector.vector3D(S[m-1].Y,t.y,S[m-1].Z),this.vector.vector3D(S[m].Y,t.y,S[m].Z),this.vector.vector3D(S[m].Y,e.y,S[m].Z)],x[m+1]=this.polygon3D(g,i,o,a,0,s,a,"-"+(m+1).toString()+"-"+h,c),jv.addVisual(x[m+1],i)),m++}return x[0]=this.polygon3D(w,i,o,n,0,s,a,"-0-"+h,c),x[1]=this.polygon3D(C,i,o,n,l,s,a,"-1-"+h,c),jv.addVisual(x[0],i),jv.addVisual(x[1],i),x},zv.prototype.createBox=function(e,t,i,o,r,n,a,l,s,h,c,d){var p=[],u=[this.vector.vector3D(e.x,e.y,e.z),this.vector.vector3D(t.x,e.y,e.z),this.vector.vector3D(t.x,t.y,e.z),this.vector.vector3D(e.x,t.y,e.z)],g=[this.vector.vector3D(e.x,e.y,t.z),this.vector.vector3D(t.x,e.y,t.z),this.vector.vector3D(t.x,t.y,t.z),this.vector.vector3D(e.x,t.y,t.z)],m=[this.vector.vector3D(e.x,e.y,t.z),this.vector.vector3D(t.x,e.y,t.z),this.vector.vector3D(t.x,e.y,e.z),this.vector.vector3D(e.x,e.y,e.z)],y=[this.vector.vector3D(e.x,t.y,t.z),this.vector.vector3D(t.x,t.y,t.z),this.vector.vector3D(t.x,t.y,e.z),this.vector.vector3D(e.x,t.y,e.z)],f=[this.vector.vector3D(e.x,e.y,e.z),this.vector.vector3D(e.x,e.y,t.z),this.vector.vector3D(e.x,t.y,t.z),this.vector.vector3D(e.x,t.y,e.z)],t=[this.vector.vector3D(t.x,e.y,e.z),this.vector.vector3D(t.x,e.y,t.z),this.vector.vector3D(t.x,t.y,t.z),this.vector.vector3D(t.x,t.y,e.z)];return h?(p[0]=this.polygon3D(u,i,o,r,a,l,n,"-0-"+h,c,d),p[1]=this.polygon3D(g,i,o,r,a,l,n,"-1-"+h,c,d),p[2]=this.polygon3D(m,i,o,r,a,l,n,"-2-"+h,c,d),p[3]=this.polygon3D(y,i,o,r,a,l,n,"-3-"+h,c,d),p[4]=this.polygon3D(f,i,o,r,a,l,n,"-4-"+h,c,d),p[5]=this.polygon3D(t,i,o,r,a,l,n,"-5-"+h,c,d)):(p[0]=this.polygon3D(u,i,o,r,a,l,n,"-0-"+o,c,d),p[1]=this.polygon3D(g,i,o,r,a,l,n,"-1-"+o,c,d),p[2]=this.polygon3D(m,i,o,r,a,l,n,"-2-"+o,c,d),p[3]=this.polygon3D(y,i,o,r,a,l,n,"-3-"+o,c,d),p[4]=this.polygon3D(f,i,o,r,a,l,n,"-4-"+o,c,d),p[5]=this.polygon3D(t,i,o,r,a,l,n,"-5-"+o,c,d)),s?(jv.addVisual(p[0],i),jv.addVisual(p[1],i),jv.addVisual(p[2],i),jv.addVisual(p[3],i),jv.addVisual(p[4],i),jv.addVisual(p[5],i)):(jv.addVisual(p[5],i),jv.addVisual(p[4],i),jv.addVisual(p[0],i),jv.addVisual(p[1],i),jv.addVisual(p[2],i),jv.addVisual(p[3],i)),p},zv.prototype.calculateNormal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(3<=e.length){var i=e[0],o=e[1],r=e[2],n=this.vector.vector3DMinus(i,o),r=this.vector.vector3DMinus(r,o),o=this.vector.vector3DMultiply(n,r),n=this.vector.getLength(o);n<this.epsilon&&(n=1),this.normal=this.vector.vector3D(o.x/n,o.y/n,o.z/n),this.d=-(this.normal.x*i.x+this.normal.y*i.y+this.normal.z*i.z),e[3]&&(e[3].normal=this.normal,e[3].d=this.d)}else{var a=e[0];this.calculateNormal(a[0],a[1],a[2],e[1]);for(var l=3;l<a.length&&this.test();l++)this.calculateNormal(a[l],a[0],a[l/2])}},zv.prototype.test=function(){return!this.vector.isValid(this.normal)},zv.prototype.transform=function(e,t){if(null!=t.points){for(var i=0;i<t.points.length;i++)t.vectorPoints[i]=t.points[i]=Nv.getMatrixVectorMultiple(e,t.points[i]);this.calculateNormal(t.vectorPoints,t)}},zv.prototype.getNormal=function(e,t){if(null!=t){a=this.vector.getNormal(this.matrixObj.getMatrixVectorMultiple(e,t[0]),Nv.getMatrixVectorMultiple(e,t[1]),this.matrixObj.getMatrixVectorMultiple(e,t[2]));for(var i=3;i<t.length&&!this.vector.isValid(a)&&t[i/2];i++)var o=Nv.getMatrixVectorMultiple(e,t[i]),r=Nv.getMatrixVectorMultiple(e,t[0]),n=Nv.getMatrixVectorMultiple(e,t[i/2]),a=this.vector.getNormal(o,r,n)}else a=Nv.getMatrixVectorAnd(e),this.vector.normalize();return a},zv.prototype.createTextElement=function(e,t,i,o){var r=[],n=e.x,a=e.y,l=t.width,s=t.height;return r[0]=this.vector.vector3D(n,a,e.z),r[1]=this.vector.vector3D(n+l,a+s+o,e.z),r[2]=this.vector.vector3D(n+l+i,a+s+o,e.z),this.text3D(t,r)},zv.prototype.drawLine=function(e,t){var i,o=wv.transform;null!=o&&(i=t.transform3D.toScreen(e.vectorPoints[0],o),o=t.transform3D.toScreen(e.vectorPoints[2],o),i={id:e.element.id,x1:i.x,y1:i.y,x2:o.x,y2:o.y,"stroke-dasharray":"","stroke-width":e.element.width,stroke:e.element.stroke,opacity:e.element.opacity},t.chart3D.appendChild(t.svgRenderer.drawLine(i)),t.previousID&&t.isTouch&&(o=document.getElementById(t.previousID),e=document.getElementById(i.id),o)&&e&&e.parentNode.insertBefore(e,o.nextSibling),t.previousID=i.id)},zv.prototype.drawTemplate=function(e,t){var i,o=e.element,r=wv.transform;null!=r&&(i=o.label,e=t.transform3D.toScreen(e.vectorPoints[0],r),t.dataLabel3DModule.createDataLabelTemplate(i.series.dataLabelElement,i.series,i.series.dataLabel,i.series.visiblePoints[i.pointIndex],o.argsData,i.pointIndex,!1,e))},zv.prototype.drawText=function(e,t){var i,o,r,n,a=e.element,l=wv.transform;null!=l&&(i=(l=t.transform3D.toScreen(e.vectorPoints[0],l)).x,n=l.y,"text"===a.tag?(i={id:a.id,x:i,y:n,fill:a.font.color||a.fill,"font-size":a.font.size,"font-family":a.font.fontFamily,"font-style":a.font.fontStyle,"font-weight":a.font.fontWeight,opacity:a.font.opacity,"text-anchor":a.textAnchor,cursor:"default",transform:a.angle?"rotate("+a.angle+","+i+","+n+")":""},n=t.svg3DRenderer.drawText(i,a.label.text,e.element.font,t),-1<a.id.indexOf("-axis-title")&&n.setAttribute("aria-hidden","true"),t.chart3D.append(n)):(e=(i=a.series).yAxis&&i.yAxis.labelFormat?i.yAxis.labelFormat:"",n=a.point.text||a.point.y+e.substring(e.indexOf("}")+1),e=$.measureText(n,i.dataLabel.font,t.themeStyle.datalabelFont),n=i.dataLabel.margin,o=e.width+n.left+n.right,e=e.height+n.top+n.bottom,r=l.x,l=l.y,r=r-n.left/2+n.right/2,l=l-n.top/2-e/n.top+n.bottom/2,n=i.index,this.dataLabelSymbol(n,i,a.pointIndex,r,l,o,e,t)))},zv.prototype.dataLabelSymbol=function(e,t,i,o,r,n,a,l){e={id:l.element.id+"-svg-data-label-series-"+e+"-point-"+i,fill:t.dataLabel.fill,"stroke-width":t.dataLabel.border.width,"stroke-dasharray":t.dataLabel.border.dashArray,stroke:t.dataLabel.border.color,opacity:t.dataLabel.opacity,visibility:"",d:"M "+(o+-n/2)+" "+(r+-a/2)+" L "+(o+n/2)+" "+(r+-a/2)+" L "+(o+n/2)+" "+(r+a/2)+" L "+(o+-n/2)+" "+(r+a/2)+" L "+(o+-n/2)+" "+(r+-a/2)+" z"},i=l.svgRenderer.drawPath(e);l.chart3D.append(i)},zv.prototype.draw=function(e,t){if(!(null==e.vectorPoints||e.vectorPoints.length<=0)){var i=wv.transform,o=t.svg3DRenderer.getStringBuilder(),r=e.fill,n=(t.svg3DRenderer.checkColorFormat(r)||"transparent"!==r&&(r=or(r)),{StartPoint:null});if(null!=i){n.StartPoint=t.transform3D.toScreen(e.vectorPoints[0],i),o.append("M "+n.StartPoint.x+" "+n.StartPoint.y+" ");for(var a=0;a<e.vectorPoints.length;a++){var l=t.transform3D.toScreen(e.vectorPoints[a],i);o.append("L "+l.x+" "+l.y+" ")}}var n=o.toString(),s="Light",h=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(0,0,1)))-1),c=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(0,1,0)))-1),d=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(1,0,0)))-1),d=(!e.name||-1<e.name.indexOf("-wall-brush")||(h==d?(s="ZLight",r=this.applyZLight(r,t)):c==h||0!=h&&c<h?(s="XLight",r=this.applyXLight(r,t)):h<0?(s="ZLight",r=this.applyZLight(r,t)):s="Light"),{id:t.element.id+"-svg"+e.name,name:s,fill:r,stroke:"","stroke-width":e.strokeThickness,opacity:e.opacity,d:n}),c=t.svgRenderer.drawPath(d);e.text&&(c.setAttribute("aria-label",e.text),c.setAttribute("role","img")),e.name&&-1<e.name.indexOf("-wall-brush")&&c.setAttribute("aria-hidden","true"),-1<c.id.indexOf("0-region-series-0-point-0")&&(this.tabIndex||0<(h=e.polygonElement.parent.querySelectorAll('[id*="0-region-series-0-point-0"]')).length&&h[h.length-1].removeAttribute("tabindex"),c.setAttribute("tabindex","0"),this.tabIndex=!1),q(!1,e.polygonElement.parent,c,t.redraw,!0,"x","y",null,n),t.previousID&&t.isTouch&&(s=document.getElementById(t.previousID),r=document.getElementById(d.id),s)&&r&&r.parentNode.insertBefore(r,s.nextSibling),t.previousID=d.id}},zv.prototype.applyXLight=function(e,t){e=t.svg3DRenderer.hexToValue(e);return e.red=parseInt((.7*e.red).toString(),10),e.green=parseInt((.7*e.green).toString(),10),e.blue=parseInt((.7*e.blue).toString(),10),t.svg3DRenderer.hexColor(e)},zv.prototype.applyZLight=function(e,t){e=t.svg3DRenderer.hexToValue(e);return e.red=parseInt((.9*e.red).toString(),10),e.green=parseInt((.9*e.green).toString(),10),e.blue=parseInt((.9*e.blue).toString(),10),t.svg3DRenderer.hexColor(e)};var Ov=zv;function zv(){this.epsilon=1e-5,this.normal={x:0,y:0,z:0},this.vector=new Fv(0,0,0),this.vectorPoints=[],this.matrixObj=new Pv,this.tabIndex=!0}var Bv=new Fv(0,0,0),Nv=new Pv,Vv=new Tv,Hv=new Ov,jv=new kv;function Wv(e,t){for(var i,o=Number.MAX_VALUE,r=0;r<t.length;r++){var n=t[r],a=[];if(n.visible&&(e.name===n.xAxisName||"primaryXAxis"===e.name&&null===n.xAxisName))if((a=n.points.map(function(e){return e.xValue})).sort(function(e,t){return e-t}),1===a.length)n="DateTime"===e.valueType&&n.xMin===n.xMax?n.xMin-2592e4:n.xMin,0!==(i=a[0]-(K.isNullOrUndefined(n)?e.visibleRange.min:n))&&(o=Math.min(o,i));else for(var l=0;l<a.length;l++){var s=a[l];0<l&&s&&0!==(i=s-a[l-1])&&(o=Math.min(o,i))}}return o=o===Number.MAX_VALUE?1:o}function Uv(e,t){var i=t.visibleRange,e=(e-i.min)/i.delta;return t.isAxisInverse?1-e:e}Gv.prototype.update3DWall=function(e){this.updateBackWall(e);for(var t=0;t<e.axisCollections.length;t++){var i=e.axisCollections[t],o=i.opposedPosition||i.isAxisOpposedPosition;"vertical"===i.orientation.toLowerCase()?o?this.updateRightWall(e):this.updateLeftWall(e):o?this.updateTopWall(e):this.updateBottomWall(e)}},Gv.prototype.updateTopWall=function(e){for(var t=0,i=e.chartAxisLayoutPanel.seriesClipRect,o=i.y,t=e.wallSize<o?o-e.wallSize:-(e.wallSize-o),o=e.vector.vector3D(i.x+i.width,-e.depth,o-.1),i=e.vector.vector3D(i.x,-.1,t),r=e.polygon.createBox(o,i,e,0,e.wallColor||e.themeStyle.leftWallColor,e.wallColor||e.themeStyle.leftWallColor,0,.5,!1,"top-wall-brush",e.chart3D),n=0;n<r.length;n++)e.polygon.transform(e.matrixObj.tilt(Math.PI/2),r[n])},Gv.prototype.updateRightWall=function(e){for(var t=e.chartAxisLayoutPanel.seriesClipRect,i=t.x+t.width,t={left:-e.depth,top:t.y,bottom:t.height+t.y,right:0},o=e.vector.vector3D(t.left,t.top,i+1.5),t=e.vector.vector3D(t.right,t.bottom,i+e.wallSize),r=e.polygon.createBox(o,t,e,0,e.wallColor||e.themeStyle.leftWallColor,e.wallColor||e.themeStyle.leftWallColor,0,.5,!1,"right-wall-brush",e.chart3D),n=0;n<r.length;n++)e.polygon.transform(e.matrixObj.turn(-Math.PI/2),r[n])},Gv.prototype.updateBackWall=function(e){var t=e.chartAxisLayoutPanel.seriesClipRect,i=e.vector.vector3D(t.x,t.y,0===e.depth?1.5:e.depth+e.wallSize),t=e.vector.vector3D(t.x+t.width,t.y+t.height,0===e.depth?1.5:e.depth);e.polygon.createBox(i,t,e,0,e.wallColor||e.themeStyle.backWallColor,e.wallColor||e.themeStyle.backWallColor,0,-1<e.theme.indexOf("Fluent2")?.3:.25,!1,"back-wall-brush",e.chart3D)},Gv.prototype.updateLeftWall=function(e){for(var t=e.chartAxisLayoutPanel.seriesClipRect,i={left:-e.depth,top:t.y,bottom:t.height+t.y,right:0},t=t.x,o=e.vector.vector3D(i.left,i.top,t-.1),i=e.vector.vector3D(i.right,i.bottom,t-e.wallSize),r=e.polygon.createBox(o,i,e,0,e.wallColor||e.themeStyle.leftWallColor,e.wallColor||e.themeStyle.leftWallColor,0,.5,!1,"left-wall-brush",e.chart3D),n=0;n<r.length;n++)e.polygon.transform(e.matrixObj.turn(-Math.PI/2),r[n])},Gv.prototype.updateBottomWall=function(e){for(var t=e.chartAxisLayoutPanel.seriesClipRect,i=t.y+t.height,o=e.vector.vector3D(t.x+t.width,-e.depth,e.wallSize+i),t=e.vector.vector3D(t.x,-.1,i+1),r=e.polygon.createBox(t,o,e,0,e.wallColor||e.themeStyle.leftWallColor,e.wallColor||e.themeStyle.leftWallColor,0,.5,!1,"bottom-wall-brush",e.chart3D),n=0;n<r.length;n++)e.polygon.transform(e.matrixObj.tilt(Math.PI/2),r[n])};var Xv=Gv;function Gv(){}Zv.prototype.drawAxes=function(e,t,i){t.majorGridLines.width&&this.drawGridLines3D(t,i,e),t.visible&&t.internalVisibility&&t.majorTickLines.width&&this.renderTicks3D(t,t.majorTickLines.height,t.majorTickLines.width,i,e),t.visible&&t.internalVisibility&&(this.drawAxisLabel(t,i,e),this.drawAxisTitle(t,i,e))},Zv.prototype.drawAxisTitle=function(e,t,i){var o,r,n,a,l,s,h,c,d;e.title&&(o={size:e.titleStyle.size||t.themeStyle.axisTitleFont.size,fontWeight:e.titleStyle.fontWeight||t.themeStyle.axisTitleFont.fontWeight,fontStyle:e.titleStyle.fontStyle||t.themeStyle.axisTitleFont.fontStyle,fontFamily:e.titleStyle.fontFamily||t.themeStyle.axisTitleFont.fontFamily,color:e.titleStyle.color,opacity:e.titleStyle.opacity},r=e.opposedPosition||e.isAxisOpposedPosition,n={width:t.availableSize.width,height:t.availableSize.height},(s=t.transform3D.transform3D(n)).viewingArea=n,s.rotation=0,s.tilt=0,s.depth=100,s.perspectiveAngle=90,t.transform3D.transform(s),"horizontal"===e.orientation.toLowerCase()?(a=0,n=$.measureText(e.title,e.titleStyle,t.themeStyle.axisTitleFont).height/2,a=e.titleRotation?e.titlePadding+10+e.labelPadding+e.titleSize.height/2:e.titlePadding+n+e.labelPadding+10,s=e.maxLabelSize.height+a,l=(h={text:e.title,location:{x:e.rect.width/2,y:s+e.majorTickLines.height+t.wallSize}}).location.x+e.rect.x,c=r?e.rect.y-h.location.y:h.location.y+e.rect.y,(d={width:0,height:0,angle:e.titleRotation||0,label:h,textAnchor:"middle",tag:"text",font:o,id:t.element.id+"-svg-axis-title-"+i,child:t.chart3D}).font.color=d.font.color||t.themeStyle.axisTitle):(n=$.measureText(e.title,e.titleStyle,t.themeStyle.axisTitleFont),a=0,a=e.titleRotation?e.labelPadding+e.titlePadding+e.titleSize.width/2:e.titlePadding+e.labelPadding,l=r?e.rect.x+(10+e.maxLabelSize.width+e.majorTickLines.height+t.wallSize+a):e.rect.x-(10+e.maxLabelSize.width+e.majorTickLines.height+t.wallSize+a),s=(null==e.titleRotation?r?90:-90:e.titleRotation)%360,c=(h={text:e.title,location:{x:n.width/2,y:0}}).location.y+(e.rect.y+e.rect.height)+e.rect.height/2*-1,(d={width:n.width,height:n.height,angle:s,label:h,textAnchor:"middle",tag:"text",font:o,id:t.element.id+"-svg-axis-title-"+i,child:t.chart3D}).font.color=d.font.color||t.themeStyle.axisTitle),d.font.fontFamily=d.font.fontFamily||t.themeStyle.axisTitleFont.fontFamily,t.graphics.addVisual(t.polygon.createTextElement(t.vector.vector3D(l,c,0),d,10,10),t))},Zv.prototype.textTrim=function(e,t,i,o){var r,n=t.length;if($.measureText(t,i,o).width>e){for(var a=n-1;0<=a;--a)if(r=t.substring(0,a)+"...",$.measureText(r,i,o).width<=e)return r;return""}return t},Zv.prototype.multipleRows=function(e,t,i,o,r){for(var n,a,l=[],s=e-1;0<=s;s--)n=o.visibleLabels[s],a=$.measureText(n.text,o.labelStyle,r),t<Uv(s,o)*o.rect.width+o.rect.x+a.width/2?(n.index=n.index||0,l.push(n.index),i.index=i.index>n.index?i.index:n.index+1):i.index=(-1<l.indexOf(n.index)?i:n).index},Zv.prototype.drawAxisLabel=function(e,t,i){for(var o=[],r=e.visibleLabels.length,n=t.chartAxisLayoutPanel.seriesClipRect,a=e.opposedPosition||e.isAxisOpposedPosition,l=e.angle?5:10,s=n.y+(!a&&n.height),h=n.x+(a&&n.width),c=0;c<r;c++)if(!K.isNullOrUndefined(e.visibleLabels[c].text)){var d=0,p=0,u=(e.visibleLabels[c].originalText=e.visibleLabels[c].text,void 0),g=$.measureText(e.visibleLabels[c].text,e.labelStyle,t.themeStyle.axisLabelFont),m=(e.visibleLabels[c].value-e.visibleRange.min)/e.visibleRange.delta,m=e.isInversed||e.isAxisInverse?1-m:m,m=(m=isNaN(m)?0:m,u="horizontal"===e.orientation.toLowerCase()?(d=Math.round(e.rect.width*m)+n.x+e.plotOffset,p=a?s-t.wallSize-e.majorTickLines.height-e.labelPadding-l/2:s+t.wallSize+e.majorTickLines.height+l+e.labelPadding,"middle"):(p=Math.round(e.plotOffset+e.rect.y+g.height/4+e.rect.height*(1-m)),m=0,m=90===e.labelRotation||-90===e.labelRotation||270===e.labelRotation||-270===e.labelRotation?2*l:l,d=a?e.rect.x+e.majorTickLines.height+m+e.labelPadding:h-t.wallSize-e.majorTickLines.height-m+e.labelPadding,a?e.isRTLEnabled?"end":"start":e.isRTLEnabled?"start":"end"),o.push({x:d,y:p,size:g}),e.rect.width/e.visibleLabels.length-5),y=o[c];if((y.x-y.size.width/2<e.rect.x&&0===c||y.x+y.size.width/2>e.rect.x+e.rect.width&&c===e.visibleLabels.length-1)&&"Trim"!==e.labelIntersectAction&&e.labelIntersectAction.indexOf("wrap")<0){if("Hide"===e.edgeLabelPlacement)continue;"Shift"===e.edgeLabelPlacement&&(0===c?y.x=d=e.rect.x+y.size.width/2:c===e.visibleLabels.length-1&&(y.x=d=e.rect.x+e.rect.width-y.size.width/2))}if("horizontal"===e.orientation.toLowerCase())if(e.labelRotation){var f=e.labelRotation;p+=Hi(e.labelStyle,e.visibleLabels[c].text,f,t,t.themeStyle.axisLabelFont).height/2}else if("Trim"===e.labelIntersectAction)e.visibleLabels[c].text=this.textTrim(m,e.visibleLabels[c].text,e.labelStyle,t.themeStyle.axisLabelFont);else if(!e.angle||"Rotate45"!==e.labelIntersectAction&&"Rotate90"!==e.labelIntersectAction){if("MultipleRows"===e.labelIntersectAction)f=y.x,f-=g.width/2,this.multipleRows(c,f,e.visibleLabels[c],e,t.themeStyle.axisLabelFont),p=e.visibleLabels[c].index?p+e.visibleLabels[c].index*(g.height+5):p;else if("Hide"===e.labelIntersectAction){for(var v=!1,b=0;b<c;b++)if(o[b].x+o[b].size.width/2>=o[c].x-o[c].size.width/2){v=!0;break}if(v)continue}}else p+=Hi(e.labelStyle,e.visibleLabels[c].text,e.angle,t,t.themeStyle.axisLabelFont).height/2;m={size:e.visibleLabels[c].labelStyle.size,fontWeight:e.visibleLabels[c].labelStyle.fontWeight,fontStyle:e.visibleLabels[c].labelStyle.fontStyle,fontFamily:e.visibleLabels[c].labelStyle.fontFamily,color:e.visibleLabels[c].labelStyle.color,opacity:e.visibleLabels[c].labelStyle.opacity},y={width:g.width,height:g.height,label:e.visibleLabels[c],textAnchor:u,tag:"text",font:m,id:t.element.id+"-"+i+"-axis-label-"+c,child:t.chart3D,angle:e.angle};y.font.color=y.font.color||t.themeStyle.axisLabel,y.font.fontFamily=y.font.fontFamily||t.themeStyle.axisLabelFont.fontFamily,t.graphics.addVisual(t.polygon.createTextElement(t.vector.vector3D(d,p,0),y,10,10),t)}},Zv.prototype.renderTicks3D=function(e,t,i,o,r){var n=e.visibleLabels.length,a=o.chartAxisLayoutPanel.seriesClipRect,l="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;n+="Category"===e.valueType&&0<n&&"BetweenTicks"===e.labelPlacement?1:0;for(var s=0;s<n;s++){var h=0,c=0,d=0,p=0,u=(("DateTimeCategory"!==e.valueType?e.visibleLabels[s]?e.visibleLabels[s].value-l:e.visibleLabels[s-1].value+e.visibleRange.interval-l:e.visibleLabels[s].value?e.visibleLabels[s].value-l:e.visibleRange.max)-e.visibleRange.min)/e.visibleRange.delta,u=e.isInversed||e.isAxisInverse?1-u:u,g=(u=isNaN(u)?0:u,"horizontal"===e.orientation.toLowerCase()?c=h=Math.round(e.rect.width*u)+a.x+e.plotOffset:d=p=Math.round(e.plotOffset+e.rect.height*(1-u))+e.rect.y,this.calculatePosition3D(e,t,i,h,d,c,p,o)),m={width:e.majorTickLines.width,opacity:1,stroke:e.majorTickLines.color||o.themeStyle.majorTickLine,child:o.chart3D,tag:"line",id:""};if(m.id=o.element.id+"-"+r+"-major-tick-lines-"+s,o.graphics.addVisual(o.polygon.createLine(m,g.x1,g.y1,g.x2,g.y2,0),o),e.minorGridLines.width&&0<e.minorTicksPerInterval&&s<n-1)for(var y=e.visibleRange.interval/(e.minorTicksPerInterval+1),f=0;f<e.minorTicksPerInterval;f++){u=Uv(e.visibleLabels[s].value+y*(f+1),e),u=isNaN(u)?0:u,"horizontal"===e.orientation.toLowerCase()?h=c=Math.round(e.plotOffset+a.width*u+a.x):d=p=Math.round(e.plotOffset+a.height*(1-u))+e.rect.y;var v=this.calculatePosition3D(e,t,i,h,d,c,p,o),b={width:e.minorTickLines.width,opacity:.6,stroke:e.minorTickLines.color||o.themeStyle.minorTickLine,child:o.chart3D,tag:"line",id:""};b.id=o.element.id+"-"+r+"-minor-tick-lines-"+s+"-"+f,o.graphics.addVisual(o.polygon.createLine(b,v.x1,v.y1,v.x2,v.y2,0),o)}}},Zv.prototype.calculatePosition3D=function(e,t,i,o,r,n,a,l){var s=e.opposedPosition||e.isAxisOpposedPosition,h=l.chartAxisLayoutPanel.seriesClipRect,c=h.y+(!s&&h.height),h=h.x+(s&&h.width);return"horizontal"===e.orientation.toLowerCase()?(r=0,a=s?t:r+t,r+=e=s?c-l.wallSize-t:c+l.wallSize-t/2,a+=e,o=n=o):(o=0,n=s?o+t:t,o+=c=s?h+l.wallSize:h-l.wallSize-t,n+=c,r=a=r),{x1:o,y1:r,x2:n,y2:a}},Zv.prototype.drawGridLines3D=function(e,t,i){if(null!=e){var o=e.visibleLabels.length,r=e.opposedPosition||e.isAxisOpposedPosition,n=e.orientation,a="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,l=(o+="Category"===e.valueType&&0<o&&"BetweenTicks"===e.labelPlacement?1:0,t.chartAxisLayoutPanel.seriesClipRect);if("horizontal"===n.toLowerCase()){var s=void 0;for(s=0;s<o;s++){var h=Uv("DateTimeCategory"!==e.valueType?e.visibleLabels[s]?e.visibleLabels[s].value-a:e.visibleLabels[s-1].value+e.visibleRange.interval-a:e.visibleLabels[s].value?e.visibleLabels[s].value-a:e.visibleRange.max,e),c=(h=isNaN(h)?0:h,y=F=Math.round(e.rect.width*h)+l.x+e.plotOffset,f=l.y,v=l.y+l.height,2<t.depth?t.depth-2:1),d=l.y+(!r&&l.height),p=((x={opacity:1,width:e.majorGridLines.width,stroke:e.majorGridLines.color||t.themeStyle.majorGridLine,child:t.chart3D,tag:"line",id:""}).id=t.element.id+"-"+i+"-grid-lines-"+s,t.graphics.addVisual(t.polygon.createLine(x,F,f,y,v,c),t),{opacity:x.opacity,width:x.width,stroke:x.stroke,child:x.child,tag:x.tag,id:""}),u=(p.id=x.id+"-parallel",p.id=t.element.id+"-"+i+"-parallel-grid-lines-"+s,t.polygon.createLine(p,y,0,y,-c,d));if(t.polygon.transform(t.matrixObj.tilt(Math.PI/2),u),t.graphics.addVisual(u,t),e.minorGridLines.width&&0<e.minorTicksPerInterval&&s<o-1)for(var g=e.visibleRange.interval/(e.minorTicksPerInterval+1),m=0;m<e.minorTicksPerInterval;m++){h=Uv(e.visibleLabels[s].value+g*(m+1),e),h=isNaN(h)?0:h;var y=F=Math.round(l.width*h)+l.x,f=l.y,v=l.y+l.height,b={opacity:.6,width:e.minorGridLines.width,stroke:e.minorGridLines.color||t.themeStyle.minorGridLine,child:t.chart3D,tag:"line",id:""},b=(b.id=t.element.id+"-"+i+"-minor-grid-lines-"+s+"-"+m,t.graphics.addVisual(t.polygon.createLine(b,F,f,y,v,c),t),{opacity:b.opacity,width:b.width,stroke:b.stroke,child:b.child,tag:b.tag,id:""}),b=(b.id=t.element.id+"-"+i+"-parallel-minor-grid-lines-"+s+"-"+m,t.polygon.createLine(b,y,0,y,-c,d));t.polygon.transform(t.matrixObj.tilt(Math.PI/2),b),t.graphics.addVisual(b,t)}}}else for(s=0;s<o;s++){var x,h=((e.visibleLabels[s]?e.visibleLabels[s].value-a:e.visibleLabels[s-1].value+e.visibleRange.interval-a)-e.visibleRange.min)/e.visibleRange.delta,c=(F=l.x,f=Math.round(e.rect.height*(1-h))+.5,f+=e.rect.y,y=F+l.width,v=f,2<t.depth?t.depth-2:1),S=((x={opacity:1,width:e.majorGridLines.width,stroke:e.majorGridLines.color||t.themeStyle.majorGridLine,axisName:e.name,child:t.chart3D,tag:"line",id:""}).id=t.element.id+"-"+i+"-grid-lines-"+s,t.graphics.addVisual(t.polygon.createLine(x,F,f,y,v,c),t),l.x+(r&&l.width+1)),C={opacity:x.opacity,width:x.width,stroke:x.stroke,child:x.child,tag:x.tag,id:""},u=(C.id=t.element.id+"-"+i+"-parallel-grid-lines-"+s,t.polygon.createLine(C,-c,v,0,v,S));if(t.polygon.transform(t.matrixObj.turn(-Math.PI/2),u),t.graphics.addVisual(u,t),e.minorGridLines.width&&0<e.minorTicksPerInterval&&s<o-1){g=e.visibleRange.interval/(e.minorTicksPerInterval+1);for(m=0;m<e.minorTicksPerInterval;m++){var w=Uv(e.visibleLabels[s].value+g*(m+1),e),F=l.x,w=(f=Math.round(e.rect.height*(1-w))+.5,f+=e.rect.y,y=F+l.width,v=f,{opacity:.6,width:e.minorGridLines.width,stroke:e.minorGridLines.color||t.themeStyle.minorGridLine,axisName:e.name,child:t.chart3D,tag:"line",id:""}),w=(w.id=t.element.id+"-"+i+"-minor-grid-lines-"+s+"-"+m,t.graphics.addVisual(t.polygon.createLine(w,F,f,y,v,c),t),{opacity:w.opacity,width:w.width,stroke:w.stroke,child:w.child,tag:w.tag,id:""}),w=(w.id=t.element.id+"-"+i+"-parallel-minor-grid-lines-"+s+m,t.polygon.createLine(w,-c,v,0,v,S));t.polygon.transform(t.matrixObj.turn(-Math.PI/2),w),t.graphics.addVisual(w,t)}}}}};var Yv=Zv;function Zv(){}Object.defineProperty(Qv.prototype,"start",{get:function(){return this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(Qv.prototype,"end",{get:function(){return this.mEnd},enumerable:!0,configurable:!0}),Object.defineProperty(Qv.prototype,"delta",{get:function(){return this.mEnd-this.mStart},enumerable:!0,configurable:!0});var qv=Qv;function Qv(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}$v.prototype.calculateNumericNiceInterval=function(e,t,i){var o=To(i,e),r=t/o;if(K.isNullOrUndefined(e.desiredIntervals))for(var n=Math.pow(10,Math.floor(ji(r,10))),a=0,l=e.intervalDivs;a<l.length;a++){var s=n*l[a];if(o<t/s)break;r=s}return r},$v.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),!e.startFromZero&&0<this.isColumn?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.doubleRange.start-e.actualRange.interval<0&&0<e.doubleRange.start?e.actualRange.min=0:e.actualRange.min=e.doubleRange.start-(this.isStacking?0:e.actualRange.interval)):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)},$v.prototype.initializeDoubleRange=function(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=-1<e.valueType.indexOf("Category")?this.max:this.min+1),e.doubleRange=new qv(this.min,this.max),e.actualRange={}},$v.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},$v.prototype.calculateRange=function(e){if(this.min=null,this.max=null,!ko(e))for(var t=0,i=e.series;t<i.length;t++){var o=i[t];o.visible&&(this.paddingInterval=0,K.isNullOrUndefined(o.points)||(e.maxPointLength=o.points.length),e.maxPointLength=o.points.length,!(-1<o.type.indexOf("Column")&&"Horizontal"===e.orientation||-1<o.type.indexOf("Bar")&&"Vertical"===e.orientation)||"Double"!==o.xAxis.valueType&&"DateTime"!==o.xAxis.valueType||"Auto"!==o.xAxis.rangePadding||(this.paddingInterval=.5*Wv(o.xAxis,e.series)),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,o):this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval)),"Vertical"===e.orientation)&&(this.isColumn+=-1!==o.type.indexOf("Column")||-1!==o.type.indexOf("Bar")?1:0,this.isStacking=-1!==o.type.indexOf("Stacking"),this.chart.requireInvertedAxis?this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval):this.yAxisRange(e,o))}},$v.prototype.yAxisRange=function(e,t){this.findMinMax(t.yMin,t.yMax)},$v.prototype.findMinMax=function(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t),this.max===this.min&&this.max<0&&this.min<0&&(this.max=0)},$v.prototype.applyRangePadding=function(e,t){var i,o,r=e.actualRange.min,n=e.actualRange.max;ko(e)||(i=e.actualRange.interval,"Additional"===(o=e.getRangePadding(this.chart))||"Round"===o?this.findAdditional(e,r,n,i,t):"Normal"===o?this.findNormal(e,r,n,i,t):this.updateActualRange(e,r,n,i)),e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)},$v.prototype.updateActualRange=function(e,t,i,o){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:o,delta:e.actualRange.delta}},$v.prototype.findAdditional=function(e,t,i,o,r){t=Math.floor(t/o)*o,i=Math.ceil(i/o)*o;"Additional"===e.rangePadding&&(t-=o,i+=o),K.isNullOrUndefined(e.desiredIntervals)||(o=this.calculateNumericNiceInterval(e,i-t,r)),this.updateActualRange(e,t,i,o)},$v.prototype.findNormal=function(e,t,i,o,r){var n,a=t;t<0?(o+(n=t+.05*t)%o<=.365*o&&(n-=o),n%o<(a=0)&&(n=n-o-n%o)):0<(n=t<5/6*i?0:t-.5*(i-t))%o&&(n-=n%o),o-(t=0<i?i+.05*(i-a):i-.05*(i-a))%o<=.365*o&&(t+=o),e.doubleRange=new qv(n,t=0<t%o?t+o-t%o:t),(0===n||n<0&&t<0)&&(o=this.calculateNumericNiceInterval(e,e.doubleRange.delta,r),t=Math.ceil(t/o)*o),this.updateActualRange(e,n,t,o)},$v.prototype.calculateVisibleRange=function(e,t){if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},t.maximum&&"Vertical"===t.orientation&&"Auto"===t.rangePadding){for(var i=void 0,o=t.visibleRange.min;o<=t.visibleRange.max&&i!==o;o+=t.visibleRange.interval)i=o;i<t.visibleRange.max&&(t.visibleRange.max=i+t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},$v.prototype.calculateVisibleLabels=function(e,t){e.visibleLabels=[];var i,o,r=e.visibleRange.min,n=this.getFormat(e),a=null!==n.match("{value}"),l=0,s=0;for(e.labelFormat&&-1<e.labelFormat.indexOf("n")&&(s=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:a?"":n,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&0<=(e.visibleRange.interval+"").indexOf(".")&&(l=(e.visibleRange.interval+"").split(".")[1].length);r<=e.visibleRange.max&&o!==r;r+=e.visibleRange.interval)o=r,i=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(r,e.visibleRange)&&Do(t,r,this.formatValue(e,a,n,r),i,e);r&&0<=(r+"").indexOf(".")&&10<(r+"").split(".")[1].length&&(r=(r+"").split(".")[1].length>(s||l)?+r.toFixed(s||l):r)<=e.visibleRange.max&&Do(t,r,this.formatValue(e,a,n,r),i,e),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},$v.prototype.getFormat=function(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""},$v.prototype.formatValue=function(e,t,i,o){var r=o%1?Number(o.toLocaleString().split(",").join("")):o;return t?i.replace("{value}",e.format(r)):i?e.format(o):e.format(r)},$v.prototype.getModuleName=function(){return"Double3D"};var Kv=$v;function $v(e){this.isColumn=0,this.isStacking=!1,this.chart=e}Jv=function(e,t){return(Jv=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Jv,eb,hv=function(e,t){function i(){this.constructor=e}Jv(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},C=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},tb=(eb=K.ChildProperty,hv(ib,eb),ib.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.majorTickLines.height+e.findLabelSize(5,t)),(e.isAxisOpposedPosition?this.farSizes:this.nearSizes).push(i)},C([K.Property("100%")],ib.prototype,"height",void 0),ib);function ib(){var e=null!==eb&&eb.apply(this,arguments)||this;return e.axes=[],e.nearSizes=[],e.farSizes=[],e}ob=K.ChildProperty,hv(nb,ob),nb.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.majorTickLines.height+e.findLabelSize(5,t)),(e.isAxisOpposedPosition?this.farSizes:this.nearSizes).push(i)},C([K.Property("100%")],nb.prototype,"width",void 0);var ob,rb=nb;function nb(){var e=null!==ob&&ob.apply(this,arguments)||this;return e.axes=[],e.nearSizes=[],e.farSizes=[],e}ab=K.ChildProperty,hv(sb,ab),C([K.Property(1)],sb.prototype,"width",void 0),C([K.Property(null)],sb.prototype,"color",void 0);var ab,lb=sb;function sb(){return null!==ab&&ab.apply(this,arguments)||this}hb=K.ChildProperty,hv(db,hb),C([K.Property(.7)],db.prototype,"width",void 0),C([K.Property(null)],db.prototype,"color",void 0);var hb,cb=db;function db(){return null!==hb&&hb.apply(this,arguments)||this}pb=K.ChildProperty,hv(gb,pb),C([K.Property(0)],gb.prototype,"width",void 0),C([K.Property(5)],gb.prototype,"height",void 0),C([K.Property(null)],gb.prototype,"color",void 0);var pb,ub=gb;function gb(){return null!==pb&&pb.apply(this,arguments)||this}mb=K.ChildProperty,hv(fb,mb),C([K.Property(0)],fb.prototype,"width",void 0),C([K.Property(5)],fb.prototype,"height",void 0),C([K.Property(null)],fb.prototype,"color",void 0);var mb,yb=fb;function fb(){return null!==mb&&mb.apply(this,arguments)||this}vb=K.ChildProperty,hv(bb,vb),bb.prototype.findLabelSize=function(e,t){var i,o=0,r="Horizontal"===this.orientation;return this.title&&(i=this.titleRotation,o=K.isNullOrUndefined(i)?(this.titleSize=$.measureText(this.title,this.titleStyle,t.themeStyle.axisTitleFont),this.titleSize.height+e):(this.titleSize=Hi(this.titleStyle,this.title,i,t,t.themeStyle.axisTitleFont),("Vertical"===this.orientation?this.titleSize.width:this.titleSize.height)+e),this.rect.width||this.rect.height)&&(i=r?this.rect.width:this.rect.height,this.titleCollection=fr(this.title,this.titleStyle,i,t.enableRtl,t.themeStyle.axisTitleFont),o*=this.titleCollection.length),o+e+this.titlePadding+this.labelPadding+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)},bb.prototype.triggerRangeRender=function(e,t,i,o){t={cancel:!1,axis:this,minimum:t,maximum:i,interval:o};e.trigger(pt,t),t.cancel||(this.visibleRange={min:t.minimum,max:t.maximum,interval:t.interval,delta:t.maximum-t.minimum})},bb.prototype.getRangePadding=function(e){var t=this.rangePadding;if("Auto"===t)switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100?"Round":"Normal"}return t},bb.prototype.getMaxLabelWidth=function(e){for(var t,i,o=0,r=!1,n=(this.angle=this.labelRotation,this.maxLabelSize=new $.Size(0,0),this.labelIntersectAction),a=0,l=this.visibleLabels.length;a<l;a++){(t=Ni((i=this.visibleLabels[a]).originalText))?(i.size=$.measureText(i.originalText.replace(/<br>/g," "),this.labelStyle,e.themeStyle.axisLabelFont),i.breakLabelSize=$.measureText(this.enableTrim?i.text.join("<br>"):i.originalText,this.labelStyle,e.themeStyle.axisLabelFont)):i.size=$.measureText(i.text,this.labelStyle,e.themeStyle.axisLabelFont);var s=(t?i.breakLabelSize:i.size).width,s=(s>this.maxLabelSize.width&&(this.maxLabelSize.width=s,this.rotatedLabel=i.text),(t?i.breakLabelSize:i.size).height);if(s>this.maxLabelSize.height&&(this.maxLabelSize.height=s),t&&(i.text=this.enableTrim?i.text:i.originalText.split("<br>")),"None"!==n&&"Hide"!==n&&"Trim"!==n&&(("None"!==n||this.angle%360==0)&&"Horizontal"===this.orientation&&0<this.rect.width&&!r)){var h=(t?i.breakLabelSize:i.size).width,c=Uv(i.value,this)*this.rect.width+this.rect.x;switch(c-=h/2,"Shift"===this.edgeLabelPlacement&&(0===a&&c<this.rect.x&&(c=this.rect.x),a===this.visibleLabels.length-1)&&c+h>this.rect.x+this.rect.width&&(c=this.rect.x+this.rect.width-h),n){case"MultipleRows":0<a&&this.findMultiRows(a,c,i,t);break;case"Rotate45":case"Rotate90":0<a&&(this.isAxisInverse?o<=c+h:c<=o)&&(this.angle="Rotate45"===n?45:90,r=!0);break;default:if(t){for(var d,p,u=[],g=0;g<i.text.length;g++)if(1<(d=br(i.text[g],this.rect.width/this.visibleLabels.length,this.labelStyle,e.enableRtl,null,null,e.themeStyle.axisLabelFont)).length)for(var m=0;m<d.length;m++)p=d[m],u.push(p);else u.push(d[0]);i.text=u}else i.text=br(i.text,this.rect.width/this.visibleLabels.length,this.labelStyle,e.enableRtl,null,null,e.themeStyle.axisLabelFont);var y=i.size.height*i.text.length;y>this.maxLabelSize.height&&(this.maxLabelSize.height=y)}o=this.isAxisInverse?c:c+h}}(0!==this.angle&&"Horizontal"===this.orientation||0!==this.angle&&"Vertical"===this.orientation)&&(this.rotatedLabel=K.isNullOrUndefined(this.rotatedLabel)?"":this.rotatedLabel,-360!==this.angle&&0!==this.angle&&-180!==this.angle&&180!==this.angle&&360!==this.angle&&Ni(this.rotatedLabel)&&(this.maxLabelSize=new $.Size(this.maxLabelSize.height,this.maxLabelSize.width)),this.maxLabelSize=Hi(this.labelStyle,this.rotatedLabel,this.angle,e,e.themeStyle.axisLabelFont))},bb.prototype.findMultiRows=function(e,t,i,o){for(var r,n,a,l=[],s=e-1;0<=s;s--)r=this.visibleLabels[s],a=(o?r.breakLabelSize:r.size).width,n=Uv(r.value,this)*this.rect.width+this.rect.x,(this.isAxisInverse?t+i.size.width>n-.5*a:t<n+.5*a)?(l.push(r.index),i.index=i.index>r.index?i.index:r.index+1):i.index=(-1<l.indexOf(r.index)?i:r).index;e=(o?i.breakLabelSize:i.size).height*i.index+5*(i.index-1);e>this.maxLabelSize.height&&(this.maxLabelSize.height=e)},bb.prototype.getModule=function(e){"Double"===this.valueType?this.baseModule=new Kv(e):this.baseModule=e[bo(this.valueType)+"3DModule"]},bb.prototype.setIsInversedAndOpposedPosition=function(){this.isAxisOpposedPosition=this.opposedPosition||this.isRTLEnabled&&"Vertical"===this.orientation,this.isAxisInverse=this.isInversed||this.isRTLEnabled&&"Horizontal"===this.orientation},C([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},cv)],bb.prototype,"labelStyle",void 0),C([K.Property("")],bb.prototype,"title",void 0),C([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},cv)],bb.prototype,"titleStyle",void 0),C([K.Property("")],bb.prototype,"labelFormat",void 0),C([K.Property("")],bb.prototype,"skeleton",void 0),C([K.Property("DateTime")],bb.prototype,"skeletonType",void 0),C([K.Property(0)],bb.prototype,"plotOffset",void 0),C([K.Property(null)],bb.prototype,"plotOffsetLeft",void 0),C([K.Property(null)],bb.prototype,"plotOffsetTop",void 0),C([K.Property(null)],bb.prototype,"plotOffsetRight",void 0),C([K.Property(null)],bb.prototype,"plotOffsetBottom",void 0),C([K.Property(!1)],bb.prototype,"isIndexed",void 0),C([K.Property(10)],bb.prototype,"logBase",void 0),C([K.Property(0)],bb.prototype,"columnIndex",void 0),C([K.Property(0)],bb.prototype,"rowIndex",void 0),C([K.Property(1)],bb.prototype,"span",void 0),C([K.Property(null)],bb.prototype,"desiredIntervals",void 0),C([K.Property(3)],bb.prototype,"maximumLabels",void 0),C([K.Property(!1)],bb.prototype,"opposedPosition",void 0),C([K.Property("Auto")],bb.prototype,"rangePadding",void 0),C([K.Property("Double")],bb.prototype,"valueType",void 0),C([K.Property("None")],bb.prototype,"edgeLabelPlacement",void 0),C([K.Property("Auto")],bb.prototype,"intervalType",void 0),C([K.Property("OnTicks")],bb.prototype,"labelPlacement",void 0),C([K.Property("")],bb.prototype,"name",void 0),C([K.Property(!0)],bb.prototype,"visible",void 0),C([K.Property(0)],bb.prototype,"minorTicksPerInterval",void 0),C([K.Property(0)],bb.prototype,"labelRotation",void 0),C([K.Property(null)],bb.prototype,"titleRotation",void 0),C([K.Property(null)],bb.prototype,"minimum",void 0),C([K.Property(null)],bb.prototype,"maximum",void 0),C([K.Property(null)],bb.prototype,"interval",void 0),C([K.Property(34)],bb.prototype,"maximumLabelWidth",void 0),C([K.Property(!1)],bb.prototype,"enableTrim",void 0),C([K.Property(5)],bb.prototype,"labelPadding",void 0),C([K.Property(5)],bb.prototype,"titlePadding",void 0),C([K.Complex({},ub)],bb.prototype,"majorTickLines",void 0),C([K.Complex({},yb)],bb.prototype,"minorTickLines",void 0),C([K.Complex({},lb)],bb.prototype,"majorGridLines",void 0),C([K.Complex({},cb)],bb.prototype,"minorGridLines",void 0),C([K.Property(K.Browser.isDevice?"Rotate45":"Trim")],bb.prototype,"labelIntersectAction",void 0),C([K.Property(!1)],bb.prototype,"isInversed",void 0),C([K.Property(!0)],bb.prototype,"startFromZero",void 0);var vb,hv=bb;function bb(e,t,i,o){e=vb.call(this,e,t,i,o)||this;return e.visibleLabels=[],e.series=[],e.rect=new $.Rect(void 0,void 0,0,0),e.isStack100=!1,e.updatedRect=null,e.isIntervalInDecimal=!0,e.intervalDivs=[10,5,2,1],e.titleCollection=[],e.titleSize=new $.Size(0,0),e.internalVisibility=!0,e.isRTLEnabled=!1,e.angle=e.labelRotation,e}function xb(e,t,i,o,r,n,a){void 0===r&&(r=new $.Size(0,0)),void 0===n&&(n=new $.Size(0,0)),void 0===a&&(a=1),this.text=e,this.originalText=o,this.value=t,this.labelStyle=i,this.size=r,this.breakLabelSize=n,this.index=a}Sb=function(e,t){return(Sb=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Sb,Cb,C=function(e,t){function i(){this.constructor=e}Sb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},F=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},wb=(Cb=K.ChildProperty,C(Fb,Cb),F([K.Property(!1)],Fb.prototype,"visible",void 0),F([K.Property(null)],Fb.prototype,"name",void 0),F([K.Property("transparent")],Fb.prototype,"fill",void 0),F([K.Property(null)],Fb.prototype,"format",void 0),F([K.Property(1)],Fb.prototype,"opacity",void 0),F([K.Property(0)],Fb.prototype,"angle",void 0),F([K.Property(!1)],Fb.prototype,"enableRotation",void 0),F([K.Property("Middle")],Fb.prototype,"position",void 0),F([K.Complex({width:null,color:null},ae)],Fb.prototype,"border",void 0),F([K.Complex({left:5,right:5,top:5,bottom:5},me)],Fb.prototype,"margin",void 0),F([K.Complex({size:null,color:null,fontStyle:null,fontWeight:null,fontFamily:null},cv)],Fb.prototype,"font",void 0),F([K.Property(null)],Fb.prototype,"template",void 0),Fb);function Fb(){return null!==Cb&&Cb.apply(this,arguments)||this}Lb=K.ChildProperty,C(Ab,Lb),F([K.Property(null)],Ab.prototype,"fill",void 0),F([K.Property("Gap")],Ab.prototype,"mode",void 0);var Lb,Pb=Ab;function Ab(){return null!==Lb&&Lb.apply(this,arguments)||this}var Mb,Db=function(){this.symbolLocations=null,this.percentage=null,this.isSelect=!1},kb=(Mb=K.ChildProperty,C(L,Mb),L.prototype.processJsonData=function(){var e=0,t=new Db,i=this.xName,o=this instanceof L&&this.dataLabel.name?this.dataLabel.name:"",r=(this.currentViewData||[]).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,"Category"===this.xAxis.valueType)for(;e<r;)t=this.dataPoint(e,o,i),this.pushCategoryData(t,e,t.x),this.pushData(t,e),this.setEmptyPoint(t,e),e++;else if(-1<this.xAxis.valueType.indexOf("DateTime"))for(var n={skeleton:"full",type:"dateTime"},a=this.chart.intl.getDateParser(n),l=this.chart.intl.getDateFormat(n);e<r;)t=this.dataPoint(e,o,i),K.isNullOrUndefined(t.x)||""===t.x?t.visible=!1:(t.x=new Date(R.DataUtil.parse.parseJson({val:t.x}).val),"DateTime"===this.xAxis.valueType?t.xValue=Date.parse(t.x.toString()):this.pushCategoryData(t,e,Date.parse(a(l(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(t,e)),e++;else for(;e<r;)(t=this.dataPoint(e,o,i)).xValue=t.x,this.pushData(t,e),this.setEmptyPoint(t,e),e++},L.prototype.pushData=function(e,t){e.index=t,e.yValue=e.y,(e.series=this).xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)},L.prototype.dataPoint=function(e,t,i){this.points[e]=new Db;var o=this.points[e],e=this.currentViewData[e],r=this.get3DObjectValue;return o.x=r(i,e),o.interior=r(this.pointColorMapping,e),this instanceof L&&(o.y=r(this.yName,e),o.size=r(this.size,e),o.text=r(t,e),o.tooltip=r(this.tooltipMappingName,e)),o},L.prototype.get3DObjectValue=function(e,t){return t[e]},L.prototype.setEmptyPoint=function(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,(this instanceof L&&this).emptyPointSettings.mode){case"Zero":e.visible=!0,e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof L&&(e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}},L.prototype.findVisibility=function(e){return this.setXYMinMax(e.yValue),this.yData.push(e.yValue),K.isNullOrUndefined(e.x)||K.isNullOrUndefined(e.y)||isNaN(+e.y)},L.prototype.setXYMinMax=function(e){var t="Logarithmic"===this.yAxis.valueType||"Logarithmic"===this.xAxis.valueType,i=e<0||"None"===this.yAxis.rangePadding,i=ko(this.yAxis)||t||i?e:0;this.yMin=t?Math.min(this.yMin,K.isNullOrUndefined(i)||isNaN(i)||0===i||"0"===i.toString()||""===i.toString()?this.yMin:i):Math.min(this.yMin,K.isNullOrUndefined(i)||isNaN(i)?this.yMin:i),this.yMax=Math.max(this.yMax,K.isNullOrUndefined(e)||isNaN(e)?this.yMax:e)},L.prototype.pushCategoryData=function(e,t,i){if(this.chart.tooltip&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(void 0===this.xAxis.indexLabels[i]&&(this.xAxis.indexLabels[i]=this.xAxis.labels.length,this.xAxis.labels.push(i)),e.xValue=this.xAxis.indexLabels[i])},L.prototype.getAverage=function(e,t,i){return(((i=void 0===i?this.currentViewData:i)[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2},L.prototype.refreshDataManager=function(e){var t=this,e=(this.chart=e).isAngular?(Object.keys(this.dataSource).length?this:e).dataSource:this.dataSource||e.dataSource;e instanceof R.DataManager||!K.isNullOrUndefined(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(function(e){return t.dataManagerSuccess(e)}):this.dataManagerSuccess({result:e,count:e.length},!1)},L.prototype.dataManagerSuccess=function(e,t){void 0===t&&(t=!0),this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof L&&(e={series:this,data:this.currentViewData,fill:this.interior},this.chart.trigger(ht,e),this.interior=e.fill,this.currentViewData=e.data),this.processJsonData(),this.refreshChart(t),this.currentViewData=null},L.prototype.refreshChart=function(e){var t=this.chart;this instanceof L&&(t.visibleSeriesCount+=e?1:0),t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t})),this instanceof L&&(t.visibleSeriesCount+=e?0:1)},L.prototype.refreshAxisLabel=function(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var e=0,t=this.xAxis.series;e<t.length;e++){var i=t[e];if(i.visible){i.xMin=1/0,i.xMax=-1/0;for(var o=0,r=i.points;o<r.length;o++){var n=r[o];i.pushCategoryData(n,n.index,n.x),i.xMin=Math.min(i.xMin,n.xValue),i.xMax=Math.max(i.xMax,n.xValue)}}}},L.prototype.findSeriesCollection=function(e,t,i){for(var o=[],r=0,n=t.axes;r<n.length;r++)for(var a=0,l=n[r].series;a<l.length;a++)for(var s=l[a],h=0,c=e.axes;h<c.length;h++)for(var d=0,p=c[h].series;d<p.length;d++){var u=p[d];u===s&&u.visible&&this.rectSeriesInChart(u,i)&&o.push(u)}return o},L.prototype.rectSeriesInChart=function(e,t){e=e.type.toLowerCase();return-1!==e.indexOf("column")||-1!==e.indexOf("bar")||t},L.prototype.calculateStackedValue=function(e,t){for(var i=0,o=t.columns;i<o.length;i++)for(var r=o[i],n=0,a=t.rows;n<a.length;n++){var l=a[n];this.calculateStackingValues(this.findSeriesCollection(r,l,!0),e)}},L.prototype.calculateStackingValues=function(e,t){for(var i,o,r,n,a,l,s=[],h=[],c=[],d=(t&&(c=this.findFrequencies(e)),[]),p=[],u=0;u<e.length;u++)d[(y=e[u]).stackingGroup]?void 0!==d[y.stackingGroup]&&d[y.stackingGroup].push(y):(d[y.stackingGroup]=[],d[y.stackingGroup].push(y));for(var g=Object.keys(d),m=0;m<g.length;m++){for(var y,f=[],v=[],b=0,x=d[g[m]];b<x.length;b++)if(-1!==(y=x[b]).type.indexOf("Stacking")){s[n=y.stackingGroup]||(s[n]=[],h[n]=[]),r=y.yData,i=[],o=[],f.push(y);for(var S=0,C=(p=Vi(y)).length;S<C;S++)l=+r[S],void(a=0)===s[n][p[S].xValue]&&(s[n][p[S].xValue]=0),void 0===h[n][p[S].xValue]&&(h[n][p[S].xValue]=0),t?(l=l/c[n][p[S].xValue]*100,l=isNaN(l)?0:l,p[S].percentage=+l.toFixed(2)):v[S]=v[S]?v[S]+Math.abs(l):Math.abs(l),0<=l?(a=s[n][p[S].xValue],s[n][p[S].xValue]+=l):(a=h[n][p[S].xValue],h[n][p[S].xValue]+=l),i.push(a),o.push(l+a),t&&100<o[S]&&(o[S]=100);y.stackedValues=new Lr(i,o);var w="Logarithmic"===y.yAxis.valueType,F=-1!==y.type.indexOf("Column")||-1!==y.type.indexOf("Bar");y.yMin=w&&F&&y.yMin<1?y.yMin:Math.min.apply(0,t?i:o),y.yMax=Math.max.apply(0,o),y.yMin>Math.min.apply(0,o)&&(y.yMin=t?-100:w&&F&&y.yMin<1?y.yMin:Math.min.apply(0,o)),y.yMax<Math.max.apply(0,i)&&(y.yMax=0)}this.findPercentageOfStacking(f,v,t)}},L.prototype.findPercentageOfStacking=function(e,t,i){for(var o=0,r=e;o<r.length;o++){var n=r[o];if(i)return null;for(var a=0,l=Vi(n);a<l.length;a++){var s=l[a];s.percentage=Math.abs(+(s.y/t[s.index]*100).toFixed(2))}}},L.prototype.findFrequencies=function(e){for(var t,i,o=[],r=0,n=e;r<n.length;r++){var a=n[r];if(a.yAxis.isStack100=-1!==a.type.indexOf("100"),i=this.getVisiblePoints(),-1!==a.type.indexOf("Stacking")){o[t=a.stackingGroup]||(o[t]=[]);for(var l=0,s=i.length;l<s;l++)void 0===o[t][i[l].xValue]&&(o[t][i[l].xValue]=0),0<a.yData[l]?o[t][i[l].xValue]+=a.yData[l]:o[t][i[l].xValue]-=a.yData[l]}}return o},L.prototype.renderSeries=function(e){var t=bo(this.type);e[(t=t.replace("100",""))+"Series3DModule"]&&(this.visiblePoints=this.getVisiblePoints(),e[t+"Series3DModule"].draw(this,e),this.dataLabel.visible)&&this.visible&&e.dataLabel3DModule.render(this,this.chart,this.dataLabel)},L.prototype.getVisiblePoints=function(){for(var e,t=K.extend([],this.points,null,!0),i=[],o=0,r=0;r<t.length;r++)e=t[r],K.isNullOrUndefined(e.x)||(e.index=o++,i.push(e));return i},L.prototype.setPointColor=function(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t},L.prototype.getYValues=function(e){for(var t=[],i=e.length,o=0;o<i;o++)t.push(e[o].yValue);return t},L.prototype.getXValues=function(e){for(var t=[],i=e.length,o=0;o<i;o++)t.push(e[o].xValue);return t},L.prototype.getSegmentDepth=function(e){var t,i,o,r=this.chart.depth;return r=this.chart.enableSideBySidePlacement?(t=o=r/4,o*("Rectangle"===e.columnFacet?2.5:3)):(i=e.position-1,(t=(o=r/(2*(r=e.rectCount)+r+1))+o*i*3)+o*("Rectangle"===e.columnFacet?1.5:2)),{start:t,end:r,delta:r-t}},L.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,o=t.columns;i<o.length;i++)for(var r=o[i],n=0,a=t.rows;n<a.length;n++){var l=a[n];this.findRectPosition(e.findSeriesCollection(r,l,!1))}},L.prototype.findRectPosition=function(e){for(var t,i=[],o={rectCount:0,position:null},r=0;r<e.length;r++)-1!==(n=e[r]).type.indexOf("Stacking")||""!==n.groupName?(t=-1!==n.type.indexOf("Stacking")?n.stackingGroup:n.type+n.groupName)?void 0===i[t]?(n.position=o.rectCount,i[t]=o.rectCount++):n.position=i[t]:null===o.position?(o.rectCount++,n.position=o.rectCount,o.position=o.rectCount):n.position=o.position:(o.rectCount++,n.position=o.rectCount);for(var n,r=0;r<e.length;r++)(n=e[r]).rectCount=o.rectCount},L.prototype.getDoubleRange=function(e,t){var i,e=t<e?(i=t,e):(i=e,t);return{start:i,end:e,delta:e-i,median:(i+e)/2,isEmpty:isNaN(i)||isNaN(e)}},L.prototype.setStyle=function(e){return{interior:e.interior,opacity:e.opacity,dashArray:""}},L.prototype.getSideBySideInfo=function(e){var t=Wv((this.chart.currentSeries=e).xAxis,this.chart.visibleSeries),i=e.columnSpacing,o=null===e.columnWidth||isNaN(+e.columnWidth)?.7:Math.min(e.columnWidth,1),r=(this.getSideBySidePositions(e),e.position),n=e.rectCount,t=t*o,o=(r-(""===e.stackingGroup?1:0))/n-.5,r=this.getDoubleRange(o,o+1/n);return this.chart.enableSideBySidePlacement?(r.isEmpty||(e=i*(r=this.getDoubleRange(r.start*t,r.end*t)).delta,r=this.getDoubleRange(r.start+e/2,r.end-e/2)),r):this.getDoubleRange(-t/2,t/2)},F([K.Property("")],L.prototype,"xName",void 0),F([K.Property("")],L.prototype,"pointColorMapping",void 0),F([K.Property(!0)],L.prototype,"visible",void 0),F([K.Property(null)],L.prototype,"xAxisName",void 0),F([K.Property(null)],L.prototype,"yAxisName",void 0),F([K.Complex({duration:2e3},Se)],L.prototype,"animation",void 0),F([K.Property(null)],L.prototype,"fill",void 0),F([K.Property("")],L.prototype,"dataSource",void 0),F([K.Property()],L.prototype,"query",void 0),F([K.Complex({},wb)],L.prototype,"dataLabel",void 0),F([K.Property("")],L.prototype,"name",void 0),F([K.Property("")],L.prototype,"yName",void 0),F([K.Property("")],L.prototype,"size",void 0),F([K.Property("")],L.prototype,"stackingGroup",void 0),F([K.Property(1)],L.prototype,"opacity",void 0),F([K.Property("")],L.prototype,"groupName",void 0),F([K.Property("Column")],L.prototype,"type",void 0),F([K.Property(!0)],L.prototype,"enableTooltip",void 0),F([K.Property("")],L.prototype,"tooltipFormat",void 0),F([K.Property("")],L.prototype,"tooltipMappingName",void 0),F([K.Property("SeriesType")],L.prototype,"legendShape",void 0),F([K.Property("")],L.prototype,"legendImageUrl",void 0),F([K.Complex(null,Pb)],L.prototype,"emptyPointSettings",void 0),F([K.Property(null)],L.prototype,"columnWidth",void 0),F([K.Property("Rectangle")],L.prototype,"columnFacet",void 0),F([K.Property(.1)],L.prototype,"columnSpacing",void 0),L);function L(e,t,i,o){e=Mb.call(this,e,t,i,o)||this;return e.currentViewData=[],e.clipRect=new $.Rect(0,0,0,0),e.visibleSeriesCount=0,e.category="Series",e.isRectSeries=!1,e.all=!1,e}Rb=function(e,t){return(Rb=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Rb,Tb,C=function(e,t){function i(){this.constructor=e}Rb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},F=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},F=(Tb=K.ChildProperty,C(_b,Tb),F([K.Property(!1)],_b.prototype,"enable",void 0),F([K.Property(!0)],_b.prototype,"enableMarker",void 0),F([K.Property(null)],_b.prototype,"fill",void 0),F([K.Property(null)],_b.prototype,"header",void 0),F([K.Property(null)],_b.prototype,"opacity",void 0),F([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:null,color:null},oe)],_b.prototype,"textStyle",void 0),F([K.Property(null)],_b.prototype,"format",void 0),F([K.Property(null)],_b.prototype,"template",void 0),F([K.Property(!0)],_b.prototype,"enableAnimation",void 0),F([K.Property(300)],_b.prototype,"duration",void 0),F([K.Property(1e3)],_b.prototype,"fadeOutDuration",void 0),F([K.Property("Move")],_b.prototype,"fadeOutMode",void 0),F([K.Property(!1)],_b.prototype,"enableTextWrap",void 0),F([K.Complex({color:null,width:null},ae)],_b.prototype,"border",void 0),F([K.Complex({x:null,y:null},Q)],_b.prototype,"location",void 0),_b);function _b(){return null!==Tb&&Tb.apply(this,arguments)||this}C(Ib,Eb=Ah),Ib.prototype.addEventListener=function(){var e;this.chart.isDestroyed||(e=K.Browser.isPointer?"pointerleave":"mouseleave",this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(K.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(K.Browser.touchEndEvent,this.mouseUpHandler,this))},Ib.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off("pointerleave",this.mouseLeaveHandler),this.chart.off("tapHold",this.longPress),this.chart.off(K.Browser.touchMoveEvent,this.mouseLeaveHandler),this.chart.off(K.Browser.touchMoveEvent,this.mouseMoveHandler),this.chart.off(K.Browser.touchEndEvent,this.mouseUpHandler))},Ib.prototype.mouseUpHandler=function(e){var t=this,i=this.control,o=this.get3dData(e);i.isTouch?(this.tooltip(e),"Move"===i.tooltip.fadeOutMode&&(this.removeTooltip(i.tooltip.fadeOutDuration),clearTimeout(this.timerId),this.timerId=+setTimeout(function(){t.removeBlurEffect()},500)),i.startMove&&"Move"===i.tooltip.fadeOutMode&&(this.removeTooltip(2e3),this.removeBlurEffect())):this.findData(o,this.previousPoints[0])||"Click"!==i.tooltip.fadeOutMode||(this.removeTooltip(0),this.removeBlurEffect())},Ib.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.removeBlurEffect()},Ib.prototype.mouseMoveHandler=function(e){var t=this.chart3D;t.mouseX=t.mouseX/t.scaleX,t.mouseY=t.mouseY/t.scaleY,t.disableTrackTooltip||t.rotateActivate||t.isTouch&&!t.startMove||this.tooltip(e)},Ib.prototype.longPress=function(){return!1},Ib.prototype.seriesStyles=function(){var e;this.styleAdded||((e=document.createElement("style")).setAttribute("id",this.element.id+"_ej2_chart_tooltip"),e.innerText+=" ."+this.element.id+"_ej2_tooltipDeselected { opacity:0.2;} ",document.body.appendChild(e),this.styleAdded=!0)},Ib.prototype.tooltip=function(e){var t=this.element.id+"_tooltip_svg",t=this.getElement(t),t=t&&0<parseInt(t.getAttribute("opacity"),10),i=this.getTooltipElement(t);this.chart3D.tooltip3DModule&&this.renderSeriesTooltip(this.chart3D,!t,i,e)},Ib.prototype.findHeader=function(e){return""!==this.header&&(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())?this.header:""},Ib.prototype.renderSeriesTooltip=function(e,t,i,o){o=this.get3dData(o);this.currentPoints=[],!this.findData(o,this.previousPoints[0])||(!this.previousPoints[0]||this.previousPoints[0].point.index===o.point.index&&this.previousPoints[0].series.index===o.series.index&&this.chart3D.isRemove)&&this.previousPoints[0]?!o.point&&this.chart3D.isRemove&&"Move"===e.tooltip.fadeOutMode&&(this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.removeBlurEffect(),this.chart3D.isRemove=!1):this.pushData(o,t,i,!0)&&this.triggerTooltipRender(o,t,this.getTooltipText(o),this.findHeader(o)),o&&o.point&&this.findMouseValue(o,e)},Ib.prototype.triggerTooltipRender=function(t,i,e,o){function r(e){e.cancel?(n.removeHighlight(),K.remove(n.getElement(n.element.id+"_tooltip"))):(n.headerText=e.headerText,n.formattedText=n.formattedText.concat(e.text),n.text=n.formattedText,n.createTooltip(n.chart,i,n.getSymbolLocation(t),t.series.clipRect,t.point,n.chart3D.tooltip.enableMarker?["Circle"]:[],0,new $.Rect(a,a,n.chart.availableSize.width-3-2*a,n.chart.availableSize.height-3-2*a),!1,null,n.getTemplateText(t),n.template?e.template:""),n.blurEffect(n.chart3D.visibleSeries,t.series)),n.chart3D.isRemove=!0}var n=this,e={cancel:!1,text:e,headerText:o,template:void 0,textStyle:this.textStyle,data:{pointX:t.point.x,pointY:t.point.y,seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.index,pointText:t.point.text}},a=this.chart.border.width;r.bind(this,t),this.chart.trigger(gt,e,r)},Ib.prototype.blurEffect=function(e,t){if(!this.chart3D.highlight3DModule||this.chart3D.legendSettings.enableHighlight&&"None"===this.chart3D.highlightMode){for(var i=[],o=0,r=e;o<r.length;o++){var n=r[o];if(n.visible&&n.index!==t.index)document.querySelectorAll('[id*="region-series-'+n.index+'"]').forEach(function(e){i.push(e)});else if(n.visible)for(var a=document.querySelectorAll('[id*="region-series-'+n.index+'"]'),l=0;l<a.length;l++){var s=a[l];-1<(h=s.getAttribute("class")||"").indexOf(this.element.id+"_ej2_tooltipDeselected")&&s.setAttribute("class",h.replace(this.element.id+"_ej2_tooltipDeselected","")),this.chart3D.stopElementAnimation(s,n.index)}}for(var h,l=0;l<i.length;l++)i[l]&&(h=i[l].getAttribute("class")||"",-1===(h+=""!==h?" ":"").indexOf("_selection_"))&&-1===h.indexOf(this.element.id+"_ej2_tooltipDeselected")&&i[l].setAttribute("class",h+this.element.id+"_ej2_tooltipDeselected")}},Ib.prototype.removeBlurEffect=function(){if(!this.chart3D.highlight3DModule||this.chart3D.legendSettings.enableHighlight&&"None"===this.chart3D.highlightMode)for(var e=document.getElementsByClassName(this.element.id+"_ej2_tooltipDeselected");0<e.length;){var t=e[0],i=t.getAttribute("class")||"";-1<i.indexOf(this.element.id+"_ej2_tooltipDeselected")&&(t.setAttribute("class",i.replace(this.element.id+"_ej2_tooltipDeselected","")),i=parseFloat(t.id.split("-series-")[1].split("-point-")[0]),this.chart3D.highlightAnimation(t,i,700,.2))}},Ib.prototype.getSymbolLocation=function(e){var t,i=document.getElementById(this.element.id+"_svg").getBoundingClientRect(),o="Cylinder"===e.series.columnFacet?document.querySelectorAll('[id*="'+this.element.id+"-svg-"+(-1===e.series.type.indexOf("Column")?"0":"1")+"-region-series-"+e.series.index+"-point-"+e.point.index+'"]'):document.querySelectorAll('[id*="'+this.element.id+"-svg-"+(-1===e.series.type.indexOf("Column")?"5":"2")+"-region-series-"+e.series.index+"-point-"+e.point.index+'"]');if(o){if(1===o.length)t=o[0].getBoundingClientRect();else for(var r=0;r<o.length;r++){var n=o[r];if(-1!==n.id.indexOf("-"+e.point.index+"-back-front")||-1!==n.id.indexOf("-"+e.point.index+"-front-back")){t=n.getBoundingClientRect();break}}t||0===o.length||(t=o[0].getBoundingClientRect())}return new ee(null!==this.chart3D.tooltip.location.x?this.chart3D.tooltip.location.x:t.left-i.left+t.width/2,null!==this.chart3D.tooltip.location.y?this.chart3D.tooltip.location.y:t.top-i.top+t.height/2)},Ib.prototype.getTooltipText=function(e){return this.parseTemplate(e.point,e.series,this.getFormat(this.chart3D,e.series),e.series.xAxis,e.series.yAxis)},Ib.prototype.getTemplateText=function(e){var t;return this.template?((t=K.extend({},e.point)).x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0),t):e.point},Ib.prototype.findMouseValue=function(e,t){t.requireInvertedAxis?(this.valueY=(1-Uv(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):(this.valueX=Uv(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)},Ib.prototype.parseTemplate=function(e,t,i,o,r){for(var n,a=RegExp,l=0,s=Object.keys(e);l<s.length;l++){var h=new a("${point."+(c=s[l])+"}","gm");i=i.replace(h.source,this.formatPointValue(e,"${point.x}"===h.source?o:r,c,"${point.x}"===h.source,"${point.y}"===h.source))}for(var c,d=0,p=Object.keys(Object.getPrototypeOf(t));d<p.length;d++)h=new a("${series."+(c=p[d])+"}","gm"),n=t[c],i=i.replace(h.source,n);return i},Ib.prototype.formatPointValue=function(e,t,i,o,r){var n,r="Category"!==t.valueType&&o?(n=t.labelFormat&&null!==t.labelFormat.match("{value}"))?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i]):r&&!K.isNullOrUndefined(e[i])?(n=t.labelFormat&&null!==t.labelFormat.match("{value}"),o=t.format(e[i]),n?t.labelFormat.replace("{value}",o):o):e[i];return r},Ib.prototype.getFormat=function(e,t){return t.tooltipFormat||(!t.tooltipFormat&&e.tooltip.format?e.tooltip.format:"${point.x} : <b>${point.y}</b>")},Ib.prototype.get3dData=function(e){var t,i,o=this.chart3D,r=null,n=null,a=this.chart3D.mouseX,l=this.chart3D.mouseY,s=this.chart3D.chartAxisLayoutPanel.seriesClipRect,e=e.target;return e&&a>s.x&&a<s.x+s.width&&l>s.y&&l<s.y+s.height&&("path"===(a=e.nodeName)||"shape"===a)&&1<e.id.indexOf("region")&&(l=e.id.match(/(\d+)/g),t=parseInt(l[l.length-1].toString(),10),i=parseInt(l[l.length-2].toString(),10)),(n=K.isNullOrUndefined(i)?n:o.visibleSeries[i])&&(r=n.visible?n.points[t]:r),new Br(r,n)},Ib.prototype.findData=function(e,t){return e.point&&(!t||t.point!==e.point||t.point===e.point)},Ib.prototype.getModuleName=function(){return"Tooltip3D"},Ib.prototype.destroy=function(){this.removeEventListener()};var Eb,C=Ib;function Ib(e){var t=Eb.call(this,e)||this;return t.chart3D=e,t.commonXvalues=[],t.addEventListener(),t}Ob=function(e,t){return(Ob=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Ob,zb,Ah=function(e,t){function i(){this.constructor=e}Ob(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Bb=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Bb=(zb=K.ChildProperty,Ah(Nb,zb),Bb([K.Property(!0)],Nb.prototype,"visible",void 0),Bb([K.Property(null)],Nb.prototype,"height",void 0),Bb([K.Property(null)],Nb.prototype,"width",void 0),Bb([K.Complex({x:0,y:0},Q)],Nb.prototype,"location",void 0),Bb([K.Property("Auto")],Nb.prototype,"position",void 0),Bb([K.Property("Series")],Nb.prototype,"mode",void 0),Bb([K.Property(8)],Nb.prototype,"padding",void 0),Bb([K.Property(null)],Nb.prototype,"itemPadding",void 0),Bb([K.Property("Center")],Nb.prototype,"alignment",void 0),Bb([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Nb.prototype,"textStyle",void 0),Bb([K.Property(10)],Nb.prototype,"shapeHeight",void 0),Bb([K.Property(10)],Nb.prototype,"shapeWidth",void 0),Bb([K.Complex({},ae)],Nb.prototype,"border",void 0),Bb([K.Complex({left:0,right:0,top:0,bottom:0},me)],Nb.prototype,"margin",void 0),Bb([K.Complex({left:0,right:0,top:0,bottom:0},ve)],Nb.prototype,"containerPadding",void 0),Bb([K.Property(8)],Nb.prototype,"shapePadding",void 0),Bb([K.Property("transparent")],Nb.prototype,"background",void 0),Bb([K.Property(1)],Nb.prototype,"opacity",void 0),Bb([K.Property(!0)],Nb.prototype,"toggleVisibility",void 0),Bb([K.Property(!1)],Nb.prototype,"enableHighlight",void 0),Bb([K.Property(null)],Nb.prototype,"description",void 0),Bb([K.Property(3)],Nb.prototype,"tabIndex",void 0),Bb([K.Property(null)],Nb.prototype,"title",void 0),Bb([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Nb.prototype,"titleStyle",void 0),Bb([K.Property("Top")],Nb.prototype,"titlePosition",void 0),Bb([K.Property("Normal")],Nb.prototype,"textWrap",void 0),Bb([K.Property("Ellipsis")],Nb.prototype,"textOverflow",void 0),Bb([K.Property(100)],Nb.prototype,"maximumTitleWidth",void 0),Bb([K.Property(null)],Nb.prototype,"maximumLabelWidth",void 0),Bb([K.Property(!0)],Nb.prototype,"enablePages",void 0),Bb([K.Property(!1)],Nb.prototype,"isInversed",void 0),Bb([K.Property(!1)],Nb.prototype,"reverse",void 0),Nb);function Nb(){return null!==zb&&zb.apply(this,arguments)||this}Ah(Hb,Vb=i),Hb.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this))},Hb.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd))},Hb.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlight3DModule)&&("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight))for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],i=e.target.id,o=0,r=t;o<r.length;o++){var n=r[o];if(-1<i.indexOf(n)){n=parseInt(i.split(n)[1],10),this.chart.highlight3DModule.legendSelection(this.chart,n,e.target,e.type);break}}},Hb.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},Hb.prototype.getLegendOptions=function(e,t){var i,o;this.legendCollections=[],this.isRtlEnable=t.enableRtl,this.isReverse=!this.isRtlEnable&&t.legendSettings.reverse,1<e.length&&(this.legend.mode="Series");for(var r=0,n=e;r<n.length;r++){var a=n[r];if("Series"===this.legend.mode)i=a.type,o=a.pointColorMapping&&0<a.points.length&&a.points[0].interior||a.interior,this.legendCollections.push(new Hn(a.name,o,a.legendShape,a.visible,i,a.legendImageUrl||"","None",!1,null,null));else if("Point"===this.legend.mode)for(var l=this,s=0,h=a.points;s<h.length;s++)!function(t){i=a.type,o=t.interior||a.interior,0===l.legendCollections.filter(function(e){return e.text===t.x.toString()}).length&&l.legendCollections.push(new Hn(t.x.toString(),o,a.legendShape,t.visible,i,"","None",!1))}(h[s])}this.isReverse&&this.legendCollections.reverse()},Hb.prototype.get3DLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title,this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var o,r=i.padding,n=i.titlePosition,a=0,l=0,s=this.arrowWidth,h=this.arrowHeight,c=this.isVertical&&!i.enablePages?h:0,h=this.isTitle&&"Top"===n?this.legendTitleSize.height+this.fivePixel:0,h=this.isTitle&&this.isVertical&&"Top"!==n?this.legendTitleSize.height+this.fivePixel:h,d=(this.isVertical?l=i.width?0:e.width/100*5:a=i.height?0:e.height/100*5,t.height+=a,t.width+=l,i.shapeWidth,i.shapePadding,0),p=0,u=0,g=0,m=0,y=0,f=!1;this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight);for(var v=0;v<this.legendCollections.length;v++){var b,x=this.legendCollections[v];Bt.test(x.text)&&(x.text=Sr(x.text,Bt)),Nt.test(x.text)&&(x.text=Sr(x.text,Nt)),o={fill:x.fill,text:x.text,shape:x.shape,cancel:!1},this.chart.trigger(nt,o),x.render=!o.cancel,x.text=o.text,x.fill=o.fill,x.shape=o.shape,x.markerShape="None",x.textSize=$.measureText(x.text,i.textStyle,this.chart.themeStyle.legendLabelFont),o=x.text?i.shapeWidth:0,b=x.text?i.shapePadding:0,x.render&&x.text&&(f=!0,p+=o=o+b+(i.maximumLabelWidth||x.textSize.width)+(this.isVertical||0===v?r:this.itemPadding),i.enablePages||this.isVertical||(y=this.isTitle&&"Top"!==n?this.legendTitleSize.width+this.fivePixel:0,y+=s),this.getLegendHeight(x,i,t,p,this.maxItemHeight,r),(t.width<r+p+y||this.isVertical)&&(d=Math.max(d,p+r+y-(this.isVertical?0:o)),0===m&&o!==p&&(m=1),p=this.isVertical?0:o,m++,g=0,u=c),this.rowHeights[b=0<m?m-1:0]=Math.max(this.rowHeights[b]||0,x.textSize.height),this.columnHeights[g]=(this.columnHeights[g]||0)+x.textSize.height+(!this.isVertical||0===v?r:this.itemPadding),g++)}u=Math.max.apply(null,this.columnHeights)+r+h,u=Math.max(u,this.maxItemHeight+r+r+h),this.isPaging=t.height<u,this.isPaging&&!i.enablePages&&(this.isVertical?u+=u:u=this.maxItemHeight+r+r+("Top"===n?h:0)),this.totalPages=m,this.isPaging||this.isVertical||(p+=this.isTitle&&"Top"!==n?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),f?this.setBounds(Math.max(p+r,d),u,i,t):this.setBounds(0,0,i,t)},Hb.prototype.getLegendHeight=function(e,t,i,o,r,n){var a=e.textSize.width,l=t.shapePadding+2*n+t.shapeWidth;switch(t.textWrap){case"Wrap":case"AnyWhere":a>t.maximumLabelWidth||a+o>i.width?e.textCollection=br(e.text,t.maximumLabelWidth?Math.min(t.maximumLabelWidth,i.width-l):i.width-l,t.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):e.textCollection.push(e.text),e.textSize.height=r*e.textCollection.length}},Hb.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=this.legend.padding,s=i+(this.legend.maximumLabelWidth||o.textSize.width),s=o.location.x+(this.isRtlEnable?-s:s),r=(this.isWithinBounds(s,(this.legend.maximumLabelWidth||e.textSize.width)+i-this.itemPadding,r)||this.isVertical?(e.location.x=t.x,n!==a&&this.chartRowCount++,e.location.y=n===a?o.location.y:o.location.y+(this.isVertical?o.textSize.height:this.rowHeights[this.chartRowCount-2])+(this.isVertical?this.itemPadding:l)):(e.location.x=n===a?o.location.x:s,e.location.y=o.location.y),this.isRtlEnable?e.location.x-i+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.itemPadding-this.legend.shapeWidth/2));this.isVertical||!this.isPaging||this.legend.enablePages||(r=this.legendBounds.width-e.location.x-this.fivePixel),r=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,r):r,"Ellipsis"===this.legend.textOverflow&&"Normal"===this.legend.textWrap&&(e.text=hr(+r.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},Hb.prototype.isWithinBounds=function(e,t,i){return this.isRtlEnable?e-t<i.x-this.legend.shapeWidth/2:e+t>i.x+i.width+this.legend.shapeWidth/2},Hb.prototype.LegendClick=function(e,t){var i,o=this.chart,r="Series"===o.legendSettings.mode?e:0,n=this.isReverse?this.legendCollections.length-1-e:e,r=o.visibleSeries[r],n=this.legendCollections[n],a="isProtectedOnChange";"Series"===o.legendSettings.mode?(i={legendText:n.text,legendShape:n.shape,series:r,cancel:!1},this.chart.trigger(it,i),r.legendShape=i.legendShape,i.cancel||(null!==r.fill&&(o.visibleSeries[e].interior=r.fill),o.legendSettings.toggleVisibility?(r.chart[a]=!0,this.changeSeriesVisiblity(r,r.visible),n.visible=r.visible,this.refreshLegendToggle(o,r)):o.highlight3DModule?o.highlight3DModule.legendSelection(o,e,t.target,t.type):o.selection3DModule&&o.selection3DModule.legendSelection(o,e,t.target,t.type),r.chart[a]=!1)):"Point"===o.legendSettings.mode&&(t=r.points[e],i={legendText:n.text,legendShape:n.shape,series:r,cancel:!1},this.chart.trigger(it,i),o.legendSettings.toggleVisibility)&&!i.cancel&&(t.visible=!t.visible,this.legendCollections[e].visible=t.visible,this.refreshLegendToggle(o,r))},Hb.prototype.refreshLegendToggle=function(e,t){var i=[];if(e.selection3DModule&&(i=K.extend([],e.selection3DModule.selectedDataIndexes,null,!0)),0<e.svgObject.childNodes.length){for(;e.svgObject.lastChild;)e.svgObject.removeChild(e.svgObject.lastChild);K.remove(e.svgObject)}e.animateSeries=!1,w($.getElement(e.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),this.redrawSeriesElements(t,e),e.removeSvg(),e.refreshAxis(),t.refreshAxisLabel(),this.refreshSeries(e.visibleSeries),e.polygons=[],e.refreshBound(),e.trigger("loaded",{chart:e}),0<i.length&&(e.selection3DModule.selectedDataIndexes=i,e.selection3DModule.redrawSelection(e,e.selectionMode)),(e.highlight3DModule&&"None"!==e.highlightMode||e.legendSettings.enableHighlight)&&e.highlight3DModule.redrawSelection(e,e.highlightMode),e.redraw=!1},Hb.prototype.changeSeriesVisiblity=function(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(function(e){return e.visible})),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(function(e){return e.visible}))},Hb.prototype.isSecondaryAxis=function(e){return-1<this.chart.axes.indexOf(e)},Hb.prototype.redrawSeriesElements=function(e,t){if(!t.redraw)return null;w(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")},Hb.prototype.refreshSeries=function(e){for(var t=0,i=e;t<i.length;t++)i[t].position=void 0},Hb.prototype.click=function(e){if(this.chart.legendSettings.visible){for(var t=(-1<e.target.id.indexOf("_chart_legend_g_")?e.target.firstChild:e.target).id,i=0,o=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];i<o.length;i++){var r=o[i];if(-1<t.indexOf(r)){r=parseInt(t.split(r)[1],10),this.LegendClick(r,e);break}}-1<t.indexOf(this.legendID+"_pageup")?this.changePage(e,!0):-1<t.indexOf(this.legendID+"_pagedown")&&this.changePage(e,!1)}},Hb.prototype.getModuleName=function(){return"Legend3D"},Hb.prototype.destroy=function(){this.removeEventListener()};var Vb,Ah=Hb;function Hb(e){e=Vb.call(this,e)||this;return(e.library=e).addEventListener(),e}jb=function(e,t){return(jb=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var jb,Wb,Ub=function(e,t){function i(){this.constructor=e}jb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},P=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Ub=(Wb=K.Component,Ub(M,Wb),M.prototype.isIdHasSpecialCharacter=function(e){var t=/^[A-Za-z ]+$/,i=/^[0-9 ]+$/,o="";if(t.test(e))return e;var r=0;i.test(e[0])&&(o+="\\3"+e[0],r=1);for(var n=r;n<e.length;n++)t.test(e[n])||-1!==e.indexOf("-")||-1!==e.indexOf("_")||-1!==e.indexOf("\\")||i.test(e[n])?o+=e[n]:o+="\\"+e[n];return o},M.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id),this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.element.setAttribute("dir",this.enableRtl?"rtl":"")},M.prototype.initPrivateVariable=function(){var e;this.delayRedraw=!1,this.animateSeries=!0,this.horizontalAxes=[],this.verticalAxes=[],this.polygons=[],this.vector=new Fv(0,0,0),this.wallRender=new Xv,this.matrixObj=new Pv,this.bspTreeObj=new Tv,this.polygon=new Ov,this.graphics=new kv,this.transform3D=new Mv,this.svg3DRenderer=new Ev,this.axisRender=new Yv,this.chart3DRender=new Cv,this.chartAxisLayoutPanel=new fv(this),this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltip3DModule&&(this.tooltip3DModule.previousPoints=[]),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.description||this.title+". Syncfusion interactive chart."),this.element.classList.contains("e-chart-focused")||this.element.setAttribute("class",this.element.getAttribute("class")+" e-chart-focused"),""===this.element.id&&(e=document.getElementsByClassName("e-chart").length,this.element.id="chart_"+this.chartId+"_"+e),this.svgId=this.element.id+"_svg"},M.prototype.setCulture=function(){this.intl=new K.Internationalization,this.localeObject=new K.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale)},M.prototype.render=function(){var e=this,t=(this.svgRenderer=new $.SvgRenderer(this.element.id),{chart:this,theme:this.theme,cancel:!1});this.trigger(ot,t,function(){t.cancel||e.cartesianChartRendering()})},M.prototype.cartesianChartRendering=function(){this.setTheme(),this.createChartSvg(),this.calculateVisibleSeries(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0},M.prototype.createChartSvg=function(){this.removeSvg(),yr(this)},M.prototype.removeSvg=function(){if(this.redraw)return null;$.removeElement(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();if(this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&K.remove(this.svgObject)}},M.prototype.processData=function(e){void 0===e&&(e=!0);for(var t=this.visibleSeriesCount=0,i=this.visibleSeries;t<i.length;t++){var o=i[t];o.visible||this.legendSettings.visible?this.initializeDataModule(o):this.visibleSeriesCount++}!e||this.visibleSeries.length&&this.visibleSeriesCount!==this.visibleSeries.length||(this.refreshBound(),this.trigger("loaded",{chart:this}))},M.prototype.initializeDataModule=function(e){e.xData=[],e.yData=[];var t=this.isAngular?(Object.keys(e.dataSource).length?e:this).dataSource:e.dataSource||this.dataSource;e.dataModule=new An(t,e.query),e.points=[],e.refreshDataManager(this)},M.prototype.animate=function(e){this.redraw=!0,this.animated=!0,this.duration=e||1e3},M.prototype.refreshBound=function(){this.legend3DModule&&this.legendSettings.visible&&this.legend3DModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltip3DModule&&(this.tooltip3DModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.renderElements(),$.removeElement("chartmeasuretext"),this.removeSelection()},M.prototype.removeSelection=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];if(i.visible)for(var o=0,r=i.points;o<r.length;o++)r[o].isSelect=!1}},M.prototype.calculateStackValues=function(){for(var e,t=!1,i=0,o=this.visibleSeries.length;i<o;i++)(e=this.visibleSeries[i]).position=e.rectCount=void 0,-1===e.type.indexOf("Stacking")||t||(e.calculateStackedValue(-1<e.type.indexOf("100"),this),t=!0)},M.prototype.calculateBounds=function(){var e=this.margin,t=0,i=0,o="Top"===this.titleStyle.position||"Bottom"===this.titleStyle.position?15:5,r=e.left+this.border.width,n=this.availableSize.width-r-e.right-this.border.width,a=0,l=e.top+this.border.width,s=this.availableSize.height-l-this.border.width-e.bottom;if(this.titleCollection=[],this.subTitleCollection=[],this.title){if(this.titleCollection=fr(this.title,this.titleStyle,"Left"===this.titleStyle.position||"Right"===this.titleStyle.position?s:n,this.enableRtl,this.themeStyle.chartTitleFont),t=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length+o,this.subTitle){for(var h=0,c=0,d=this.titleCollection;c<d.length;c++)var p=d[c],h=h<(p=$.measureText(p,this.titleStyle,this.themeStyle.chartSubTitleFont).width)?p:h;this.subTitleCollection=fr(this.subTitle,this.subTitleStyle,h,this.enableRtl,this.themeStyle.chartSubTitleFont),i=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length+o}}else"Top"!==this.legendSettings.position&&this.border.width&&(a=10);var l=e.top+a+this.border.width,s=this.availableSize.height-l-this.border.width-e.bottom,u=i+t+this.titleStyle.border.width+this.subTitleStyle.border.width;switch(this.titleStyle.position){case"Top":l+=u,s-=u;break;case"Bottom":s-=u;break;case"Left":r+=u,n-=u;break;case"Right":r-=this.titleStyle.border.width+this.subTitleStyle.border.width,n-=u}this.initialClipRect=new $.Rect(r,l,n,s),this.legend3DModule&&this.legendSettings.visible&&this.legend3DModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},M.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.createSeriesElements(),this.render3DChart(),this.renderLegend(),this.performSelection(),this.setSecondaryElementPosition(),this.doAnimation()},M.prototype.animateRect=function(t,i,e,o,r,n){var a,l,s,h=i.animation,c=(i.chart.animated?i.chart:h).duration,d=Co("Linear"),p=t.getAttribute("height")?+t.getAttribute("height"):0,u=t.getAttribute("width")?+t.getAttribute("width"):0,e=e.yValue<0,g=+t.getAttribute("x"),m=+t.getAttribute("y");i.chart.requireInvertedAxis?-1<i.type.indexOf("Stacking")?(a=g,l=m):(l=e?m:m+p,a=e!==i.yAxis.isAxisInverse?g+u:g):(l=e!==i.yAxis.isAxisInverse?m:m+p,a=e?g:g+u),K.isNullOrUndefined(t)||(t.style.visibility="hidden",o&&(o.style.visibility="hidden"),r&&(r.style.visibility="hidden"),n&&(n.style.visibility="hidden"),new K.Animation({}).animate(t,{duration:0===c&&"Enable"===K.animationMode?1e3:c,delay:h.delay,progress:function(e){e.timeStamp>=e.delay&&(t.style.visibility="visible",i.chart.requireInvertedAxis?(u=u||1,s=d(e.timeStamp-e.delay,0,u,e.duration),t.setAttribute("transform","translate("+a+" "+l+") scale("+s/u+", 1) translate("+-a+" "+-l+")")):(p=p||1,s=d(e.timeStamp-e.delay,0,p,e.duration),t.setAttribute("transform","translate("+a+" "+l+") scale(1,"+s/p+") translate("+-a+" "+-l+")")))},end:function(){t.setAttribute("transform","translate(0,0)"),o&&(o.style.visibility="visible"),r&&(r.style.visibility="visible"),n&&(n.style.visibility="visible"),i.chart.trigger("animationComplete",{series:i})}}))},M.prototype.doAnimation=function(){for(var s=this,h=this,e=0;e<this.visibleSeries.length;e++)!function(t){var e=h.visibleSeries[t];if(e.visible&&e.animation.enable&&h.animateSeries&&!h.rotateActivate){var i=void 0,o=void 0,r=void 0,n=new Pr(h.element.id+"_ChartSeriesClipRect_"+t,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:h.availableSize.width,height:h.availableSize.height}),n=Mo(h.redraw,n,h.svgRenderer);q(!1,h.chart3D,n.children[0],h.redraw);for(var a=0;e.visiblePoints&&a<e.visiblePoints.length;a++){var l=e.visiblePoints[a];document.querySelectorAll('[id*="region-series-'+t+'"]').forEach(function(e){e.setAttribute("clip-path","url(#"+s.element.id+"_ChartSeriesClipRect_"+t+")")}),e.dataLabel.visible&&(i=J(h.element.id+"-svg-series-"+e.index+"-point-"+a+"-data-label"),o=J(h.element.id+"-svg-data-label-series-"+e.index+"-point-"+a),r=J(h.element.id+"-series-"+e.index+"-data-label-"+a)),h.animateRect(document.getElementById(h.element.id+"_ChartSeriesClipRect_"+t).children[0],e,l,i,o,r)}}}(e)},M.prototype.performSelection=function(){var e=[];this.selection3DModule&&(e=K.extend([],this.selection3DModule.selectedDataIndexes,null,!0),this.selection3DModule.invokeSelection(this)),this.highlight3DModule&&this.highlight3DModule.invokeHighlight(this),(!this.highlight3DModule||this.legendSettings.enableHighlight&&"None"===this.highlightMode)&&this.tooltip3DModule&&this.tooltip3DModule.seriesStyles(),0<e.length&&(this.selection3DModule.selectedDataIndexes=e,this.selection3DModule.redrawSelection(this,this.selectionMode))},M.prototype.renderLegend=function(){var e;this.legend3DModule&&this.legend3DModule.legendCollections.length&&this.legendSettings.visible&&(this.legend3DModule.calTotalPage=!0,e=this.legend3DModule.legendBounds,this.legend3DModule.renderLegend(this,this.legendSettings,e)),this.redraw||this.element.appendChild(this.svgObject)},M.prototype.setSecondaryElementPosition=function(){var e,t,i=J(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=J(this.svgId).getBoundingClientRect(),i.style.left=Math.max(t.left-e.left,0)+"px",i.style.top=Math.max(t.top-e.top,0)+"px")},M.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var e=this.element.id;this.series.length&&(this.seriesElements=this.svgRenderer.createGroup({id:e+"SeriesCollection"})),this.dataLabelElements=this.renderer.createGroup({id:e+"DataLabelCollection"})},M.prototype.createSeriesElements=function(){this.initializeModuleElements();var e=this.element.id,t=pr(this.redraw,e+"_Secondary_Element")||this.createElement("div");t.id=e+"_Secondary_Element",q(!(t.style.cssText="position: relative"),this.element,t,this.redraw),this.tooltip.enable&&q(!1,this.svgObject,this.renderer.createGroup({id:e+"_UserInteraction",style:"pointer-events:none;"}),this.redraw)},M.prototype.renderTitle=function(){var e=this.margin;if(this.title){var t=Ur(this.titleStyle.textAlignment,this.enableRtl),i=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont),o=new $.Rect(e.left,0,this.availableSize.width-e.left-e.right,0),r=this.titleStyle.border.width,n=this.margin.top+3*i.height/4,a=vr(o,this.titleStyle||this.themeStyle.chartTitleFont)+r,l=void 0,s=this.titleStyle.textAlignment,h=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont);switch(this.titleStyle.position){case"Top":n+=.5*r,a+="start"===t?.5*r+this.border.width:"end"===t?2*-r-this.border.width:0;break;case"Bottom":a+="start"===t?.5*r+this.border.width:"end"===t?2*-r-this.border.width:0,n=this.availableSize.height-this.margin.bottom-h.height-i.height/2-.5*r-.5*this.subTitleStyle.border.width;break;case"Left":a=this.margin.left+3*i.height/4+.5*r,n="Near"===s?e.bottom+.5*r+this.border.width:"Far"===s?this.availableSize.height-e.bottom-.5*r-this.border.width:this.availableSize.height/2,t="Near"===s?"end":"Far"===s?"start":"middle",t=this.enableRtl?"end"===t?"start":"start"===t?"end":t:t,l="rotate(-90,"+a+","+n+")";break;case"Right":a=this.availableSize.width-this.margin.right-3*i.height/4-.5*r,n="Near"===s?e.bottom+.5*r+this.border.width:"Far"===s?this.availableSize.height-e.bottom-.5*r-this.border.width:this.availableSize.height/2,t="Near"===s?"start":"Far"===s?"end":"middle",t=this.enableRtl?"end"===t?"start":"start"===t?"end":t:t,l="rotate(90,"+a+","+n+")";break;case"Custom":a=this.titleStyle.x,n=this.titleStyle.y,t="middle"}var o={id:this.element.id+"-chart-title-border",x:a-("middle"===t?i.width/2+5:"end"===t?i.width+5:5),y:n-i.height+i.height/4,rx:this.titleStyle.border.cornerRadius,ry:this.titleStyle.border.cornerRadius,width:i.width+10,height:i.height*this.titleCollection.length,fill:this.titleStyle.background,"stroke-width":r,stroke:this.titleStyle.border.color,transform:l||""},o=pr(this.redraw,this.element.id+"-chart-title-border",o,this.renderer)||this.renderer.drawRectangle(o),o=(q(!1,this.svgObject,o,this.redraw),new $.TextOption(this.element.id+"-chart-title",a,n,t,this.titleCollection,l,"auto")),c=pr(this.redraw,this.element.id+"-chart-title",o,this.renderer)||gr(this.renderer,o,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,null,null,null,null,null,null,0,null,!1,null,this.themeStyle.chartTitleFont);c&&(c.setAttribute("tabindex","0"),c.setAttribute("class","e-chart-focused")),this.subTitle&&this.renderSubTitle(o)}},M.prototype.renderSubTitle=function(e){for(var t=0,i=this.titleStyle.textAlignment,o=0,r=this.titleCollection;o<r.length;o++)var n=r[o],t=t<(n=$.measureText(n,this.titleStyle,this.themeStyle.chartTitleFont).width)?n:t;var a=$.measureText(this.subTitleCollection.reduce(function(e,t){return e.length>t.length?e:t}),this.subTitleStyle,this.themeStyle.chartSubTitleFont),l=Ur(this.subTitleStyle.textAlignment,this.enableRtl),s=new $.Rect("Center"===i?e.x-.5*t:"Far"===i?e.x-t:e.x,0,t,0),i=("Left"===this.titleStyle.position&&(s.x="Center"===i?e.x-.5*t:"Far"===i?this.margin.left+3*a.height/4:e.x-t),$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont)),h=e.y*e.text.length+a.height+5+this.titleStyle.border.width+.5*this.subTitleStyle.border.width,i=("Bottom"===this.titleStyle.position&&(h=e.y*e.text.length+5+i.height/2+a.height/2),{id:this.element.id+"-chart-sub-title-border",x:vr(s,this.subTitleStyle)-("middle"===l?a.width/2+5:"end"===l?a.width+5:5),y:h-a.height+a.height/4,rx:this.subTitleStyle.border.cornerRadius,ry:this.subTitleStyle.border.cornerRadius,width:a.width+10,height:a.height*this.subTitleCollection.length,fill:this.subTitleStyle.background,"stroke-width":this.subTitleStyle.border.width,stroke:this.subTitleStyle.border.color,transform:e.transform}),l=pr(this.redraw,this.element.id+"-chart-sub-title-border",i,this.renderer)||this.renderer.drawRectangle(i),a=(q(!1,this.svgObject,l,this.redraw),new $.TextOption(this.element.id+"-chart-sub-title",vr(s,this.subTitleStyle),h,Ur(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,e.transform,"auto"));pr(this.redraw,this.element.id+"-chart-sub-title",a,this.renderer)||gr(this.renderer,a,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,null,null,null,null,null,null,0,null,!1,null,this.themeStyle.chartSubTitleFont)},M.prototype.renderBorder=function(){var e=this.border.width,t=this.backgroundImage,i=t?"transparent":this.background||this.themeStyle.background,i=new Pr(this.element.id+"-chart-border",i,this.border,1,new $.Rect(.5*e+0,.5*e+0,this.availableSize.width-e,this.availableSize.height-e),0,0,"",this.border.dashArray);this.htmlObject=pr(this.redraw,this.element.id+"-chart-border",i,this.renderer)||this.renderer.drawRectangle(i),this.htmlObject.setAttribute("aria-hidden","true"),q(!1,this.svgObject,this.htmlObject,this.redraw),t&&(i=new Dr(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"-chart-background","visible","none"),this.htmlObject=pr(this.redraw,this.element.id+"-chart-background",i,this.renderer)||this.renderer.drawImage(i),q(!1,this.svgObject,this.htmlObject,this.redraw))},M.prototype.requiredModules=function(){var t,i=this,o=[],r=this.series,n=!1;return this.tooltip.enable&&o.push({member:"Tooltip3D",args:[this]}),r.map(function(e){i.isLegend=i.legendSettings.visible&&(""!==e.name||!!i.isLegend),t=-1!==e.type.indexOf("100")?e.type.replace("100","")+"Series3D":e.type+"Series3D",n=e.dataLabel.visible||n,o.some(function(e){return e.member===t})||o.push({member:t,args:[i,r]})}),n&&o.push({member:"DataLabel3D",args:[this,r]}),o=this.findAxisModule(o),this.isLegend&&o.push({member:"Legend3D",args:[this]}),this.enableExport&&o.push({member:"Export3D",args:[this]}),"None"!==this.selectionMode&&o.push({member:"Selection3D",args:[this]}),"None"===this.highlightMode&&!this.legendSettings.enableHighlight||o.push({member:"Highlight3D",args:[this]}),o},M.prototype.findAxisModule=function(e){for(var t=[],i=(t.push(this.primaryXAxis),t.push(this.primaryYAxis),!1),o=!1,r=!1,n=!1,a=0,l=t=t.concat(this.axes);a<l.length;a++)var s=l[a],i="DateTime"===s.valueType||i,o="Category"===s.valueType||o,r="Logarithmic"===s.valueType||r,n="DateTimeCategory"===s.valueType||n;return i&&e.push({member:"DateTime3D",args:[this]}),o&&e.push({member:"Category3D",args:[this]}),r&&e.push({member:"Logarithmic3D",args:[this]}),n&&e.push({member:"DateTimeCategory3D",args:[this]}),e},M.prototype.setTheme=function(){var e;this.themeStyle=bv(this.theme),document.getElementById(this.element.id+"Keyboard_chart_focus")||((e=document.createElement("style")).setAttribute("id",this.element.id+"Keyboard_chart_focus"),e.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=-point-]:focus, text[id*=-chart-title]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=-point-]:focus-visible, text[id*=-chart-title]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(e))},M.prototype.render3DChart=function(){this.chart3D=this.svgRenderer.createGroup({id:this.element.id+"-svg-chart-3d"}),this.chart3D.setAttribute("role","region"),this.chart3D.setAttribute("aria-hidden","false"),this.draw3DAxis(),this.wallRender.update3DWall(this),this.renderSeries(),q(!1,this.svgObject,this.chart3D,this.redraw);var e=new $.Size(this.availableSize.width,this.availableSize.height);this.graphics.prepareView(this.perspectiveAngle,this.depth,this.rotation,this.tilt,e,this),this.graphics.view(this.svgObject,this)},M.prototype.draw3DAxis=function(){for(var e=0;e<this.axisCollections.length;e++)this.axisRender.drawAxes(e,this.axisCollections[e],this)},M.prototype.renderSeries=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&(this.visible++,i.renderSeries(this))}this.visible=0},M.prototype.initAxis=function(e,t,i){e.xAxisName===t.name||null==e.xAxisName&&"primaryXAxis"===t.name?(t.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",e.xAxis=t,i&&t.series.push(e)):(e.yAxisName===t.name||null==e.yAxisName&&"primaryYAxis"===t.name)&&(t.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",e.yAxis=t,i)&&t.series.push(e)},M.prototype.calculateVisibleAxis=function(){var e,t=(t=[this.primaryXAxis,this.primaryYAxis]).concat(this.axes);this.axisCollections=[];for(var i=0,o=t.length;i<o;i++){(e=t[i]).series=[],e.labels=[],e.indexLabels={},e.orientation=0===i?this.requireInvertedAxis?"Vertical":"Horizontal":1===i?this.requireInvertedAxis?"Horizontal":"Vertical":e.orientation;for(var r=0,n=this.visibleSeries;r<n.length;r++){var a=n[r];this.initAxis(a,e,!0)}null!=e.orientation&&this.axisCollections.push(e)}0<this.rows.length&&0<this.columns.length&&this.chartAxisLayoutPanel.measure()},M.prototype.unWireEvents=function(){var e=K.Browser.touchStartEvent,t=K.Browser.touchMoveEvent,i=K.Browser.touchEndEvent,o=K.Browser.isPointer?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,e,this.chartOnMouseDown),K.EventHandler.remove(this.element,t,this.mouseMove),K.EventHandler.remove(this.element,i,this.mouseEnd),K.EventHandler.remove(this.element,"click",this.chartOnMouseClick),K.EventHandler.remove(this.element,o,this.mouseLeave),K.EventHandler.remove(this.element,"keydown",this.chartKeyDown),K.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),K.EventHandler.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},M.prototype.wireEvents=function(){var e;this.element&&(e=K.Browser.isPointer?"pointerleave":"mouseleave",K.EventHandler.add(this.element,K.Browser.touchStartEvent,this.chartOnMouseDown,this),K.EventHandler.add(this.element,K.Browser.touchMoveEvent,this.mouseMove,this),K.EventHandler.add(this.element,K.Browser.touchEndEvent,this.mouseEnd,this),K.EventHandler.add(this.element,"click",this.chartOnMouseClick,this),K.EventHandler.add(this.element,e,this.mouseLeave,this),K.EventHandler.add(this.element,"keydown",this.chartKeyDown,this),K.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),K.EventHandler.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new K.Touch(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element))},M.prototype.longPress=function(e){return this.mouseX=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,this.mouseY=e&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",e),!1},M.prototype.chartOnMouseClick=function(e){var t=this,i=e.target,o=this,r=(this.clickCount++,400),r=(1===this.clickCount?this.singleClickTimer=+setTimeout(function(){o.clickCount=0,o.trigger("chart3DMouseClick",{target:i.id,x:o.mouseX,y:o.mouseY})},r):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0),this.isAngular,0);return 1===this.clickCount&&this.pointClick&&(this.singleClickTimer=+setTimeout(function(){t.clickCount=0,t.triggerPointEvent(vt,e)},r)),this.notify("click",e),!1},M.prototype.export=function(e,t){this.export3DModule&&(this.export3DModule.export(e,t),this.afterExport)&&this.export3DModule.getDataUrl(this)},M.prototype.chartResize=function(){var e=this,t=(this.animateSeries=!1,{chart:this,currentSize:new $.Size(0,0),previousSize:new $.Size(this.availableSize.width,this.availableSize.height)}),i={cancel:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Mt,i),i.cancel||(this.resizeTo=+setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(e.createChartSvg(),t.currentSize=e.availableSize,e.trigger(At,t),e.polygons=[],e.refreshAxis(),e.refreshBound(),e.trigger("loaded",{chart:e}))},500)),!1},M.prototype.triggerPointEvent=function(e,t){var i,o,r,n=null,a=null,t=t.target;t&&(("path"===(r=t.nodeName)||"shape"===r)&&1<t.id.indexOf("-region-")&&(r=t.id.match(/(\d+)/g),i=parseInt(r[r.length-1].toString(),10),o=parseInt(r[r.length-2].toString(),10)),n=K.isNullOrUndefined(o)?n:this.visibleSeries[o])&&n.visible&&(a=n.points[i]),n&&a&&this.trigger(e,{series:n,point:a,seriesIndex:o,pointIndex:i,x:this.mouseX,y:this.mouseY})},M.prototype.chartOnMouseDown=function(e){var t,i=this.element.getBoundingClientRect(),o=e.target,r=(this.trigger("chart3DMouseDown",{target:o.id,x:this.mouseX,y:this.mouseY}),o=("touchstart"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType,t=e.clientX,e)).clientY,J(this.svgId).getBoundingClientRect());return this.mouseDownX=this.previousMouseMoveX=t-i.left-Math.max(r.left-i.left,0),this.mouseDownY=this.previousMouseMoveY=o-i.top-Math.max(r.top-i.top,0),this.enableRotation&&(this.isTouch&&this.tooltip3DModule&&this.tooltip3DModule.svgTooltip&&this.tooltip3DModule.svgTooltip.fadeOut(),this.rotateActivate=!0,this.previousCoords={x:this.mouseDownX,y:this.mouseDownY}),this.notify(K.Browser.touchStartEvent,e),!1},M.prototype.mouseMove=function(e){var t,i=("touchmove"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,e)).clientY;return J(this.svgId)&&(this.setMouseXY(t,i),this.chartOnMouseMove(e)),!1},M.prototype.mouseLeave=function(e){var t,i=("touchleave"===e.type?(this.isTouch=!0,t=e.changedTouches[0].clientX,e.changedTouches[0]):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,e)).clientY;return this.setMouseXY(t,i),this.chartOnMouseLeave(e),!1},M.prototype.mouseEnd=function(e){var t,i;return"touchend"===e.type?(t=(i=e).changedTouches[0].clientX,this.isTouch=!0,i=i.changedTouches[0].clientY):(i=e.clientY,t=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(t,i),this.chartOnMouseUp(e),!1},M.prototype.chartOnMouseUp=function(e){var t=e.target;return this.trigger("chart3DMouseUp",{target:t.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY,this.isTouch)),this.notify(K.Browser.touchEndEvent,e),this.rotateActivate=!1,this.delayRedraw=!1},M.prototype.print=function(e){new Yn(this).print(e)},M.prototype.chartOnMouseMove=function(e){var t,i=e.target;return this.trigger("chart3DMouseMove",{target:i.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(xt,e),this.isTouch||(this.titleTooltip(e,this.mouseX,this.mouseY),this.axisTooltip(e,this.mouseX,this.mouseY)),this.rotateActivate&&mo(this.mouseX,this.mouseY,this.chartAxisLayoutPanel.seriesClipRect)&&(i=this.previousCoords.x-this.mouseX,t=this.previousCoords.y-this.mouseY,i||t)&&(this.tilt-=t,this.rotation+=i,this.isTouch?(document.querySelectorAll('[id*="axis-label-"]').forEach(function(e){return e.remove()}),this.delayRedraw=!0):((t=document.getElementById(this.chart3D.id)).innerHTML="",t.remove()),i={width:this.availableSize.width,height:this.availableSize.height},this.graphics.view(this.svgObject,this,this.rotation,this.tilt,i,this.perspectiveAngle,this.depth),q(!1,this.svgObject,this.chart3D,this.redraw),this.previousCoords.y=this.mouseY,this.previousCoords.x=this.mouseX,this.isRemove=!1),this.notify(K.Browser.touchMoveEvent,e),this.isTouch=!1},M.prototype.titleTooltip=function(e,t,i,o){var r=e.target.id,n=r===this.element.id+"-chart-title"||r===this.element.id+"-chart-sub-title"||-1<r.indexOf("-axis-title")||-1<r.indexOf("_legend_title"),a=0;-1<r.indexOf("-axis-title")&&(a=parseInt(r.replace(this.element.id+"-svg","").replace("-axis-title","").split("-")[1],10)),n&&-1<e.target.textContent.indexOf("...")?Wi(r===this.element.id+"-chart-title"?this.title:-1<r.indexOf("-axis-title")?this.axisCollections[a].title:-1<r.indexOf("-chart-sub-title")?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"-EJ2-title-tooltip",J(this.element.id+"_Secondary_Element"),o):$.removeElement(this.element.id+"-EJ2-title-tooltip")},M.prototype.setMouseXY=function(e,t){var i,o;J(this.svgId)&&(i=J(this.svgId).getBoundingClientRect(),o=this.element.getBoundingClientRect(),this.mouseY=t-o.top-Math.max(i.top-o.top,0)/this.scaleX,this.mouseX=e-o.left-Math.max(i.left-o.left,0)/this.scaleY)},M.prototype.chartOnMouseLeave=function(e){var t=e.target,i=K.Browser.isPointer?"pointerleave":"mouseleave";return this.trigger("chart3DMouseLeave",{target:t.id,x:this.mouseX,y:this.mouseY}),$.removeElement(this.element.id+"-EJ2-axis-label-tooltip"),this.isPointMouseDown=!1,this.notify(i,e),this.rotateActivate=!1,this.delayRedraw=!1},M.prototype.chartKeyDown=function(e){var t="";return"Space"===e.code&&e.preventDefault(),this.tooltip.enable&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("-series")||"Escape"===e.code)&&(t="ESC"),"None"!==this.highlightMode&&"Tab"===e.code&&-1<this.previousTargetId.indexOf("_chart_legend_")&&this.highlight3DModule&&this.highlight3DModule.removeLegendHighlightStyles(),e.ctrlKey&&"p"===e.key&&(e.preventDefault(),t="CtrlP"),""!==t&&this.chartKeyboardNavigations(e,e.target.id,t),!1},M.prototype.chartKeyUp=function(e){var t="",i=e.target.id,o=e.target,r=J(this.element.id+"-chart-title"),n=J(this.element.id+"-svg-0-region-series-0-point-0"),a=J(this.element.id+"_chart_legend_translate_g"),l=J(this.element.id+"_chart_legend_pageup");if(r&&r.setAttribute("class","e-chart-focused"),n&&((s=n.getAttribute("class"))&&-1===s.indexOf("e-chart-focused")?s+=" e-chart-focused":s=s||"e-chart-focused",n.setAttribute("class",s)),a&&((s=(r=a.firstElementChild).getAttribute("class"))&&-1===s.indexOf("e-chart-focused")?s+=" e-chart-focused":s=s||"e-chart-focused",r.setAttribute("class",s)),l&&l.setAttribute("class","e-chart-focused"),"Tab"===e.code)""!==this.previousTargetId&&(-1<this.previousTargetId.indexOf("-series-")&&-1===i.indexOf("-series-")?(a=J(this.element.id+"-svg-0-region-series-"+this.currentSeriesIndex+"-point-"+this.currentPointIndex),this.setTabIndex(a,n),this.currentPointIndex=0,this.currentSeriesIndex=0):-1<this.previousTargetId.indexOf("_chart_legend_page")&&-1===i.indexOf("_chart_legend_page")&&-1===i.indexOf("_chart_legend_g_")?this.setTabIndex(e.target,J(this.element.id+"_chart_legend_pageup")):-1<this.previousTargetId.indexOf("_chart_legend_g_")&&-1===i.indexOf("_chart_legend_g_")&&(r=J(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(r.children[this.currentLegendIndex],r.firstElementChild))),-1<(this.previousTargetId=i).indexOf("-series-")&&(this.currentSeriesIndex=+i.split("-series-")[1].split("-point-")[0],o.removeAttribute("tabindex"),o.blur(),i=this.focusChild(o)),t="None"!==this.highlightMode||this.tooltip.enable?"Tab":"";else if(-1<e.code.indexOf("Arrow")){if(e.preventDefault(),-1<(this.previousTargetId=i).indexOf("_chart_legend_page"))"ArrowLeft"===e.code?(J(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),this.focusChild(J(this.element.id+"_chart_legend_pageup"))):"ArrowRight"===e.code&&(J(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),this.focusChild(J(this.element.id+"_chart_legend_pagedown")));else if(-1<i.indexOf("_chart_legend_")){var s=o.parentElement.children,l=(s[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,s.length),s[this.currentLegendIndex]);this.focusChild(l),i=l.children[1].id,t="None"!==this.highlightMode?"ArrowMove":""}else if(-1<i.indexOf("-series-")){var h=e.target;if(o.removeAttribute("tabindex"),o.blur(),"ArrowRight"===e.code||"ArrowLeft"===e.code?(this.currentSeriesIndex=this.currentSeriesIndex+("ArrowRight"===e.code?1:-1),this.currentSeriesIndex=this.getActualIndex(this.currentSeriesIndex,this.series.length)):this.currentPointIndex+="ArrowUp"===e.code?1:-1,-1<i.indexOf("-point-")){this.currentPointIndex=this.getActualIndex(this.currentPointIndex,this.visibleSeries[this.currentSeriesIndex].points.length?this.currentSeries.points.length:1);for(var c=document.querySelectorAll('[id*="svg-0-region-series-'+this.currentSeriesIndex+"-point-"+this.currentPointIndex+'"]'),d=0;d<c.length;d++)c[d].id.split("-point-")[1].split("-")[0]===this.currentPointIndex.toString()&&(h=c[d])}i=this.focusChild(h),t=this.tooltip.enable||"None"!==this.highlightMode?"ArrowMove":""}}else"Enter"!==e.code&&"Space"!==e.code||!(-1<i.indexOf("_chart_legend_")||-1<i.indexOf("-point-"))||(i=!(-1<i.indexOf("_chart_legend_page"))&&-1<i.indexOf("_chart_legend_")?o.children[1].id:i,t="Enter");return""!==t&&this.chartKeyboardNavigations(e,i,t),!1},M.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},M.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},M.prototype.axisTooltip=function(e,t,i,o){var r=e.target.id;-1<r.indexOf("axis-label")&&-1<e.target.textContent.indexOf("...")?(e=this.legendSettings.visible||""===this.primaryXAxis.title,Wi(this.findAxisLabel(r),t,i,this.element.offsetWidth,this.element.id+"-EJ2-axis-label-tooltip",J(this.element.id+"_Secondary_Element"),o,e)):$.removeElement(this.element.id+"-EJ2-axis-label-tooltip")},M.prototype.findAxisLabel=function(e){e=e.replace(this.element.id+"-","").replace("-axis-label","").split("-");return this.axisCollections[parseInt(e[0],10)].visibleLabels[parseInt(e[1],10)].originalText},M.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-chart-focused")?"e-chart-focused "+t:t||"e-chart-focused",e.setAttribute("class",t),e.focus(),e.id},M.prototype.documentKeyHandler=function(e){e.altKey&&74===e.keyCode&&!K.isNullOrUndefined(this.element)&&this.element.focus()},M.prototype.chartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":var o,r;if(this.highlight3DModule&&this.highlight3DModule.removeLegendHighlightStyles(),-1<t.indexOf("-point-")&&(document.activeElement&&(o=(r=document.activeElement.getBoundingClientRect()).left+r.width/2,r=r.top,o=window.scrollX+o,r=window.scrollY+r,this.mouseX=o,this.mouseY=r),this.highlight3DModule&&(this.highlight3DModule.highlightChart(document.getElementById(t),"mousemove"),this.highlight3DModule.completeSelection()),this.tooltip3DModule)&&(o={series:this.visibleSeries[t.split("-series-")[1].split("-point-")[0]],point:this.visibleSeries[t.split("-series-")[1].split("-point-")[0]].points[t.split("-point-")[1].split("-")[0]]},r=(r=document.getElementById(this.element.id+"_tooltip_svg"))&&0<parseInt(r.getAttribute("opacity"),10),n=this.tooltip3DModule.getTooltipElement(r),this.tooltip3DModule.pushData(o,!r,n,!0))&&this.tooltip3DModule.triggerTooltipRender(o,!r,this.tooltip3DModule.getTooltipText(o),this.tooltip3DModule.findHeader(o)),this.highlight3DModule&&"None"!==this.highlightMode){t=-1<t.indexOf("_chart_legend_g_")?document.getElementById(t).firstChild.id:t;for(var n=this.element.id+"_chart_legend",a=[n+"_text_",n+"_shape_marker_",n+"_shape_"],l=0;l<a.length;l++){var s=a[l];if(-1<t.indexOf(s)){document.getElementById(t).setAttribute("class",""),this.highlight3DModule.legendSelection(this,parseInt(t.split(s)[1],10),document.getElementById(t),"mousemove");break}}}break;case"Enter":case"Space":-1<t.indexOf("_chart_legend_")?(this.isLegendClicked=!0,this.legend3DModule.click(e),this.focusChild(document.getElementById(t).parentElement)):this.selection3DModule.calculateSelectedElements(document.getElementById(t),"click");break;case"CtrlP":this.print();break;case"ESC":this.tooltip3DModule.removeTooltip(1)}},M.prototype.setStyle=function(e){var t="None"!==this.selectionMode||"None"!==this.highlightMode;e.style.touchAction=this.enableRotation||t?"none":"element",e.style.msTouchAction=t?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.overflow="hidden",e.style.height=e.style.height||this.height&&-1===this.height.indexOf("%")?e.style.height:"inherit"},M.prototype.isSecondaryAxis=function(e){return-1<this.axes.indexOf(e)},M.prototype.refreshDefinition=function(e){for(var t=0,i=e;t<i.length;t++)i[t].axes=[]},M.prototype.addSeries=function(e){this.animateSeries=!1;for(var t=0,i=e;t<i.length;t++){var o=i[t],o=new kb(this,"series",o);this.series.push(o)}this.refresh()},M.prototype.removeSeries=function(e){this.redraw=!1,this.animateSeries=!1,this.visibleSeries[e]&&(this.visibleSeries[e].xAxis.orientation=null,this.visibleSeries[e].yAxis.orientation=null);for(var t=0;t<this.axes.length;t++)null===this.axes[t].orientation&&this.axes.splice(t,1);this.series.splice(e,1),this.refresh()},M.prototype.refreshAxis=function(){var e=this.primaryXAxis;e.rect=new $.Rect(void 0,void 0,0,0),(e=this.primaryYAxis).isStack100=!1,e.rect=new $.Rect(void 0,void 0,0,0);for(var t=0,i=this.axes;t<i.length;t++)(e=i[t]).rect=new $.Rect(void 0,void 0,0,0),e.isStack100=!1},M.prototype.axisChange=function(e){return!(!e.name&&!e.valueType||(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),0))},M.prototype.getVisibleSeries=function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t===r.index)return r}return null},M.prototype.removeStyles=function(){$.removeElement(this.element.id+"_ej2_chart_selection"),$.removeElement(this.element.id+"_ej2_chart_highlight")},M.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];var e,t=this.palettes.length?this.palettes:xv(this.theme),i=t.length,o=this.series,r=this.series[0];r&&(this.requireInvertedAxis=-1!==r.type.indexOf("Bar")&&!this.isTransposed||-1===r.type.indexOf("Bar")&&this.isTransposed);for(var n=0,a=o.length;n<a;n++){switch((e=o[n]).category="Series",e.index=n,e.interior=e.fill||t[n%i],this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(function(e){return e.visible})),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(function(e){return e.visible})),e.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===o[0].type.indexOf("Bar"))continue;break;default:if(-1<o[0].type.indexOf("Bar"))continue}this.visibleSeries.push(e),o[n]=e}},M.prototype.highlightAnimation=function(t,e,i,o){var r=parseFloat(this.visibleSeries[e].opacity.toString());r&&new K.Animation({}).animate(t,{duration:i,progress:function(e){t.style.animation="";e=e.timeStamp/e.duration,e=o+(r-o)*e;t.setAttribute("opacity",e.toString())},end:function(){t.setAttribute("opacity",r.toString())}})},M.prototype.stopElementAnimation=function(e,t){t=parseFloat(this.visibleSeries[t].opacity.toString());e.getAttribute("e-animate")&&K.Animation.stop(e),e.setAttribute("opacity",t.toString())},M.prototype.destroy=function(){var e;this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelElements=null,this.dataLabelCollections=null,$.removeElement(this.element.id+"Keyboard_chart_focus"),$.removeElement(this.element.id+"_ej2_chart_highlight"),$.removeElement("chartmeasuretext"),this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),Wb.prototype.destroy.call(this),this.polygons=[],(e=document.getElementById(this.chart3D.id))&&(e.innerHTML="",e.remove()),this.removeSvg(),this.svgObject=null)},M.prototype.getModuleName=function(){return"chart3d"},M.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},M.prototype.onPropertyChanged=function(e,t){var i,o=!1,r=!1,n=this.animateSeries=!1;if(!this.delayRedraw){for(var a=0,l=Object.keys(e);a<l.length;a++)switch(l[a]){case"primaryXAxis":d=e.primaryXAxis,r=this.axisChange(d),e.primaryXAxis.edgeLabelPlacement&&(o=!0),r=!0,K.isNullOrUndefined(d.isInversed)&&K.isNullOrUndefined(d.opposedPosition)||this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":d=e.primaryYAxis,r=this.axisChange(d),e.primaryYAxis.edgeLabelPlacement&&(o=!0),r=!0,K.isNullOrUndefined(d.isInversed)&&K.isNullOrUndefined(d.opposedPosition)||this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var s=0,h=Object.keys(e.axes);s<h.length;s++){var c=h[s],d=e.axes[c],r=r||this.axisChange(d);r=!0,K.isNullOrUndefined(d.isInversed)&&K.isNullOrUndefined(d.opposedPosition)||this.axes[c].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),r=!0;break;case"subTitle":case"title":r=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?r=!0:o=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?r=!0:o=!0;break;case"border":o=!0;break;case"series":for(var p=this.series.length,u=0;u<p;u++)(i=e.series[u])&&(i.dataSource||i.query||i.xName||i.yName||i.size||i.fill||i.name||i.type)&&(K.extend(this.getVisibleSeries(this.visibleSeries,u),i,null,!0),n=!0);this.availableSize&&this.element&&(this.element.style.height=this.element.style.height&&"inherit"!==this.element.style.height?this.element.style.height:this.availableSize.height+"px"),n&&(this.calculateVisibleSeries(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),r=!0);break;case"background":o=!0;break;case"dataSource":this.processData(!1),r=!0;break;case"legendSettings":e.legendSettings.background&&e.legendSettings.opacity||(r=!0),o=!0;break;case"palettes":this.calculateVisibleSeries(),o=!0;break;case"selectedDataIndexes":this.selection3DModule&&(this.selection3DModule.currentMode=this.selectionMode,this.selection3DModule.selectedDataIndexes=this.selectedDataIndexes,this.selection3DModule.styleId=this.element.id+"_ej2_chart_selection",this.selection3DModule.redrawSelection(this,t.selectionMode,!0));break;case"selectionMode":this.selection3DModule&&e.selectionMode&&-1===e.selectionMode.indexOf("Drag")&&(this.selection3DModule.currentMode=this.selectionMode,this.selection3DModule.styleId=this.element.id+"_ej2_chart_selection",this.selection3DModule.redrawSelection(this,t.selectionMode,!0));break;case"isMultiSelect":this.selection3DModule&&!e.isMultiSelect&&1<this.selection3DModule.selectedDataIndexes.length&&(this.selection3DModule.currentMode=this.selectionMode,this.selection3DModule.styleId=this.element.id+"_ej2_chart_selection",this.selection3DModule.redrawSelection(this,t.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),o=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":this.refresh();break;case"tooltip":this.tooltip3DModule&&(this.tooltip3DModule.previousPoints=[],this.tooltip.template)&&(this.tooltip3DModule.template=this.tooltip.template);break;case"enableRotation":case"tilt":case"depth":case"wallSize":case"rotation":case"perspectiveAngle":case"enableSideBySidePlacement":o=!0}!r&&o&&(this.removeSvg(),this.polygons=[],this.renderElements(),this.trigger("loaded",{chart:this})),r&&(this.removeSvg(),this.isReact&&this.clearTemplate(),this.polygons=[],this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this}),this.redraw=!1,this.animated=!1)}},P([K.Property("")],M.prototype,"title",void 0),P([K.Property("")],M.prototype,"subTitle",void 0),P([K.Property("Bootstrap5")],M.prototype,"theme",void 0),P([K.Property(null)],M.prototype,"description",void 0),P([K.Property(null)],M.prototype,"width",void 0),P([K.Property(null)],M.prototype,"backgroundImage",void 0),P([K.Property(null)],M.prototype,"background",void 0),P([K.Property("")],M.prototype,"dataSource",void 0),P([K.Property(null)],M.prototype,"height",void 0),P([K.Property(50)],M.prototype,"depth",void 0),P([K.Property(2)],M.prototype,"wallSize",void 0),P([K.Property(0)],M.prototype,"tilt",void 0),P([K.Property(!1)],M.prototype,"enableRotation",void 0),P([K.Property(0)],M.prototype,"rotation",void 0),P([K.Property(!0)],M.prototype,"enableSideBySidePlacement",void 0),P([K.Property(90)],M.prototype,"perspectiveAngle",void 0),P([K.Property(null)],M.prototype,"wallColor",void 0),P([K.Property(!1)],M.prototype,"isTransposed",void 0),P([K.Property("USD")],M.prototype,"currencyCode",void 0),P([K.Property(!1)],M.prototype,"enableExport",void 0),P([K.Event()],M.prototype,"load",void 0),P([K.Event()],M.prototype,"loaded",void 0),P([K.Event()],M.prototype,"pointClick",void 0),P([K.Event()],M.prototype,"pointMove",void 0),P([K.Event()],M.prototype,"pointRender",void 0),P([K.Event()],M.prototype,"legendRender",void 0),P([K.Event()],M.prototype,"legendClick",void 0),P([K.Event()],M.prototype,"seriesRender",void 0),P([K.Event()],M.prototype,"textRender",void 0),P([K.Event()],M.prototype,"tooltipRender",void 0),P([K.Event()],M.prototype,"beforeResize",void 0),P([K.Event()],M.prototype,"resized",void 0),P([K.Event()],M.prototype,"chart3DMouseMove",void 0),P([K.Event()],M.prototype,"chart3DMouseClick",void 0),P([K.Event()],M.prototype,"chart3DMouseDown",void 0),P([K.Event()],M.prototype,"chart3DMouseLeave",void 0),P([K.Event()],M.prototype,"chart3DMouseUp",void 0),P([K.Event()],M.prototype,"axisLabelRender",void 0),P([K.Event()],M.prototype,"selectionComplete",void 0),P([K.Event()],M.prototype,"beforeExport",void 0),P([K.Event()],M.prototype,"afterExport",void 0),P([K.Event()],M.prototype,"beforePrint",void 0),P([K.Complex({},me)],M.prototype,"margin",void 0),P([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},sv)],M.prototype,"titleStyle",void 0),P([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},sv)],M.prototype,"subTitleStyle",void 0),P([K.Complex({},Bb)],M.prototype,"legendSettings",void 0),P([K.Complex({color:"#DDDDDD",width:0},ae)],M.prototype,"border",void 0),P([K.Complex({name:"primaryXAxis"},hv)],M.prototype,"primaryXAxis",void 0),P([K.Complex({name:"primaryYAxis"},hv)],M.prototype,"primaryYAxis",void 0),P([K.Complex({},F)],M.prototype,"tooltip",void 0),P([K.Collection([{}],tb)],M.prototype,"rows",void 0),P([K.Collection([{}],rb)],M.prototype,"columns",void 0),P([K.Collection([{}],hv)],M.prototype,"axes",void 0),P([K.Collection([{}],kb)],M.prototype,"series",void 0),P([K.Property("")],M.prototype,"highlightColor",void 0),P([K.Property("None")],M.prototype,"selectionMode",void 0),P([K.Property("None")],M.prototype,"highlightMode",void 0),P([K.Property("None")],M.prototype,"selectionPattern",void 0),P([K.Property("None")],M.prototype,"highlightPattern",void 0),P([K.Property(!1)],M.prototype,"isMultiSelect",void 0),P([K.Collection([],Fe)],M.prototype,"selectedDataIndexes",void 0),P([K.Property(!1)],M.prototype,"useGroupingSeparator",void 0),P([K.Property([])],M.prototype,"palettes",void 0),P([K.NotifyPropertyChanges],M));function M(e,t){e=Wb.call(this,e,t)||this;return e.previousTargetId="",e.currentPointIndex=0,e.currentSeriesIndex=0,e.currentLegendIndex=0,e.animated=!1,e.isPointMouseDown=!1,e.visible=0,e.clickCount=0,e.maxPointCount=0,e.singleClickTimer=0,e.isRtlEnabled=!1,e.scaleX=1,e.scaleY=1,e.chartId=57723,e.isLegendClicked=!1,e.rotateActivate=!1,e.isRemove=!1,e.polygons=[],e}Xb=function(e,t){return(Xb=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Xb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Yb,Gb=Kv),Yb.prototype.calculateDateTimeNiceInterval=function(e,t,i,o){var r,i=new Date(i),o=new Date(o),n=Math.abs((i.getTime()-o.getTime())/864e5);switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":r=this.calculateNumericNiceInterval(e,n/365,t);break;case"Months":r=this.calculateNumericNiceInterval(e,n/30,t);break;case"Days":r=this.calculateNumericNiceInterval(e,n,t);break;case"Hours":r=this.calculateNumericNiceInterval(e,24*n,t);break;case"Minutes":r=this.calculateNumericNiceInterval(e,24*n*60,t);break;case"Seconds":r=this.calculateNumericNiceInterval(e,24*n*60*60,t);break;case"Auto":return 1<=(r=this.calculateNumericNiceInterval(e,n/365,t))?e.actualIntervalType="Years":1<=(r=this.calculateNumericNiceInterval(e,n/30,t))?e.actualIntervalType="Months":1<=(r=this.calculateNumericNiceInterval(e,n,t))?e.actualIntervalType="Days":1<=(r=this.calculateNumericNiceInterval(e,24*n,t))?e.actualIntervalType="Hours":1<=(r=this.calculateNumericNiceInterval(e,24*n*60,t))?e.actualIntervalType="Minutes":(r=this.calculateNumericNiceInterval(e,24*n*60*60,t),e.actualIntervalType="Seconds"),r}return r},Yb.prototype.getSkeleton=function(e){var t=e.actualIntervalType;return e.skeleton||("Years"===t?"DateTime"===e.valueType&&e.isIntervalInDecimal?"y":"yMMM":"Months"===t?"MMMd":"Days"===t?"DateTime"===e.valueType?"MMMd":"yMd":"Hours"===t?"DateTime"===e.valueType?"Hm":"EHm":"Hms")},Yb.prototype.findCustomFormats=function(e){var t=e.labelFormat||"";return t=e.skeleton||"Months"!==e.actualIntervalType?t:t||("DateTime"===e.valueType?"MMM yyyy":"yMMM")};var Xb,Gb,P=Yb;function Yb(){return null!==Gb&&Gb.apply(this,arguments)||this}Zb=function(e,t){return(Zb=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Zb(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Kb,qb=P),Kb.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)},Kb.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),e.actualRange={},e.interval?e.actualRange.interval=Math.ceil(e.interval):e.actualRange.interval=Math.max(1,Math.floor(e.doubleRange.delta/To(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta},Kb.prototype.applyRangePadding=function(e,t){e.actualRange.min-=.5,e.actualRange.max+=.5,e.doubleRange=new qv(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)},Kb.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[],e.visibleRange.interval=e.visibleRange.interval<1?1:e.visibleRange.interval;var t,i,o=Math.ceil(e.visibleRange.min);for(e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];o<=e.visibleRange.max;o+=e.visibleRange.interval)t=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(o,e.visibleRange)&&0<e.labels.length&&(i=Math.round(o),Do(this.chart,i,(e.labels[i]||i).toString(),t,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},Kb.prototype.getModuleName=function(){return"Category3D"},Kb.prototype.destroy=function(){};var Zb,qb,Qb=Kb;function Kb(e){return qb.call(this,e)||this}$b=function(e,t){return($b=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}$b(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(t0,Jb=P),t0.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},t0.prototype.getActualRange=function(e,t){var i={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(i),i=this.chart.intl.getDateFormat(i),o=(null!==e.minimum?this.min=Date.parse(o(i(new Date(R.DataUtil.parse.parseJson({val:e.minimum}).val)))):null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=Date.parse(o(i(new Date(1970,1,1))))),null!==e.maximum?this.max=Date.parse(o(i(new Date(R.DataUtil.parse.parseJson({val:e.maximum}).val)))):null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=Date.parse(o(i(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new qv(this.min,this.max),this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end));e.interval?e.actualRange.interval=e.interval:e.actualRange.interval=o,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end},t0.prototype.applyRangePadding=function(e,t){this.min=e.actualRange.min,this.max=e.actualRange.max;var i=e.actualRange.interval;if(!ko(e)){var o=e.getRangePadding(this.chart),r=new Date(this.min),n=new Date(this.max),a=e.actualIntervalType;if("None"===o)this.min=r.getTime(),this.max=n.getTime();else if("Additional"===o||"Round"===o)switch(a){case"Years":this.getYear(r,n,o,i);break;case"Months":this.getMonth(r,n,o,i);break;case"Days":this.getDay(r,n,o,i);break;case"Hours":this.getHour(r,n,o,i);break;case"Minutes":var l=r.getMinutes()/i*i,s=n.getMinutes()+(r.getMinutes()-l);"Round"===o?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),l,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s,59).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),l-i,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s+i,0).getTime());break;case"Seconds":l=r.getSeconds()/i*i,s=n.getSeconds()+(r.getSeconds()-l);"Round"===o?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),l,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),s,0).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),l-i,0).getTime(),this.max=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),s+i,0).getTime())}}e.actualRange.min=(e.minimum,this.min),e.actualRange.max=(e.maximum,this.max),e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new qv(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)},t0.prototype.getYear=function(e,t,i,o){e=e.getFullYear(),t=t.getFullYear();"Additional"===i?(this.min=new Date(e-o,1,1,0,0,0).getTime(),this.max=new Date(t+o,1,1,0,0,0).getTime()):(this.min=new Date(e,0,0,0,0,0).getTime(),this.max=new Date(t,11,30,23,59,59).getTime())},t0.prototype.getMonth=function(e,t,i,o){var r=e.getMonth(),n=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),r,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),r+-o,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),n+o,2===n?28:30,0,0,0).getTime())},t0.prototype.getDay=function(e,t,i,o){var r=e.getDate(),n=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),r,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),r+-o,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),n+o,0,0,0).getTime())},t0.prototype.getHour=function(e,t,i,o){var r=e.getHours()/o*o,n=t.getHours()+(e.getHours()-r);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r-o,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n+o,0,0).getTime())},t0.prototype.calculateVisibleRange=function(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta},t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},t0.prototype.calculateVisibleLabels=function(e,t){e.visibleLabels=[];var i=e.visibleRange.min;for(ko(e)||(i=this.alignRangeStart(e,i,e.visibleRange.interval).getTime());i<=e.visibleRange.max;){var o=K.extend({},K.getValue("properties",e.labelStyle),null,!0);if(e.format=t.intl.getDateFormat({format:this.findCustomFormats(e)||"",type:bo(e.skeletonType),skeleton:this.getSkeleton(e)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),Xi(i,e.visibleRange)&&(this.increaseDateTimeInterval(e,i,e.visibleRange.interval).getTime()>e.visibleRange.max&&(e.endLabel=e.format(new Date(i))),Do(t,i,e.format(new Date(i)),o,e)),i===(i=this.increaseDateTimeInterval(e,i,e.visibleRange.interval).getTime()))break}"Months"!==e.actualIntervalType&&"Days"!==e.actualIntervalType||(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:bo(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},t0.prototype.increaseDateTimeInterval=function(e,t,i){var o=new Date(t),t=(e.interval?e.isIntervalInDecimal=i%1==0:i=Math.ceil(i),e.visibleRange.interval=i,e.actualIntervalType);if(e.isIntervalInDecimal)switch(t){case"Years":return o.setFullYear(o.getFullYear()+i),o;case"Months":return o.setMonth(o.getMonth()+i),o;case"Days":return o.setDate(o.getDate()+i),o;case"Hours":return o.setHours(o.getHours()+i),o;case"Minutes":return o.setMinutes(o.getMinutes()+i),o;case"Seconds":return o.setSeconds(o.getSeconds()+i),o}return o},t0.prototype.alignRangeStart=function(e,t,i){var o=new Date(t);switch(e.actualIntervalType){case"Years":var r=Math.floor(Math.floor(o.getFullYear()/i)*i);return o=new Date(r,o.getMonth(),o.getDate(),0,0,0);case"Months":r=Math.floor(Math.floor(o.getMonth()/i)*i);return o=new Date(o.getFullYear(),r,o.getDate(),0,0,0);case"Days":r=Math.floor(Math.floor(o.getDate()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),r,0,0,0);case"Hours":r=Math.floor(Math.floor(o.getHours()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),r,0,0);case"Minutes":r=Math.floor(Math.floor(o.getMinutes()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),r,0,0);case"Seconds":r=Math.floor(Math.floor(o.getSeconds()/i)*i);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),r,0)}return o},t0.prototype.getModuleName=function(){return"DateTime3D"},t0.prototype.destroy=function(){};var $b,Jb,e0=t0;function t0(e){return Jb.call(this,e)||this}i0=function(e,t){return(i0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}i0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(n0,o0=Qb),n0.prototype.calculateRangeAndInterval=function(e,t){this.axisSize=e,this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)},n0.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[];"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||"",type:bo(e.skeletonType),skeleton:this.getSkeleton(e)});for(var t,i=0;i<e.labels.length;i++)t=K.extend({},K.getValue("properties",e.labelStyle),null,!0),this.sameInterval(e.labels.map(Number)[i],e.labels.map(Number)[i-1],e.actualIntervalType,i)&&!e.isIndexed||Xi(+i,e.visibleRange)&&Do(this.chart,i,e.isIndexed?this.getIndexedAxisLabel(e.labels[i],e.format):e.format(new Date(e.labels.map(Number)[i])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},n0.prototype.getIndexedAxisLabel=function(e,t){for(var i=e.split(","),o=0;o<i.length;o++)i[o]=t(new Date(parseInt(i[o],10)));return i.join(", ")},n0.prototype.sameInterval=function(e,t,i,o){var r;if(0===o)r=!1;else switch(i){case"Years":r=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Months":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Days":r=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":r=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":r=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":r=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return r},n0.prototype.getModuleName=function(){return"DateTimeCategory3D"},n0.prototype.destroy=function(){};var i0,o0,r0=n0;function n0(e){return o0.call(this,e)||this}a0=function(e,t){return(a0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}a0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(h0,l0=Kv),h0.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)},h0.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;var i=ji(this.min,e.logBase),i=isFinite(i)?i:this.min,o=1===this.max?1:ji(this.max,e.logBase),o=isFinite(i)?o:this.max;this.min=Math.floor(+i),e.series&&e.series.some(function(e){return-1!==e.type.indexOf("Column")||-1!==e.type.indexOf("Bar")})&&(this.min=this.min<=0?+this.min-1:this.min),this.max=Math.ceil(+o),this.max=this.max===this.min?this.max+1:this.max,e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min},h0.prototype.calculateVisibleRange=function(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta}},h0.prototype.calculateLogNiceInterval=function(e,t,i){for(var o=To(t,i),r=e,n=Math.pow(i.logBase,Math.floor(ji(r,10))),a=0,l=i.intervalDivs.length;a<l;a++){var s=n*i.intervalDivs[a];if(o<e/s)break;r=s}return r},h0.prototype.calculateVisibleLabels=function(e,t){var i,o,r=e.visibleRange.min,n=(e.visibleLabels=[],this.getFormat(e)),a=null!==n.match("{value}"),l=Math.pow(e.logBase,e.visibleRange.min);for(e.format=t.intl.getNumberFormat({format:a?"":n,useGrouping:t.useGroupingSeparator,maximumFractionDigits:l<1?20:3}),e.startLabel=e.format(l<1?+l.toPrecision(1):l),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));r<=e.visibleRange.max;r+=e.visibleRange.interval)i=K.extend({},K.getValue("properties",e.labelStyle),null,!0),Xi(r,e.visibleRange)&&(o=Math.pow(e.logBase,r),Do(this.chart,r,this.formatValue(e,a,n,o<1?+o.toPrecision(1):o),i,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},h0.prototype.getModuleName=function(){return"Logarithmic3D"},h0.prototype.destroy=function(){};var a0,l0,s0=h0;function h0(e){return l0.call(this,e)||this}d0.prototype.draw=function(e,t){this.createSegments(e);for(var i=0;i<e.visiblePoints.length;i++){var o,r=e.visiblePoints[i];r.visible&&(o={cancel:!1,series:e,point:r,fill:e.setPointColor(r,e.interior)},t.trigger(lt,o),r.color=o.fill,r.plans=null,o.cancel?r.symbolLocations=null:this.update(o.series,o.point,i,t))}},d0.prototype.update=function(e,t,i,o){var r=e.index,n=t.left,a=t.right,l="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.min):e.yAxis.visibleRange.min,s="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.max):e.yAxis.visibleRange.max,h=e.xAxis.visibleRange.min,c=e.xAxis.visibleRange.max;h<=n&&n<=c&&h<=a&&a<=c&&(n=t.top<0?t.top>l?t.top:l:e.yAxis.valueType&&"logarithmic"===e.yAxis.valueType.toLowerCase()||t.top<s?t.top:s,a=o.svg3DRenderer.transform3DToVisible(e,t.left>h?t.left:h,n,o),s=o.svg3DRenderer.transform3DToVisible(e,c>t.right?t.right:c,l>t.bottom?l:t.bottom,o),h=o.vector.vector3D(Math.min(a.x,s.x),Math.min(a.y,s.y),t.startDepth),n=o.vector.vector3D(Math.max(a.x,s.x),Math.max(a.y,s.y),t.endDepth),c=e.setStyle(e),l="region-series-"+r+"-point-"+i,a=t.x+":"+t.yValue+", "+e.name,"Cylinder"===e.columnFacet?o.polygon.createCylinder(h,n,o,i,e.type,"",t.color,null,c.opacity,l,o.chart3D):"Rectangle"===e.columnFacet&&o.polygon.createBox(h,n,o,i,"",t.color,null,c.opacity,o.requireInvertedAxis,l,o.chart3D,a))},d0.prototype.createSegments=function(e){var t=e.getXValues(e.visiblePoints),i=e.getYValues(e.visiblePoints);if(null!=t&&null!=i)for(var o=e.getSideBySideInfo(e),r=e.getSegmentDepth(e),n=o.delta/2,a=e.visiblePoints,l=0;l<a.length;l++){var s=t[l]+o.start,h=t[l]+o.end,c=i[l];if(this.setData(s,c,h,0,r.start,r.end,e,a[l]),e.dataLabel.visible)switch(a[l].symbolLocations={x:0,y:0,z:0},e.dataLabel.position){case"Top":a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=c,a[l].symbolLocations.z=r.start;break;case"Bottom":a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=-.2+e.yAxis.visibleRange.min,a[l].symbolLocations.z=r.start+(r.end-r.start)/2;break;default:a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=Math.abs(0-c)/2+e.yAxis.visibleRange.min/2,a[l].symbolLocations.z=r.start}}},d0.prototype.setData=function(e,t,i,o,r,n,a,l){l.left=e,l.bottom=o,l.top=t,l.right=i,l.startDepth=r,l.endDepth=n,l.xRange=a.getDoubleRange(l.left,l.right),isNaN(l.top)||isNaN(l.bottom)||(l.yRange=a.getDoubleRange(l.top,l.bottom))},d0.prototype.destroy=function(){},d0.prototype.getModuleName=function(){return"ColumnSeries3D"};var c0=d0;function d0(){}u0.prototype.draw=function(e,t){this.createSegments(e);for(var i=0;i<e.visiblePoints.length;i++){var o,r=e.visiblePoints[i];r.visible&&(o={cancel:!1,series:e,point:r,fill:e.setPointColor(r,e.interior)},t.trigger(lt,o),r.color=o.fill,r.plans=null,o.cancel?r.symbolLocations=null:this.update(o.series,o.point,i,t))}},u0.prototype.update=function(e,t,i,o){var r=e.index,n=t.left,a=t.right,l="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.min):e.yAxis.visibleRange.min,s="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.max):e.yAxis.visibleRange.max,h=e.xAxis.visibleRange.min,c=e.xAxis.visibleRange.max;h<=n&&n<=c&&h<=a&&a<=c&&(n=t.top<0?t.top>l?t.top:l:e.yAxis.valueType&&"logarithmic"===e.yAxis.valueType.toLowerCase()||t.top<s?t.top:s,a=o.svg3DRenderer.transform3DToVisible(e,t.left>h?t.left:h,n,o),s=o.svg3DRenderer.transform3DToVisible(e,c>t.right?t.right:c,l>t.bottom?l:t.bottom,o),h=o.vector.vector3D(Math.min(a.x,s.x),Math.min(a.y,s.y),t.startDepth),n=o.vector.vector3D(Math.max(a.x,s.x),Math.max(a.y,s.y),t.endDepth),c=e.setStyle(e),l="region-series-"+r+"-point-"+i,"Cylinder"===e.columnFacet?o.polygon.createCylinder(h,n,o,i,e.type,"",t.color,null,c.opacity,l,o.chart3D):"Rectangle"===e.columnFacet&&o.polygon.createBox(h,n,o,i,"",t.color,null,c.opacity,o.requireInvertedAxis,l,o.chart3D))},u0.prototype.createSegments=function(e){var t=e.getXValues(e.visiblePoints);if(null!=t)for(var i=e.getSideBySideInfo(e),o=e.getSegmentDepth(e),r=i.delta/2,n=e.visiblePoints,a=0;a<n.length;a++){var l=t[a]+i.start,s=t[a]+i.end,h=e.stackedValues.startValues[a],c=e.stackedValues.endValues[a];if(this.setData(l,h,s,c,o.start,o.end,e,n[a]),e.dataLabel.visible)switch(n[a].symbolLocations={x:0,y:0,z:0},e.dataLabel.position){case"Top":n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=h,n[a].symbolLocations.z=o.start+o.delta/2;break;case"Bottom":n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=c-.2,n[a].symbolLocations.z=o.start+(o.end-o.start)/2;break;default:n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=h+(c-h)/2,n[a].symbolLocations.z=o.start}}},u0.prototype.setData=function(e,t,i,o,r,n,a,l){l.left=e,l.bottom=o,l.top=t,l.right=i,l.startDepth=r,l.endDepth=n,l.xRange=a.getDoubleRange(l.left,l.right),isNaN(l.top)||isNaN(l.bottom)||(l.yRange=a.getDoubleRange(l.top,l.bottom))},u0.prototype.destroy=function(){},u0.prototype.getModuleName=function(){return"StackingColumnSeries3D"};var p0=u0;function u0(){}m0.prototype.draw=function(e,t){this.createSegments(e),e.isRectSeries=!0;for(var i=0;i<e.visiblePoints.length;i++){var o,r=e.visiblePoints[i];r.visible&&(o={cancel:!1,series:e,point:r,fill:e.setPointColor(r,e.interior)},t.trigger(lt,o),r.color=o.fill,r.plans=null,o.cancel?r.symbolLocations=null:this.update(o.series,o.point,i,t))}},m0.prototype.update=function(e,t,i,o){var r=e.index,n=t.left,a=t.right,l="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.min):e.yAxis.visibleRange.min,s="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.max):e.yAxis.visibleRange.max,h=e.xAxis.visibleRange.min,c=e.xAxis.visibleRange.max;h<=n&&n<=c&&h<=a&&a<=c&&(n=t.top<0?t.top>l?t.top:l:e.yAxis.valueType&&"logarithmic"===e.yAxis.valueType.toLowerCase()||t.top<s?t.top:s,a=o.svg3DRenderer.transform3DToVisible(e,t.left>h?t.left:h,n,o),s=o.svg3DRenderer.transform3DToVisible(e,c>t.right?t.right:c,l>t.bottom?l:t.bottom,o),h=o.vector.vector3D(Math.min(a.x,s.x),Math.min(a.y,s.y),t.startDepth),n=o.vector.vector3D(Math.max(a.x,s.x),Math.max(a.y,s.y),t.endDepth),c=e.setStyle(e),l="region-series-"+r+"-point-"+i,"Cylinder"===e.columnFacet?o.polygon.createCylinder(h,n,o,i,e.type,"",t.color,null,c.opacity,l,o.chart3D):"Rectangle"===e.columnFacet&&o.polygon.createBox(h,n,o,i,"",t.color,null,c.opacity,o.requireInvertedAxis,l,o.chart3D))},m0.prototype.createSegments=function(e){var t=e.getXValues(e.visiblePoints);if(null!=t)for(var i=e.getSideBySideInfo(e),o=e.getSegmentDepth(e),r=i.delta/2,n=e.visiblePoints,a=0;a<n.length;a++){var l=t[a]+i.start,s=t[a]+i.end,h=e.stackedValues.startValues[a],c=e.stackedValues.endValues[a];if(this.setData(l,c,s,h,o.start,o.end,e,n[a]),e.dataLabel.visible)switch(n[a].symbolLocations={x:0,y:0,z:0},e.dataLabel.position){case"Top":n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=c,n[a].symbolLocations.z=o.start+o.delta/2;break;case"Bottom":n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=h-.2,n[a].symbolLocations.z=o.start+(o.end-o.start)/2;break;default:n[a].symbolLocations.x=l+r,n[a].symbolLocations.y=c+(h-c)/2,n[a].symbolLocations.z=o.start}}},m0.prototype.setData=function(e,t,i,o,r,n,a,l){l.left=e,l.bottom=o,l.top=t,l.right=i,l.startDepth=r,l.endDepth=n,l.xRange=a.getDoubleRange(l.left,l.right),isNaN(l.top)||isNaN(l.bottom)||(l.yRange=a.getDoubleRange(l.top,l.bottom))},m0.prototype.destroy=function(){},m0.prototype.getModuleName=function(){return"StackingBarSeries3D"};var g0=m0;function m0(){}f0.prototype.draw=function(e,t){this.createSegments(e);for(var i=0;i<e.visiblePoints.length;i++){var o,r=e.visiblePoints[i];r.visible&&(o={cancel:!1,series:e,point:r,fill:e.setPointColor(r,e.interior)},t.trigger(lt,o),r.color=o.fill,r.plans=null,o.cancel?r.symbolLocations=null:this.update(o.series,o.point,i,t))}},f0.prototype.update=function(e,t,i,o){var r=o.visibleSeries.indexOf(e),n=t.left,a=t.right,l="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.min):e.yAxis.visibleRange.min,s="Logarithmic"===e.yAxis.valueType?Math.pow(e.yAxis.logBase,e.yAxis.visibleRange.max):e.yAxis.visibleRange.max,h=e.xAxis.visibleRange.min,c=e.xAxis.visibleRange.max;(h<=n&&n<=c||h<=a&&a<=c)&&(n=t.top<0?t.top>l?t.top:l:e.yAxis.valueType&&"logarithmic"===e.yAxis.valueType.toLowerCase()||t.top<s?t.top:s,a=o.svg3DRenderer.transform3DToVisible(e,t.left>h?t.left:h,n,o),s=o.svg3DRenderer.transform3DToVisible(e,c>t.right?t.right:c,l>t.bottom?l:t.bottom,o),h=o.vector.vector3D(Math.min(a.x,s.x),Math.min(a.y,s.y),t.startDepth),n=o.vector.vector3D(Math.max(a.x,s.x),Math.max(a.y,s.y),t.endDepth),c=e.setStyle(e),l="region-series-"+r+"-point-"+i,"Cylinder"===e.columnFacet?o.polygon.createCylinder(h,n,o,i,e.type,"",t.color,null,c.opacity,l,o.chart3D):o.polygon.createBox(h,n,o,i,"",t.color,null,c.opacity,o.requireInvertedAxis,l,o.chart3D))},f0.prototype.createSegments=function(e){var t=e.getXValues(e.visiblePoints),i=e.getYValues(e.visiblePoints);if(null!=t){e.isRectSeries=!0;for(var o=e.getSideBySideInfo(e),r=e.getSegmentDepth(e),n=o.delta/2,a=e.visiblePoints,l=0;l<a.length;l++){var s=t[l]+o.start,h=t[l]+o.end,c=i[l];if(this.setData(s,c,h,0,r.start,r.end,e,a[l]),e.dataLabel.visible)switch(a[l].symbolLocations={x:0,y:0,z:0},e.dataLabel.position){case"Top":a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=c,a[l].symbolLocations.z=r.start;break;case"Bottom":a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=-.2+e.yAxis.visibleRange.min,a[l].symbolLocations.z=r.start+(r.end-r.start)/2;break;default:a[l].symbolLocations.x=s+n,a[l].symbolLocations.y=Math.abs(0-c)/2+e.yAxis.visibleRange.min/2,a[l].symbolLocations.z=r.start}}}},f0.prototype.setData=function(e,t,i,o,r,n,a,l){l.left=e,l.bottom=o,l.top=t,l.right=i,l.startDepth=r,l.endDepth=n,l.xRange=a.getDoubleRange(l.left,l.right),isNaN(l.top)||isNaN(l.bottom)||(l.yRange=a.getDoubleRange(l.top,l.bottom))},f0.prototype.destroy=function(){},f0.prototype.getModuleName=function(){return"BarSeries3D"};var y0=f0;function f0(){}b0.prototype.render=function(e,t,i){var o,r=t.element.id+"-series-"+e.index+"-data-label-collections";e.dataLabelElement=K.createElement("div",{id:r});for(var n=0;n<e.visiblePoints.length;n++)(o=e.visiblePoints[n]).visible&&this.draw3DDataLabel(e,o.index,o,t,i);e.dataLabel.template&&q(!1,document.getElementById(this.chart.element.id+"_Secondary_Element"),e.dataLabelElement,t.redraw,!1,"x","y",null,"",!1,!1,null)},b0.prototype.draw3DDataLabel=function(e,t,i,o,r){var n={data:null},a=this.getLabelText(i,e,this.chart)[0],l=$.measureText(a,r.font,this.chart.themeStyle.datalabelFont),s=o.svg3DRenderer.transform3DToVisible(e,i.symbolLocations.x,i.symbolLocations.y,o),h=s.y,a=(s.x,h="Bottom"===e.dataLabel.position?s.y+0:+s.y,s=s.x+0,n.data={text:a,location:{x:s,y:h},series:e,pointIndex:t},n.data.Text=n.data.text,{cancel:!1,series:e,point:i,text:a,border:r.border,color:r.fill,template:r.template,textStyle:r.font}),r=(o.trigger(at,a),this.fontBackground=("Middle"===e.dataLabel.position&&"transparent"===a.color?i:a).color,n.data.text=a.text,e.dataLabel.template||""===n.data.Text||a.cancel||(r={tag:"dataLabel",series:e,point:i,pointIndex:t,id:o.svgObject.id+e.index+"-data-label"+t,child:o.chart3D},o.graphics.addVisual(o.polygon.createTextElement(o.vector.vector3D(s,h,i.symbolLocations.z),r,0,-l.height),o)),e.dataLabel&&e.dataLabel.template?"template":"text"),c=ir(or("transparent"===this.fontBackground?-1<this.chart.theme.indexOf("Dark")||"HighContrast"===this.chart.theme?"#000000":"#FFFFFF":this.fontBackground)),c=Math.round((299*c.r+587*c.g+114*c.b)/1e3),d={size:a.textStyle.size||this.chart.themeStyle.datalabelFont.size,fontWeight:a.textStyle.fontWeight||this.chart.themeStyle.datalabelFont.fontWeight,fontStyle:a.textStyle.fontStyle||o.themeStyle.datalabelFont.fontStyle,fontFamily:a.textStyle.fontFamily||this.chart.themeStyle.datalabelFont.fontFamily,color:a.textStyle.color,opacity:a.textStyle.opacity},n={width:l.width,height:l.height,label:n.data,textAnchor:"middle",tag:r,font:d,angle:e.dataLabel.angle,id:o.element.id+"-svg-series-"+e.index+"-point-"+t+"-data-label",child:o.chart3D,argsData:a,fill:128<=c?"#000000":"#FFFFFF"};a.cancel||o.graphics.addVisual(o.polygon.createTextElement(o.vector.vector3D(s,h,i.symbolLocations.z),n,0,-l.height),o)},b0.prototype.getLabelText=function(e,t,i){var o=t.dataLabel.format||t.yAxis.labelFormat,r=[],n=null!==o.match("{value}");if(r.push(e.text||e.yValue.toString()),(o||i.useGroupingSeparator)&&!e.text){t.yAxis.format=i.intl.getNumberFormat({format:n?"":o,useGrouping:i.useGroupingSeparator});for(var a=0;a<r.length;a++)r[a]=n?o.replace("{value}",t.yAxis.format(parseFloat(r[a]))):t.yAxis.format(parseFloat(r[a]))}return r},b0.prototype.createDataLabelTemplate=function(e,t,i,o,r,n,a,l){this.margin={left:0,right:0,bottom:0,top:0};var s=t.clipRect,r=this.createTemplate(K.createElement("div",{id:this.chart.element.id+"-series-"+t.index+"-data-label-"+n,styles:"position: absolute;background-color:"+r.color+";"+jo(i.font,this.chart.themeStyle.datalabelFont)+";border:"+r.border.width+"px solid "+r.border.color+";"}),r.template,this.chart,o,t,this.chart.element.id+"-data-label-",n,l);this.calculateTemplateLabelSize(e,r,o,t,i,s,a,l)},b0.prototype.calculateTemplateLabelSize=function(e,t,i,o,r,n,a,l,s){var h=Wo(t,a,s),c={x:0,y:0,width:0,height:0},l=this.calculateTextPosition(o,i,h,l),d=!1;s&&(d=0===h.width||0===h.height),t.style.left=+l.left+"px",t.style.top=l.top+0+"px";s=ir(or("transparent"===this.fontBackground?-1<this.chart.theme.indexOf("Dark")?"black":"white":this.fontBackground)),h=o.chart.requireInvertedAxis?o.xAxis:o.yAxis,l=o.chart.requireInvertedAxis?o.yAxis:o.xAxis;t.style.color=r.font.color||(128<=Math.round((299*s.r+587*s.g+114*s.b)/1e3)?"black":"white"),t.childElementCount&&!d&&!Qo(c,this.chart.dataLabelCollections,n)&&(void 0===i.yValue||Xi(i.yValue,o.yAxis.visibleRange)||-1<o.type.indexOf("Stacking")||-1<o.type.indexOf("100")&&Xi(o.stackedValues.endValues[i.index],o.yAxis.visibleRange))&&Xi(i.xValue,o.xAxis.visibleRange)&&parseFloat(t.style.top)>=h.rect.y&&parseFloat(t.style.left)>=l.rect.x&&parseFloat(t.style.top)<=h.rect.y+h.rect.height&&parseFloat(t.style.left)<=l.rect.x+l.rect.width&&(this.chart.dataLabelCollections.push(new $.Rect(c.x+n.x,c.y+n.y,c.width,c.height)),q(!1,e,t,a,!0,"left","top"))},b0.prototype.calculateTextPosition=function(e,t,i,o){var r,n=i.width/2,i=i.height,i=(e=-1!==e.type.indexOf("Bar")?(r=o.x-n,o.y-i+e.xAxis.plotOffset):(r=o.x-n,o.y-i),o.x+n);return{left:r,top:e,right:i}},b0.prototype.chartReactTemplate=function(e,t,i,o,r,n,a){var l=document.getElementById(t.element.id+"-series-"+o.index+"-data-label-collections");l&&(0===i.index&&(t.dataLabelCollections=[]),t.dataLabel3DModule.calculateTemplateLabelSize(l,e,i,o,o.dataLabel,o.clipRect,n,a,!0))},b0.prototype.createTemplate=function(e,t,i,o,r,n,a,l,s){t=Bo(t);try{var h=t?t({chart:i,series:r,point:o},i,n+"-template",n):[];if(h.length)for(var c,d=(c=Array.prototype.slice.call(h)).length,p=0;p<d;p++)e.appendChild(c[p]);var u;"chart3d"===i.getModuleName()&&(u=o&&r?this.chartReactTemplate.bind(this,e,i,o,r,a,s,l):void 0,i.isReact)&&i.renderReactTemplates(u)}catch(e){}return e},b0.prototype.getModuleName=function(){return"DataLabel3D"},b0.prototype.destroy=function(){};var v0=b0;function b0(e){this.chart=e}x0=function(e,t){return(x0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}x0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(w0,S0=zh),w0.prototype.addEventListener=function(){var e;this.chart.isDestroyed||(e=K.Browser.isPointer?"pointerleave":"mouseleave",this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.mouseLeave,this),this.chart.on("click",this.mouseClick,this),this.chart.on(K.Browser.touchStartEvent,this.mousedown,this),this.chart.on(K.Browser.touchEndEvent,this.mouseLeave,this))},w0.prototype.mousedown=function(){var e=this.chart;e.isPointMouseDown||e.selectionMode},w0.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.mouseLeave),this.chart.off("click",this.mouseClick),this.chart.off(K.Browser.touchStartEvent,this.mousedown),this.chart.off(K.Browser.touchEndEvent,this.mouseLeave))},w0.prototype.initPrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.isSeriesMode="Series"===e.selectionMode},w0.prototype.invokeSelection=function(e){this.initPrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))},w0.prototype.generateStyle=function(e){return e?this.styleId+"_series_"+e.index:"undefined"},w0.prototype.selectDataIndex=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.performSelection(r,e,this.getElementByIndex(e,r)[0])}},w0.prototype.getElementByIndex=function(e,t){var i=[];return document.querySelectorAll('[id*="-region-series-'+t.series+"-point-"+t.point+'"]').forEach(function(e){i.push(e)}),i},w0.prototype.getClusterElements=function(e,t){for(var i=[],o=0,r=e.visibleSeries;o<r.length;o++){var n=r[o];if(n.visible){t=new ke(n.index,t.point);for(var a=this.getElementByIndex(e,t),l=0;l<a.length;l++)i.push(a[l])}}return i},w0.prototype.findElements=function(e,t,i){return this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i)},w0.prototype.isAlreadySelected=function(e,i,o){if("click"===i?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"!==i&&"pointermove"!==i||(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===i)return!1;if(("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight)&&this.previousSelectedEle&&this.previousSelectedEle[0])for(var r=void 0,t=e.nodeName,n=(e.parentNode&&(r=("path"===t||"shape"===t)&&1<e.id.indexOf("region")),this),a=0;a<this.previousSelectedEle.length;a++)!function(e){var t;n.previousSelectedEle[e].hasAttribute("class")&&(-1<n.previousSelectedEle[e].getAttribute("class").indexOf("highlight")&&(r||"click"===i)?(n.previousSelectedEle[e].classList.forEach(function(e){-1<e.indexOf("selection")&&(t=e)}),n.previousSelectedEle[e].removeAttribute("class"),t&&n.addSvgClass(n.previousSelectedEle[e],t),n.previousSelectedEle[e].classList.remove(n.styleId+"_series_"+o.series),""===n.chart.highlightColor||K.isNullOrUndefined(n.chart.highlightColor)||"None"!==n.chart.highlightPattern||n.previousSelectedEle[e].setAttribute("fill",n.control.visibleSeries[n.indexFinder(n.previousSelectedEle[e].id).series].interior),n.addOrRemoveIndex(n.highlightDataIndexes,n.indexFinder(n.previousSelectedEle[e].id))):!r&&-1<n.previousSelectedEle[e].getAttribute("class").indexOf("highlight")&&n.performSelection(n.indexFinder(n.previousSelectedEle[e].id),n.chart,n.previousSelectedEle[e]))}(a);return!0},w0.prototype.mouseClick=function(e){this.chart.rotateActivate||this.calculateSelectedElements(e.target,e.type)},w0.prototype.calculateSelectedElements=function(e,t){K.isNullOrUndefined(e)||"None"===this.chart.selectionMode&&"None"===this.chart.highlightMode||e.id&&-1===e.id.indexOf(this.chart.element.id+"-")||("mousemove"===t||"pointermove"===t)&&e.hasAttribute("class")&&(-1<e.getAttribute("class").indexOf("highlight")||-1<e.getAttribute("class").indexOf("selection"))||(this.isAlreadySelected(e,t,this.indexFinder(e.id)),e.id&&-1<e.id.indexOf("-series-")&&-1===e.id.indexOf("_Text_")&&this.performSelection(this.indexFinder(e.id),this.chart,e))},w0.prototype.performSelection=function(e,t,i){switch(this.isSeriesMode="Series"===this.currentMode,this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries);break;case"Point":!isNaN(e.point)&&i&&(this.selection(t,e,this.getElementByIndex(t,e)),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries));break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries))}},w0.prototype.selectionComplete=function(e,t,i){var o,r,n=[];if("Cluster"===i){for(var a=0,l=e.visibleSeries;a<l.length;a++)if((c=l[a]).visible)for(var s=0;s<this.selectedDataIndexes.length;s++)d=(e.isMultiSelect?this.selectedDataIndexes[s]:t).point,p=c.index,u=c.points,isNaN(d)||(o=u[d].yValue,r=u[d].xValue,"Category"===e.primaryXAxis.valueType?r=u[d].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(r=new Date(u[d].xValue)),n.push({x:r,y:o,seriesIndex:p,pointIndex:d}))}else if("Series"===i)if(e.isMultiSelect)for(s=0;s<this.selectedDataIndexes.length;s++)p=this.selectedDataIndexes[s].series,0<this.selectedDataIndexes.length&&n.push({seriesIndex:p});else p=0<this.selectedDataIndexes.length?this.selectedDataIndexes[0].series:this.highlightDataIndexes&&0<this.highlightDataIndexes.length?this.highlightDataIndexes[0].series:0,(0<this.selectedDataIndexes.length||this.highlightDataIndexes&&0<this.highlightDataIndexes.length)&&n.push({seriesIndex:p});else if("Point"===i)for(var h=[],h=-1<this.styleId.indexOf("highlight")?this.highlightDataIndexes:this.selectedDataIndexes,s=0;s<h.length;s++){var c,d=h[s].point,p=h[s].series,u=(c=e.series[p]).points;isNaN(d)||(r=u[d].xValue,o=u[d].yValue,"Category"===e.primaryXAxis.valueType?r=u[d].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(r=new Date(u[d].xValue)),n.push({x:r,y:o,seriesIndex:p,pointIndex:d}))}e.trigger(Pt,{selectedDataValues:n,cancel:!1,chart:e})},w0.prototype.selection=function(e,t,i){e.isMultiSelect||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series);var o,r=t.series;K.isNullOrUndefined(i[0])||(e.visibleSeries[r].isRectSeries&&i[0].id&&document.getElementById(i[0].id+"_Symbol")&&i.push(J(i[0].id+"_Symbol")),r=void 0,o=i[0]&&(i[0].getAttribute("class")||""),i[0]&&-1<o.indexOf(this.getSelectionClass(i[0].id))?this.removeStyles(i):(this.previousSelectedEle="None"!==e.highlightMode||e.legendSettings.enableHighlight?i:[],this.chart.selection3DModule&&(this.chart.selection3DModule.previousSelectedEle=i),this.applyStyles(i),r=!0),0<this.styleId.indexOf("highlight")&&("None"!==e.highlightMode||e.legendSettings.enableHighlight)?this.addOrRemoveIndex(this.highlightDataIndexes,t,r):this.addOrRemoveIndex(this.selectedDataIndexes,t,r))},w0.prototype.clusterSelection=function(e,t){this.selection(e,t,this.getClusterElements(e,new ke(t.series,t.point)))},w0.prototype.removeMultiSelectElements=function(e,t,i,o){for(var r,n=0;n<t.length;n++)r=o[t[n].series],(this.isSeriesMode&&!this.toEquals(t[n],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[n],i,!1)||!this.isSeriesMode&&this.toEquals(t[n],i,!0)&&!this.toEquals(t[n],i,!1))&&(this.removeStyles(this.findElements(e,r,t[n])),t.splice(n,1),n--)},w0.prototype.blurEffect=function(r,e){for(var n=this.checkVisibility(this.highlightDataIndexes,this.chart)||this.checkVisibility(this.selectedDataIndexes,this.chart),a=this,t=0,i=e;t<i.length;t++)!function(e){var t=e.index,i=a.chart.visibleSeries[e.index].interior,o=[];e.visible&&(document.querySelectorAll('[id*="region-series-'+e.index+'"]').forEach(function(e){o.push(e)}),a.checkSelectionElements(o,a.generateStyle(e),n,t,i),K.isNullOrUndefined(J(r+"SymbolGroup"+e.index))||a.checkSelectionElements(o,a.generateStyle(e),n,t,i))}(i[t])},w0.prototype.checkSelectionElements=function(e,t,i,o,r){void 0===o&&(o=0),void 0===r&&(r="#D3D3D3");for(var n,a,l=this.isSeriesMode?e||[e]:e,s=("None"===this.chart.selectionMode||"None"===this.chart.highlightMode&&!this.chart.legendSettings.enableHighlight||(l=e),e),h=0;h<l.length;h++)n=l[h].getAttribute("class")||"",a=l[h].parentNode.getAttribute("class")||"","None"===this.chart.selectionMode||"None"===this.chart.highlightMode&&!this.chart.legendSettings.enableHighlight||(t=0<n.indexOf("selection")||0<n.indexOf("highlight")?n:t),-1===n.indexOf(t)&&-1===a.indexOf(t)&&i?this.addSvgClass(l[h],this.unselected):(s=l[h],-1!==n.indexOf(this.unselected)&&this.chart.tooltip3DModule&&0<t.indexOf("highlight")&&this.chart.highlightAnimation(l[h],o,700,.3),this.removeSvgClass(l[h],this.unselected),this.removeSvgClass(l[h].parentNode,this.unselected));this.control.legend3DModule&&this.control.legendSettings.visible&&(e=J(this.control.element.id+"_chart_legend_shape_"+o))&&(e.hasAttribute("class")&&(this.removeSvgClass(e,e.getAttribute("class")),K.isNullOrUndefined(this.chart.highlightColor&&""!==this.chart.highlightColor)||this.chart.legendSettings.enableHighlight||(e.setAttribute("stroke",r),"None"===this.chart.highlightPattern&&e.setAttribute("fill",r))),0<s.length?(n=s[0].getAttribute("class"),a=s[0].parentNode.getAttribute("class")||""):s&&(n=s.getAttribute("class")||"",a=s.parentNode.getAttribute("class")||""),-1===n.indexOf(t)&&-1===a.indexOf(t)&&i?(this.addSvgClass(e,"None"===this.chart.highlightMode&&this.chart.legendSettings.enableHighlight?t:this.unselected),this.removeSvgClass(e,t),""===this.chart.highlightColor||K.isNullOrUndefined(this.chart.highlightColor)||(e.setAttribute("stroke",this.control.visibleSeries[o].interior),"None"===this.chart.highlightPattern&&e.setAttribute("fill",this.control.visibleSeries[o].interior))):(this.removeSvgClass(e,this.unselected),K.isNullOrUndefined(this.chart.highlightColor)||""===this.chart.highlightColor||(e.setAttribute("stroke",this.control.visibleSeries[o].interior),"None"===this.chart.highlightPattern&&e.setAttribute("fill",this.control.visibleSeries[o].interior)),""===n&&""===a||"EJ2-Trackball"===n.trim()?this.removeSvgClass(e,t):(this.addSvgClass(e,t),0<t.indexOf("highlight")&&""!==this.chart.highlightColor&&"transparent"!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&(e.setAttribute("stroke",this.chart.highlightColor),0<this.styleId.indexOf("highlight"))&&"None"===this.chart.highlightPattern&&e.setAttribute("fill",this.chart.highlightColor))))},w0.prototype.applyStyles=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o){if(this.removeSvgClass(o.parentNode,this.unselected),this.removeSvgClass(o,this.unselected),"fill"===this.chart.series[0].pointColorMapping){var r=this.getSelectionClass(o.id),n=-1<r.indexOf("highlight")?parseInt(r.split(this.chart.element.id+"_ej2_chart_highlight_series_")[1],10):parseInt(r.split(this.chart.element.id+"_ej2_chart_selection_series_")[1],10),a=0<this.styleId.indexOf("highlight")?this.chart.highlightPattern:this.chart.selectionPattern,l=void 0;if((-1<r.indexOf("highlight")||-1<r.indexOf("selection"))&&(l=document.getElementById(this.chart.element.id+"_"+a+"_Selection_"+n)),-1===o.id.indexOf("legend")&&-1===o.id.indexOf("Group")&&null!=l)for(var s=1;s<l.children.length;s++)l.children[s].setAttribute("fill",o.getAttribute("fill")),l.children[s].setAttribute("stroke",o.getAttribute("fill"))}this.addSvgClass(o,this.getSelectionClass(o.id)),this.chart.tooltip3DModule&&0<this.getSelectionClass(o.id).indexOf("highlight")&&(n=parseFloat(o.id.split("-series-")[1].split("-point-")[0]),this.chart.stopElementAnimation(o,n)),0<this.styleId.indexOf("highlight")&&""!==this.chart.highlightColor&&!K.isNullOrUndefined(this.chart.highlightColor)&&"None"===this.chart.highlightPattern&&"transparent"!==this.chart.highlightColor&&o.setAttribute("fill",this.chart.highlightColor)}}},w0.prototype.getSelectionClass=function(e){return this.generateStyle(this.control.visibleSeries[this.indexFinder(e).series])},w0.prototype.removeStyles=function(e){for(var t=0,i=e;t<i.length;t++){var o,r=i[t];r&&(this.removeSvgClass(r,this.getSelectionClass(r.id)),"None"!==this.chart.highlightPattern||""===this.chart.highlightColor||K.isNullOrUndefined(this.chart.highlightColor)||"transparent"===this.chart.highlightColor||(o=this.control.visibleSeries[this.indexFinder(r.id).series].interior,"ZLight"===r.getAttribute("name")&&(o=this.chart.polygon.applyZLight(o,this.control)),"XLight"===r.getAttribute("name")&&(o=this.chart.polygon.applyXLight(o,this.control)),r.setAttribute("fill",o)))}},w0.prototype.addOrRemoveIndex=function(e,t,i){for(var o=0;o<e.length;o++)this.toEquals(e[o],t,this.isSeriesMode)&&(e.splice(o,1),o--);i&&e.push(t)},w0.prototype.toEquals=function(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)},w0.prototype.redrawSelection=function(e,t,i){this.isSeriesMode="Series"===t,K.isNullOrUndefined(t)||(e.isRedrawSelection=!i);t=K.extend([],this.selectedDataIndexes,null,!0),i=K.extend([],this.highlightDataIndexes,null,!0);0<this.styleId.indexOf("highlight")&&0<i.length?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),t=i):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(e,t)},w0.prototype.legendSelection=function(e,t,i,o){if("mousemove"===o){if((i=1<(i=1<(i=1<i.id.indexOf("text")?J(i.id.replace("text","shape")):i).id.indexOf("marker")?J(i.id.replace("_marker","")):i).id.indexOf("g")?J(i.id.replace("_g_","_shape_")):i).hasAttribute("class")&&(-1<i.getAttribute("class").indexOf("highlight")||-1<i.getAttribute("class").indexOf("selection")))return;this.currentMode=this.chart.highlightMode}else"click"===o&&1<(i=1<i.id.indexOf("text")?J(i.id.replace("text","shape")):i).id.indexOf("g")&&(i=J(i.id.replace("_g_","_shape_")));var r=this.indexFinder(i.id);if(this.isAlreadySelected(i,o,r)){var n=this.generateStyle(e.visibleSeries[t]),a=document.querySelectorAll("."+n);this.isSeriesMode="Series"===this.currentMode;if(0<a.length)this.removeSelection(e,t,a,n,!0);else{for(var l=0,s=e.visibleSeries;l<s.length;l++){var h=s[l];h.index===t||e.isMultiSelect||(n=this.generateStyle(e.visibleSeries[h.index]),a=document.querySelectorAll("."+n),this.removeSelection(e,t,a,n,!0))}i=[];0<(i="Point"===this.chart.legendSettings.mode?this.getElementByIndex(e,r):this.getSeriesElements(e.visibleSeries[t])).length&&(this.checkSelectionElements(i,n,!1,t,""),this.isSeriesMode=!0,this.selection(e,new ke(r.series,NaN),i),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}}},w0.prototype.removeSelection=function(e,t,i,o,r){if(0<i.length){for(var n=[],a=0;a<i.length;a++)n.push(i[a]);this.removeStyles(n),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new ke(t,NaN));for(var l=0,s=e.visibleSeries;l<s.length;l++){var h=s[l];if(o=this.generateStyle(h),0<document.querySelectorAll("."+o).length){for(var c=0,d=n;c<d.length;c++)this.checkSelectionElements(d[c],o,!0,t,"");r=!1;break}}r&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}},w0.prototype.getSeriesElements=function(e){var t=[];return e.visible&&document.querySelectorAll('[id*="region-series-'+e.index+'"]').forEach(function(e){t.push(e)}),t},w0.prototype.indexFinder=function(e){var t=["NaN","NaN"];return-1<e.indexOf("-point-")?t=e.split("-series-")[1].split("-point-"):-1<e.indexOf("-border-")?t[0]=e.split("-border-")[1]:-1<e.indexOf("-series-")?t[0]=e.split("-series-")[1]:-1<e.indexOf("_chart_legend_shape_")&&((t=e.split("_chart_legend_shape_"))[0]=t[1]),new ke(parseInt(t[0],10),parseInt(t[1],10))},w0.prototype.removeSelectedElements=function(e,t,i){t=e.isRedrawSelection?t:t.splice(0,t.length);for(var o=0,r=i;o<r.length;o++){var n=r[o];if(n.visible){n=this.getSeriesElements(n),this.removeStyles(n);for(var a=0,l=n;a<l.length;a++){var s=l[a];this.removeStyles(this.getChildren(s))}}}},w0.prototype.mouseLeave=function(){this.completeSelection()},w0.prototype.completeSelection=function(){var e=this.chart;"None"!==e.selectionMode&&(this.currentMode=e.selectionMode)},w0.prototype.mouseMove=function(e){var t=this.chart,i=e.target,o=e.type;this.highlightChart(i,o),"None"!==t.selectionMode&&"touchmove"===o&&(K.Browser.isIos||K.Browser.isIos7)&&e.preventDefault&&e.preventDefault()},w0.prototype.highlightChart=function(e,t){if(!this.chart.rotateActivate&&("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight)&&!K.isNullOrUndefined(e)){if((e=1<e.id.indexOf("_legend_text")?J(e.id.replace("text","shape")):e).hasAttribute("class")&&(-1<e.getAttribute("class").indexOf("highlight")||-1<e.getAttribute("class").indexOf("selection")))return;this.calculateSelectedElements(e,t),this.chart.highlight3DModule.highlightDataIndexes&&0<this.chart.highlight3DModule.highlightDataIndexes.length&&-1===e.id.indexOf("_chart_legend_")&&-1===e.id.indexOf("-series-")&&this.removeLegendHighlightStyles()}},w0.prototype.removeLegendHighlightStyles=function(){var e;this.chart.highlight3DModule.highlightDataIndexes=[];for(var t,i,o=0;o<this.chart.visibleSeries.length;o++)if(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[o])),0===this.selectedDataIndexes.length){for(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[o]));0<e.length;)(i=e[0])&&(this.removeSvgClass(i,i.getAttribute("class")),"None"!==this.chart.highlightPattern||""===this.chart.highlightColor||K.isNullOrUndefined(this.chart.highlightColor)||"transparent"===this.chart.highlightColor||(t=this.control.visibleSeries[o].interior,"ZLight"===i.getAttribute("name")&&(t=this.chart.polygon.applyZLight(t,this.control)),"XLight"===i.getAttribute("name")&&(t=this.chart.polygon.applyXLight(t,this.control)),-1!==i.id.indexOf("_chart_legend_shape")&&i.getAttribute("stroke")&&i.setAttribute("stroke",t),i.setAttribute("fill",t)));for(e=document.getElementsByClassName(this.unselected);0<e.length;)(i=e[0])&&(this.removeSvgClass(i,i.getAttribute("class")),this.chart.tooltip3DModule)&&-1<this.generateStyle(this.chart.visibleSeries[o]).indexOf("highlight")&&this.chart.highlightAnimation(i,o,700,.3)}else for(e=document.getElementsByClassName(this.generateStyle(this.chart.visibleSeries[o]));0<e.length;)(i=e[0])&&(this.removeSvgClass(i,i.getAttribute("class")),this.addSvgClass(i,this.unselected))},w0.prototype.getModuleName=function(){return"Selection3D"},w0.prototype.destroy=function(){this.removeEventListener()};var x0,S0,C0=w0;function w0(e){var t=S0.call(this,e)||this;return t.seriesIndex=0,t.chart=e,t.addEventListener(),t}F0=function(e,t){return(F0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}F0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(A0,L0=C0),A0.prototype.wireEvents=function(){this.chart.isDestroyed||this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this)},A0.prototype.unWireEvents=function(){this.chart.isDestroyed||this.chart.off(K.Browser.touchMoveEvent,this.mouseMove)},A0.prototype.declarePrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode},A0.prototype.invokeHighlight=function(e){this.declarePrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode},A0.prototype.getModuleName=function(){return"Highlight3D"},A0.prototype.destroy=function(){this.unWireEvents()};var F0,L0,P0=A0;function A0(e){var t=L0.call(this,e)||this;return t.chart=e,t.wireEvents(),t}D0.prototype.export=function(e,t){var i=new Dc(this.chart),o={cancel:!1,width:null,height:null};this.chart.trigger(Vt,o),o.cancel||i.export(e,t,void 0,[this.chart])},D0.prototype.pdfExport=function(e,t,i,o,r,n,a,l,s){var h=new Dc(this.chart),c=(i=i||[this.chart],{cancel:!1,width:o,height:r});this.chart.trigger(Vt,c),c.cancel||h.export("PDF",e,t,i,o=c.width,r=c.height,n,a,l,s)},D0.prototype.getDataUrl=function(e){return new Dc(e).getDataUrl(e)},D0.prototype.getModuleName=function(){return"Export3D"},D0.prototype.destroy=function(){};var M0=D0;function D0(e){this.chart=e}k0=function(e,t){return(k0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var k0,R0,T0=function(e,t){function i(){this.constructor=e}k0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},_0=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},E0=(R0=K.ChildProperty,T0(I0,R0),_0([K.Property("Normal")],I0.prototype,"fontStyle",void 0),_0([K.Property("16px")],I0.prototype,"size",void 0),_0([K.Property("Normal")],I0.prototype,"fontWeight",void 0),_0([K.Property("")],I0.prototype,"color",void 0),_0([K.Property("Segoe UI")],I0.prototype,"fontFamily",void 0),_0([K.Property(1)],I0.prototype,"opacity",void 0),I0);function I0(){return null!==R0&&R0.apply(this,arguments)||this}O0=K.ChildProperty,T0(B0,O0),_0([K.Property(null)],B0.prototype,"color",void 0),_0([K.Property(1)],B0.prototype,"width",void 0),_0([K.Property(null)],B0.prototype,"length",void 0),_0([K.Property("")],B0.prototype,"dashArray",void 0);var O0,z0=B0;function B0(){return null!==O0&&O0.apply(this,arguments)||this}N0=K.ChildProperty,T0(V0,N0),_0([K.Property(!1)],V0.prototype,"visible",void 0),_0([K.Property(null)],V0.prototype,"name",void 0),_0([K.Property("transparent")],V0.prototype,"fill",void 0),_0([K.Property("Inside")],V0.prototype,"position",void 0),_0([K.Property(0)],V0.prototype,"angle",void 0),_0([K.Property(!1)],V0.prototype,"enableRotation",void 0),_0([K.Complex({width:null,color:null},ae)],V0.prototype,"border",void 0),_0([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:"400",color:null},E0)],V0.prototype,"font",void 0),_0([K.Complex({},z0)],V0.prototype,"connectorStyle",void 0),_0([K.Property(null)],V0.prototype,"template",void 0),_0([K.Property("")],V0.prototype,"format",void 0);var N0,_0=V0;function V0(){return null!==N0&&N0.apply(this,arguments)||this}H0=K.ChildProperty,T0(j0,H0),j0.prototype.renderDataLabel=function(e,t){var i=t.element.id+"-series-"+e.index+"-data-label-collections";e.labelBound=K.isNullOrUndefined(e.labelBound)?new $.Rect(1/0,1/0,-1/0,-1/0):e.labelBound,e.dataLabelElement=K.createElement("div",{id:i});for(var o=0;o<e.points.length;o++){var r=e.points[o],n=this.getDatalabelText(e.dataLabel.format,t,r.text||(K.isNullOrUndefined(r.y)?"":r.y.toString())),a={width:e.dataLabel.border.width,color:e.dataLabel.border.color,dashArray:e.dataLabel.border.dashArray},l=K.extend({},K.getValue("properties",e.dataLabel.font),null,!0),n={cancel:!1,name:at,series:e,point:r,text:n,border:a,color:e.dataLabel.fill,template:e.dataLabel.template,font:l};t.trigger(at,n),r.argsData=n,!r.visible||n.cancel||K.isNullOrUndefined(r.y)||this.draw3DDataLabel(e,r.index,r,t)}e.dataLabel.template&&q(!1,document.getElementById(t.element.id+"_Secondary_Element"),e.dataLabelElement,t.redraw,!1,"x","y",null,"",!1,!1,null)},j0.prototype.createDataLabelTemplate=function(e,t,i,o,r,n,a,l,s){n=this.createTemplate(K.createElement("div",{id:s.element.id+"-series-"+t.index+"-data-label-"+n,styles:"position: absolute;background-color:"+r.color+";"+jo(i.font,s.themeStyle.datalabelFont)+";border:"+r.border.width+"px solid "+r.border.color+";"}),r.template,s,o,t,s.element.id+"-data-label-");this.calculateTemplateLabelSize(e,n,o,t,i,a,l)},j0.prototype.calculateTemplateLabelSize=function(e,t,i,o,r,n,a,l){l=Wo(t,n,l);t.style.left=a.x-l.width/2+"px",t.style.top=a.y-l.height+"px",q(!1,e,t,n,!0,"left","top")},j0.prototype.createTemplate=function(e,t,i,o,r,n){t=Bo(t);try{var a=t?t({chart:i,series:r,point:o},i,n+"-template",n):[];if(a.length)for(var l,s=(l=Array.prototype.slice.call(a)).length,h=0;h<s;h++)e.appendChild(l[h]);i.isReact&&i.renderReactTemplates(void 0)}catch(e){}return e},j0.prototype.draw3DDataLabel=function(e,t,i,o){var r,n=e.dataLabel.connectorStyle.length&&parseFloat(e.dataLabel.connectorStyle.length),a={data:null},l={x:0,y:0},s=e.index,h=i.symbolLocation.center,c=i.symbolLocation.radius*e.coefficient,d=(K.isNullOrUndefined(n)&&(n=$.measureText(i.argsData.text,e.dataLabel.font,o.themeStyle.datalabelFont).height),null!=e&&"Inside"!==e.dataLabel.position?d=i.symbolLocation.radius+n:null!=e&&(d=c+(i.symbolLocation.radius-c)/2),c=l.x=h.x+parseFloat(i.argsData.font.size)/3+d*Math.cos(i.symbolLocation.angle),h=l.y=h.y+parseFloat(i.argsData.font.size)/3+d*Math.sin(i.symbolLocation.angle),a.data={text:i.argsData.text,location:{x:c,y:h},series:e,pointIndex:t,seriesIndex:s},a.data.Text=a.data.text,$.measureText(i.argsData.text,e.dataLabel.font,o.themeStyle.datalabelFont)),c=l.x=a.data.location.x,h=l.y=a.data.location.y,p=e.dataLabel.template?"template":"text",u=this.getSaturatedColor(i,i.argsData.color,o),u={width:d.width,height:d.height,fill:u,label:a.data,textAnchor:"middle",tag:p,font:i.argsData.font,angle:0,id:o.element.id+"-svg-data-label-text-"+t,child:o.groupElement};if(o.circularChartLegend3DModule&&o.legendSettings.visible&&i.visible&&"Outside"===e.dataLabel.position){var p=o.circularChartLegend3DModule.legendBounds,g=o.legendSettings.border.width/2,p=new $.Rect(p.x-g,p.y-g,p.width+2*g,p.height+2*g),g=new $.Rect(u.label.location.x+d.width/2+20,u.label.location.y+2.5,u.width,u.height);if(Ko(g,p)&&("Right"===o.circularChartLegend3DModule.position?u.width=p.x-g.x:"Left"===o.circularChartLegend3DModule.position&&(u.width=g.x-(p.x+p.width),u.width<0)&&(u.width+=g.width,u.label.location.x=p.x+p.width-d.width/2+20),g&&u.width<g.width&&(u.label.text=hr(u.width,u.label.text,e.dataLabel.font,o.enableRtl,o.themeStyle.datalabelFont)),3===u.label.text.length)&&-1<u.label.text.indexOf("..."))return}"Inside"!==e.dataLabel.position&&(m=this.updateConnectorLine(i,t,e,n,o)),e.dataLabel.template&&"Inside"!==e.dataLabel.position&&(p=this.createTemplate(K.createElement("div",{id:o.element.id+"-series-data-label-0",styles:"position: absolute;background-color:"+i.argsData.color+";"+jo(i.argsData.font,o.themeStyle.datalabelFont)+";border:"+i.argsData.border.width+"px solid "+i.argsData.border.color+";"}),i.argsData.template,o,i,e,o.element.id+"-data-label-"),d=$.measureText(p.textContent,e.dataLabel.font,o.themeStyle.datalabelFont)),o.circularChartLegend3DModule&&o.legendSettings.visible&&"Outside"===e.dataLabel.position&&o.visibleSeries[0].findMaxBounds(o.visibleSeries[0].labelBound,{x:c,y:h,width:d.width,height:d.height});var m,g=0,n=0,p=i.symbolLocation.angle,s=("Inside"!==e.dataLabel.position&&((1.5<p&&p<1.8||1.3<p&&p<1.5||4.5<p&&p<4.8||4.3<p&&p<4.5)&&(l.x=m.x,l.y=m.y,p=m.angle),n=(g=p<Math.PI/2||p>=Math.PI/2+Math.PI?d.width/2+20:-(d.width/2+("transparent"!==i.argsData.color||i.argsData.border.color?25:20)),2.5)),i.argsData.template||""===a.data.text||(m={tag:"dataLabel",series:e,point:i,pointIndex:t,id:o.element.id+"-svg-"+s+"-data-label-"+t,child:o.groupElement},p=void 0,a="",e.dataLabel.enableRotation&&(0===(p=r=e.dataLabel.angle)?(s=i.symbolLocation.angle*(180/Math.PI),"Outside"===e.dataLabel.position?r=0:90<=s&&s<=260?(r=180+s,l.x=l.x-parseFloat(i.argsData.font.size)/2):r=s):r=360<p?p-360:p<-360?p+360:p,a="rotate("+r+","+l.x+","+l.y+")"),m.transform=a,t=o.polygon.createTextElement(o.vector.vector3D(c+g,h+n,i.symbolLocation.z||0),m,0,-d.height),o.circular3DPolygon.push(t)),u.angle=e.dataLabel.enableRotation?0!==e.dataLabel.angle?e.dataLabel.angle:r:0,o.polygon.createTextElement(o.vector.vector3D(l.x+g,l.y+n,-1),u,0,-d.height));o.circular3DPolygon.push(s)},j0.prototype.getSaturatedColor=function(e,t,i){e="transparent"===t?this.getLabelBackground(e,i):t,t=ir(or("transparent"===e?-1<i.theme.indexOf("Dark")||-1<i.theme.indexOf("HighContrast")?"black":"white":e));return 128<=Math.round((299*t.r+587*t.g+114*t.b)/1e3)?"black":"white"},j0.prototype.getLabelBackground=function(e,t){return"Outside"===e.argsData.series.dataLabel.position?t.background||t.themeStyle.background:e.y?e.color:t.theme.indexOf("dark")?"white":"black"},j0.prototype.getDatalabelText=function(e,t,i){var o;return Number(i)&&(o=null!==e.match("{value}"),t=t.intl.getNumberFormat({format:o?"":e,useGrouping:t.useGroupingSeparator}),i=o?e.replace("{value}",t(parseFloat(i))):t(parseFloat(i))),i},j0.prototype.updateConnectorLine=function(e,t,i,o,r){var n=[],e=e.symbolLocation,a=e.center.x+Math.cos(e.angle)*e.radius,l=e.center.y+Math.sin(e.angle)*e.radius,o=(n.push({x:a,y:l}),e.radius+o),s=e.angle,a=e.center.x+Math.cos(s)*o,l=e.center.y+Math.sin(s)*o;return n.push({x:a,y:l}),e=s<Math.PI/2||s>=Math.PI/2+Math.PI?10:-10,n.push({x:a+e,y:l}),this.drawLineSegment(n,t,i,r),{x:a,y:l,angle:s}},j0.prototype.drawLineSegment=function(e,t,i,o){for(var r=[],n=0;n<e.length;n++)r.push(o.vector.vector3D(e[n].x,e[n].y,0));var a=i.index,l=i.points[t].color,l=i.dataLabel.connectorStyle.color||l,l={width:i.dataLabel.connectorStyle.width,stroke:l,child:o.groupElement,tag:"polyline",dashArray:i.dataLabel.connectorStyle.dashArray,id:o.element.id+"-datalabel-series-"+a+"-connector-"+t},i=o.polygon.createPolyline(r,l);o.circular3DPolygon.push(i)},j0.prototype.getModuleName=function(){return"CircularChartDataLabel3D"},j0.prototype.destroy=function(){};var H0,T0=j0;function j0(){return null!==H0&&H0.apply(this,arguments)||this}W0=function(e,t){return(W0=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var W0,U0,X0=function(e,t){function i(){this.constructor=e}W0(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},G0=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Y0=function(){this.visible=!0,this.isExplode=!1,this.argsData=null},Z0=(U0=K.ChildProperty,X0(q0,U0),G0([K.Property(null)],q0.prototype,"fill",void 0),G0([K.Property("Gap")],q0.prototype,"mode",void 0),q0);function q0(){return null!==U0&&U0.apply(this,arguments)||this}Q0=K.ChildProperty,X0(K0,Q0),K0.prototype.refreshDataManager=function(t,e){var i=this,o=this.dataSource||t.dataSource;o instanceof R.DataManager||!K.isNullOrUndefined(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(function(e){return i.dataManagerSuccess(e,t)}):this.dataManagerSuccess({result:o,count:o.length},t,e)},K0.prototype.dataManagerSuccess=function(e,t,i){void 0===i&&(i=!0);var o={name:ht,series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger(ht,o),this.resultData=""!==e.result?e.result:[],i||this.getPoints(this.resultData,t),++t.seriesCounts===t.visibleSeries.length&&i&&(this.getPoints(this.resultData,t),t.refreshChart())},K0.prototype.getPoints=function(e,t){var i,o=Object.keys(e).length;if((this.sumOfPoints=0)===o)return this.points=[],null;this.findSumOfPoints(e),this.points=[];for(var r=this.palettes.length?this.palettes:function(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#6355C7","#FFB400","#2196F5","#F7523F","#963C70","#4BE0BC","#FD7400","#C9E422","#DE3D8A","#162F88"];break;case"Bootstrap5Dark":t=["#8F80F4","#FFD46D","#6CBDFF","#FF7F71","#FF6DB3","#63F5D2","#FCAA65","#ECFF77","#EF8EFF","#5F82FD"];break;case"FluentDark":case"Fluent":t=["#1AC9E6","#DA4CB2","#EDBB40","#AF4BCF","#FF7266","#1BD565","#EE993D","#5887FF","#EC548D","#7D39C0"];break;case"Fluent2":t=["#6200EE","#09AF74","#0076E5","#CB3587","#E7910F","#0364DE","#66CD15","#F3A93C","#107C10","#C19C00"];break;case"Fluent2Dark":t=["#9BB449","#2A72D5","#43B786","#3F579A","#584EC6","#E85F9C","#6E7A89","#EA6266","#0B6A0B","#C19C00"];break;case"Material3":t=["#6355C7","#00AEE0","#FFB400","#F7523F","#963C70","#FD7400","#4BE0BC","#2196F5","#DE3D8A","#162F88"];break;case"Material3Dark":t=["#4EAAFF","#FA4EAB","#FFF500","#17EA58","#38FFE7","#FF9E45","#B3F32F","#B93CE4","#FC5664","#9B55FF"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}(t.theme),n=0;n<o;n++)i=this.setPoints(e,n,t),K.isNullOrUndefined(i.y)&&(i.visible=!1),this.pushPoints(i,r,t)},K0.prototype.pushPoints=function(e,t,i){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length];t={cancel:!1,name:lt,series:this,point:e,fill:e.color};i.trigger(lt,t),e.color=t.fill,e.visible=!t.cancel,this.points.push(e)},K0.prototype.findSumOfPoints=function(e){for(var t=Object.keys(e).length,i=0;i<t;i++)K.isNullOrUndefined(e[i])||K.isNullOrUndefined(e[i][this.yName])||isNaN(e[i][this.yName])||(this.sumOfPoints+=Math.abs(e[i][this.yName]))},K0.prototype.setPoints=function(e,t,i){var o=new Y0;return o.x=K.getValue(this.xName,e[t]),o.y=K.getValue(this.yName,e[t]),o.percentage=+(o.y/this.sumOfPoints*100).toFixed(2),o.legendImageUrl=K.getValue(this.legendImageUrl,e[t]),o.color=K.getValue(this.pointColorMapping,e[t]),o.text=o.originalText=K.getValue(this.dataLabel.name||"",e[t]),o.tooltip=K.getValue(this.tooltipMappingName||"",e[t]),o.sliceRadius=K.getValue(this.radius||"80%",e[t]),o.sliceRadius=K.isNullOrUndefined(o.sliceRadius)?"80%":o.sliceRadius,o.separatorY=i.intl.formatNumber(o.y,{useGrouping:i.useGroupingSeparator}),this.setEmptyPoint(o,t,e,i),o},K0.prototype.draw=function(e,t){var i=t.visibleSeries.indexOf(e),o=(this.calculateSize(t,e),e.radius||(K.Browser.isDevice&&"Outside"===e.dataLabel.position?"40%":"80%")),r=parseInt(o,10),r=((-1===o.indexOf("%")&&"number"!=typeof r||isNaN(r))&&(this.isRadiusMapped=!0),e.size=this.isRadiusMapped?.8:parseInt(o,10)/100,e.coefficient=parseInt(e.innerRadius,10)/100,t.circularRadius[i]=.97*Math.min(e.actualWidth/2-(t.legendSettings.visible&&t.circularChartLegend3DModule&&("Right"===t.legendSettings.position||"Left"===t.legendSettings.position)?t.circularChartLegend3DModule.legendBounds.width:0),e.actualHeight/2)*e.size,t.innerRadius[i]=e.coefficient*t.circularRadius[i],this.createPolygons(e,t),this.dataLabel.visible&&t.circularChartDataLabel3DModule.renderDataLabel(e,t),q(!1,t.svgObject,t.groupElement,t.redraw),new $.Size(t.availableSize.width,t.availableSize.height));t.graphics.prepareView(0,t.depth,t.rotation,t.tilt,r,t),t.graphics.view(t.svgObject,t)},K0.prototype.calculateSize=function(e,t){var i,o=e.legendSettings,r=0,n=0,a=e.circularChartLegend3DModule?e.circularChartLegend3DModule.position:"Auto",l=e.title,s=e.subTitle,h=e.titleLocation,c=e.subTitleLocation,d=e.titleStyle.textOverflow,p=e.subTitleStyle.textOverflow,d=!(!l||"Wrap"!==d),s=!(!s||"Wrap"!==p),p=(o.visible&&e.circularChartLegend3DModule&&"Custom"!==a&&("Right"===a||"Left"===a?r="right"===a.toLowerCase()?e.margin.right:e.margin.left+e.circularChartLegend3DModule.legendBounds.width:n="Top"===a?e.margin.top:"Bottom"===a?e.margin.bottom+e.circularChartLegend3DModule.legendBounds.height:0),t.actualWidth=e.availableSize.width-r,.5*t.actualWidth+("Left"===a?r:0));return d||s?(i=h.size.height+(s?c.size.height:0)+n,t.actualHeight=e.svgObject.height.baseVal.value-i,{centerX:p,centerY:.5*t.actualHeight+(h.size.height+(s?c.size.height:0))}):(i=(l?h.y:0)+n,t.actualHeight=e.svgObject.height.baseVal.value-i,{centerX:p,centerY:.5*t.actualHeight+("Top"===a?i:l?h.y:0)})},K0.prototype.createPolygons=function(e,t){for(var i,o,r,n=[],a=[],l=(n=0===e.segments.length?this.createPoints(e,t):e.segments).length,s=0;s<l;s++)if((i=n[s]).visible&&(o=n[s].pointIndex,o={opacity:e.opacity,interior:e.points[o].color},null!==(r=this.createSector(i,t,o,e.index))))for(var h=0;h<r.length;h++)if(a[h]||(a[h]=[]),null!==r[h])for(var c=0;c<r[h].length;c++)a[h].push(r[h][c]);for(s=0;s<a.length;s++)for(h=0;h<a[s].length;h++){var d=a[s][h];t.circular3DPolygon.push(d)}return null},K0.prototype.createSector=function(e,t,i,o){var r=Math.ceil(e.actualEndValue/6),n=Math.PI/180,a=0,l=t.depth;if(r<1)return null;for(var s=[],h=e.actualEndValue/r,c=[],d=[],p=0;p<r+1;p++){var u=e.center.x+e.radius*Math.cos((e.actualStartValue+p*h)*n),g=e.center.y+e.radius*Math.sin((e.actualStartValue+p*h)*n),u=(c[p]={x:u,y:g},e.center.x+e.inSideRadius*Math.cos((e.actualStartValue+p*h)*n)),g=e.center.y+e.inSideRadius*Math.sin((e.actualStartValue+p*h)*n);d[p]={x:u,y:g}}for(var m=[],y=[],p=0;p<r;p++)y=[this.vector(c[p].x,c[p].y,0),this.vector(c[p].x,c[p].y,l),this.vector(c[p+1].x,c[p+1].y,l),this.vector(c[p+1].x,c[p+1].y,0)],m[p]=t.polygon.polygon3D(y,null,e.index,null,null,i.opacity,i.interior,a.toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText),a++;if(s[1]=m,0<e.inSideRadius){for(var f=[],p=0;p<r;p++)y=[this.vector(d[p].x,d[p].y,0),this.vector(d[p].x,d[p].y,l),this.vector(d[p+1].x,d[p+1].y,l),this.vector(d[p+1].x,d[p+1].y,0)],f[p]=t.polygon.polygon3D(y,null,e.index,null,null,i.opacity,i.interior,a.toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText),a++;s[3]=f}for(var v,b,x=[],S=[],p=0;p<r+1;p++)x.push(this.vector(c[p].x,c[p].y,0)),S.push(this.vector(c[p].x,c[p].y,l));if(0<e.inSideRadius)for(p=r;-1<p;p--)x.push(this.vector(d[p].x,d[p].y,0)),S.push(this.vector(d[p].x,d[p].y,l));else x.push(e.center),S.push(this.vector(e.center.x,e.center.y,l));return s[0]=[],s[0].push(t.polygon.polygon3D(x,null,e.index,null,null,i.opacity,i.interior,a.toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText)),s[0].push(t.polygon.polygon3D(S,null,e.index,null,null,i.opacity,i.interior,(++a).toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText)),a++,b=0<e.inSideRadius?(v=[this.vector(c[0].x,c[0].y,0),this.vector(c[0].x,c[0].y,l),this.vector(d[0].x,d[0].y,l),this.vector(d[0].x,d[0].y,0)],[this.vector(c[r].x,c[r].y,0),this.vector(c[r].x,c[r].y,l),this.vector(d[r].x,d[r].y,l),this.vector(d[r].x,d[r].y,0)]):(v=[this.vector(c[0].x,c[0].y,0),this.vector(c[0].x,c[0].y,l),this.vector(e.center.x,e.center.y,l),this.vector(e.center.x,e.center.y,0)],[this.vector(c[r].x,c[r].y,0),this.vector(c[r].x,c[r].y,l),this.vector(e.center.x,e.center.y,l),this.vector(e.center.x,e.center.y,0)]),s[2]=[],s[2].push(t.polygon.polygon3D(v,null,e.index,null,null,i.opacity,i.interior,a.toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText)),s[2].push(t.polygon.polygon3D(b,null,e.index,null,null,i.opacity,i.interior,(++a).toString()+"-region-series-"+o+"-point-"+e.index,t.groupElement,e.accessibilityText)),a++,s},K0.prototype.createPoints=function(e,t){e.segments=[];for(var i=this.calculateSize(t,e),o=0,r=e.points,n=r.length,a=0;a<n;a++)r[a].visible&&!K.isNullOrUndefined(r[a].y)&&(o+=r[a].y);for(var l,s,h,c,d,p,u=360/(o=0!==o?o:1),g=e.index,m=t.innerRadius[g],y=this.getYValues(e.points),f=t.depth,v=0,b=0,x=new $.Rect(0,0,0,0),S={X:0,Y:0},C=0,w=t.circularRadius[g],F=0;F<n;F++)e.points[F].visible&&!K.isNullOrUndefined(y[F])&&(c=e.points[F].index,h=Math.abs(y[F]),s=Math.abs(h)*(2*Math.PI/o),x.x=0,x.y=0,d=e.points[F],e.isRadiusMapped?-1!==e.points[F].sliceRadius.indexOf("%")?d.radius=dr(e.points[F].sliceRadius,this.size/2):d.radius=parseInt(e.points[F].sliceRadius,10):d.radius=w,p=d.x+":"+d.y+", "+e.name,K.isNullOrUndefined(h)||(e.explode&&(e.explodeIndex===d.index||!e.isExploded&&e.explodeAll)&&(S.X=Math.cos(2*Math.PI*(b+h/2)/o),S.Y=Math.sin(2*Math.PI*(b+h/2)/o),x.x=.01*d.radius*S.X*dr(e.explodeOffset,100),x.y=.01*d.radius*S.Y*dr(e.explodeOffset,100)),l=this.vector(x.x+i.centerX,x.y+i.centerY,0),c=this.createSegment(l,u*b,u*h,f,d.radius,F,h,m,c,e,p),e.segments.push(c)),this.addPieDataLabel(C,y[F],v,v+s,d.radius,this.isChartRotated(t)?t.depth+5:0,l,e.points[F]),C++,v+=s,b+=h);return e.segments},K0.prototype.addPieDataLabel=function(e,t,i,o,r,n,a,l){i=(i+o)/2;l.symbolLocation={x:0,y:0,radius:0,angle:0},l.symbolLocation.x=e,l.symbolLocation.y=t,l.symbolLocation.radius=r,l.symbolLocation.angle=i,l.symbolLocation.center=a,l.startDepth=n},K0.prototype.isChartRotated=function(e){var t=Math.abs(e.tilt%360),e=Math.abs(e.rotation%360);return(90<t&&t<270)!=(90<e&&e<270)},K0.prototype.createSegment=function(e,t,i,o,r,n,a,l,s,h,c){return{startValue:t,endValue:i,depth:o,radius:r,index:n,yData:a,center:e,inSideRadius:l,actualEndValue:i,actualStartValue:t,pointIndex:s,series:h,visible:!0,accessibilityText:c}},K0.prototype.vector=function(e,t,i){return{x:e,y:t,z:i}},K0.prototype.getYValues=function(e){for(var t=[],i=e.length,o=0;o<i;o++)t.push(e[o].y);return t},K0.prototype.findMaxBounds=function(e,t){e.x=(t.x<e.x?t:e).x,e.y=(t.y<e.y?t:e).y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width},K0.prototype.setEmptyPoint=function(e,t,i,o){if(!K.isNullOrUndefined(e.y)&&!isNaN(e.y))return null;var r,n;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":r=i[t-1]&&i[t-1][this.yName]||0,n=i[t+1]&&i[t+1][this.yName]||0,e.y=(Math.abs(r)+Math.abs(n))/2,e.separatorY=o.intl.formatNumber(e.y,{useGrouping:o.useGroupingSeparator}),this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}},G0([K.Property("")],K0.prototype,"dataSource",void 0),G0([K.Property()],K0.prototype,"query",void 0),G0([K.Property("")],K0.prototype,"xName",void 0),G0([K.Property("")],K0.prototype,"name",void 0),G0([K.Property("")],K0.prototype,"tooltipMappingName",void 0),G0([K.Property("")],K0.prototype,"yName",void 0),G0([K.Property(!0)],K0.prototype,"visible",void 0),G0([K.Complex(null,Se)],K0.prototype,"animation",void 0),G0([K.Property("SeriesType")],K0.prototype,"legendShape",void 0),G0([K.Property("")],K0.prototype,"legendImageUrl",void 0),G0([K.Property("")],K0.prototype,"pointColorMapping",void 0),G0([K.Complex({},_0)],K0.prototype,"dataLabel",void 0),G0([K.Property([])],K0.prototype,"palettes",void 0),G0([K.Property(null)],K0.prototype,"radius",void 0),G0([K.Property("0")],K0.prototype,"innerRadius",void 0),G0([K.Property(!0)],K0.prototype,"enableTooltip",void 0),G0([K.Property(!1)],K0.prototype,"explode",void 0),G0([K.Property("30%")],K0.prototype,"explodeOffset",void 0),G0([K.Property(!1)],K0.prototype,"explodeAll",void 0),G0([K.Property(null)],K0.prototype,"explodeIndex",void 0),G0([K.Complex({mode:"Drop"},Z0)],K0.prototype,"emptyPointSettings",void 0),G0([K.Property(1)],K0.prototype,"opacity",void 0);var Q0,G0=K0;function K0(){var e=null!==Q0&&Q0.apply(this,arguments)||this;return e.points=[],e.sumOfPoints=0,e.isRectSeries=!0,e.clipRect=new $.Rect(0,0,0,0),e.category="Series",e.rightSidePoints=[],e.leftSidePoints=[],e.segments=[],e.isExploded=!1,e}X0(J0,$0=G0),J0.prototype.getModuleName=function(){return"PieSeries3D"},J0.prototype.destroy=function(){};var $0,X0=J0;function J0(){return null!==$0&&$0.apply(this,arguments)||this}var ex=function(){return(ex=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tx=new function(){this.transform=null},ix=(ox.prototype.isValid=function(e){return!isNaN(e.x)&&!isNaN(e.y)&&!isNaN(e.z)},ox.prototype.vector3D=function(e,t,i){return this.x=e,this.y=t,this.z=i,{x:this.x,y:this.y,z:this.z}},ox.prototype.vector3DMinus=function(e,t){return this.vector3D(e.x-t.x,e.y-t.y,e.z-t.z)},ox.prototype.vector3DPlus=function(e,t){return this.vector3D(e.x+t.x,e.y+t.y,e.z+t.z)},ox.prototype.vector3DMultiply=function(e,t){var i=e.y*t.z-t.y*e.z,o=e.z*t.x-t.z*e.x,t=e.x*t.y-t.x*e.y;return this.vector3D(i,o,t)},ox.prototype.vector3DAdd=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},ox.prototype.vector3DStarMultiply=function(e,t){var i=e.x*t,o=e.y*t,e=e.z*t;return this.vector3D(i,o,e)},ox.prototype.getLength=function(e){e=this.vector3DAdd(e,e);return Math.sqrt(e)},ox.prototype.getNormal=function(e,t,i){e=this.vector3DMinus(e,t),i=this.vector3DMinus(i,t),t=this.vector3DMultiply(e,i),e=this.getLength(t);return e<this.epsilon?this.vector3D(0,0,0):this.vector3D(t.x/e,t.y/e,t.z/e)},ox);function ox(e,t,i){this.x=0,this.y=0,this.z=0,this.epsilon=1e-5,this.x=e,this.y=t||0,this.z=i||0}nx.prototype.matrix3D=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.createArray(e);return t},nx.prototype.isAffine=function(e){return 0===e[0][3]&&0===e[1][3]&&0===e[2][3]&&1===e[3][3]},nx.prototype.createArray=function(e){for(var t=[],i=0;i<e;++i)t[i]=0;return t},nx.prototype.getIdentity=function(){for(var e=this.matrix3D(this.matrixSize),t=0;t<this.matrixSize;t++)e[t][t]=1;return e},nx.prototype.getInterval=function(e){for(var t=this.getIdentity(),i=0;i<this.matrixSize;i++)for(var o=0;o<this.matrixSize;o++)t[i][o]=this.getMinor(e,i,o);return t=this.transposed(t),t=this.getMatrixMultiple(1/this.getDeterminant(e),t)},nx.prototype.getMatrixMultiple=function(e,t){for(var i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)t[i][o]=t[i][o]*e;return t},nx.prototype.getMatrixVectorMultiple=function(e,t){var i=e[0][0]*t.x+e[1][0]*t.y+e[2][0]*t.z+e[3][0],o=e[0][1]*t.x+e[1][1]*t.y+e[2][1]*t.z+e[3][1],r=e[0][2]*t.x+e[1][2]*t.y+e[2][2]*t.z+e[3][2];return this.isAffine(e)||(i*=t=1/(e[0][3]*t.x+e[1][3]*t.y+e[2][3]*t.z+e[3][3]),o*=t,r*=t),{x:i,y:o,z:r}},nx.prototype.getMatrixMultiplication=function(e,t){for(var i=this.getIdentity(),o=0;o<this.matrixSize;o++)for(var r=0;r<this.matrixSize;r++){for(var n=0,a=0;a<this.matrixSize;a++)n+=e[a][r]*t[o][a];i[o][r]=n}return i},nx.prototype.getMinor=function(e,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMatrix(e,t,i))},nx.prototype.getMatrix=function(e,t,i){for(var o=e.length-1,r=this.createArray(o),n=0;n<o;n++){var a=t<=n?n+1:n;r[n]=this.createArray(o);for(var l=0;l<o;l++)r[n][l]=e[a][i<=l?l+1:l]}return r},nx.prototype.getDeterminant=function(e){var t=e.length,i=0;if(t<2)i=e[0][0];else for(var o=1,r=0;r<t;r++){var n=this.getMatrix(e,r,0);i+=o*e[r][0]*this.getDeterminant(n),o=0<o?-1:1}return i},nx.prototype.transform=function(e,t,i){var o=this.getIdentity();return o[3][0]=e,o[3][1]=t,o[3][2]=i,o},nx.prototype.turn=function(e){var t=this.getIdentity();return t[0][0]=Math.cos(e),t[2][0]=-Math.sin(e),t[0][2]=Math.sin(e),t[2][2]=Math.cos(e),t},nx.prototype.tilt=function(e){var t=this.getIdentity();return t[1][1]=Math.cos(e),t[2][1]=Math.sin(e),t[1][2]=-Math.sin(e),t[2][2]=Math.cos(e),t},nx.prototype.transposed=function(e){for(var t=this.getIdentity(),i=0;i<this.matrixSize;i++)for(var o=0;o<this.matrixSize;o++)t[i][o]=e[o][i];return t};var rx=nx;function nx(){this.matrixSize=4}lx.prototype.transform3D=function(e){return{viewingArea:e,rotation:0,tilt:0,depth:0,perspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixObj.getIdentity(),perspective:this.matrixObj.getIdentity(),resultMatrix:this.matrixObj.getIdentity(),viewMatrix:this.matrixObj.getIdentity()}},lx.prototype.transform=function(e){this.setCenter(this.vector.vector3D(e.viewingArea.width/2,e.viewingArea.height/2,e.depth/2),e),this.setViewMatrix(this.matrixObj.transform(0,0,e.depth),e),this.setViewMatrix(this.matrixObj.getMatrixMultiplication(e.viewMatrix,this.matrixObj.turn(-this.toRadial*e.rotation)),e),this.setViewMatrix(this.matrixObj.getMatrixMultiplication(e.viewMatrix,this.matrixObj.tilt(-this.toRadial*e.tilt)),e),this.updatePerspective(e.perspectiveAngle,e),e.needUpdate=!0},lx.prototype.updatePerspective=function(e,t){e=(t.viewingArea.width+t.viewingArea.height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(e%181))/2))+2*t.depth/2;t.perspective[0][0]=e,t.perspective[1][1]=e,t.perspective[2][3]=1,t.perspective[3][3]=e},lx.prototype.degreeToRadianConverter=function(e){return e*Math.PI/180},lx.prototype.toScreen=function(e,t,i){return{x:(e=i?(this.matrixObj=i).getMatrixVectorMultiple(this.result(t,i),e):(t.chartObj=this.matrixObj,this.matrixObj.getMatrixVectorMultiple(this.result(t),e))).x,y:e.y}},lx.prototype.setViewMatrix=function(e,t){t.viewMatrix!==e&&(t.viewMatrix=e,t.needUpdate=!0)},lx.prototype.result=function(e,t){var i=(i=e.chartObj||this.matrixObj)||t;return e.needUpdate&&(t=this.matrixObj,e.resultMatrix=i.getMatrixMultiplication(t.getInterval(e.centeredMatrix),e.perspective),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.viewMatrix),e.resultMatrix=i.getMatrixMultiplication(e.resultMatrix,e.centeredMatrix),e.needUpdate=!1),e.resultMatrix},lx.prototype.setCenter=function(e,t){t.centeredMatrix=this.matrixObj.transform(-e.x,-e.y,-e.z),t.needUpdate=!0};var ax=lx;function lx(){this.toRadial=Math.PI/180,this.vector=new ix(0,0,0),this.matrixObj=new rx}hx.prototype.prepareView=function(e,t,i,o,r,n){0===arguments.length?xx.build(null,n):(null==tx.transform?tx.transform=n.transform3D.transform3D(r):tx.transform.viewingArea=r,tx.tree||(tx.tree=[]),tx.transform.rotation=i,tx.transform.tilt=o,tx.transform.depth=t,tx.transform.perspectiveAngle=e,n.transform3D.transform(tx.transform),tx.tree[n.groupElement.id]=xx.build(null,n))},hx.prototype.view=function(e,t,i,o,r,n,a){var l;2===arguments.length?null!=e&&(l=this.vector.vector3D(0,0,32767),this.drawNode3D(tx.tree[t.groupElement.id],l,e,t)):null!=e&&(null==tx.transform?tx.transform=t.transform3D.transform3D(r):tx.transform.viewingArea=r,tx.transform.rotation=i,tx.transform.tilt=o,tx.transform.depth=a,tx.transform.perspectiveAngle=n,t.transform3D.transform(tx.transform),l=this.vector.vector3D(0,0,32767),this.drawNode3D(tx.tree[t.groupElement.id],l,e,t))},hx.prototype.draw3DElement=function(e,t){e.plane.element?"text"===e.plane.element.tag||"dataLabel"===e.plane.element.tag?Sx.drawText(e.plane,t):"polyline"===e.plane.element.tag?Sx.drawPolyLine(e.plane,t):"template"===e.plane.element.tag&&Sx.drawTemplate(e.plane,t):Sx.draw(e.plane,t)},hx.prototype.drawNode3D=function(e,t,i,o){if(null!==e&&null!=tx.transform){for(;;){if(vx.vector3DAdd(Sx.getNormal(o.transform3D.result(tx.transform),e.plane.vectorPoints),t)>e.plane.d){if(null!=e.front&&this.drawNode3D(e.front,t,i,o),this.draw3DElement(e,o),null!=e.back){e=e.back;continue}}else if(null!=e.back&&this.drawNode3D(e.back,t,i,o),this.draw3DElement(e,o),null!=e.front){e=e.front;continue}break}return null}};var sx=hx;function hx(){this.vector=new ix(0,0,0)}dx.prototype.getNext=function(e,t){return t<=e?e-t:e<0?e+t:e},dx.prototype.vector3DIndexClassification=function(e,t,i){return{index:t,result:i,vector:e,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCutBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCutFront:!1}},dx.prototype.classifyPoint=function(e,t){var i="OnPlane",e=-t.d-vx.vector3DAdd(e,t.normal);return e>this.epsilon?i="OnBack":e<-this.epsilon&&(i="OnFront"),i},dx.prototype.classifyPolygon=function(e,t){var i="Unknown",o=t.points;if(null!=o){for(var r=0,n=0,a=0,l=e.normal,s=e.d,h=0,c=o.length;h<c;h++){var d=-s-vx.vector3DAdd(o[h],l);if(d>this.epsilon?r++:d<-this.epsilon?n++:a++,0<r&&0<n)break}i=a===o.length?"OnPlane":n+a===o.length?"ToRight":r+a===o.length?"ToLeft":"Unknown"}return i},dx.prototype.splitPolygon=function(e,t){var i=[],o=[];if(null!=e.points){for(var r=[],n=[],a=[],l=e.points.length,s=0;s<l;s++){var h=e.points[s],c=e.points[this.getNext(s+1,l)],d=this.classifyPoint(h,t),p=this.classifyPoint(c,t),u=this.vector3DIndexClassification(h,r.length,d);r.push(u),d!==p&&"OnPlane"!==d&&"OnPlane"!==p&&(u=vx.vector3DMinus(h,c),d=vx.vector3DMinus(vx.vector3DStarMultiply(t.normal,-t.d),c),p=vx.vector3DAdd(d,t.normal)/vx.vector3DAdd(t.normal,u),h=vx.vector3DPlus(c,vx.vector3DStarMultiply(u,p)),d=this.vector3DIndexClassification(h,r.length,"OnPlane"),r.push(d),n.push(d),a.push(d))}if(0!==a.length||0!==n.length){for(s=0;s<n.length-1;s+=2){var g=n[s],m=n[s+1];g.cuttingBackPoint=!0,m.cuttingBackPoint=!0,g.alterCuttingBackPairIndex=m.index,m.alterCuttingBackPairIndex=g.index}for(s=0;s<a.length-1;s+=2){var y=a[s],f=a[s+1];y.cuttingFrontPoint=!0,f.cuttingFrontPoint=!0,y.alterCuttingFrontPairIndex=f.index,f.alterCuttingFrontPairIndex=y.index}for(var v,s=0;s<n.length-1;s++)(g=n[s]).alreadyCutBack||2<(v=this.cutOutBackPolygon(r,g)).length&&(v=Sx.polygon3D(v,e),i.push(ex({},v)));for(var b,s=0;s<a.length-1;s++)(m=a[s]).alreadyCutFront||2<(b=this.cutOutFrontPolygon(r,m)).length&&(b=Sx.polygon3D(b,e),o.push(ex({},b)))}}else i.push(e),o.push(e);return{backPolygon:i,frontPolygon:o}},dx.prototype.cutOutFrontPolygon=function(e,t){for(var i=[],o=t;;){o.alreadyCutFront=!0,i.push(o.vector);var r=e[o.alterCuttingFrontPairIndex];if(o.cuttingFrontPoint)if(r.alreadyCutFront){var n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnFront"!==n.result||n.alreadyCutFront){if("OnFront"!==a.result||a.alreadyCutFront)return i;o=a}else o=n}else o=r;else{n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnBack"===n.result||n.alreadyCutFront){if("OnBack"===a.result||a.alreadyCutFront)return i;o=a}else o=n}}return null},dx.prototype.cutOutBackPolygon=function(e,t){for(var i=[],o=t;;){o.alreadyCutBack=!0,i.push(o.vector);var r=e[o.alterCuttingBackPairIndex];if(o.cuttingBackPoint)if(r.alreadyCutBack){var n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnBack"!==n.result||n.alreadyCutBack){if("OnBack"!==a.result||a.alreadyCutBack)return i;o=a}else o=n}else o=r;else{n=e[this.getNext(o.index-1,e.length)],a=e[this.getNext(o.index+1,e.length)];if("OnFront"===n.result||n.alreadyCutBack){if("OnFront"===a.result||a.alreadyCutBack)return i;o=a}else o=n}}return null},dx.prototype.build=function(e,t){if(e){var i=e;if(i.length<1)return null;for(var e={back:null,front:null,plane:null},o=i[0],r=(e.plane=o,[]),n=[],a=1,l=i.length;a<l;a++){var s=i[a];if(s!==o)switch(this.classifyPolygon(o,s)){case"OnPlane":case"ToRight":n.push(s);break;case"ToLeft":r.push(s);break;case"Unknown":if(s.element)r.push(s);else{for(var h=this.splitPolygon(s,o),c=0;c<h.backPolygon.length;c++)h.backPolygon[c].name=h.backPolygon[c].name+"-back",r.push(h.backPolygon[c]);for(var d=0;d<h.frontPolygon.length;d++)h.frontPolygon[d].name=h.frontPolygon[d].name+"-front",n.push(h.frontPolygon[d])}}}return 0<r.length&&(e.back=this.build(r)),0<n.length&&(e.front=this.build(n)),e}return this.build(t.circular3DPolygon)};var cx=dx;function dx(e){this.epsilon=5e-4,this.chart=e}ux.prototype.getStringBuilder=function(){var t=[],i=0;return{append:function(e){return t[i++]=e,this},toString:function(e){return t.join(e||"")}}},ux.prototype.hexToValue=function(e){var t;return 0===e.indexOf("rgba(")?(t=e.slice(5,-1).split(","))?{red:parseInt(t[0],10),green:parseInt(t[1],10),blue:parseInt(t[2],10),alpha:parseFloat(t[3])}:null:0===e.indexOf("rgb(")?(t=e.slice(4,-1).split(","))?{red:parseInt(t[0],10),green:parseInt(t[1],10),blue:parseInt(t[2],10)}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null},ux.prototype.drawText=function(e,t,i,o){var r=document.getElementById(e.id)||o.groupElement.querySelector("#"+e.id);return(r=null===r?document.createElementNS("http://www.w3.org/2000/svg","text"):r).textContent=t,r=o.renderer.setElementAttributes(e,r)},ux.prototype.hexColor=function(e){var i,t=e.red,o=e.green,r=e.blue;return e.alpha?"rgba("+t.toString()+","+o.toString()+","+r.toString()+","+e.alpha+")":((i=[t.toString(16),o.toString(16),r.toString(16)]).forEach(function(e,t){1===e.length&&(i[t]="0"+e)}),"#"+i.join("").toUpperCase())},ux.prototype.checkColorFormat=function(e){if(0===e.indexOf("rgba(")||0===e.indexOf("rgb(")){var t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");if(3===t.length||4===t.length)return t.every(function(e){e=parseFloat(e);return!isNaN(e)&&0<=e&&e<=255})}else if(0===e.indexOf("#"))return(3===(t=e.substring(1)).length||6===t.length)&&/^[0-9A-Fa-f]{3,6}$/.test(t);return!1};var px=ux;function ux(){}mx.prototype.polygon3D=function(e,t,i,o,r,n,a,l,s,h){var c;return 2===arguments.length?(this.calculateNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calculateNormal(this.vectorPoints),(c=t).normal=this.normal,c.points=e,c.vectorPoints=this.vectorPoints,c.isSplit=!0,c.d=this.d):(this.calculateNormal(e[0],e[1],e[2]),this.vectorPoints=e,this.calculateNormal(this.vectorPoints),c={normal:this.normal,points:e,vectorPoints:this.vectorPoints,index:i,tag:t,name:l||null,strokeThickness:r,opacity:n,fill:a,d:this.d,text:h||"",polygonElement:e={tag:"path",parent:s}},1!==arguments.length&&(c.polygonElement=e)),c},mx.prototype.calculateNormal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(3<=e.length){var i=e[0],o=e[1],r=e[2],n=this.vector.vector3DMinus(i,o),r=this.vector.vector3DMinus(r,o),o=this.vector.vector3DMultiply(n,r),n=this.vector.getLength(o);n<this.epsilon&&(n=1),this.normal=this.vector.vector3D(o.x/n,o.y/n,o.z/n),this.d=-(this.normal.x*i.x+this.normal.y*i.y+this.normal.z*i.z),e[3]&&(e[3].normal=this.normal,e[3].d=this.d)}else{var a=e[0];this.calculateNormal(a[0],a[1],a[2],e[1]);for(var l=3;l<a.length&&this.test();l++)this.calculateNormal(a[l],a[0],a[l/2])}},mx.prototype.test=function(){return!this.vector.isValid(this.normal)},mx.prototype.getNormal=function(e,t){if(null!=t){a=this.vector.getNormal(this.matrixObj.getMatrixVectorMultiple(e,t[0]),bx.getMatrixVectorMultiple(e,t[1]),this.matrixObj.getMatrixVectorMultiple(e,t[2]));for(var i=3;i<t.length&&!this.vector.isValid(a)&&t[i/2];i++)var o=bx.getMatrixVectorMultiple(e,t[i]),r=bx.getMatrixVectorMultiple(e,t[0]),n=bx.getMatrixVectorMultiple(e,t[i/2]),a=this.vector.getNormal(o,r,n)}return a},mx.prototype.createTextElement=function(e,t,i,o){var r=[],n=e.x,a=e.y,l=t.width,s=t.height;return r[0]=this.vector.vector3D(n,a,e.z),r[1]=this.vector.vector3D(n+l,a+s+o,e.z),r[2]=this.vector.vector3D(n+l+i,a+s+o,e.z),this.text3D(t,r)},mx.prototype.createPolyline=function(e,t){var i;return 2===e.length&&(i=e[1],e.push({x:i.x,y:i.y,z:i.z})),this.polyLine3D(t,e)},mx.prototype.polyLine3D=function(e,t){t=this.polygon3D(t);return t.element=e,t},mx.prototype.text3D=function(e,t){t=this.polygon3D(t);return t.element=e,t},mx.prototype.drawPolyLine=function(e,t){var i=tx.transform,o=t.svg3DRenderer.getStringBuilder(),r=t.transform3D.toScreen(e.vectorPoints[0],i),r=(o.append("M "+r.x+" "+r.y+" "),t.transform3D.toScreen(e.vectorPoints[1],i)),r=(o.append("L "+r.x+" "+r.y+" "),o.append("M "+r.x+" "+r.y+" "),t.transform3D.toScreen(e.vectorPoints[2],i)),i=(o.append("L "+r.x+" "+r.y+" "),o.toString()),r={id:e.element.id,"stroke-dasharray":e.element.dashArray,"stroke-width":e.element.width,stroke:e.element.stroke,d:i},o=t.renderer.drawPath(r);q(!1,t.groupElement,o,t.redraw,!0,"x","y",null,i)},mx.prototype.drawText=function(e,t){var i,o,r,n,a=e.element,l=tx.transform;null!=l&&(o=(l=t.transform3D.toScreen(e.vectorPoints[0],l)).x,i=l.y,"text"===a.tag?(o={id:a.id,x:o,y:i,fill:a.font.color||a.fill,"font-size":a.font.size,"font-family":a.font.fontFamily||t.themeStyle.datalabelFont.fontFamily,"font-style":a.font.fontStyle,"font-weight":a.font.fontWeight,opacity:a.font.opacity,"text-anchor":a.textAnchor,cursor:"default",transform:a.angle?"rotate("+a.angle+","+o+","+i+")":""},i=t.svg3DRenderer.drawText(o,a.label.text,e.element.font,t),-1<a.id.indexOf("text")&&i.setAttribute("aria-hidden","true"),t.groupElement.append(i),t.previousID&&t.isTouch&&(e=document.getElementById(t.previousID),i=document.getElementById(o.id),e)&&i&&i.parentNode.insertBefore(i,e.nextSibling),t.previousID=o.id):(i=a.series,e=a.point.argsData.text,e=(o=$.measureText(e,a.point.argsData.font,t.themeStyle.datalabelFont)).width+10+10,o=o.height+10+10,r=l.x,l=l.y,n=i.index,this.dataLabelSymbol(n,i,a,r-5+5,l-5-o/10+5,e,o,t)))},mx.prototype.dataLabelSymbol=function(e,t,i,o,r,n,a,l){var s,h="",t=(t.dataLabel.enableRotation&&(h="rotate("+(0===(s=t.dataLabel.angle)?(c=i.point.symbolLocation.angle*(180/Math.PI),"Outside"===t.dataLabel.position?0:90<=c&&c<=260?180+c:c):360<s?s-360:s<-360?s+360:s)+","+o+","+r+")"),{id:l.element.id+"-svg-data-label-series-"+e+"-shape-"+i.pointIndex,fill:i.point.argsData.color,"stroke-width":i.point.argsData.border.width,stroke:i.point.argsData.border.color,"stroke-dasharray":i.point.argsData.border.dashArray,opacity:1,visibility:"",transform:h,d:"M "+(o+-n/2)+" "+(r+-a/2)+" L "+(o+n/2)+" "+(r+-a/2)+" L "+(o+n/2)+" "+(r+a/2)+" L "+(o+-n/2)+" "+(r+a/2)+" L "+(o+-n/2)+" "+(r+-a/2)+" z"}),c=l.renderer.drawPath(t);l.groupElement.append(c),l.previousID&&l.isTouch&&(s=document.getElementById(l.previousID),e=document.getElementById(t.id),s)&&e&&e.parentNode.insertBefore(e,s.nextSibling),l.previousID=t.id},mx.prototype.draw=function(e,t){if(!(null==e.vectorPoints||e.vectorPoints.length<=0)){var i=tx.transform,o=t.svg3DRenderer.getStringBuilder(),r=e.fill,n=(t.svg3DRenderer.checkColorFormat(r)||(r=or(r)),{StartPoint:null});if(null!=i){n.StartPoint=t.transform3D.toScreen(e.vectorPoints[0],i),o.append("M "+n.StartPoint.x+" "+n.StartPoint.y+" ");for(var a=0;a<e.vectorPoints.length;a++){var l=t.transform3D.toScreen(e.vectorPoints[a],i);o.append("L "+l.x+" "+l.y+" ")}}var n=o.toString(),s="Light",h=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(0,0,1)))-1),c=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(0,1,0)))-1),d=2*(Math.abs(this.vector.vector3DAdd(e.normal,this.vector.vector3D(1,0,0)))-1),d=(!e.name||-1<e.name.indexOf("-wall-brush")||(h==d?(s="ZLight",r=this.applyZLight(r,t)):c==h||0!=h&&c<h?(s="XLight",r=this.applyXLight(r,t)):h<0?(s="ZLight",r=this.applyZLight(r,t)):s="Light"),{id:t.element.id+"-svg-"+e.name,name:s,fill:r,stroke:"","stroke-width":e.strokeThickness,opacity:e.opacity,d:n}),c=t.renderer.drawPath(d);e.text&&(c.setAttribute("aria-label",e.text),c.setAttribute("role","img")),q(!1,e.polygonElement.parent,c,t.redraw,!0,"x","y",null,n),t.previousID&&t.isTouch&&(h=document.getElementById(t.previousID),s=document.getElementById(d.id),h)&&s&&s.parentNode.insertBefore(s,h.nextSibling),t.previousID=d.id}},mx.prototype.drawTemplate=function(e,t){var i=e.element,o=tx.transform;null!=o&&(i=i.label,e=t.transform3D.toScreen(e.vectorPoints[0],o),t.circularChartDataLabel3DModule.createDataLabelTemplate(i.series.dataLabelElement,i.series,i.series.dataLabel,i.series.points[i.pointIndex],i.series.points[i.pointIndex].argsData,i.pointIndex,!1,e,t))},mx.prototype.applyXLight=function(e,t){e=t.svg3DRenderer.hexToValue(e);return e.red=parseInt((.7*e.red).toString(),10),e.green=parseInt((.7*e.green).toString(),10),e.blue=parseInt((.7*e.blue).toString(),10),t.svg3DRenderer.hexColor(e)},mx.prototype.applyZLight=function(e,t){e=t.svg3DRenderer.hexToValue(e);return e.red=parseInt((.9*e.red).toString(),10),e.green=parseInt((.9*e.green).toString(),10),e.blue=parseInt((.9*e.blue).toString(),10),t.svg3DRenderer.hexColor(e)};var gx=mx;function mx(){this.epsilon=1e-5,this.normal={x:0,y:0,z:0},this.vector=new ix(0,0,0),this.vectorPoints=[],this.matrixObj=new rx}var yx,fx,vx=new ix(0,0,0),bx=new rx,xx=new cx,Sx=new gx,Cx=(yx=function(e,t){return(yx=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)},function(e,t){function i(){this.constructor=e}yx(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),wx=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},wx=(fx=K.ChildProperty,Cx(Fx,fx),wx([K.Property(!0)],Fx.prototype,"visible",void 0),wx([K.Property(null)],Fx.prototype,"height",void 0),wx([K.Property(null)],Fx.prototype,"width",void 0),wx([K.Complex({x:0,y:0},Q)],Fx.prototype,"location",void 0),wx([K.Property("Auto")],Fx.prototype,"position",void 0),wx([K.Property(8)],Fx.prototype,"padding",void 0),wx([K.Property(null)],Fx.prototype,"itemPadding",void 0),wx([K.Property("Center")],Fx.prototype,"alignment",void 0),wx([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Fx.prototype,"textStyle",void 0),wx([K.Property(10)],Fx.prototype,"shapeHeight",void 0),wx([K.Property(10)],Fx.prototype,"shapeWidth",void 0),wx([K.Complex({},ae)],Fx.prototype,"border",void 0),wx([K.Complex({left:0,right:0,top:0,bottom:0},me)],Fx.prototype,"margin",void 0),wx([K.Complex({left:0,right:0,top:0,bottom:0},ve)],Fx.prototype,"containerPadding",void 0),wx([K.Property(8)],Fx.prototype,"shapePadding",void 0),wx([K.Property("transparent")],Fx.prototype,"background",void 0),wx([K.Property(1)],Fx.prototype,"opacity",void 0),wx([K.Property(!0)],Fx.prototype,"toggleVisibility",void 0),wx([K.Property(!1)],Fx.prototype,"enableHighlight",void 0),wx([K.Property(null)],Fx.prototype,"description",void 0),wx([K.Property(3)],Fx.prototype,"tabIndex",void 0),wx([K.Property(null)],Fx.prototype,"title",void 0),wx([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],Fx.prototype,"titleStyle",void 0),wx([K.Property("Top")],Fx.prototype,"titlePosition",void 0),wx([K.Property("Normal")],Fx.prototype,"textWrap",void 0),wx([K.Property("Ellipsis")],Fx.prototype,"textOverflow",void 0),wx([K.Property(100)],Fx.prototype,"maximumTitleWidth",void 0),wx([K.Property(null)],Fx.prototype,"maximumLabelWidth",void 0),wx([K.Property(!0)],Fx.prototype,"enablePages",void 0),wx([K.Property(!1)],Fx.prototype,"isInversed",void 0),wx([K.Property(!1)],Fx.prototype,"reverse",void 0),Fx);function Fx(){return null!==fx&&fx.apply(this,arguments)||this}Cx(Px,Lx=i),Px.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.chart.on(K.Browser.touchEndEvent,this.mouseEnd,this),this.chart.on("click",this.click,this))},Px.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(K.Browser.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(K.Browser.touchEndEvent,this.mouseEnd))},Px.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.circularChartHighlight3DModule)&&("None"!==this.chart.highlightMode||this.chart.legendSettings.enableHighlight))for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],i=e.target.id,o=0,r=t;o<r.length;o++)if(-1<i.indexOf(r[o])){this.chart.circularChartSelection3DModule?this.chart.circularChartSelection3DModule.legendSelection(this.chart,e.target,e.type):this.chart.circularChartHighlight3DModule&&this.chart.circularChartHighlight3DModule.legendSelection(this.chart,e.target,e.type);break}},Px.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},Px.prototype.getLegendOptions=function(e,t){this.legendCollections=[],this.isRtlEnable=e.enableRtl,this.isReverse=!this.isRtlEnable&&e.legendSettings.reverse;for(var i=0;i<1;i++){for(var o=0,r=t[i].points;o<r.length;o++){var n=r[o];K.isNullOrUndefined(n.x)||K.isNullOrUndefined(n.y)||this.legendCollections.push(new Hn(n.x.toString(),n.color,t[i].legendShape,n.visible,"Pie",t[0].legendImageUrl,null,null,n.index,t[i].index))}this.isReverse&&this.legendCollections.reverse()}},Px.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;for(var o=0,r=0,n=(this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[],i.padding),a=i.titlePosition,l=0,s=this.arrowWidth,h=i.enablePages?0:this.arrowHeight,c=(this.isVertical?o=i.width?0:e.width/100*5:r=i.height?0:e.height/100*5,t.width+=o,t.height+=r,i.shapePadding),d=i.maximumLabelWidth||0,p=i.shapeWidth,u=0,g=0,m=0,y=[],f=[],v=0,b=0,x=0,S=(this.maxItemHeight=Math.max($.measureText("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight),!1),C=0;C<this.legendCollections.length;C++){var w,F={fill:(w=this.legendCollections[C]).fill,text:w.text,shape:w.shape,name:"legendRender",cancel:!1};this.chart.trigger("legendRender",F),w.render=!F.cancel,w.text=-1<F.text.indexOf("&")?this.convertHtmlEntities(F.text):F.text,w.fill=F.fill,w.shape=F.shape,w.textSize=$.measureText(w.text,i.textStyle,this.chart.themeStyle.legendLabelFont),w.render&&""!==w.text&&(S=!0,x=p+c+(i.maximumLabelWidth||w.textSize.width)+(this.isVertical||0===C?n:this.itemPadding),this.getLegendHeight(w,i,t,u,this.maxItemHeight,n),this.isVertical?((b+=w.textSize.height+(0===C?n:this.itemPadding))+this.itemPadding+h/this.pageButtonSize>t.height&&(u+=d,F=this.getPageWidth(f),this.totalPages=Math.max(m,this.totalPages||1),u-F+x>t.width?(f.push(u-F),v=m=this.rowHeights.length):m=v,y.push(d),d=0,b=w.textSize.height+n,g++),this.columnHeights[g]=(this.columnHeights[g]||0)+w.textSize.height+(0===C?n:this.itemPadding),d=Math.max(x,d),this.rowHeights[m]=Math.max(this.rowHeights[m]||0,w.textSize.height),m++):(i.enablePages||(l=this.isTitle&&"Top"!==a?this.legendTitleSize.width+this.fivePixel:0,l+=s),u+=x,t.width<n+u+l&&(d=Math.max(d,u+n+l-x),0===m&&x!==u&&(m=1),u=x,m++,g=0),this.rowHeights[F=m&&m-1]=Math.max(this.rowHeights[F]||0,w.textSize.height),this.columnHeights[g]=(this.columnHeights[g]||0)+w.textSize.height+n,g++))}e="Top"===a?this.legendTitleSize.height:0,this.isVertical?(this.isPaging=t.width<(u+=d)+n,b=Math.max.apply(null,this.columnHeights)+n+h+e,b=Math.max(b,(this.totalPages||1)*(this.maxItemHeight+n)+n+h),this.isPaging=this.isPaging&&1<this.totalPages,y.push(d)):(this.totalPages=m,b=Math.max.apply(null,this.columnHeights)+n+h+e,this.isPaging=t.height<b,b=!i.enablePages&&this.isPaging?this.maxItemHeight+n+n+e:b,b=Math.max(b,this.maxItemHeight+n+n+e),this.isPaging||(u+=this.isTitle&&"Top"!==a?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0)),this.maxColumns=0;o=this.isVertical?this.getMaxColumn(y,t.width,n,u+n):Math.max(u+n,d);S?this.setBounds(o,b,i,t):this.setBounds(0,0,i,t)},Px.prototype.getPageWidth=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},Px.prototype.getLegendHeight=function(e,t,i,o,r,n){var a=e.textSize.width,l=t.shapePadding+2*n+t.shapeWidth;switch(t.textWrap){case"Wrap":case"AnyWhere":a>t.maximumLabelWidth||a+o>i.width?e.textCollection=br(e.text,t.maximumLabelWidth?Math.min(t.maximumLabelWidth,i.width-l):i.width-l,t.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):e.textCollection.push(e.text),e.textSize.height=r*e.textCollection.length}},Px.prototype.convertHtmlEntities=function(e){return e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&nbsp;"," ").replace("&cent;","").replace("&pound;","").replace("&yen;","").replace("&euro;","").replace("&copy;","").replace("&reg;","").replace("&#38;","&").replace("&#60;","<").replace("&#62;",">").replace("&#34;",'"').replace("&#160;"," ").replace("&#162;","").replace("&#163;","").replace("&#165;","").replace("&#8364;","").replace("&#169;","").replace("&#174;","")},Px.prototype.getMaxColumn=function(e,t,i,o){var r=i;this.maxColumnWidth=Math.max.apply(null,e);for(var n=0;n<e.length;n++)if(r+=this.maxColumnWidth,this.maxColumns++,t<r+i){r-=this.maxColumnWidth,this.maxColumns--;break}this.isPaging=r<o&&1<this.totalPages,r===i&&(r=t),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=r;var a=this.maxColumnWidth+i,l=0,s=this.columnHeights.length;if(this.isPaging&&this.isVertical){for(n=1;n<s;n++)t<(a+=this.maxColumnWidth+i)&&(this.pageHeights.push(l!==n-1?Math.max.apply(null,this.columnHeights.slice(l,n-1)):this.columnHeights[l]),a=this.maxColumnWidth+i,l=n);this.pageHeights.push(l!==s-1?Math.max.apply(null,this.columnHeights.slice(l,s-1)):this.columnHeights[l]),this.totalPages=this.pageHeights.length}return r},Px.prototype.getAvailWidth=function(e,t){if(this.isVertical)t=this.maxWidth;else if(!this.isVertical&&this.isPaging&&!this.legend.enablePages)return t-e-this.fivePixel;return t-(2*this.legend.padding+this.legend.shapeWidth+this.legend.shapePadding)},Px.prototype.getRenderPoint=function(e,t,i,o,r,n,a){var l=this.legend.padding,s=o.location.y+this.maxItemHeight/4+(0<o.textCollection.length?(o.textCollection.length-1)*this.maxItemHeight:0),i=(this.isVertical?n===a||s+e.textSize.height+l>r.y+r.height?(e.location.x=o.location.x+(n===a?0:this.isRtlEnable?-this.maxColumnWidth:this.maxColumnWidth),e.location.y=t.y,s=this.legend.shapeWidth/2+l,this.pageXCollections.push(e.location.x+(this.isRtlEnable?s:-s))):(e.location.x=o.location.x,e.location.y=o.location.y+o.textSize.height+this.itemPadding):(s=i+(this.legend.maximumLabelWidth||o.textSize.width),s=o.location.x+(this.isRtlEnable?-s:s),this.isWithinBounds(s,(this.legend.maximumLabelWidth||e.textSize.width)+i-this.itemPadding,r,this.legend.shapeWidth/2)?(n!==a&&this.chartRowCount++,e.location.y=n===a?o.location.y:o.location.y+this.rowHeights[this.chartRowCount-2]+l,e.location.x=t.x):(e.location.y=o.location.y,e.location.x=n===a?o.location.x:s)),this.getAvailWidth(e.location.x,this.legendBounds.width)),i=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,i):i;"Ellipsis"===this.legend.textOverflow&&"Normal"===this.legend.textWrap&&(e.text=hr(+i.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},Px.prototype.isWithinBounds=function(e,t,i,o){return this.isRtlEnable?e-t<i.x-o:e+t>i.x+i.width+o},Px.prototype.getSmartLegendLocation=function(e,t,i){var o;switch(this.position){case"Left":o=(e.x-t.width-i.left)/2,t.x=e.x-t.width<i.left?t.x:e.x-t.width-o;break;case"Right":o=(this.chart.availableSize.width-i.right-(e.x+e.width+t.width))/2,t.x=e.x+e.width+t.width>this.chart.availableSize.width-i.right?t.x:e.x+e.width+o;break;case"Top":this.getTitleRect(this.chart),o=(e.y-t.height-(this.titleRect.y+this.titleRect.height))/2,t.y=e.y-t.height<i.top?t.y:e.y-t.height-o;break;case"Bottom":o=(this.chart.availableSize.height-i.bottom-(e.y+e.height+t.height))/2,t.y=e.y+e.height+t.height>this.chart.availableSize.height-i.bottom?t.y:e.y+e.height+o}},Px.prototype.getTitleRect=function(e){if(!e.title)return null;var t=$.measureText(e.title,e.titleStyle,this.chart.themeStyle.legendTitleFont);this.titleRect=new $.Rect(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)},Px.prototype.legendByIndex=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(r.pointIndex===e)return r}return null},Px.prototype.click=function(e){var t=(-1<e.target.id.indexOf("_chart_legend_g_")?e.target.firstChild:e.target).id,i=this.chart,o=[this.legendID+"_text_",this.legendID+"_shape_",this.legendID+"_shape_marker_"];this.chart.animateSeries=!1;for(var r=0,n=o;r<n.length;r++){var a=n[r];if(-1<t.indexOf(a)){a=parseInt(t.split(a)[1],10);if(this.chart.legendSettings.toggleVisibility&&!isNaN(a)){var l=this.chart.visibleSeries[0],s=l.points[a],h=this.legendByIndex(a,this.legendCollections),c={legendText:h.text,legendShape:h.shape,chart:i,series:l,point:s,name:it,cancel:!1};if(this.chart.trigger(it,c),!c.cancel){s.visible=!s.visible,h.visible=s.visible,l.sumOfPoints+=s.visible?s.y:-s.y,i.redraw=i.enableAnimation,this.sliceVisibility(a,s.visible),i.removeSeriesElements(i),i.removeSvg();var d=document.getElementById(this.chart.element.id+"-svg-chart-3d");if(d)for(;0<d.childNodes.length;)d.removeChild(d.firstChild);this.chart.circular3DPolygon=[],this.chart.visibleSeries[0].segments=[],this.chart.animateSeries=!1,this.chart.calculateBounds(),this.chart.renderElements(),i.circularChartHighlight3DModule&&("None"!==i.highlightMode||i.legendSettings.enableHighlight)&&i.circularChartHighlight3DModule.redrawSelection(i)}}else this.chart.circularChartSelection3DModule&&!isNaN(a)?this.chart.circularChartSelection3DModule.legendSelection(this.chart,e.target,e.type):this.chart.circularChartHighlight3DModule&&!isNaN(a)&&this.chart.circularChartHighlight3DModule.legendSelection(this.chart,e.target,e.type)}}-1<t.indexOf(this.legendID+"_pageup")?this.changePage(e,!0):-1<t.indexOf(this.legendID+"_pagedown")&&this.changePage(e,!1),i.redraw=!1},Px.prototype.sliceVisibility=function(e,t){var i;this.chart.element.id;this.chart.visibleSeries[0].dataLabel.visible&&(i=this.chart.element.id+"_datalabel_Series_0_",this.sliceAnimate(J(i+"g_"+e),t))},Px.prototype.sliceAnimate=function(e,t){if(!e)return null;new K.Animation({}).animate(e,{duration:300,delay:0,name:t?"FadeIn":"FadeOut",end:function(e){e.element.style.visibility=t?"visible":"hidden"}})},Px.prototype.getModuleName=function(){return"CircularChartLegend3D"},Px.prototype.destroy=function(){this.removeEventListener()};var Lx,Cx=Px;function Px(e){var t=Lx.call(this,e)||this;return(t.library=t).titleRect=new $.Rect(0,e.margin.top,0,0),t.addEventListener(),t}Ax=function(e,t){return(Ax=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Ax,Mx,i=function(e,t){function i(){this.constructor=e}Ax(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Dx=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},kx=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.index=i},Dx=(Mx=K.ChildProperty,i(Rx,Mx),Dx([K.Property(!1)],Rx.prototype,"enable",void 0),Dx([K.Property(!0)],Rx.prototype,"enableMarker",void 0),Dx([K.Property(null)],Rx.prototype,"fill",void 0),Dx([K.Property(null)],Rx.prototype,"header",void 0),Dx([K.Property(null)],Rx.prototype,"opacity",void 0),Dx([K.Complex({fontFamily:null,size:"12px",fontStyle:"Normal",fontWeight:null,color:null},oe)],Rx.prototype,"textStyle",void 0),Dx([K.Property(null)],Rx.prototype,"format",void 0),Dx([K.Property(null)],Rx.prototype,"template",void 0),Dx([K.Property(!1)],Rx.prototype,"enableAnimation",void 0),Dx([K.Property(300)],Rx.prototype,"duration",void 0),Dx([K.Property(700)],Rx.prototype,"fadeOutDuration",void 0),Dx([K.Property(!1)],Rx.prototype,"enableTextWrap",void 0),Dx([K.Complex({color:null,width:null},ae)],Rx.prototype,"border",void 0),Dx([K.Complex({x:null,y:null},Q)],Rx.prototype,"location",void 0),Rx);function Rx(){return null!==Mx&&Mx.apply(this,arguments)||this}Tx=K.ChildProperty,i(_x,Tx),_x.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.control.tooltip.fadeOutDuration)},_x.prototype.mouseUpHandler=function(e,t){this.control=t,this.element=t.element;var i=Math.abs(t.mouseX-t.cachedX)<10&&Math.abs(t.mouseY-t.cachedY)<10;this.control.tooltip.enable&&this.control.isTouch&&!t.rotateActivate&&i&&mo(this.control.mouseX,this.control.mouseY,this.control.initialClipRect)?(this.tooltip(e),this.removeTooltip(2e3),this.tooltipRendered=!0):this.control.isTouch&&this.removeTooltip(0)},_x.prototype.mouseMoveHandler=function(e,t){this.control=t,this.element=t.element,this.tooltipRendered||(this.control.tooltip.enable&&!t.rotateActivate&&mo(this.control.mouseX,this.control.mouseY,this.control.initialClipRect)?this.tooltip(e):this.removeTooltip(0)),this.tooltipRendered=!1},_x.prototype.tooltip=function(e){this.renderSeriesTooltip(this.control,this.getPieData(e,this.control))},_x.prototype.getElement=function(e){return document.getElementById(e)},_x.prototype.getTooltipElement=function(e){this.header=null===this.control.tooltip.header?"${series.name}":this.control.tooltip.header,this.formattedText=[];var t=document.getElementById(this.control.element.id+"_tooltip");return e||t?null:this.createElement()},_x.prototype.createElement=function(){var e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.style.pointerEvents="none",e.style.position="absolute",e.style.zIndex="1",e},_x.prototype.renderSeriesTooltip=function(e,t){var i=this.getElement(this.element.id+"_tooltip_svg"),i=i&&0<parseInt(i.getAttribute("opacity"),10),o=this.getTooltipElement(i),i=!i;this.template=e.tooltip.template,this.currentPoints=[],t.point?this.pushData(t,o)&&this.triggerTooltipRender(t,i,this.getTooltipText(t,e.tooltip),this.findHeader(t)):!t.point&&this.isRemove&&(this.removeTooltip(this.control.tooltip.fadeOutDuration),this.isRemove=!1)},_x.prototype.removeTooltip=function(e){var t=this,i=this.getElement(this.element.id+"_tooltip");this.stopAnimation(),i&&0<this.previousPoints.length&&(this.tooltipInterval=+setTimeout(function(){t.svgTooltip&&t.svgTooltip.fadeOut()},e))},_x.prototype.stopAnimation=function(){qo(this.tooltipInterval)},_x.prototype.pushData=function(e,t){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),t&&!document.getElementById(t.id)&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(t),!0)},_x.prototype.triggerTooltipRender=function(i,o,e,t){function r(e){var t;e.cancel?(n.removeHighlight(),K.remove(n.getElement(n.element.id+"_tooltip"))):(n.formattedText=n.formattedText.concat(e.text),n.text=n.formattedText,n.headerText=e.headerText,t={x:null!==a.location.x?a.location.x:n.control.mouseX,y:null!==a.location.y?a.location.y:n.control.mouseY-10},n.createTooltip(n.control,o,t,i.series.clipRect,i.point,0,n.control.initialClipRect,null,i.point,n.template?e.template:"")),n.isRemove=!0}var n=this,a=this.control.tooltip,e={cancel:!1,text:e,point:i.point,textStyle:a.textStyle,series:i.series,headerText:t,template:this.template,data:{pointX:i.point.x,pointY:i.point.y,seriesIndex:i.series.index,pointIndex:i.point.index,pointText:i.point.text,seriesName:i.series.name}};r.bind(this,i),this.control.trigger(gt,e,r)},_x.prototype.getPieData=function(e,t){var i,o,t=t.visibleSeries[0],e=e.target;return-1<e.id.indexOf("point")&&-1<e.id.indexOf("series")?(i=parseInt(e.id.split("point-")[1],10),i=t.points[i]):-1<e.id.indexOf("-data-label-text")&&"Inside"===t.dataLabel.position?(o=parseInt(e.id.split("data-label-text-")[1],10),i=t.points[o]):-1<e.id.indexOf("data-label-series")&&"Inside"===t.dataLabel.position&&(o=parseInt(e.id.split("data-label-series-0-shape-")[1],10),i=t.points[o]),i?{point:i,series:t,index:i.index}:new kx(null,null)},_x.prototype.getTooltipText=function(e,t){var i=e.series,t=t.format||"${point.x} : <b>${point.y}</b>",t=this.control.useGroupingSeparator?t.replace("${point.y}","${point.separatorY}"):t;return this.parseTemplate(e.point,i,t)},_x.prototype.findHeader=function(e){return""!==this.header&&(this.header=this.parseTemplate(e.point,e.series,this.header),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())?this.header:""},_x.prototype.parseTemplate=function(e,t,i){for(var o,r=RegExp,n=0,a=Object.keys(e);n<a.length;n++){var l=new r("${point."+(s=a[n])+"}","gm");i=i.replace(l.source,e[s])}for(var s,h=0,c=Object.keys(Object.getPrototypeOf(t));h<c.length;h++)l=new r("${series."+(s=c[h])+"}","gm"),o=t[s],i=i.replace(l.source,o);return i},_x.prototype.createTooltip=function(e,t,i,o,r,n,a,l,s,h){void 0===l&&(l=null),void 0===s&&(s=null);var c=e.circularChartTooltip3DModule;c&&null!==i?(t?(this.svgTooltip=new $.Tooltip({opacity:e.tooltip.opacity||("Material3"===this.control.theme||"Material3Dark"===this.control.theme?1:.75),header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:!1,crosshair:!1,shapes:e.tooltip.enableMarker?["Circle"]:[],clipBounds:o,areaBounds:a,palette:this.findPalette(),template:h||this.template,data:s,theme:e.theme,offset:n,textStyle:e.tooltip.textStyle,isNegative:!1,inverted:!1,arrowPadding:0,availableSize:e.availableSize,duration:this.control.tooltip.duration,isCanvas:!1,isFixed:null!==this.control.tooltip.location.x||null!==this.control.tooltip.location.y,isTextWrap:e.tooltip.enableTextWrap,blazorTemplate:{name:"Template",parent:this.control.tooltip},controlInstance:this.control,enableRTL:e.enableRtl,controlName:"Chart",allowHighlight:!1,tooltipRender:function(){c.removeHighlight(),c.highlightPoints(),c.updatePreviousPoint(l)},animationComplete:function(e){e.tooltip.fadeOuted&&c.fadeOut()}}),this.svgTooltip.appendTo(this.getElement(this.element.id+"_tooltip"))):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=n,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=e.tooltip.enableMarker?["Circle"]:[],this.svgTooltip.data=s,this.svgTooltip.template=this.template,this.svgTooltip.controlName="Chart",this.svgTooltip.crosshair=!1,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=!1,this.svgTooltip.clipBounds=o,this.svgTooltip.arrowPadding=0,this.svgTooltip.allowHighlight=!1,this.svgTooltip.dataBind()),this.control.isReact&&this.control.renderReactTemplates()):w(this.control.element.id+"_tooltip")},_x.prototype.highlightPoints=function(){for(var e=0,t=this.currentPoints;e<t.length;e++){var i=t[e];i.series.isRectSeries&&"Series"===i.series.category&&this.highlightPoint(i.series,i.point.index,!0)}},_x.prototype.removeHighlight=function(){for(var e,t=0,i=this.previousPoints.length;t<i;t++)(e=this.previousPoints[t]).series.isRectSeries&&e.series.visible&&this.highlightPoint(e.series,e.point.index,!1)},_x.prototype.highlightPoint=function(t,i,e){var o=this;if(this.control.circularChartHighlight3DModule&&"None"===this.control.highlightMode||!this.control.circularChartHighlight3DModule){var r=document.querySelectorAll('[id*="region-series-0-point-'+i+'"]'),n=[],r=(r.forEach(function(e){parseInt(e.id.split("point-")[1],10)===i&&n.push(e)}),document.getElementById(this.control.element.id+"-svg-data-label-text-"+i)),a=document.getElementById(this.control.element.id+"-datalabel-series-0-connector-"+i),l=document.getElementById(this.control.element.id+"-svg-data-label-series-0-shape-"+i),r=(r&&n.push(r),a&&n.push(a),l&&n.push(l),document.getElementById(this.element.id+"-svg-chart-3d").children);if(r)for(var s=0,h=r;s<h.length;s++){var c,d=h[s];d.parentElement.id===this.control.groupElement.id&&(c=!d.hasAttribute("class")||-1===d.getAttribute("class").indexOf("_selection_"),d.setAttribute("opacity",(e&&"transparent"!==this.control.highlightColor&&c?.2:t.opacity).toString()))}n&&n.forEach(function(e){e.parentElement.id===o.control.groupElement.id&&e.setAttribute("opacity",t.opacity.toString())})}},_x.prototype.fadeOut=function(){var e=this.getElement(this.element.id+"_tooltip_svg");e&&0<parseInt(e.getAttribute("opacity"),10)||(this.currentPoints=[],this.removeHighlight(),this.previousPoints=[],this.svgTooltip=null,this.control.trigger("animationComplete",{}))},_x.prototype.updatePreviousPoint=function(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=K.extend([],this.currentPoints,null,!0)},_x.prototype.findPalette=function(){for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var o=i[t];e.push(o.point.color)}return e},_x.prototype.getModuleName=function(){return"CircularChartTooltip3D"},_x.prototype.destroy=function(){};var Tx,i=_x;function _x(){var e=null!==Tx&&Tx.apply(this,arguments)||this;return e.currentPoints=[],e.previousPoints=[],e.tooltipRendered=!1,e}Ex=function(e,t){return(Ex=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var Ex,Ix,Ox=function(e,t){function i(){this.constructor=e}Ex(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},D=function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(a=(n<3?r(a):3<n?r(t,i,a):r(t,i))||a);return 3<n&&a&&Object.defineProperty(t,i,a),a},Ox=(Ix=K.Component,Ox(k,Ix),Object.defineProperty(k.prototype,"type",{get:function(){return"Pie"},enumerable:!0,configurable:!0}),k.prototype.preRender=function(){var e;this.allowServerDataBinding=!1,this.unWireEvents(),this.titleLocation={x:0,y:0,size:new $.Size(0,0)},this.subTitleLocation={x:0,y:0,size:new $.Size(0,0)},this.circularRadius=[],this.innerRadius=[],this.matrixObj=new rx,this.bspTreeObj=new cx,this.polygon=new gx,this.vector=new ix(null,null,null),this.graphics=new sx,this.transform3D=new ax,this.svg3DRenderer=new px,this.circular3DPolygon=[],this.explodeDistance=0,this.setCulture(),this.animateSeries=!0,""===this.element.id&&(e=document.getElementsByClassName("e-circular3dchart").length,this.element.id="acc_chart_"+this.chartId+"_"+e),this.wireEvents(),this.element.setAttribute("dir",this.enableRtl?"rtl":"")},k.prototype.unWireEvents=function(){var e=K.Browser.isPointer,t=K.Browser.touchStartEvent,i=K.Browser.touchMoveEvent,o=K.Browser.touchEndEvent,e=e?"pointerleave":"mouseleave";K.EventHandler.remove(this.element,i,this.chartOnMouseMove),K.EventHandler.remove(this.element,o,this.chartMouseUp),K.EventHandler.remove(this.element,t,this.chartMouseDown),K.EventHandler.remove(this.element,"click",this.chartOnMouseClick),K.EventHandler.remove(this.element,e,this.chartMouseLeave),K.EventHandler.remove(this.element,"keydown",this.circular3DChartKeyDown),K.EventHandler.remove(this.element,"keyup",this.circular3DChartKeyUp),window.removeEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.chartResizeBound)},k.prototype.chartOnMouseClick=function(e){var t,i,o;return this.setMouseXY(e),this.circularChartLegend3DModule&&this.legendSettings.visible&&this.circularChartLegend3DModule.click(e),"None"!==this.selectionMode&&this.circularChartSelection3DModule&&this.circularChartSelection3DModule.calculateSelectedElements(this,e.target,e.type),this.visibleSeries[0].explode&&(o=i=void 0,-1<(t=e.target.id).indexOf("-point-"))&&(i=t.split("-series-")[1].split("-point-"),o=parseInt(i[1],10),this.visibleSeries[0].explodeIndex===o||this.visibleSeries[0].points[o].isExplode?(this.visibleSeries[0].explodeIndex=null,this.visibleSeries[0].isExploded=!0,this.visibleSeries[0].points.forEach(function(e){e.isExplode=!1})):this.visibleSeries[0].explodeIndex=o,this.removeSeriesElements(this),this.visibleSeries[0].segments=[],this.circular3DPolygon=[],this.renderSeries(),this.processSelection(),this.delayRedraw=!0),this.trigger("circularChart3DMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent(vt,e.target,e),!1},k.prototype.triggerPointEvent=function(e,t,i){var o,r=this.visibleSeries[0];-1<t.id.indexOf("point")&&-1<t.id.indexOf("series")&&(t=parseInt(t.id.split("point-")[1],10),o=r.points[t]),o&&this.trigger(e,{series:r,point:o,seriesIndex:r.index,pointIndex:o.index,x:this.mouseX,y:this.mouseY,pageX:i.pageX,pageY:i.pageY})},k.prototype.chartOnMouseMove=function(e){var t,i;return J(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger("circularChart3DMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.rotateActivate&&(i=this.previousCoords.x-this.mouseX,t=this.previousCoords.y-this.mouseY,i||t)&&(this.tilt-=t,this.rotation+=i,this.isTouch||((t=document.getElementById(this.groupElement.id)).innerHTML="",t.remove()),i={width:this.availableSize.width,height:this.availableSize.height},this.graphics.view(this.svgObject,this,this.rotation,this.tilt,i,0,this.depth),q(!1,this.svgObject,this.groupElement,this.redraw),this.setSeriesTabIndex(),this.previousCoords.y=this.mouseY,this.previousCoords.x=this.mouseX,this.circularChartHighlight3DModule&&"None"!==this.highlightMode&&(this.circularChartHighlight3DModule.calculateSelectedElements(this,document.getElementById(this.element.id+"-border"),"mousemove"),this.circularChartHighlight3DModule.previousSelectedElement=[]),this.processSelection()),this.pointMove&&this.triggerPointEvent(xt,e.target,e),this.tooltip.enable&&this.circularChartTooltip3DModule&&this.circularChartTooltip3DModule.mouseMoveHandler(e,this),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.notify(K.Browser.touchMoveEvent,e)),!1},k.prototype.titleTooltip=function(e,t,i,o){var r=e.target.id,n=r===this.element.id+"-title"||r===this.element.id+"-sub-title"||r===this.element.id+"_chart_legend_title";-1<e.target.textContent.indexOf("...")&&n?Wi(r===this.element.id+"-title"?this.title:r===this.element.id+"-sub-title"?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",J(this.element.id+"_Secondary_Element"),o):w(this.element.id+"_EJ2_Title_Tooltip")},k.prototype.setMouseXY=function(e){var t,i,o,r=J(this.element.id+"_svg");r&&this.element&&(r=r.getBoundingClientRect(),t=this.element.getBoundingClientRect(),-1<e.type.indexOf("touch")?(this.isTouch=!0,i=e.changedTouches[0].clientY,o=e.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,o=e.clientX,i=e.clientY),this.mouseY=i-t.top-Math.max(r.top-t.top,0),this.mouseX=o-t.left-Math.max(r.left-t.left,0))},k.prototype.wireEvents=function(){var e,t,i,o;this.element&&(o=K.Browser.isPointer,e=K.Browser.touchStartEvent,t=K.Browser.touchEndEvent,i=K.Browser.touchMoveEvent,o=o?"pointerleave":"mouseleave",K.EventHandler.add(this.element,i,this.chartOnMouseMove,this),K.EventHandler.add(this.element,t,this.chartMouseUp,this),K.EventHandler.add(this.element,e,this.chartMouseDown,this),K.EventHandler.add(this.element,"click",this.chartOnMouseClick,this),K.EventHandler.add(this.element,o,this.chartMouseLeave,this),K.EventHandler.add(this.element,"keydown",this.circular3DChartKeyDown,this),K.EventHandler.add(this.element,"keyup",this.circular3DChartKeyUp,this),this.chartResizeBound=this.chartResize.bind(this),window.addEventListener(K.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.chartResizeBound),this.setStyle(this.element))},k.prototype.chartMouseLeave=function(e){return this.setMouseXY(e),this.trigger("circularChart3DMouseLeave",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.tooltip.enable&&this.circularChartTooltip3DModule&&this.circularChartTooltip3DModule.mouseLeaveHandler(),this.notify(K.Browser.isPointer?"pointerleave":"mouseleave",e),this.rotateActivate=!1},k.prototype.chartMouseUp=function(e){return this.setMouseXY(e),this.trigger("circularChart3DMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.rotateActivate=!1,this.tooltip.enable&&this.circularChartTooltip3DModule&&this.circularChartTooltip3DModule.mouseUpHandler(e,this),this.notify(K.Browser.touchEndEvent,e),!1},k.prototype.chartMouseDown=function(e){this.setMouseXY(e),this.trigger("circularChart3DMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.cachedX=this.mouseX,this.cachedY=this.mouseY;var e=J(this.element.id+"_svg").getBoundingClientRect(),t=document.getElementById(this.element.id+"-svg-chart-3d").getBoundingClientRect(),e={x:t.left-e.left,y:t.top-e.top,width:t.width,height:t.height};return this.enableRotation&&mo(this.mouseX,this.mouseY,e)&&(this.rotateActivate=!0,this.previousCoords={x:this.mouseX,y:this.mouseY}),!1},k.prototype.setStyle=function(e){e.style.touchAction=this.enableRotation?"none":"element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.height=e.style.height||this.height&&-1===this.height.indexOf("%")?e.style.height:"inherit";var t="";switch(this.theme){case"HighContrastLight":case"HighContrast":t="#969696";break;case"MaterialDark":case"FabricDark":case"Bootstrap":case"Bootstrap4":t="#66afe9";break;case"Tailwind":case"TailwindDark":t="#4f46e5";break;case"Bootstrap5":case"Bootstrap5Dark":t="#0d6efd";break;case"Fluent":case"FluentDark":t="#9e9e9e";break;case"Fluent2":case"Fluent2Dark":t="#0078D4";break;default:t="#9e9e9e"}var i=document.createElement("style");i.setAttribute("id",e.id+"Keyboard_circular3dchart_focus"),i.innerText=".e-circular3dchart-focused:focus,path[id*=-series-0-point-]:focus, text[id*=-title]:focus{outline: none} .e-circular3dchart-focused:focus-visible,path[id*=-series-0-point-]:focus-visible, text[id*=-title]:focus-visible{outline: 1.5px "+t+" solid}",document.body.appendChild(i)},k.prototype.setCulture=function(){this.intl=new K.Internationalization},k.prototype.render=function(){var e=this,t=(-1===this.element.className.indexOf("e-circular3dchart")&&this.element.classList.add("e-circular3dchart"),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.title+". Syncfusion interactive chart."),this.element.setAttribute("class",this.element.getAttribute("class")+" e-circular3dchart-focused"),{chart:this,theme:this.theme,name:ot,cancel:!1});this.trigger(ot,t,function(){t.cancel||(e.setTheme(),e.calculateVisibleSeries(),e.processData(),e.renderComplete(),e.allowServerDataBinding=!0)})},k.prototype.setTheme=function(){this.themeStyle=function(e){var t;switch(e){case"HighContrastLight":case"HighContrast":t={chartTitle:"#ffffff",legendLabel:"#ffffff",background:"transparent",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",tabColor:"#FFD939",chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#000000",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#969696",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={chartTitle:"#ffffff",legendLabel:"#DADADA",background:"transparent",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",tabColor:"MaterialDark"===e?"#00B0FF":"FabricDark"===e?"#0074CC":"#0070F0",chartTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"MaterialDark"===e?"rgba(18, 18, 18, 1)":"FabricDark"===e?"#DADADA":"#1A1A1A",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.6)":"FabricDark"===e?"#A19F9D":"#676767",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"MaterialDark"===e?"rgba(255, 255, 255, 0.87)":"FabricDark"===e?"#DADADA":"#FFFFFF",fontFamily:"MaterialDark"===e?"Roboto":"FabricDark"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap4":t={chartTitle:"#212529",legendLabel:"#212529",background:"transparent",tooltipFill:"#020202",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",tabColor:"#007BFF",chartTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#666666",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#212529",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Tailwind":t={chartTitle:"#374151",legendLabel:"#374151",background:"transparent",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",tabColor:"#4F46E5",chartTitleFont:{color:"#374151",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#6B7280",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#374151",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"TailwindDark":t={chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"transparent",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",tabColor:"#22D3EE",chartTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#1F2937",fontFamily:"Inter",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#9CA3AF",fontFamily:"Inter",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#D1D5DB",fontFamily:"Inter",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5":t={chartTitle:"#343A40",legendLabel:"#343A40",background:"transparent",tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",tabColor:"#0D6EFD",chartTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F9FAFB",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#495057",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#343A40",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Bootstrap5Dark":t={chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"transparent",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD",tabColor:"#0D6EFD",chartTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#212529",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#E9ECEF",fontFamily:"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent":t={chartTitle:"#201F1E",legendLabel:"#323130",background:"transparent",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",tabColor:"#0078D4",chartTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#201F1E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#323130",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#3B3A39",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#323129",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"FluentDark":t={chartTitle:"#F3F2F1",legendLabel:"#D2D0CE",background:"transparent",tooltipFill:"#252423",tooltipBoldLabel:"#F3F2F1",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",tabColor:"#0078D4",chartTitleFont:{color:"#C8C6C4",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#D2D0CE",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#F3F2F1",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Fluent2":t={chartTitle:"#242424",legendLabel:"#242424",background:"transparent",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",tabColor:"#0078D4",chartTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#242424",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#616161",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"}};break;case"Fluent2Dark":t={chartTitle:"#FFFFFF",legendLabel:"#FFFFFF",background:"transparent",tooltipFill:"#292929",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",tabColor:"#0078D4",chartTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#FFFFFF",fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#ADADAD",fontFamily:"Segoe UI",size:"14px",fontStyle:"Normal",fontWeight:"600"}};break;case"Material3":t={chartTitle:"#1C1B1F",legendLabel:"#49454E",background:"transparent",tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",tabColor:"#49454E",chartTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#1C1B1F",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#F4EFF4",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#49454E",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#49454E",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;case"Material3Dark":t={chartTitle:"#E6E1E5",legendLabel:"#CAC4D0",background:"transparent",tooltipFill:"#E6E1E5",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",tabColor:"#CAC4D0",chartTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"#E6E1E5",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"#313033",fontFamily:"Roboto",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"#CAC4D0",fontFamily:"Roboto",size:"14px",fontStyle:"Normal",fontWeight:"400"}};break;default:t={chartTitle:"#424242",legendLabel:"#353535",background:"transparent",tooltipFill:"#000816",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",tabColor:"Material"===e?"#ff4081":"Fabric"===e?"#0078D6":"#317AB9",chartTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"16px",fontStyle:"Normal",fontWeight:"600"},legendTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"600"},legendLabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"#666666",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"},tooltipLabelFont:{color:"Material"===e?"rgba(249, 250, 251, 1)":"Fabric"===e?"#333333":"#F9FAFB",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal"},datalabelFont:{color:"Material"===e?"rgba(97, 97, 97, 1)":"Fabric"===e?"#666666":"#676767",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"12px",fontStyle:"Normal",fontWeight:"400"},chartSubTitleFont:{color:"Material"===e?"rgba(0, 0, 0, 1)":"Fabric"===e?"#333333":"#212529",fontFamily:"Material"===e?"Roboto":"Fabric"===e?"Segoe UI":"Helvetica",size:"14px",fontStyle:"Normal",fontWeight:"400"}}}return t}(this.theme)},k.prototype.processData=function(e){void 0===e&&(e=!0);for(var t=this.seriesCounts=0,i=this.visibleSeries;t<i.length;t++){var o=i[t];o.dataModule=new An(o.dataSource||this.dataSource,o.query),o.refreshDataManager(this,e)}},k.prototype.refreshChart=function(){this.createPieSvg(),this.calculateBounds(),this.circular3DPolygon=[],this.visibleSeries[0].segments=[],this.groupElement=this.renderer.createGroup({id:this.element.id+"-svg-chart-3d"}),this.groupElement.setAttribute("role","region"),this.groupElement.setAttribute("aria-hidden","false"),this.renderElements(),w("chartmeasuretext")},k.prototype.renderElements=function(){this.renderBorder(),this.createSecondaryElement(),this.renderTitle(),this.renderSeries(),this.renderLegend(),q(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.setSecondaryElementPosition(),this.trigger("loaded",{chart:this}),this.setSeriesTabIndex(),this.doAnimation(),this.animateSeries=!1},k.prototype.setSeriesTabIndex=function(){for(var e,t=0;t<this.visibleSeries[0].points.length;t++)if(this.visibleSeries[0].points[t].visible){e=document.querySelectorAll('[id*="region-series-0-point-'+this.visibleSeries[0].points[t].index+'"]');break}e&&0<e.length&&e[e.length-1].setAttribute("tabindex","0")},k.prototype.processSelection=function(){var e=[];this.circularChartSelection3DModule&&"None"!==this.selectionMode&&(e=K.extend([],this.circularChartSelection3DModule.selectedDataIndexes,null,!0),this.circularChartSelection3DModule.invokeSelection(this)),this.circularChartHighlight3DModule&&this.circularChartHighlight3DModule.invokeHighlight(this),0<e.length&&(this.circularChartSelection3DModule.selectedDataIndexes=e,this.circularChartSelection3DModule.redrawSelection(this))},k.prototype.highlightAnimation=function(t,e,i){var o=parseFloat(this.visibleSeries[0].opacity.toString());o&&new K.Animation({}).animate(t,{duration:e,progress:function(e){t.style.animation="";e=e.timeStamp/e.duration,e=i+(o-i)*e;t.setAttribute("opacity",e.toString())},end:function(){t.setAttribute("opacity",o.toString())}})},k.prototype.stopElementAnimation=function(e){var t=parseFloat(this.visibleSeries[0].opacity.toString());e.getAttribute("e-animate")&&K.Animation.stop(e),e.setAttribute("opacity",t.toString())},k.prototype.doAnimation=function(){var t,e,i,o,r=this.visibleSeries[0];r.animation.enable&&this.animateSeries&&(t=this.renderer.createClipPath({id:this.element.id+"SeriesGroup0_clipPath"}),e=new $.PathOption(this.element.id+"SeriesGroup0_slice","transparent",1,"transparent",1,"",""),e=this.renderer.drawPath(e),t.appendChild(e),this.svgObject.appendChild(t),i=this.element.id,o=this.groupElement.id,document.querySelectorAll('[id*="region-series-"]').forEach(function(e){e.parentElement.id===o&&(e.style.cssText="clip-path:url(#"+t.id+"); -webkit-clip-path:url(#"+t.id+");",e.setAttribute("clip-path","url(#"+i+"SeriesGroup0_clipPath)"))}),r.segments[0])&&this.animationRect(e,r)},k.prototype.renderLegend=function(){if(!this.circularChartLegend3DModule||!this.legendSettings.visible)return null;this.circularChartLegend3DModule.legendCollections.length&&this.visibleSeries[0].labelBound&&this.circularChartLegend3DModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.circularChartLegend3DModule.legendBounds,this.margin),this.circularChartLegend3DModule.renderLegend(this,this.legendSettings,this.circularChartLegend3DModule.legendBounds,this.redraw)},k.prototype.animationRect=function(i,o){for(var t,r=this,e=o.animation.duration,n=.75*Math.max(this.availableSize.height,this.availableSize.width),a=(n+=.414*n,Co("Linear")),l={x:o.segments[0].center.x-this.rotation/2,y:o.segments[0].center.y+this.tilt/2},s=0;s<o.points.length;s++){var h=J(this.element.id+"-svg-data-label-text-"+s),h=(h&&(h.style.visibility="hidden"),J(this.element.id+"-svg-data-label-series-0-shape-"+s)),h=(h&&(h.style.visibility="hidden"),J(this.element.id+"-series-"+o.index+"-data-label-"+s)),h=(h&&(h.style.visibility="hidden"),J(this.element.id+"-datalabel-series-0-connector-"+s));h&&(h.style.visibility="hidden")}K.isNullOrUndefined(i)||new K.Animation({}).animate(i,{duration:0===e&&"Enable"===K.animationMode?1e3:e,delay:o.animation.delay,progress:function(e){t=a(e.timeStamp,-90,359.99999,e.duration),i.setAttribute("d",r.getPathArc(l,-90,t,n))},end:function(){i.setAttribute("d",r.getPathArc(l,0,359.99999,n)),r.trigger(rt,{series:o,chart:r});for(var e=0;e<o.points.length;e++){var t=J(r.element.id+"-svg-data-label-text-"+e),t=(t&&(t.style.visibility="visible"),J(r.element.id+"-svg-data-label-series-0-shape-"+e)),t=(t&&(t.style.visibility="visible"),J(r.element.id+"-series-"+o.index+"-data-label-"+e)),t=(t&&(t.style.visibility="visible"),J(r.element.id+"-datalabel-series-0-connector-"+e));t&&(t.style.visibility="visible")}}})},k.prototype.getPathArc=function(e,t,i,o){var r=i-t,r=(r<0?360+r:r)<180?0:1;return this.getPiePath(e,$i(t,o,e),$i(i,o,e),o,r)},k.prototype.getPiePath=function(e,t,i,o,r){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+r+" 1 "+i.x+" "+i.y+" Z"},k.prototype.renderBorder=function(){var e=this.border.width,t=new Pr(this.element.id+"-border",this.background||this.themeStyle.background,this.border,1,new $.Rect(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e)),t=this.renderer.drawRectangle(t),t=(t.setAttribute("aria-hidden","true"),q(!1,this.svgObject,t,this.redraw),this.backgroundImage);t&&(e=new Dr(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"-background","visible","none"),q(!1,this.svgObject,this.renderer.drawImage(e),this.redraw))},k.prototype.createSecondaryElement=function(){var e=pr(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});q(!1,this.element,e,this.redraw)},k.prototype.renderSeries=function(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&this.pieSeries3DModule&&(i.draw(i,this),this.defaultLabelBound(i))}},k.prototype.defaultLabelBound=function(e){var t;0<e.segments.length&&e.dataLabel.visible&&(t=this.getSeriesBound(e),e.dataLabel.visible&&"Inside"===e.dataLabel.position&&(e.labelBound=new $.Rect(t.x,t.y,t.width+t.x,t.height+t.y)),e.findMaxBounds(e.labelBound,t),this.circularChartLegend3DModule)&&(e.labelBound.x-=this.explodeDistance,e.labelBound.y-=this.explodeDistance,e.labelBound.height+=this.explodeDistance-e.labelBound.y,e.labelBound.width+=this.explodeDistance-e.labelBound.x)},k.prototype.getSeriesBound=function(e){var t=new $.Rect(1/0,1/0,-1/0,-1/0),i=(e.findMaxBounds(t,this.getRectFromAngle(0)),e.findMaxBounds(t,this.getRectFromAngle(360)),e.findMaxBounds(t,new $.Rect(e.segments[0].center.x,e.segments[0].center.y,0,0)),(90*Math.floor(0)+90)%360),o=0==(o=90*Math.floor(4)%360)?360:o;e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(o)),e.findMaxBounds(t,this.getRectFromAngle(0));for(var r=i===o?0:Math.floor(4),n=1;n<r;n++)e.findMaxBounds(t,this.getRectFromAngle(i+=90));return t.width-=t.x,t.height-=t.y,t},k.prototype.getRectFromAngle=function(e){e=$i(e,this.circularRadius[0],this.visibleSeries[0].segments[0].center);return new $.Rect(e.x,e.y,0,0)},k.prototype.renderTitle=function(){var e=this.margin;if(!this.title)return null;var t=this.getTextAnchor(this.titleStyle.textAlignment,this.enableRtl),i=$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont),o=this.margin.top+3*i.height/4,e=new $.Rect(e.left,0,this.availableSize.width-e.left-e.right,0),e=new $.TextOption(this.element.id+"-title",vr(e,this.titleStyle),o,t,this.titleCollection,"","auto"),o=(this.titleLocation={x:e.x,y:e.y,size:i},gr(this.renderer,e,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,0,null,null,null,this.themeStyle.chartTitleFont));o&&(o.setAttribute("tabindex","0"),o.parentNode.insertBefore(o,this.svgObject.children&&this.svgObject.children[1])),this.subTitle&&this.renderSubTitle(e)},k.prototype.getTextAnchor=function(e,t){switch(e){case"Near":return t?"end":"start";case"Far":return t?"start":"end";default:return"middle"}},k.prototype.renderSubTitle=function(e){for(var t=0,i=this.titleStyle.textAlignment,o=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont),r=0,n=this.titleCollection;r<n.length;r++)var a=n[r],t=t<(a=$.measureText(a,this.titleStyle,this.themeStyle.chartTitleFont).width)?a:t;i=new $.Rect("Center"===i?e.x-t/2:"Far"===i?e.x-t:e.x,0,t,0),i=new $.TextOption(this.element.id+"-sub-title",vr(i,this.subTitleStyle),e.y*e.text.length+3*o.height/4+10,this.getTextAnchor(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,"","auto");this.subTitleLocation={x:i.x,y:i.y,size:o},gr(this.renderer,i,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,0,null,null,null,this.themeStyle.chartSubTitleFont)},k.prototype.setSecondaryElementPosition=function(){var e,t,i=J(this.element.id+"_Secondary_Element");i&&(e=this.element.getBoundingClientRect(),t=J(this.element.id+"_svg").getBoundingClientRect(),i.style.left=Math.max(t.left-e.left,0)+"px",i.style.top=Math.max(t.top-e.top,0)+"px")},k.prototype.createPieSvg=function(){this.removeSvg(),yr(this)},k.prototype.removeSvg=function(){if(this.redraw)return null;if(w(this.element.id+"_Secondary_Element"),this.svgObject){for(;0<this.svgObject.childNodes.length;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&K.remove(this.svgObject)}w("EJ2_legend_tooltip"),w("EJ2_datalabel_tooltip"),w(this.element.id+"PointHover_Border")},k.prototype.calculateVisibleSeries=function(){this.visibleSeries=[],this.series[0].index=0,this.visibleSeries.push(this.series[0])},k.prototype.calculateBounds=function(){this.initialClipRect=new $.Rect(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];var e,t=0,i=0;if(this.title&&(this.titleCollection=fr(this.title,this.titleStyle,this.initialClipRect.width,this.enableRtl,this.themeStyle.chartTitleFont)),e=this.title?$.measureText(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length:0,this.subTitle){for(var o=0,r=this.titleCollection;o<r.length;o++)var n=r[o],i=i<(n=$.measureText(n,this.titleStyle,this.themeStyle.chartTitleFont).width)?n:i;this.subTitleCollection=fr(this.subTitle,this.subTitleStyle,i,this.enableRtl,this.themeStyle.chartSubTitleFont),t=$.measureText(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length}Ki(this.initialClipRect,new $.Rect(0,t+e,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top)),this.calculateLegendBounds()},k.prototype.calculateLegendBounds=function(){if(!this.circularChartLegend3DModule||!this.legendSettings.visible)return null;this.circularChartLegend3DModule.getLegendOptions(this,this.visibleSeries),this.circularChartLegend3DModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)},k.prototype.print=function(e){new Yn(this).print(e)},k.prototype.export=function(e,t){this.circularChartExport3DModule&&(this.circularChartExport3DModule.export(e,t),this.afterExport)&&this.circularChartExport3DModule.getDataUrl(this)},k.prototype.pdfExport=function(e,t,i,o,r,n,a,l,s){this.circularChartExport3DModule&&this.circularChartExport3DModule.pdfExport(e,t,i,o,r,n,a,l,s)},k.prototype.requiredModules=function(){var e=[];return e.push({member:this.type+"Series3D",args:[this]}),this.legendSettings.visible&&e.push({member:"CircularChartLegend3D",args:[this]}),this.series[0].dataLabel.visible&&e.push({member:"CircularChartDataLabel3D",args:[this]}),this.tooltip.enable&&e.push({member:"CircularChartTooltip3D",args:[this]}),"None"!==this.selectionMode&&e.push({member:"CircularChartSelection3D",args:[this]}),"None"===this.highlightMode&&!this.legendSettings.enableHighlight||e.push({member:"CircularChartHighlight3D",args:[this]}),this.enableExport&&e.push({member:"CircularChartExport3D",args:[this]}),e},k.prototype.circular3DChartKeyDown=function(e){var t="";return this.tooltip.enable&&("Tab"===e.code&&-1<this.previousTargetId.indexOf("series")||-1<this.previousTargetId.indexOf("legend")||"Escape"===e.code)&&(t="ESC"),-1<e.code.indexOf("Arrow")&&e.preventDefault(),e.ctrlKey&&"p"===e.key&&(e.preventDefault(),t="CtrlP"),""!==t&&this.chartKeyboardNavigations(e,e.target.id,t),!1},k.prototype.chartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":var o,r,n;if(-1<t.indexOf("-point-")&&(o=parseInt(t.split("point-")[1],10),a=(r=this.visibleSeries[0].points[o]).symbolLocation.center,n=(n=r.symbolLocation.radius*this.visibleSeries[0].coefficient)+(r.symbolLocation.radius-n)/2,this.mouseX=a.x+n*Math.cos(r.symbolLocation.angle),this.mouseY=a.y+n*Math.sin(r.symbolLocation.angle),this.circularChartHighlight3DModule&&(a=J(t),K.isNullOrUndefined(a)||(1<a.id.indexOf("text")&&(a=J(a.id.replace("text","shape"))),(this.circularChartSelection3DModule||this.circularChartHighlight3DModule).calculateSelectedElements(this,a,"mousemove"))),this.circularChartTooltip3DModule)&&(n=void 0,(r=this.visibleSeries[0]).enableTooltip&&(n=new kx(r.points[o],r)),this.circularChartTooltip3DModule.element=this.element,(this.circularChartTooltip3DModule.control=this).circularChartTooltip3DModule.renderSeriesTooltip(this,n)),this.circularChartHighlight3DModule&&"None"!==this.highlightMode){t=-1<t.indexOf("_chart_legend_g_")?document.getElementById(t).firstChild.id:t;for(var a=this.element.id+"_chart_legend",l=[a+"_text_",a+"_shape_marker_",a+"_shape_"],s=0;s<l.length;s++)if(-1<t.indexOf(l[s])){document.getElementById(t).setAttribute("class",""),(this.circularChartSelection3DModule||this.circularChartHighlight3DModule).legendSelection(this,J(t),"mousemove");break}}break;case"Enter":case"Space":-1<t.indexOf("_chart_legend_")&&this.circularChartLegend3DModule?(this.isLegendClicked=!0,this.circularChartLegend3DModule.click(e),this.focusChild(document.getElementById(t).parentElement)):this.circularChartSelection3DModule&&this.circularChartSelection3DModule.calculateSelectedElements(this,document.getElementById(t),"click");break;case"CtrlP":this.print();break;case"ESC":this.circularChartTooltip3DModule&&this.circularChartTooltip3DModule.removeTooltip(1),this.circularChartSelection3DModule?this.circularChartSelection3DModule.calculateSelectedElements(this,document.getElementById(this.element.id+"-border"),"mousemove"):this.circularChartHighlight3DModule&&"None"!==this.highlightMode&&this.circularChartHighlight3DModule.calculateSelectedElements(this,document.getElementById(this.element.id+"-border"),"mousemove")}},k.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t=t&&-1===t.indexOf("e-circular3dchart-focused")?"e-circular3dchart-focused "+t:t||"e-circular3dchart-focused",e.setAttribute("class",t),e.focus(),e.id},k.prototype.circular3DChartKeyUp=function(e){var t="",i=e.target.id,o=J(this.element.id+"_chart_legend_translate_g"),r=J(this.element.id+"_chart_legend_pageup");if(o&&((h=(n=o.firstElementChild).getAttribute("class"))&&-1===h.indexOf("e-circular3dchart-focused")?h+=" e-circular3dchart-focused":h=h||"e-circular3dchart-focused",n.setAttribute("class",h)),r&&r.setAttribute("class","e-circular3dchart-focused"),"Tab"===e.code)""!==this.previousTargetId&&(-1<this.previousTargetId.indexOf("-point-")&&-1===i.indexOf("-point-")?this.currentPointIndex=0:-1<this.previousTargetId.indexOf("_chart_legend_page")&&-1===i.indexOf("_chart_legend_page")&&-1===i.indexOf("_chart_legend_g_")?this.setTabIndex(e.target,r):-1<this.previousTargetId.indexOf("_chart_legend_g_")&&-1===i.indexOf("chart_legend_g_")?this.setTabIndex(o.children[this.currentLegendIndex],o.firstElementChild):-1<this.previousTargetId.indexOf("-title")&&-1<i.indexOf("-point-")&&(this.currentPointIndex=parseInt(i.split("point-")[1],10))),-1<(this.previousTargetId=i).indexOf("_chart_legend_g_")&&"None"!==this.highlightMode?(i=e.target.lastElementChild.id,t="Tab"):-1<i.indexOf("-point-")&&("None"!==this.highlightMode||this.tooltip.enable)&&(t="Tab");else if(-1<e.code.indexOf("Arrow")){if(e.preventDefault(),-1<i.indexOf("_chart_legend_page"))e.target.removeAttribute("tabindex"),this.previousTargetId=i=this.element.id+"_chart_legend_page"+("ArrowRight"===e.code?"up":"down"),this.focusTarget(J(i));else if(-1<i.indexOf("_chart_legend_")){e.target.removeAttribute("tabindex"),this.currentLegendIndex+="ArrowUp"===e.code||"ArrowRight"===e.code?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,o.children.length);var n=o.children[this.currentLegendIndex];this.focusTarget(n),this.previousTargetId=i=n.lastElementChild.id,t="None"!==this.highlightMode?"ArrowMove":""}else if(-1<i.indexOf("-point-")){e.target.setAttribute("tabindex","-1");for(var a=0,l=[],s=0;s<this.visibleSeries[0].points.length;s++){a=this.visibleSeries[0].points[s].visible?a+1:a;this.visibleSeries[0].points[s].visible&&l.push(this.visibleSeries[0].points[s].index)}this.currentPointIndex=l.indexOf(this.currentPointIndex)+("ArrowUp"===e.code||"ArrowRight"===e.code?1:-1),this.currentPointIndex=l[this.getActualIndex(this.currentPointIndex,l.length)];var h=document.querySelectorAll('[id*="region-series-0-point-'+this.currentPointIndex+'"]'),r=void 0,i=(r=0<h.length?h[h.length-1]:r)?r.id:"";this.focusTarget(J(i)),t=this.tooltip.enable||this.circularChartHighlight3DModule?"ArrowMove":""}}else"Enter"!==e.code&&"Space"!==e.code||!(-1<i.indexOf("_chart_legend_")||-1<i.indexOf("-point-"))||(i=-1<i.indexOf("_chart_legend_g")?e.target.lastElementChild.id:i,t="Enter");return""!==t&&this.chartKeyboardNavigations(e,i,t),!1},k.prototype.getActualIndex=function(e,t){return t-1<e?0:e<0?t-1:e},k.prototype.focusTarget=function(e){var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&-1===t.indexOf("e-circular3dchart-focused")?t+=" e-circular3dchart-focused":t=t||"e-circular3dchart-focused",e.setAttribute("tabindex","0"),e.setAttribute("class",t),e.focus(),e.id},k.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},k.prototype.getPersistData=function(){return""},k.prototype.getModuleName=function(){return"circularchart3d"},k.prototype.destroy=function(){var e;this.element&&(this.unWireEvents(),this.circular3DPolygon=[],this.visibleSeries[0].segments=[],Ix.prototype.destroy.call(this),this.element.classList.remove("e-circular3dchart"),this.element.classList.remove("e-circular3dchart-focused"),(e=document.getElementById(this.element.id+"Keyboard_circular3dchart_focus"))&&e.remove(),w("chartmeasuretext"),this.removeSvg(),this.svgObject=null)},k.prototype.chartResize=function(){var e=this,t=(this.animateSeries=!1,{previousSize:new $.Size(this.availableSize.width,this.availableSize.height),currentSize:new $.Size(0,0),chart:this}),i={cancel:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Mt,i),i.cancel||(this.resizeTo=+setTimeout(function(){e.isDestroyed?clearTimeout(e.resizeTo):(mr(e),t.currentSize=e.availableSize,e.trigger(At,t),e.refreshChart())},500)),!1},k.prototype.changeVisibleSeries=function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t===r.index)return r}return null},k.prototype.removeSeriesElements=function(t){document.querySelectorAll('[id*="region-series-"]').forEach(function(e){if(e.parentElement.id===t.groupElement.id)return e.remove()}),document.querySelectorAll('[id*="data-label-text-"]').forEach(function(e){if(e.parentElement.id===t.groupElement.id)return e.remove()}),document.querySelectorAll('[id*="data-label-series-0-shape-"]').forEach(function(e){if(e.parentElement.id===t.groupElement.id)return e.remove()}),document.querySelectorAll('[id*="datalabel-series-0-connector-"]').forEach(function(e){if(e.parentElement.id===t.groupElement.id)return e.remove()})},k.prototype.onPropertyChanged=function(e,t){for(var i={refreshElements:!1,refreshBounds:!1},o=0,r=Object.keys(e);o<r.length;o++){switch(r[o]){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":case"enableRotation":case"depth":i.refreshBounds=!0;break;case"tilt":case"rotation":this.rotateActivate||(this.animateSeries=!(i.refreshBounds=!0));break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"legendSettings":i.refreshBounds=!0,i.refreshElements=!0;break;case"dataSource":this.processData(!1),i.refreshBounds=!0;break;case"series":if(!this.delayRedraw){for(var n,a=!1,l=void 0,s=0;s<this.series.length;s++)((n=e.series[s]).explodeOffset||n.radius||n.innerRadius||n.emptyPointSettings)&&(l=!0),e.series[s]&&(e.series[s].dataSource||e.series[s].yName||e.series[s].xName||e.series[s].dataLabel||l)&&(K.extend(this.changeVisibleSeries(this.visibleSeries,s),n,null,!0),a=!0),e.series[s]&&!K.isNullOrUndefined(e.series[s].explodeIndex)&&0<=e.series[s].explodeIndex&&e.series[s].explodeIndex!==t.series[s].explodeIndex&&(a=!0,this.removeSeriesElements(this));a&&(this.processData(!1),i.refreshBounds=!0)}this.delayRedraw=!1,this.redraw=!1;break;case"enableRtl":case"locale":Ix.prototype.refresh.call(this);break;case"background":case"border":i.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.circularChartSelection3DModule&&(K.isNullOrUndefined(this.circularChartSelection3DModule.selectedDataIndexes)?this.circularChartSelection3DModule.invokeSelection(this):(this.circularChartSelection3DModule.selectedDataIndexes=this.selectedDataIndexes,this.circularChartSelection3DModule.redrawSelection(this)));break;case"tooltip":this.circularChartTooltip3DModule&&(this.circularChartTooltip3DModule.previousPoints=[],this.tooltip.template)&&(this.circularChartTooltip3DModule.template=this.tooltip.template)}!i.refreshBounds&&i.refreshElements?(this.removeSeriesElements(this),this.createPieSvg(),this.circular3DPolygon=[],this.visibleSeries[0].segments=[],this.renderElements()):i.refreshBounds&&(this.removeSeriesElements(this),this.createPieSvg(),this.circular3DPolygon=[],this.visibleSeries[0].segments=[],this.calculateBounds(),this.renderElements())}},D([K.Property(null)],k.prototype,"width",void 0),D([K.Property(null)],k.prototype,"height",void 0),D([K.Property(null)],k.prototype,"title",void 0),D([K.Property(null)],k.prototype,"backgroundImage",void 0),D([K.Property("")],k.prototype,"dataSource",void 0),D([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],k.prototype,"titleStyle",void 0),D([K.Property(null)],k.prototype,"subTitle",void 0),D([K.Complex({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},oe)],k.prototype,"subTitleStyle",void 0),D([K.Property("None")],k.prototype,"selectionMode",void 0),D([K.Property("None")],k.prototype,"highlightMode",void 0),D([K.Collection([{}],G0)],k.prototype,"series",void 0),D([K.Complex({},wx)],k.prototype,"legendSettings",void 0),D([K.Property("")],k.prototype,"highlightColor",void 0),D([K.Property("None")],k.prototype,"selectionPattern",void 0),D([K.Property("None")],k.prototype,"highlightPattern",void 0),D([K.Property(!1)],k.prototype,"isMultiSelect",void 0),D([K.Property(!0)],k.prototype,"enableAnimation",void 0),D([K.Property("Material")],k.prototype,"theme",void 0),D([K.Collection([],Fe)],k.prototype,"selectedDataIndexes",void 0),D([K.Complex({},me)],k.prototype,"margin",void 0),D([K.Complex({color:"#DDDDDD",width:0},ae)],k.prototype,"border",void 0),D([K.Complex({},Dx)],k.prototype,"tooltip",void 0),D([K.Property(null)],k.prototype,"background",void 0),D([K.Property(!1)],k.prototype,"useGroupingSeparator",void 0),D([K.Property(50)],k.prototype,"depth",void 0),D([K.Property(0)],k.prototype,"tilt",void 0),D([K.Property(!1)],k.prototype,"enableRotation",void 0),D([K.Property(0)],k.prototype,"rotation",void 0),D([K.Property(!1)],k.prototype,"enableExport",void 0),D([K.Event()],k.prototype,"load",void 0),D([K.Event()],k.prototype,"loaded",void 0),D([K.Event()],k.prototype,"legendRender",void 0),D([K.Event()],k.prototype,"legendClick",void 0),D([K.Event()],k.prototype,"selectionComplete",void 0),D([K.Event()],k.prototype,"pointRender",void 0),D([K.Event()],k.prototype,"seriesRender",void 0),D([K.Event()],k.prototype,"textRender",void 0),D([K.Event()],k.prototype,"beforeExport",void 0),D([K.Event()],k.prototype,"afterExport",void 0),D([K.Event()],k.prototype,"beforePrint",void 0),D([K.Event()],k.prototype,"beforeResize",void 0),D([K.Event()],k.prototype,"resized",void 0),D([K.Event()],k.prototype,"circularChart3DMouseMove",void 0),D([K.Event()],k.prototype,"circularChart3DMouseClick",void 0),D([K.Event()],k.prototype,"circularChart3DMouseDown",void 0),D([K.Event()],k.prototype,"circularChart3DMouseLeave",void 0),D([K.Event()],k.prototype,"circularChart3DMouseUp",void 0),D([K.Event()],k.prototype,"pointClick",void 0),D([K.Event()],k.prototype,"pointMove",void 0),D([K.Event()],k.prototype,"tooltipRender",void 0),D([K.NotifyPropertyChanges],k));function k(e,t){e=Ix.call(this,e,t)||this;return e.chartId=57724,e.explodeDistance=0,e.rotateActivate=!1,e.previousTargetId="",e.currentPointIndex=0,e.currentLegendIndex=0,e.isLegendClicked=!1,e.delayRedraw=!1,e}zx.prototype.export=function(e,t){var i=new Dc(this.chart),o={cancel:!1,width:null,height:null};this.chart.trigger(Vt,o),o.cancel||i.export(e,t,void 0,[this.chart])},zx.prototype.pdfExport=function(e,t,i,o,r,n,a,l,s){var h=new Dc(this.chart),c=(i=i||[this.chart],{cancel:!1,width:o,height:r});this.chart.trigger(Vt,c),c.cancel||h.export("PDF",e,t,i,o=c.width,r=c.height,n,a,l,s)},zx.prototype.getDataUrl=function(e){return new Dc(e).getDataUrl(e)},zx.prototype.getModuleName=function(){return"CircularChartExport3D"},zx.prototype.destroy=function(){};D=zx;function zx(e){this.chart=e}Bx=function(e,t){return(Bx=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Bx(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Vx,Nx=zh),Vx.prototype.addEventListener=function(){this.circular3D.isDestroyed||(this.circular3D.on(K.Browser.touchMoveEvent,this.mouseMove,this),this.circular3D.on("click",this.mouseClick,this))},Vx.prototype.removeEventListener=function(){this.circular3D.isDestroyed||(this.circular3D.off(K.Browser.touchMoveEvent,this.mouseMove),this.circular3D.off("click",this.mouseClick))},Vx.prototype.initPrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.rectPoints=null},Vx.prototype.invokeSelection=function(e){this.initPrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,this.selectDataIndex(this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes),e)},Vx.prototype.generateStyle=function(e,t){return this.styleId+"_series_"+e.index+"_point_"+t},Vx.prototype.getElementByIndex=function(t){var i=this,o=[],e=(document.querySelectorAll('[id*="-region-series-'+t.series+"-point-"+t.point+'"]').forEach(function(e){-1<e.id.indexOf(i.circular3D.element.id+"-")&&i.indexFinder(e.id).point===t.point&&o.push(e)}),document.getElementById(this.control.element.id+"-svg-data-label-text-"+t.point)),r=document.getElementById(this.control.element.id+"-datalabel-series-0-connector-"+t.point),n=document.getElementById(this.control.element.id+"-svg-data-label-series-0-shape-"+t.point);return e&&o.push(e),r&&o.push(r),n&&o.push(n),o},Vx.prototype.isAlreadySelected=function(e,i,o){if("mousemove"===i?(this.currentMode=this.circular3D.highlightMode,this.highlightDataIndexes=[],this.styleId=this.circular3D.element.id+"_ej2_chart_highlight"):"click"!==i&&"keyup"!==i||(this.currentMode=this.circular3D.selectionMode,this.styleId=this.circular3D.element.id+"_ej2_chart_selection"),"None"!==this.circular3D.highlightMode&&"None"===this.circular3D.selectionMode&&"click"===i)return!1;if(("None"!==this.circular3D.highlightMode||this.circular3D.legendSettings.enableHighlight)&&this.previousSelectedElement&&this.previousSelectedElement[0])for(var r=void 0,t=e.nodeName,n=(e.parentNode&&(r=("path"===t||"shape"===t)&&1<e.id.indexOf("region")),this),a=0;a<this.previousSelectedElement.length;a++)!function(e){var t;n.previousSelectedElement[e].hasAttribute("class")&&(-1<n.previousSelectedElement[e].getAttribute("class").indexOf("highlight")&&(r||"click"===i||"keyup"===i)?(n.previousSelectedElement[e].classList.forEach(function(e){-1<e.indexOf("selection")&&(t=e)}),n.previousSelectedElement[e].removeAttribute("class"),t&&n.addSvgClass(n.previousSelectedElement[e],t),n.previousSelectedElement[e].classList.remove(n.styleId+"_series_"+o.series),n.addOrRemoveIndex(n.highlightDataIndexes,n.indexFinder(n.previousSelectedElement[e].id))):!r&&-1<n.previousSelectedElement[e].getAttribute("class").indexOf("highlight")&&n.performSelection(n.indexFinder(n.previousSelectedElement[e].id),n.circular3D,n.previousSelectedElement[e]))}(a);return!0},Vx.prototype.mouseClick=function(e,t){this.calculateSelectedElements(e,t.target,t.type)},Vx.prototype.calculateSelectedElements=function(e,t,i){K.isNullOrUndefined(t)||"None"===e.selectionMode&&"None"===e.highlightMode||t.id&&-1===t.id.indexOf(e.element.id+"-")||-1<t.getAttribute("id").indexOf("_connector_")||(this.isAlreadySelected(t,i,this.indexFinder(t.id)),(-1<t.id.indexOf("-series-")||-1<t.id.indexOf("-data-label-"))&&this.performSelection(this.indexFinder(t.id),e,t))},Vx.prototype.indexFinder=function(e){var t=["NaN","NaN"];return-1<e.indexOf("-point-")?t=e.split("-series-")[1].split("-point-"):-1<e.indexOf("-border-")?t[0]=e.split("-border-")[1]:-1<e.indexOf("data-label-series-0-shape-")&&"Inside"===this.control.series[0].dataLabel.position?(t[0]="0",t[1]=e.split("-shape-")[1]):-1<e.indexOf("-series-")?t[0]=e.split("-series-")[1]:-1<e.indexOf("_chart_legend_shape_")?(t=e.split("_chart_legend_shape_"))[0]="0":-1<e.indexOf("_chart_legend_g_")?(t=e.split("_chart_legend_g_"))[0]="0":-1<e.indexOf("-data-label-")?(t[0]="0",t[1]=e.split("-data-label-text-")[1]):-1<e.indexOf("-connector-")&&(t[0]="0",t[1]=e.split("-connector-")[1]),new ke(parseInt(t[0],10),parseInt(t[1],10))},Vx.prototype.performSelection=function(e,t,i){!isNaN(e.point)&&"Point"===this.currentMode&&i&&0<this.getElementByIndex(e).length&&(this.selection(t,e,this.getElementByIndex(e)),this.selectionComplete(t,t.series[0]),this.blurEffect(t.element.id,t.visibleSeries))},Vx.prototype.selectionComplete=function(e,t){for(var i,o=[],r=0;r<this.selectedDataIndexes.length;r++)i=this.selectedDataIndexes[r].point,isNaN(i)||o.push({x:t.dataSource[i][t.xName],y:t.points[i].y,seriesIndex:this.selectedDataIndexes[r].series,pointIndex:i});e.trigger(Pt,{name:Pt,selectedDataValues:o,cancel:!1})},Vx.prototype.selection=function(e,t,i){e.isMultiSelect||-1!==this.styleId.indexOf("highlight")||"None"===e.selectionMode||this.removeMultiSelectElements(e,this.selectedDataIndexes,t);var o=i[0]&&(i[0].getAttribute("class")||"");i[0]&&-1<o.indexOf(this.getSelectionClass(i[0].id))?(this.removeStyles(i),0<this.styleId.indexOf("highlight")&&("None"!==e.highlightMode||e.legendSettings.enableHighlight)?this.addOrRemoveIndex(this.highlightDataIndexes,t):this.addOrRemoveIndex(this.selectedDataIndexes,t)):(this.previousSelectedElement="None"!==e.highlightMode?i:[],o.indexOf("selection")<0&&this.applyStyles(i,t),0<this.styleId.indexOf("highlight")&&("None"!==e.highlightMode||e.legendSettings.enableHighlight)?this.addOrRemoveIndex(this.highlightDataIndexes,t,!0):this.addOrRemoveIndex(this.selectedDataIndexes,t,!0))},Vx.prototype.redrawSelection=function(e){var t=K.extend([],this.selectedDataIndexes,null,!0),i=K.extend([],this.highlightDataIndexes,null,!0);0<this.styleId.indexOf("highlight")&&0<i.length?(this.removeSelectedElements(e,this.highlightDataIndexes),t=i):this.removeSelectedElements(e,this.selectedDataIndexes),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(t,e)},Vx.prototype.removeSelectedElements=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.removeStyles(this.getElementByIndex(r))}for(var n=e.visibleSeries[0].points,a=0;a<n.length;a++){r=new ke(0,n[a].index);this.removeStyles(0===this.getElementByIndex(r).length?[document.getElementById(this.control.element.id+"_chart_legend_shape_"+r.point)]:this.getElementByIndex(r))}},Vx.prototype.legendSelection=function(e,t,i){if("mousemove"===i){if((t=1<(t=1<(t=1<t.id.indexOf("text")?J(t.id.replace("text","shape")):t).id.indexOf("marker")?J(t.id.replace("_marker","")):t).id.indexOf("g")?J(t.id.replace("_g_","_shape_")):t).hasAttribute("class")&&(-1<t.getAttribute("class").indexOf("highlight")||-1<t.getAttribute("class").indexOf("selection")))return;this.currentMode=this.circular3D.highlightMode}else"click"===i&&1<(t=1<t.id.indexOf("text")?J(t.id.replace("text","shape")):t).id.indexOf("g")&&(t=J(t.id.replace("_g_","_shape_")));var o=this.indexFinder(t.id);if(this.isAlreadySelected(t,i,o)){var r=this.generateStyle(e.visibleSeries[o.series],o.point),n=document.querySelectorAll("."+r);if(0<n.length)this.removeSelection(e,o.series,n,r,!0,o);else{for(var a=0,l=e.visibleSeries[0].points;a<l.length;a++){var s=l[a];s.index!==o.point&&(!e.isMultiSelect||0<r.indexOf("highlight"))&&(r=this.generateStyle(e.visibleSeries[o.series],s.index),n=document.querySelectorAll("."+r),this.removeSelection(e,o.series,n,r,!0,o))}0<(t=this.getElementByIndex(o)).length&&(this.checkSelectionElements(t,r,!1,o.point),this.selection(e,o,t),this.blurEffect(e.element.id,e.visibleSeries))}}},Vx.prototype.selectDataIndex=function(e,t){for(var i=0,o=e;i<o.length;i++){var r,n=o[i];(r=this.getElementByIndex(n)[0])&&this.performSelection(n,t,r)}},Vx.prototype.removeMultiSelectElements=function(e,t,i){for(var o=0;o<t.length;o++)this.checkEquals(t[o],i)||(this.removeStyles(this.getElementByIndex(t[o])),t.splice(o,1),o--)},Vx.prototype.blurEffect=function(e,t){for(var i=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes),o=0,r=t[0].points;o<r.length;o++){var n,a=r[o];a.visible&&(n=this.getElementByIndex({series:0,point:a.index}),this.checkSelectionElements(n,this.generateStyle(t[0],a.index),i,a.index))}},Vx.prototype.checkSelectionElements=function(e,t,i,o){void 0===o&&(o=0);for(var r,n=e,a=("None"===this.circular3D.selectionMode||"None"===this.circular3D.highlightMode&&!this.circular3D.legendSettings.enableHighlight||(n=e),e),l=0;l<n.length;l++)if(r=n[l].getAttribute("class")||"","None"===this.circular3D.selectionMode||"None"===this.circular3D.highlightMode&&!this.circular3D.legendSettings.enableHighlight||(t=0<r.indexOf("selection")||0<r.indexOf("highlight")?r:t),-1===r.indexOf(t)&&i?this.addSvgClass(n[l],this.unselected):(a=n[l],-1!==r.indexOf(this.unselected)&&0<t.indexOf("highlight")&&this.circular3D.highlightAnimation(n[l],700,.3),this.removeSvgClass(n[l],this.unselected),this.removeSvgClass(n[l].parentNode,this.unselected)),(-1!==n[l].id.indexOf("-data-label-text-")||-1!==n[l].id.indexOf("-connector-")||-1!==n[l].id.indexOf("-data-label-series-0-shape-"))&&(this.highlightDataIndexes&&this.highlightDataIndexes[0]&&o===this.highlightDataIndexes[0].point&&this.removeSvgClass(n[l],this.unselected),this.selectedDataIndexes))for(var s=0;s<this.selectedDataIndexes.length;s++)o===this.selectedDataIndexes[s].point&&this.removeSvgClass(n[l],this.unselected);this.control.circularChartLegend3DModule&&this.control.legendSettings.visible&&(e=J(this.control.element.id+"_chart_legend_shape_"+o))&&(e.hasAttribute("class")&&this.removeSvgClass(e,e.getAttribute("class")),0<a.length?r=a[0].getAttribute("class"):a&&(r=a.getAttribute("class")||""),-1===r.indexOf(t)&&i?this.addSvgClass(e,this.unselected):(this.removeSvgClass(e,this.unselected),""===r?this.removeSvgClass(e,t):this.addSvgClass(e,t)))},Vx.prototype.applyStyles=function(e,t){for(var i=this.control.circularChartTooltip3DModule,o=0,r=e;o<r.length;o++){var n,a=r[o];a&&(this.removeSvgClass(a.parentNode,this.unselected),this.removeSvgClass(a,this.unselected),n=(i&&0<i.previousPoints.length&&i.previousPoints[0].point.index!==t.point?i.svgTooltip:this.series[t.series]).opacity,a.setAttribute("opacity",n.toString()),-1===a.id.indexOf("-data-label-text-")&&-1===a.id.indexOf("-connector-")&&-1===a.id.indexOf("-data-label-series-0-shape-")&&this.addSvgClass(a,this.getSelectionClass(a.id)),0<this.getSelectionClass(a.id).indexOf("highlight"))&&this.circular3D.stopElementAnimation(a)}this.control.circularChartLegend3DModule&&this.control.legendSettings.visible&&(e=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(e,e.getAttribute("class")),this.addSvgClass(e,this.getSelectionClass(e.id)))},Vx.prototype.getSelectionClass=function(e){return this.generateStyle(this.control.series[this.indexFinder(e).series],this.indexFinder(e).point)},Vx.prototype.removeSelection=function(e,t,i,o,r,n){if(0<i.length){for(var a=[],l=0;l<i.length;l++)a.push(i[l]);this.removeStyles(a),this.addOrRemoveIndex(this.selectedDataIndexes,new ke(t,n.point));for(var s=0,h=e.visibleSeries[0].points;s<h.length;s++){var c=h[s];if(o=this.generateStyle(e.visibleSeries[0],c.index),0<document.querySelectorAll("."+o).length){for(var d=0,p=a;d<p.length;d++)this.checkSelectionElements(p[d],o,!0,n.point);r=!1;break}}r&&this.blurEffect(e.element.id,e.visibleSeries)}},Vx.prototype.removeStyles=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];o&&this.removeSvgClass(o,this.getSelectionClass(o.id))}},Vx.prototype.addOrRemoveIndex=function(e,t,i){for(var o=0;o<e.length;o++)this.checkEquals(e[o],t)&&(e.splice(o,1),o--);i&&e.push(t)},Vx.prototype.checkEquals=function(e,t){return e.point===t.point&&e.series===t.series},Vx.prototype.mouseMove=function(e){var t=this.circular3D,i=e.target;if(!t.rotateActivate&&t.circularChartHighlight3DModule&&("None"!==t.highlightMode||t.legendSettings.enableHighlight)&&!K.isNullOrUndefined(i))return(i=1<e.target.id.indexOf("text")&&-1<e.target.id.indexOf("legend")?J(e.target.id.replace("text","shape")):i).hasAttribute("class")&&(-1<i.getAttribute("class").indexOf("highlight")||-1<i.getAttribute("class").indexOf("selection"))?void 0:(this.calculateSelectedElements(t,e.target,e.type),void(this.highlightDataIndexes&&(-1===i.id.indexOf("_chart_legend_")||-1!==i.id.indexOf("_legend_element"))&&0<this.highlightDataIndexes.length&&-1===i.id.indexOf("-series-")&&-1===i.id.indexOf("-data-label-")&&this.removeLegendHighlightStyles()));t.selectionMode},Vx.prototype.removeLegendHighlightStyles=function(){var e;this.circular3D.circularChartHighlight3DModule.highlightDataIndexes=[];for(var t,i=0;i<this.circular3D.visibleSeries[0].points.length;i++)if(e=document.getElementsByClassName(this.generateStyle(this.circular3D.visibleSeries[0],i)),0===this.selectedDataIndexes.length){for(e=document.getElementsByClassName(this.generateStyle(this.circular3D.visibleSeries[0],i));0<e.length;)(t=e[0])&&this.removeSvgClass(t,t.getAttribute("class"));for(e=document.getElementsByClassName(this.unselected);0<e.length;)(t=e[0])&&(this.removeSvgClass(t,t.getAttribute("class")),-1<this.generateStyle(this.circular3D.visibleSeries[0],i).indexOf("highlight"))&&this.circular3D.highlightAnimation(t,700,.3)}else for(e=document.getElementsByClassName(this.generateStyle(this.circular3D.visibleSeries[0],i));0<e.length;)(t=e[0])&&(this.removeSvgClass(t,t.getAttribute("class")),this.addSvgClass(t,this.unselected))},Vx.prototype.getModuleName=function(){return"CircularChartSelection3D"},Vx.prototype.destroy=function(){this.removeEventListener()};var Bx,Nx,zh=Vx;function Vx(e){var t=Nx.call(this,e)||this;return t.circular3D=e,t.renderer=e.renderer,t.addEventListener(),t}Hx=function(e,t){return(Hx=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};(function(e,t){function i(){this.constructor=e}Hx(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(Ux,jx=zh),Ux.prototype.wireEvents=function(){this.circular3D.isDestroyed||this.circular3D.on(K.Browser.touchMoveEvent,this.mouseMove,this)},Ux.prototype.unWireEvents=function(){this.circular3D.isDestroyed||this.circular3D.off(K.Browser.touchMoveEvent,this.mouseMove)},Ux.prototype.declarePrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[]},Ux.prototype.invokeHighlight=function(e){this.declarePrivateVariables(e),this.series=K.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode},Ux.prototype.getModuleName=function(){return"CircularChartHighlight3D"},Ux.prototype.destroy=function(){this.unWireEvents()};var Hx,jx,Wx=Ux;function Ux(e){var t=jx.call(this,e)||this;return t.circular3D=e,t.renderer=e.renderer,t.wireEvents(),t}e.AccPointData=zr,e.AccPoints=Xc,e.AccumulationAnnotation=ic,e.AccumulationAnnotationSettings=Oc,e.AccumulationChart=c,e.AccumulationDataLabel=xd,e.AccumulationDataLabelSettings=Nc,e.AccumulationDistributionIndicator=Qs,e.AccumulationHighlight=Td,e.AccumulationLegend=yd,e.AccumulationSelection=Md,e.AccumulationSeries=Ic,e.AccumulationTooltip=Fd,e.Animation=Se,e.AreaSeries=Xa,e.AtrIndicator=eh,e.Axis=Ii,e.AxisLine=wi,e.AxisRenderer=Yv,e.AxisSettings=vf,e.BarSeries=qa,e.BarSeries3D=y0,e.BinaryTreeBuilder=Tv,e.BollingerBands=yh,e.Border=ae,e.BoxAndWhiskerSeries=cc,e.BubbleSeries=xs,e.BulletChart=Bu,e.BulletChartLegend=dg,e.BulletChartLegendSettings=zu,e.BulletDataLabel=eg,e.BulletLabelStyle=Zu,e.BulletTooltip=lg,e.BulletTooltipSettings=Ku,e.CandleSeries=gl,e.CartesianAxisLayoutPanel=fv,e.Category=ma,e.Category3D=Qb,e.CenterLabel=ze,e.Chart=aa,e.Chart3D=Ub,e.Chart3DAxis=hv,e.Chart3DColumn=rb,e.Chart3DDataLabelSettings=wb,e.Chart3DEmptyPointSettings=Pb,e.Chart3DLegendSettings=Bb,e.Chart3DMajorGridLines=lb,e.Chart3DMajorTickLines=ub,e.Chart3DMinorGridLines=cb,e.Chart3DMinorTickLines=yb,e.Chart3DPoint=Db,e.Chart3DRender=Cv,e.Chart3DRow=tb,e.Chart3DSeries=kb,e.Chart3DTextFont=cv,e.Chart3DTooltipSettings=F,e.ChartAnnotation=ac,e.ChartAnnotationSettings=Ut,e.ChartArea=pe,e.ChartLocation=ee,e.ChartSegment=fn,e.ChartTransform3D=Mv,e.CircleOption=kr,e.CircularChart3D=Ox,e.CircularChart3DConnector=z0,e.CircularChart3DDataLabelFont=E0,e.CircularChart3DDataLabelSettings=_0,e.CircularChart3DEmptyPointSettings=Z0,e.CircularChart3DLegendSettings=wx,e.CircularChart3DPointData=kx,e.CircularChart3DPoints=Y0,e.CircularChart3DSeries=G0,e.CircularChart3DTooltipSettings=Dx,e.CircularChartDataLabel3D=T0,e.CircularChartExport3D=D,e.CircularChartHighlight3D=Wx,e.CircularChartLegend3D=Cx,e.CircularChartSelection3D=zh,e.CircularChartTooltip3D=i,e.ClosestPoint=Bg,e.CoefficientToVector=lo,e.ColorValue=Ir,e.Column=gi,e.ColumnSeries=za,e.ColumnSeries3D=c0,e.Connector=V,e.ContainerArea=hf,e.ContainerPadding=ve,e.ControlPoints=Nr,e.CornerRadius=Ae,e.Crosshair=wh,e.CrosshairSettings=ea,e.CrosshairTooltip=Ti,e.CustomizeOption=wr,e.DataEditing=jh,e.DataLabel=Zh,e.DataLabel3D=v0,e.DataLabelSettings=en,e.DataLabelTextOptions=jg,e.DataPoint=jd,e.DateTime=a,e.DateTime3D=e0,e.DateTimeCategory=wa,e.DateTimeCategory3D=r0,e.Direction=Hg,e.Double=$e,e.Double3D=Kv,e.DragSettings=Ee,e.EmaIndicator=js,e.EmptyPointSettings=Re,e.ErrorBar=Qh,e.ErrorBarCapSettings=gn,e.ErrorBarSettings=xn,e.Export=Rc,e.Export3D=M0,e.Font=oe,e.FunnelSeries=p,e.Graphics3D=kv,e.GridArcPoints=Xg,e.Highlight=Gh,e.Highlight3D=P0,e.HiloOpenCloseSeries=as,e.HiloSeries=is,e.HistogramSeries=Ms,e.HorizontalLabelCollection=Dg,e.ImageOption=Dr,e.Index=ke,e.Indexes=Fe,e.LabelBorder=Yt,e.LabelCollection=Fg,e.LabelLocation=Tr,e.LabelOffset=Af,e.LabelOption=Wg,e.LabelRegion=Mg,e.Legend=ec,e.Legend3D=Ah,e.LegendBorder=Pm,e.LegendItemStyle=wm,e.LegendItemStyleBorder=xm,e.LegendLocation=fm,e.LegendSeries=Lg,e.LegendTitle=gm,e.LineSegment=Ig,e.LineSeries=Ra,e.LineSettings=pf,e.Location=Q,e.Logarithmic=ba,e.Logarithmic3D=s0,e.MacdIndicator=Aa,e.MajorGridLines=fi,e.MajorTickLines=Pi,e.MajorTickLinesSettings=ju,e.Margin=me,e.MarkerOptions=Ng,e.MarkerSettings=rn,e.Matrix3D=Pv,e.Mean=ho,e.MinorGridLines=xi,e.MinorTickLines=Di,e.MinorTickLinesSettings=Xu,e.MomentumIndicator=rh,e.MultiColoredAreaSeries=gc,e.MultiColoredLineSeries=vc,e.MultiColoredSeries=Ha,e.MultiLevelCategories=Qt,e.MultiLevelLabel=xc,e.MultiLevelLabels=ii,e.NiceInterval=Un,e.NiceIntervals=P,e.Offset=he,e.Padding=Sf,e.ParetoOptions=ln,e.ParetoSeries=_a,e.PeriodSelector=gp,e.PeriodSelectorSettings=N,e.Periods=Ge,e.PieCenter=jc,e.PieSeries=td,e.PieSeries3D=X0,e.Point=zg,e.Point3D=Br,e.PointData=Or,e.PointRegion=Og,e.Points=cn,e.PolarArc=co,e.PolarSeries=Ja,e.Polygon3D=Ov,e.PolygonOption=_r,e.PyramidSeries=n,e.RadarSeries=al,e.RadialLabelCollections=Tg,e.Range=Nu,e.RangeAreaSeries=cs,e.RangeBandSettings=mf,e.RangeColorSetting=Kn,e.RangeColumnSeries=Ul,e.RangeNavigator=vp,e.RangeNavigatorAxis=qd,e.RangeNavigatorSeries=tp,e.RangeSeries=Xd,e.RangeSlider=dp,e.RangeStepAreaSeries=Zl,e.RangeTooltip=y,e.RangeTooltipSettings=Jd,e.RectOption=Pr,e.Row=di,e.RsiIndicator=sh,e.ScatterSeries=Vl,e.ScrollBar=Fc,e.ScrollbarSettings=t,e.ScrollbarSettingsRange=ni,e.Selection=Hh,e.Selection3D=C0,e.Series=Pn,e.SeriesBase=wn,e.SeriesMarker=fy,e.SeriesMarkerBorder=ny,e.SeriesMarkerDataLabel=gy,e.SeriesMarkerDataLabelBorder=sy,e.SeriesMarkerDataLabelConnectorLine=dy,e.SeriesTooltip=iy,e.SeriesTooltipBorder=Jm,e.SmaIndicator=Bs,e.Smithchart=$m,e.SmithchartAxis=um,e.SmithchartAxisLine=Nm,e.SmithchartBorder=yg,e.SmithchartFont=fg,e.SmithchartLabelPosition=Vg,e.SmithchartLegend=Xy,e.SmithchartLegendSettings=mg,e.SmithchartMajorGridLines=_m,e.SmithchartMargin=xg,e.SmithchartMinorGridLines=Om,e.SmithchartRect=Ag,e.SmithchartSeries=Xm,e.SmithchartSize=Ug,e.Sparkline=x,e.SparklineBorder=Qy,e.SparklineDataLabelSettings=qy,e.SparklineFont=Jy,e.SparklineMarkerSettings=Ff,e.SparklineTooltip=ov,e.SparklineTooltipSettings=af,e.SplineAreaSeries=gs,e.SplineRangeAreaSeries=vs,e.SplineSeries=Fs,e.StackValues=Lr,e.StackingAreaSeries=kl,e.StackingBarSeries=cl,e.StackingBarSeries3D=g0,e.StackingColumnSeries=vl,e.StackingColumnSeries3D=p0,e.StackingLineSeries=Bl,e.StackingStepAreaSeries=El,e.StepAreaSeries=Pl,e.StepLineSeries=Cl,e.StochasticIndicator=ph,e.StockChart=Du,e.StockChartAnnotationSettings=hu,e.StockChartArea=_p,e.StockChartAxis=eu,e.StockChartBorder=kp,e.StockChartConnector=Xp,e.StockChartFont=Ap,e.StockChartIndexes=pu,e.StockChartIndicator=Kp,e.StockChartLegendSettings=Cu,e.StockChartRow=ou,e.StockChartStripLineSettings=Np,e.StockChartTrendline=au,e.StockEmptyPointSettings=jp,e.StockEventsSettings=ep,e.StockLegend=g,e.StockMargin=Op,e.StockSeries=Zp,e.StockTooltipSettings=We,e.StripLine=La,e.StripLineSettings=Jt,e.StyleSettings=lp,e.Subtitle=Gm,e.Svg3DRenderer=Ev,e.TechnicalIndicator=Xn,e.Thickness=Er,e.ThumbSettings=rp,e.Title=Tm,e.TitleBorder=uv,e.TitleSettings=sv,e.TmaIndicator=Gs,e.Tooltip=Rh,e.Tooltip3D=C,e.TooltipRender=Wy,e.TooltipSettings=Ve,e.TrackLineSettings=of,e.TransformToVisible=no,e.Trendline=dn,e.Trendlines=Sh,e.Vector3D=Fv,e.Visible3DLabels=xb,e.VisibleLabels=zi,e.WallRenderer=Xv,e.WaterfallSeries=$l,e.Zoom=Ih,e.ZoomSettings=oa,e.accReactTemplate=No,e.afterExport=Ht,e.animateAddPoints=Ao,e.animateRectElement=Lo,e.animateRedrawElement=ur,e.animationComplete=rt,e.annotationRender=kt,e.appendChildElement=q,e.appendClipElement=Mo,e.appendElement=Xo,e.applyZLight=ar,e.axisLabelClick=dt,e.axisLabelRender=ct,e.axisMultiLabelRender=ut,e.axisRangeCalculated=pt,e.beforeExport=Vt,e.beforePrint=Dt,e.beforeResize=Mt,e.blazorTemplatesReset=Cr,e.bulletChartMouseClick=jt,e.calculateLegendShapes=sr,e.calculateRect=Jo,e.calculateShapes=Io,e.calculateSize=mr,e.chartDoubleClick=ft,e.chartMouseClick=yt,e.chartMouseDown=Ct,e.chartMouseLeave=St,e.chartMouseMove=mt,e.chartMouseUp=wt,e.chartReactTemplate=Vo,e.checkBounds=Yo,e.checkColorFormat=rr,e.colorNameToHex=or,e.componentToHex=tr,e.containsRect=$o,e.convertHexToColor=ir,e.convertToHexCode=er,e.createSvg=yr,e.createTemplate=Ho,e.createTooltip=po,e.createZoomingLabels=uo,e.degreeToLocation=$i,e.degreeToRadian=Ji,e.drag="drag",e.dragComplete=Lt,e.dragEnd=zt,e.dragStart=Ot,e.drawSymbol=Eo,e.findClipRect=vo,e.findCrosshairDirection=go,e.findlElement=Uo,e.firstToLowerCase=bo,e.get3DSeriesColor=xv,e.get3DThemeColor=bv,e.getActualDesiredIntervalsCount=To,e.getAngle=io,e.getAnimationFunction=Co,e.getBulletThemeColor=rg,e.getColorByValue=Vr,e.getDraggedRectLocation=Go,e.getElement=J,e.getExactData=Vd,e.getFontStyle=jo,e.getGradientColor=Hr,e.getLabelText=Zo,e.getMedian=lr,e.getMinPointsDelta=So,e.getMinPointsDeltaValue=Wv,e.getNearestValue=Hd,e.getPercentage=Wr,e.getPercentageColor=jr,e.getPoint=A,e.getRangeThemeColor=up,e.getRangeValueXByPoint=Nd,e.getRectLocation=Oo,e.getRotatedRectangleCoordinates=eo,e.getSaturationColor=nr,e.getScrollbarThemeColor=Yr,e.getSeriesColor=Xr,e.getSeriesFromIndex=Gc,e.getTemplateFunction=Bo,e.getTextAnchor=Ur,e.getThemeColor=Gr,e.getTitle=fr,e.getTransform=xo,e.getUnicodeText=Sr,e.getValueXByPoint=yo,e.getValueYByPoint=fo,e.getVisiblePoints=Vi,e.getXLocation=Bd,e.indexFinder=ao,e.inside=Ui,e.isBreakLabel=Ni,e.isCollide=Qo,e.isOverlap=Ko,e.isRotatedRectIntersect=to,e.isZoomSet=Ro,e.legendClick=it,e.legendRender=nt,e.lineBreakLabelTrim=cr,e.linear=wo,e.load=ot,e.loaded="loaded",e.logBase=ji,e.logWithIn=Gi,e.markerAnimate=Fo,e.measureElementRect=Wo,e.minMax=zo,e.multiLevelLabelClick=It,e.onZooming=Wt,e.pathAnimation=Po,e.pointByIndex=Yc,e.pointClick=vt,e.pointDoubleClick=bt,e.pointMove=xt,e.pointRender=lt,e.rangeValueToCoefficient=zd,e.redrawElement=pr,e.regSub=Bt,e.regSup=Nt,e.removeElement=w,e.resized=At,e.rotateTextSize=Hi,e.scrollChanged=_t,e.scrollEnd=Tt,e.scrollStart=Rt,e.selectionComplete=Pt,e.seriesRender=ht,e.setRange=ko,e.sharedTooltipRender=st,e.showTooltip=Wi,e.smithchartBeforePrint=By,e.sort=Bi,e.stockEventFont=o,e.stockEventRender=Et,e.stopTimer=qo,e.stringToNumber=dr,e.subArray=oo,e.subArraySum=qi,e.subtractRect=Ki,e.subtractThickness=Qi,e.sum=Zi,e.templateAnimate=_o,e.textElement=gr,e.textRender=at,e.textTrim=hr,e.textWrap=br,e.textWrapAnyWhere=xr,e.titleBorder=W,e.titlePositionX=vr,e.titleSettings=G,e.tooltipRender=gt,e.triggerLabelRender=Do,e.valueToCoefficient=ro,e.valueToCoefficients=Uv,e.valueToPolarCoefficient=so,e.withIn=Xi,e.withInBounds=mo,e.withInRange=Yi,e.zoomComplete=Ft,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-charts.umd.min.js.map
